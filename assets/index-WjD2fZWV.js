(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))a(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const b of m.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&a(b)}).observe(document,{childList:!0,subtree:!0});function n(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function a(d){if(d.ep)return;d.ep=!0;const m=n(d);fetch(d.href,m)}})();var y8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var g6={exports:{}},U2={};var T8;function Ug(){if(T8)return U2;T8=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(a,d,m){var b=null;if(m!==void 0&&(b=""+m),d.key!==void 0&&(b=""+d.key),"key"in d){m={};for(var C in d)C!=="key"&&(m[C]=d[C])}else m=d;return d=m.ref,{$$typeof:o,type:a,key:b,ref:d!==void 0?d:null,props:m}}return U2.Fragment=s,U2.jsx=n,U2.jsxs=n,U2}var _8;function Hg(){return _8||(_8=1,g6.exports=Ug()),g6.exports}var xe=Hg(),$6={exports:{}},Ar={};var E8;function Gg(){if(E8)return Ar;E8=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),b=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),q=Symbol.iterator;function z(ze){return ze===null||typeof ze!="object"?null:(ze=q&&ze[q]||ze["@@iterator"],typeof ze=="function"?ze:null)}var fe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ve=Object.assign,ge={};function re(ze,ct,Se){this.props=ze,this.context=ct,this.refs=ge,this.updater=Se||fe}re.prototype.isReactComponent={},re.prototype.setState=function(ze,ct){if(typeof ze!="object"&&typeof ze!="function"&&ze!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ze,ct,"setState")},re.prototype.forceUpdate=function(ze){this.updater.enqueueForceUpdate(this,ze,"forceUpdate")};function ie(){}ie.prototype=re.prototype;function ke(ze,ct,Se){this.props=ze,this.context=ct,this.refs=ge,this.updater=Se||fe}var Be=ke.prototype=new ie;Be.constructor=ke,ve(Be,re.prototype),Be.isPureReactComponent=!0;var Ke=Array.isArray;function ye(){}var Ve={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function Xe(ze,ct,Se){var Jt=Se.ref;return{$$typeof:o,type:ze,key:ct,ref:Jt!==void 0?Jt:null,props:Se}}function Qt(ze,ct){return Xe(ze.type,ct,ze.props)}function It(ze){return typeof ze=="object"&&ze!==null&&ze.$$typeof===o}function De(ze){var ct={"=":"=0",":":"=2"};return"$"+ze.replace(/[=:]/g,function(Se){return ct[Se]})}var Bt=/\/+/g;function kt(ze,ct){return typeof ze=="object"&&ze!==null&&ze.key!=null?De(""+ze.key):ct.toString(36)}function nt(ze){switch(ze.status){case"fulfilled":return ze.value;case"rejected":throw ze.reason;default:switch(typeof ze.status=="string"?ze.then(ye,ye):(ze.status="pending",ze.then(function(ct){ze.status==="pending"&&(ze.status="fulfilled",ze.value=ct)},function(ct){ze.status==="pending"&&(ze.status="rejected",ze.reason=ct)})),ze.status){case"fulfilled":return ze.value;case"rejected":throw ze.reason}}throw ze}function Ze(ze,ct,Se,Jt,Ot){var sn=typeof ze;(sn==="undefined"||sn==="boolean")&&(ze=null);var yn=!1;if(ze===null)yn=!0;else switch(sn){case"bigint":case"string":case"number":yn=!0;break;case"object":switch(ze.$$typeof){case o:case s:yn=!0;break;case E:return yn=ze._init,Ze(yn(ze._payload),ct,Se,Jt,Ot)}}if(yn)return Ot=Ot(ze),yn=Jt===""?"."+kt(ze,0):Jt,Ke(Ot)?(Se="",yn!=null&&(Se=yn.replace(Bt,"$&/")+"/"),Ze(Ot,ct,Se,"",function(an){return an})):Ot!=null&&(It(Ot)&&(Ot=Qt(Ot,Se+(Ot.key==null||ze&&ze.key===Ot.key?"":(""+Ot.key).replace(Bt,"$&/")+"/")+yn)),ct.push(Ot)),1;yn=0;var hr=Jt===""?".":Jt+":";if(Ke(ze))for(var Yn=0;Yn<ze.length;Yn++)Jt=ze[Yn],sn=hr+kt(Jt,Yn),yn+=Ze(Jt,ct,Se,sn,Ot);else if(Yn=z(ze),typeof Yn=="function")for(ze=Yn.call(ze),Yn=0;!(Jt=ze.next()).done;)Jt=Jt.value,sn=hr+kt(Jt,Yn++),yn+=Ze(Jt,ct,Se,sn,Ot);else if(sn==="object"){if(typeof ze.then=="function")return Ze(nt(ze),ct,Se,Jt,Ot);throw ct=String(ze),Error("Objects are not valid as a React child (found: "+(ct==="[object Object]"?"object with keys {"+Object.keys(ze).join(", ")+"}":ct)+"). If you meant to render a collection of children, use an array instead.")}return yn}function vt(ze,ct,Se){if(ze==null)return ze;var Jt=[],Ot=0;return Ze(ze,Jt,"","",function(sn){return ct.call(Se,sn,Ot++)}),Jt}function ft(ze){if(ze._status===-1){var ct=ze._result;ct=ct(),ct.then(function(Se){(ze._status===0||ze._status===-1)&&(ze._status=1,ze._result=Se)},function(Se){(ze._status===0||ze._status===-1)&&(ze._status=2,ze._result=Se)}),ze._status===-1&&(ze._status=0,ze._result=ct)}if(ze._status===1)return ze._result.default;throw ze._result}var Ut=typeof reportError=="function"?reportError:function(ze){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ct=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ze=="object"&&ze!==null&&typeof ze.message=="string"?String(ze.message):String(ze),error:ze});if(!window.dispatchEvent(ct))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ze);return}console.error(ze)},le={map:vt,forEach:function(ze,ct,Se){vt(ze,function(){ct.apply(this,arguments)},Se)},count:function(ze){var ct=0;return vt(ze,function(){ct++}),ct},toArray:function(ze){return vt(ze,function(ct){return ct})||[]},only:function(ze){if(!It(ze))throw Error("React.Children.only expected to receive a single React element child.");return ze}};return Ar.Activity=R,Ar.Children=le,Ar.Component=re,Ar.Fragment=n,Ar.Profiler=d,Ar.PureComponent=ke,Ar.StrictMode=a,Ar.Suspense=x,Ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve,Ar.__COMPILER_RUNTIME={__proto__:null,c:function(ze){return Ve.H.useMemoCache(ze)}},Ar.cache=function(ze){return function(){return ze.apply(null,arguments)}},Ar.cacheSignal=function(){return null},Ar.cloneElement=function(ze,ct,Se){if(ze==null)throw Error("The argument must be a React element, but you passed "+ze+".");var Jt=ve({},ze.props),Ot=ze.key;if(ct!=null)for(sn in ct.key!==void 0&&(Ot=""+ct.key),ct)!st.call(ct,sn)||sn==="key"||sn==="__self"||sn==="__source"||sn==="ref"&&ct.ref===void 0||(Jt[sn]=ct[sn]);var sn=arguments.length-2;if(sn===1)Jt.children=Se;else if(1<sn){for(var yn=Array(sn),hr=0;hr<sn;hr++)yn[hr]=arguments[hr+2];Jt.children=yn}return Xe(ze.type,Ot,Jt)},Ar.createContext=function(ze){return ze={$$typeof:b,_currentValue:ze,_currentValue2:ze,_threadCount:0,Provider:null,Consumer:null},ze.Provider=ze,ze.Consumer={$$typeof:m,_context:ze},ze},Ar.createElement=function(ze,ct,Se){var Jt,Ot={},sn=null;if(ct!=null)for(Jt in ct.key!==void 0&&(sn=""+ct.key),ct)st.call(ct,Jt)&&Jt!=="key"&&Jt!=="__self"&&Jt!=="__source"&&(Ot[Jt]=ct[Jt]);var yn=arguments.length-2;if(yn===1)Ot.children=Se;else if(1<yn){for(var hr=Array(yn),Yn=0;Yn<yn;Yn++)hr[Yn]=arguments[Yn+2];Ot.children=hr}if(ze&&ze.defaultProps)for(Jt in yn=ze.defaultProps,yn)Ot[Jt]===void 0&&(Ot[Jt]=yn[Jt]);return Xe(ze,sn,Ot)},Ar.createRef=function(){return{current:null}},Ar.forwardRef=function(ze){return{$$typeof:C,render:ze}},Ar.isValidElement=It,Ar.lazy=function(ze){return{$$typeof:E,_payload:{_status:-1,_result:ze},_init:ft}},Ar.memo=function(ze,ct){return{$$typeof:k,type:ze,compare:ct===void 0?null:ct}},Ar.startTransition=function(ze){var ct=Ve.T,Se={};Ve.T=Se;try{var Jt=ze(),Ot=Ve.S;Ot!==null&&Ot(Se,Jt),typeof Jt=="object"&&Jt!==null&&typeof Jt.then=="function"&&Jt.then(ye,Ut)}catch(sn){Ut(sn)}finally{ct!==null&&Se.types!==null&&(ct.types=Se.types),Ve.T=ct}},Ar.unstable_useCacheRefresh=function(){return Ve.H.useCacheRefresh()},Ar.use=function(ze){return Ve.H.use(ze)},Ar.useActionState=function(ze,ct,Se){return Ve.H.useActionState(ze,ct,Se)},Ar.useCallback=function(ze,ct){return Ve.H.useCallback(ze,ct)},Ar.useContext=function(ze){return Ve.H.useContext(ze)},Ar.useDebugValue=function(){},Ar.useDeferredValue=function(ze,ct){return Ve.H.useDeferredValue(ze,ct)},Ar.useEffect=function(ze,ct){return Ve.H.useEffect(ze,ct)},Ar.useEffectEvent=function(ze){return Ve.H.useEffectEvent(ze)},Ar.useId=function(){return Ve.H.useId()},Ar.useImperativeHandle=function(ze,ct,Se){return Ve.H.useImperativeHandle(ze,ct,Se)},Ar.useInsertionEffect=function(ze,ct){return Ve.H.useInsertionEffect(ze,ct)},Ar.useLayoutEffect=function(ze,ct){return Ve.H.useLayoutEffect(ze,ct)},Ar.useMemo=function(ze,ct){return Ve.H.useMemo(ze,ct)},Ar.useOptimistic=function(ze,ct){return Ve.H.useOptimistic(ze,ct)},Ar.useReducer=function(ze,ct,Se){return Ve.H.useReducer(ze,ct,Se)},Ar.useRef=function(ze){return Ve.H.useRef(ze)},Ar.useState=function(ze){return Ve.H.useState(ze)},Ar.useSyncExternalStore=function(ze,ct,Se){return Ve.H.useSyncExternalStore(ze,ct,Se)},Ar.useTransition=function(){return Ve.H.useTransition()},Ar.version="19.2.0",Ar}var w8;function w5(){return w8||(w8=1,$6.exports=Gg()),$6.exports}var Dn=w5();const Ds=Xu(Dn);var v6={exports:{}},H2={},b6={exports:{}},y6={};var S8;function Vg(){return S8||(S8=1,(function(o){function s(Ze,vt){var ft=Ze.length;Ze.push(vt);e:for(;0<ft;){var Ut=ft-1>>>1,le=Ze[Ut];if(0<d(le,vt))Ze[Ut]=vt,Ze[ft]=le,ft=Ut;else break e}}function n(Ze){return Ze.length===0?null:Ze[0]}function a(Ze){if(Ze.length===0)return null;var vt=Ze[0],ft=Ze.pop();if(ft!==vt){Ze[0]=ft;e:for(var Ut=0,le=Ze.length,ze=le>>>1;Ut<ze;){var ct=2*(Ut+1)-1,Se=Ze[ct],Jt=ct+1,Ot=Ze[Jt];if(0>d(Se,ft))Jt<le&&0>d(Ot,Se)?(Ze[Ut]=Ot,Ze[Jt]=ft,Ut=Jt):(Ze[Ut]=Se,Ze[ct]=ft,Ut=ct);else if(Jt<le&&0>d(Ot,ft))Ze[Ut]=Ot,Ze[Jt]=ft,Ut=Jt;else break e}}return vt}function d(Ze,vt){var ft=Ze.sortIndex-vt.sortIndex;return ft!==0?ft:Ze.id-vt.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;o.unstable_now=function(){return m.now()}}else{var b=Date,C=b.now();o.unstable_now=function(){return b.now()-C}}var x=[],k=[],E=1,R=null,q=3,z=!1,fe=!1,ve=!1,ge=!1,re=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ke=typeof setImmediate<"u"?setImmediate:null;function Be(Ze){for(var vt=n(k);vt!==null;){if(vt.callback===null)a(k);else if(vt.startTime<=Ze)a(k),vt.sortIndex=vt.expirationTime,s(x,vt);else break;vt=n(k)}}function Ke(Ze){if(ve=!1,Be(Ze),!fe)if(n(x)!==null)fe=!0,ye||(ye=!0,De());else{var vt=n(k);vt!==null&&nt(Ke,vt.startTime-Ze)}}var ye=!1,Ve=-1,st=5,Xe=-1;function Qt(){return ge?!0:!(o.unstable_now()-Xe<st)}function It(){if(ge=!1,ye){var Ze=o.unstable_now();Xe=Ze;var vt=!0;try{e:{fe=!1,ve&&(ve=!1,ie(Ve),Ve=-1),z=!0;var ft=q;try{t:{for(Be(Ze),R=n(x);R!==null&&!(R.expirationTime>Ze&&Qt());){var Ut=R.callback;if(typeof Ut=="function"){R.callback=null,q=R.priorityLevel;var le=Ut(R.expirationTime<=Ze);if(Ze=o.unstable_now(),typeof le=="function"){R.callback=le,Be(Ze),vt=!0;break t}R===n(x)&&a(x),Be(Ze)}else a(x);R=n(x)}if(R!==null)vt=!0;else{var ze=n(k);ze!==null&&nt(Ke,ze.startTime-Ze),vt=!1}}break e}finally{R=null,q=ft,z=!1}vt=void 0}}finally{vt?De():ye=!1}}}var De;if(typeof ke=="function")De=function(){ke(It)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,kt=Bt.port2;Bt.port1.onmessage=It,De=function(){kt.postMessage(null)}}else De=function(){re(It,0)};function nt(Ze,vt){Ve=re(function(){Ze(o.unstable_now())},vt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ze){Ze.callback=null},o.unstable_forceFrameRate=function(Ze){0>Ze||125<Ze?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<Ze?Math.floor(1e3/Ze):5},o.unstable_getCurrentPriorityLevel=function(){return q},o.unstable_next=function(Ze){switch(q){case 1:case 2:case 3:var vt=3;break;default:vt=q}var ft=q;q=vt;try{return Ze()}finally{q=ft}},o.unstable_requestPaint=function(){ge=!0},o.unstable_runWithPriority=function(Ze,vt){switch(Ze){case 1:case 2:case 3:case 4:case 5:break;default:Ze=3}var ft=q;q=Ze;try{return vt()}finally{q=ft}},o.unstable_scheduleCallback=function(Ze,vt,ft){var Ut=o.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ut+ft:Ut):ft=Ut,Ze){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ft+le,Ze={id:E++,callback:vt,priorityLevel:Ze,startTime:ft,expirationTime:le,sortIndex:-1},ft>Ut?(Ze.sortIndex=ft,s(k,Ze),n(x)===null&&Ze===n(k)&&(ve?(ie(Ve),Ve=-1):ve=!0,nt(Ke,ft-Ut))):(Ze.sortIndex=le,s(x,Ze),fe||z||(fe=!0,ye||(ye=!0,De()))),Ze},o.unstable_shouldYield=Qt,o.unstable_wrapCallback=function(Ze){var vt=q;return function(){var ft=q;q=vt;try{return Ze.apply(this,arguments)}finally{q=ft}}}})(y6)),y6}var x8;function Wg(){return x8||(x8=1,b6.exports=Vg()),b6.exports}var T6={exports:{}},xl={};var C8;function qg(){if(C8)return xl;C8=1;var o=w5();function s(x){var k="https://react.dev/errors/"+x;if(1<arguments.length){k+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)k+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+x+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(s(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(x,k,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:R==null?null:""+R,children:x,containerInfo:k,implementation:E}}var b=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function C(x,k){if(x==="font")return"";if(typeof k=="string")return k==="use-credentials"?k:""}return xl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xl.createPortal=function(x,k){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11)throw Error(s(299));return m(x,k,null,E)},xl.flushSync=function(x){var k=b.T,E=a.p;try{if(b.T=null,a.p=2,x)return x()}finally{b.T=k,a.p=E,a.d.f()}},xl.preconnect=function(x,k){typeof x=="string"&&(k?(k=k.crossOrigin,k=typeof k=="string"?k==="use-credentials"?k:"":void 0):k=null,a.d.C(x,k))},xl.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},xl.preinit=function(x,k){if(typeof x=="string"&&k&&typeof k.as=="string"){var E=k.as,R=C(E,k.crossOrigin),q=typeof k.integrity=="string"?k.integrity:void 0,z=typeof k.fetchPriority=="string"?k.fetchPriority:void 0;E==="style"?a.d.S(x,typeof k.precedence=="string"?k.precedence:void 0,{crossOrigin:R,integrity:q,fetchPriority:z}):E==="script"&&a.d.X(x,{crossOrigin:R,integrity:q,fetchPriority:z,nonce:typeof k.nonce=="string"?k.nonce:void 0})}},xl.preinitModule=function(x,k){if(typeof x=="string")if(typeof k=="object"&&k!==null){if(k.as==null||k.as==="script"){var E=C(k.as,k.crossOrigin);a.d.M(x,{crossOrigin:E,integrity:typeof k.integrity=="string"?k.integrity:void 0,nonce:typeof k.nonce=="string"?k.nonce:void 0})}}else k==null&&a.d.M(x)},xl.preload=function(x,k){if(typeof x=="string"&&typeof k=="object"&&k!==null&&typeof k.as=="string"){var E=k.as,R=C(E,k.crossOrigin);a.d.L(x,E,{crossOrigin:R,integrity:typeof k.integrity=="string"?k.integrity:void 0,nonce:typeof k.nonce=="string"?k.nonce:void 0,type:typeof k.type=="string"?k.type:void 0,fetchPriority:typeof k.fetchPriority=="string"?k.fetchPriority:void 0,referrerPolicy:typeof k.referrerPolicy=="string"?k.referrerPolicy:void 0,imageSrcSet:typeof k.imageSrcSet=="string"?k.imageSrcSet:void 0,imageSizes:typeof k.imageSizes=="string"?k.imageSizes:void 0,media:typeof k.media=="string"?k.media:void 0})}},xl.preloadModule=function(x,k){if(typeof x=="string")if(k){var E=C(k.as,k.crossOrigin);a.d.m(x,{as:typeof k.as=="string"&&k.as!=="script"?k.as:void 0,crossOrigin:E,integrity:typeof k.integrity=="string"?k.integrity:void 0})}else a.d.m(x)},xl.requestFormReset=function(x){a.d.r(x)},xl.unstable_batchedUpdates=function(x,k){return x(k)},xl.useFormState=function(x,k,E){return b.H.useFormState(x,k,E)},xl.useFormStatus=function(){return b.H.useHostTransitionStatus()},xl.version="19.2.0",xl}var k8;function Xg(){if(k8)return T6.exports;k8=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),T6.exports=qg(),T6.exports}var A8;function jg(){if(A8)return H2;A8=1;var o=Wg(),s=w5(),n=Xg();function a(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function m(r){var l=r,c=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(c=l.return),r=l.return;while(r)}return l.tag===3?c:null}function b(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function C(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function x(r){if(m(r)!==r)throw Error(a(188))}function k(r){var l=r.alternate;if(!l){if(l=m(r),l===null)throw Error(a(188));return l!==r?null:r}for(var c=r,p=l;;){var T=c.return;if(T===null)break;var A=T.alternate;if(A===null){if(p=T.return,p!==null){c=p;continue}break}if(T.child===A.child){for(A=T.child;A;){if(A===c)return x(T),r;if(A===p)return x(T),l;A=A.sibling}throw Error(a(188))}if(c.return!==p.return)c=T,p=A;else{for(var X=!1,de=T.child;de;){if(de===c){X=!0,c=T,p=A;break}if(de===p){X=!0,p=T,c=A;break}de=de.sibling}if(!X){for(de=A.child;de;){if(de===c){X=!0,c=A,p=T;break}if(de===p){X=!0,p=A,c=T;break}de=de.sibling}if(!X)throw Error(a(189))}}if(c.alternate!==p)throw Error(a(190))}if(c.tag!==3)throw Error(a(188));return c.stateNode.current===c?r:l}function E(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=E(r),l!==null)return l;r=r.sibling}return null}var R=Object.assign,q=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),fe=Symbol.for("react.portal"),ve=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ke=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Xe=Symbol.for("react.activity"),Qt=Symbol.for("react.memo_cache_sentinel"),It=Symbol.iterator;function De(r){return r===null||typeof r!="object"?null:(r=It&&r[It]||r["@@iterator"],typeof r=="function"?r:null)}var Bt=Symbol.for("react.client.reference");function kt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Bt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ve:return"Fragment";case re:return"Profiler";case ge:return"StrictMode";case Ke:return"Suspense";case ye:return"SuspenseList";case Xe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case fe:return"Portal";case ke:return r.displayName||"Context";case ie:return(r._context.displayName||"Context")+".Consumer";case Be:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ve:return l=r.displayName||null,l!==null?l:kt(r.type)||"Memo";case st:l=r._payload,r=r._init;try{return kt(r(l))}catch{}}return null}var nt=Array.isArray,Ze=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ut=[],le=-1;function ze(r){return{current:r}}function ct(r){0>le||(r.current=Ut[le],Ut[le]=null,le--)}function Se(r,l){le++,Ut[le]=r.current,r.current=l}var Jt=ze(null),Ot=ze(null),sn=ze(null),yn=ze(null);function hr(r,l){switch(Se(sn,l),Se(Ot,r),Se(Jt,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?Po(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=Po(l),r=Qd(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ct(Jt),Se(Jt,r)}function Yn(){ct(Jt),ct(Ot),ct(sn)}function an(r){r.memoizedState!==null&&Se(yn,r);var l=Jt.current,c=Qd(l,r.type);l!==c&&(Se(Ot,r),Se(Jt,c))}function Xn(r){Ot.current===r&&(ct(Jt),ct(Ot)),yn.current===r&&(ct(yn),P1._currentValue=ft)}var ht,tn;function Wr(r){if(ht===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);ht=l&&l[1]||"",tn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+r+tn}var Jn=!1;function pr(r,l){if(!r||Jn)return"";Jn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Xt=function(){throw Error()};if(Object.defineProperty(Xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xt,[])}catch(Mt){var wt=Mt}Reflect.construct(r,[],Xt)}else{try{Xt.call()}catch(Mt){wt=Mt}r.call(Xt.prototype)}}else{try{throw Error()}catch(Mt){wt=Mt}(Xt=r())&&typeof Xt.catch=="function"&&Xt.catch(function(){})}}catch(Mt){if(Mt&&wt&&typeof Mt.stack=="string")return[Mt.stack,wt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=p.DetermineComponentFrameRoot(),X=A[0],de=A[1];if(X&&de){var Ge=X.split(`
`),gt=de.split(`
`);for(T=p=0;p<Ge.length&&!Ge[p].includes("DetermineComponentFrameRoot");)p++;for(;T<gt.length&&!gt[T].includes("DetermineComponentFrameRoot");)T++;if(p===Ge.length||T===gt.length)for(p=Ge.length-1,T=gt.length-1;1<=p&&0<=T&&Ge[p]!==gt[T];)T--;for(;1<=p&&0<=T;p--,T--)if(Ge[p]!==gt[T]){if(p!==1||T!==1)do if(p--,T--,0>T||Ge[p]!==gt[T]){var zt=`
`+Ge[p].replace(" at new "," at ");return r.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",r.displayName)),zt}while(1<=p&&0<=T);break}}}finally{Jn=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Wr(c):""}function on(r,l){switch(r.tag){case 26:case 27:case 5:return Wr(r.type);case 16:return Wr("Lazy");case 13:return r.child!==l&&l!==null?Wr("Suspense Fallback"):Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return pr(r.type,!1);case 11:return pr(r.type.render,!1);case 1:return pr(r.type,!0);case 31:return Wr("Activity");default:return""}}function Ti(r){try{var l="",c=null;do l+=on(r,c),c=r,r=r.return;while(r);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Bi=Object.prototype.hasOwnProperty,Zn=o.unstable_scheduleCallback,ss=o.unstable_cancelCallback,vi=o.unstable_shouldYield,sr=o.unstable_requestPaint,Vn=o.unstable_now,F=o.unstable_getCurrentPriorityLevel,ee=o.unstable_ImmediatePriority,Ce=o.unstable_UserBlockingPriority,Ne=o.unstable_NormalPriority,et=o.unstable_LowPriority,Je=o.unstable_IdlePriority,xt=o.log,St=o.unstable_setDisableYieldValue,O=null,oe=null;function Le(r){if(typeof xt=="function"&&St(r),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(O,r)}catch{}}var Me=Math.clz32?Math.clz32:Qr,Nt=Math.log,Cn=Math.LN2;function Qr(r){return r>>>=0,r===0?32:31-(Nt(r)/Cn|0)|0}var ds=256,fs=262144,H=4194304;function me(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pe(r,l,c){var p=r.pendingLanes;if(p===0)return 0;var T=0,A=r.suspendedLanes,X=r.pingedLanes;r=r.warmLanes;var de=p&134217727;return de!==0?(p=de&~A,p!==0?T=me(p):(X&=de,X!==0?T=me(X):c||(c=de&~r,c!==0&&(T=me(c))))):(de=p&~A,de!==0?T=me(de):X!==0?T=me(X):c||(c=p&~r,c!==0&&(T=me(c)))),T===0?0:l!==0&&l!==T&&(l&A)===0&&(A=T&-T,c=l&-l,A>=c||A===32&&(c&4194048)!==0)?l:T}function Qe(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Dt(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var r=H;return H<<=1,(H&62914560)===0&&(H=4194304),r}function Hn(r){for(var l=[],c=0;31>c;c++)l.push(r);return l}function Sr(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Al(r,l,c,p,T,A){var X=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var de=r.entanglements,Ge=r.expirationTimes,gt=r.hiddenUpdates;for(c=X&~c;0<c;){var zt=31-Me(c),Xt=1<<zt;de[zt]=0,Ge[zt]=-1;var wt=gt[zt];if(wt!==null)for(gt[zt]=null,zt=0;zt<wt.length;zt++){var Mt=wt[zt];Mt!==null&&(Mt.lane&=-536870913)}c&=~Xt}p!==0&&yo(r,p,0),A!==0&&T===0&&r.tag!==0&&(r.suspendedLanes|=A&~(X&~l))}function yo(r,l,c){r.pendingLanes|=l,r.suspendedLanes&=~l;var p=31-Me(l);r.entangledLanes|=l,r.entanglements[p]=r.entanglements[p]|1073741824|c&261930}function br(r,l){var c=r.entangledLanes|=l;for(r=r.entanglements;c;){var p=31-Me(c),T=1<<p;T&l|r[p]&l&&(r[p]|=l),c&=~T}}function L(r,l){var c=l&-l;return c=(c&42)!==0?1:V(c),(c&(r.suspendedLanes|l))!==0?0:c}function V(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function _(){var r=vt.p;return r!==0?r:(r=window.event,r===void 0?32:O2(r.type))}function B(r,l){var c=vt.p;try{return vt.p=r,l()}finally{vt.p=c}}var Y=Math.random().toString(36).slice(2),j="__reactFiber$"+Y,_e="__reactProps$"+Y,J="__reactContainer$"+Y,Te="__reactEvents$"+Y,He="__reactListeners$"+Y,Ye="__reactHandles$"+Y,it="__reactResources$"+Y,Q="__reactMarker$"+Y;function Rt(r){delete r[j],delete r[_e],delete r[Te],delete r[He],delete r[Ye]}function Ee(r){var l=r[j];if(l)return l;for(var c=r.parentNode;c;){if(l=c[J]||c[j]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(r=Li(r);r!==null;){if(c=r[j])return c;r=Li(r)}return l}r=c,c=r.parentNode}return null}function wn(r){if(r=r[j]||r[J]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function kn(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(a(33))}function Nr(r){var l=r[it];return l||(l=r[it]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function cr(r){r[Q]=!0}var On=new Set,Ji={};function ii(r,l){fn(r,l),fn(r+"Capture",l)}function fn(r,l){for(Ji[r]=l,r=0;r<l.length;r++)On.add(l[r])}var xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},si={};function Ir(r){return Bi.call(si,r)?!0:Bi.call(Ms,r)?!1:xr.test(r)?si[r]=!0:(Ms[r]=!0,!1)}function Zt(r,l,c){if(Ir(l))if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+c)}}function ce(r,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+c)}}function xi(r,l,c,p){if(p===null)r.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(l,c,""+p)}}function ps(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dr(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Lr(r,l,c){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,A=p.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return T.call(this)},set:function(X){c=""+X,A.call(this,X)}}),Object.defineProperty(r,l,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(X){c=""+X},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function $n(r){if(!r._valueTracker){var l=dr(r)?"checked":"value";r._valueTracker=Lr(r,l,""+r[l])}}function er(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return r&&(p=dr(r)?r.checked?"true":"false":r.value),r=p,r!==c?(l.setValue(r),!0):!1}function Ur(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ea=/[\n"\\]/g;function Xs(r){return r.replace(Ea,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function jn(r,l,c,p,T,A,X,de){r.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?r.type=X:r.removeAttribute("type"),l!=null?X==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+ps(l)):r.value!==""+ps(l)&&(r.value=""+ps(l)):X!=="submit"&&X!=="reset"||r.removeAttribute("value"),l!=null?w(r,X,ps(l)):c!=null?w(r,X,ps(c)):p!=null&&r.removeAttribute("value"),T==null&&A!=null&&(r.defaultChecked=!!A),T!=null&&(r.checked=T&&typeof T!="function"&&typeof T!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?r.name=""+ps(de):r.removeAttribute("name")}function h(r,l,c,p,T,A,X,de){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.type=A),l!=null||c!=null){if(!(A!=="submit"&&A!=="reset"||l!=null)){$n(r);return}c=c!=null?""+ps(c):"",l=l!=null?""+ps(l):c,de||l===r.value||(r.value=l),r.defaultValue=l}p=p??T,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=de?r.checked:!!p,r.defaultChecked=!!p,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(r.name=X),$n(r)}function w(r,l,c){l==="number"&&Ur(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function D(r,l,c,p){if(r=r.options,l){l={};for(var T=0;T<c.length;T++)l["$"+c[T]]=!0;for(c=0;c<r.length;c++)T=l.hasOwnProperty("$"+r[c].value),r[c].selected!==T&&(r[c].selected=T),T&&p&&(r[c].defaultSelected=!0)}else{for(c=""+ps(c),l=null,T=0;T<r.length;T++){if(r[T].value===c){r[T].selected=!0,p&&(r[T].defaultSelected=!0);return}l!==null||r[T].disabled||(l=r[T])}l!==null&&(l.selected=!0)}}function U(r,l,c){if(l!=null&&(l=""+ps(l),l!==r.value&&(r.value=l),c==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=c!=null?""+ps(c):""}function te(r,l,c,p){if(l==null){if(p!=null){if(c!=null)throw Error(a(92));if(nt(p)){if(1<p.length)throw Error(a(93));p=p[0]}c=p}c==null&&(c=""),l=c}c=ps(l),r.defaultValue=c,p=r.textContent,p===c&&p!==""&&p!==null&&(r.value=p),$n(r)}function ae(r,l){if(l){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=l;return}}r.textContent=l}var Ae=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pe(r,l,c){var p=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":p?r.setProperty(l,c):typeof c!="number"||c===0||Ae.has(l)?l==="float"?r.cssFloat=c:r[l]=(""+c).trim():r[l]=c+"px"}function dt(r,l,c){if(l!=null&&typeof l!="object")throw Error(a(62));if(r=r.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var T in l)p=l[T],l.hasOwnProperty(T)&&c[T]!==p&&pe(r,T,p)}else for(var A in l)l.hasOwnProperty(A)&&pe(r,A,l[A])}function Ct(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wt(r){return hn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function nn(){}var Sn=null;function gn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pt=null,tr=null;function Pn(r){var l=wn(r);if(l&&(r=l.stateNode)){var c=r[_e]||null;e:switch(r=l.stateNode,l.type){case"input":if(jn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Xs(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==r&&p.form===r.form){var T=p[_e]||null;if(!T)throw Error(a(90));jn(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<c.length;l++)p=c[l],p.form===r.form&&er(p)}break e;case"textarea":U(r,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&D(r,!!c.multiple,l,!1)}}}var Kn=!1;function Dr(r,l,c){if(Kn)return r(l,c);Kn=!0;try{var p=r(l);return p}finally{if(Kn=!1,(Pt!==null||tr!==null)&&(Ch(),Pt&&(l=Pt,r=tr,tr=Pt=null,Pn(l),r)))for(l=0;l<r.length;l++)Pn(r[l])}}function rr(r,l){var c=r.stateNode;if(c===null)return null;var p=c[_e]||null;if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(a(231,l,typeof c));return c}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(ei)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){js=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{js=!1}var Fn=null,oi=null,Ci=null;function Pi(){if(Ci)return Ci;var r,l=oi,c=l.length,p,T="value"in Fn?Fn.value:Fn.textContent,A=T.length;for(r=0;r<c&&l[r]===T[r];r++);var X=c-r;for(p=1;p<=X&&l[c-p]===T[A-p];p++);return Ci=T.slice(r,1<p?1-p:void 0)}function Zi(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function ti(){return!0}function Wn(){return!1}function Yr(r){function l(c,p,T,A,X){this._reactName=c,this._targetInst=T,this.type=p,this.nativeEvent=A,this.target=X,this.currentTarget=null;for(var de in r)r.hasOwnProperty(de)&&(c=r[de],this[de]=c?c(A):A[de]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ti:Wn,this.isPropagationStopped=Wn,this}return R(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),l}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Yr(di),ni=R({},di,{view:0,detail:0}),Bs=Yr(ni),To,jt,ki,Vi=R({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ki&&(ki&&r.type==="mousemove"?(To=r.screenX-ki.screenX,jt=r.screenY-ki.screenY):jt=To=0,ki=r),To)},movementY:function(r){return"movementY"in r?r.movementY:jt}}),Zl=Yr(Vi),Ql=R({},Vi,{dataTransfer:0}),Ps=Yr(Ql),Rs=R({},ni,{relatedTarget:0}),qr=Yr(Rs),ws=R({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=Yr(ws),Il=R({},di,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ml=Yr(Il),Rl=R({},di,{data:0}),tu=Yr(Rl),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=jc[r])?!!l[r]:!1}function Ju(){return rh}var al=R({},ni,{key:function(r){if(r.key){var l=ho[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Zi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Xc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(r){return r.type==="keypress"?Zi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mr=Yr(al),nu=R({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H0=Yr(nu),wa=R({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),Zu=Yr(wa),p0=R({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=Yr(p0),Yc=R({},Vi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),g0=Yr(Yc),Sa=R({},di,{newState:0,oldState:0}),G0=Yr(Sa),Qu=[9,13,27,32],$0=ei&&"CompositionEvent"in window,Ol=null;ei&&"documentMode"in document&&(Ol=document.documentMode);var ec=ei&&"TextEvent"in window&&!Ol,tc=ei&&(!$0||Ol&&8<Ol&&11>=Ol),ru=" ",xa=!1;function Ca(r,l){switch(r){case"keyup":return Qu.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Nl=!1;function ka(r,l){switch(r){case"compositionend":return V0(l);case"keypress":return l.which!==32?null:(xa=!0,ru);case"textInput":return r=l.data,r===ru&&xa?null:r;default:return null}}function iu(r,l){if(Nl)return r==="compositionend"||!$0&&Ca(r,l)?(r=Pi(),Ci=oi=Fn=null,Nl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tc&&l.locale!=="ko"?null:l.data;default:return null}}var ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!ul[r.type]:l==="textarea"}function I(r,l,c,p){Pt?tr?tr.push(p):tr=[p]:Pt=p,l=I1(l,"onChange"),0<l.length&&(c=new co("onChange","change",null,c,p),r.push({event:c,listeners:l}))}var ne=null,$e=null;function Re(r){El(r,0)}function qe(r){var l=kn(r);if(er(l))return r}function lt(r,l){if(r==="change")return l}var Et=!1;if(ei){var Gt;if(ei){var qt="oninput"in document;if(!qt){var pn=document.createElement("div");pn.setAttribute("oninput","return;"),qt=typeof pn.oninput=="function"}Gt=qt}else Gt=!1;Et=Gt&&(!document.documentMode||9<document.documentMode)}function At(){ne&&(ne.detachEvent("onpropertychange",Un),$e=ne=null)}function Un(r){if(r.propertyName==="value"&&qe($e)){var l=[];I(l,$e,r,gn(r)),Dr(Re,l)}}function Nn(r,l,c){r==="focusin"?(At(),ne=l,$e=c,ne.attachEvent("onpropertychange",Un)):r==="focusout"&&At()}function Gn(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qe($e)}function Qn(r,l){if(r==="click")return qe(l)}function yr(r,l){if(r==="input"||r==="change")return qe(l)}function Br(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var en=typeof Object.is=="function"?Object.is:Br;function Mn(r,l){if(en(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var c=Object.keys(r),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var T=c[p];if(!Bi.call(l,T)||!en(r[T],l[T]))return!1}return!0}function Mr(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function or(r,l){var c=Mr(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=l&&p>=l)return{node:c,offset:l-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Mr(c)}}function Xr(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Xr(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function li(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Ur(r.document);l instanceof r.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)r=l.contentWindow;else break;l=Ur(r.document)}return l}function Kr(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var ri=ei&&"documentMode"in document&&11>=document.documentMode,Jr=null,bi=null,Pr=null,Fi=!1;function ms(r,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Fi||Jr==null||Jr!==Ur(p)||(p=Jr,"selectionStart"in p&&Kr(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Pr&&Mn(Pr,p)||(Pr=p,p=I1(bi,"onSelect"),0<p.length&&(l=new co("onSelect","select",null,l,c),r.push({event:l,listeners:p}),l.target=Jr)))}function Ss(r,l){var c={};return c[r.toLowerCase()]=l.toLowerCase(),c["Webkit"+r]="webkit"+l,c["Moz"+r]="moz"+l,c}var yi={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Fs={},fo={};ei&&(fo=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function xs(r){if(Fs[r])return Fs[r];if(!yi[r])return r;var l=yi[r],c;for(c in l)if(l.hasOwnProperty(c)&&c in fo)return Fs[r]=l[c];return r}var kr=xs("animationend"),os=xs("animationiteration"),ue=xs("animationstart"),_i=xs("transitionrun"),Qi=xs("transitionstart"),cl=xs("transitioncancel"),no=xs("transitionend"),po=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function ls(r,l){po.set(r,l),ii(l,[r])}var lr=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ks=[],Ai=0,mo=0;function e0(){for(var r=Ai,l=mo=Ai=0;l<r;){var c=Ks[l];Ks[l++]=null;var p=Ks[l];Ks[l++]=null;var T=Ks[l];Ks[l++]=null;var A=Ks[l];if(Ks[l++]=null,p!==null&&T!==null){var X=p.pending;X===null?T.next=T:(T.next=X.next,X.next=T),p.pending=T}A!==0&&nc(c,T,A)}}function Ll(r,l,c,p){Ks[Ai++]=r,Ks[Ai++]=l,Ks[Ai++]=c,Ks[Ai++]=p,mo|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function v0(r,l,c,p){return Ll(r,l,c,p),Dl(r)}function Ko(r,l){return Ll(r,null,null,l),Dl(r)}function nc(r,l,c){r.lanes|=c;var p=r.alternate;p!==null&&(p.lanes|=c);for(var T=!1,A=r.return;A!==null;)A.childLanes|=c,p=A.alternate,p!==null&&(p.childLanes|=c),A.tag===22&&(r=A.stateNode,r===null||r._visibility&1||(T=!0)),r=A,A=A.return;return r.tag===3?(A=r.stateNode,T&&l!==null&&(T=31-Me(c),r=A.hiddenUpdates,p=r[T],p===null?r[T]=[l]:p.push(l),l.lane=c|536870912),A):null}function Dl(r){if(50<E1)throw E1=0,ks=null,Error(a(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var hl={};function rc(r,l,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(r,l,c,p){return new rc(r,l,c,p)}function ic(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Bl(r,l){var c=r.alternate;return c===null?(c=_o(r.tag,l,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=l,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,l=r.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Zh(r,l){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,l=c.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function W0(r,l,c,p,T,A){var X=0;if(p=r,typeof r=="function")ic(r)&&(X=1);else if(typeof r=="string")X=ma(r,c,Jt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Xe:return r=_o(31,c,l,T),r.elementType=Xe,r.lanes=A,r;case ve:return b0(c.children,T,A,l);case ge:X=8,T|=24;break;case re:return r=_o(12,c,l,T|2),r.elementType=re,r.lanes=A,r;case Ke:return r=_o(13,c,l,T),r.elementType=Ke,r.lanes=A,r;case ye:return r=_o(19,c,l,T),r.elementType=ye,r.lanes=A,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ke:X=10;break e;case ie:X=9;break e;case Be:X=11;break e;case Ve:X=14;break e;case st:X=16,p=null;break e}X=29,c=Error(a(130,r===null?"null":typeof r,"")),p=null}return l=_o(X,c,l,T),l.elementType=r,l.type=p,l.lanes=A,l}function b0(r,l,c,p){return r=_o(7,r,p,l),r.lanes=c,r}function su(r,l,c){return r=_o(6,r,null,l),r.lanes=c,r}function q0(r){var l=_o(18,null,null,0);return l.stateNode=r,l}function y0(r,l,c){return l=_o(4,r.children!==null?r.children:[],r.key,l),l.lanes=c,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var Aa=new WeakMap;function Jo(r,l){if(typeof r=="object"&&r!==null){var c=Aa.get(r);return c!==void 0?c:(l={value:r,source:l,stack:Ti(l)},Aa.set(r,l),l)}return{value:r,source:l,stack:Ti(l)}}var Ia=[],Pl=0,sc=null,X0=0,Eo=[],Vo=0,t0=null,Wo=1,Zo="";function No(r,l){Ia[Pl++]=X0,Ia[Pl++]=sc,sc=r,X0=l}function oc(r,l,c){Eo[Vo++]=Wo,Eo[Vo++]=Zo,Eo[Vo++]=t0,t0=r;var p=Wo;r=Zo;var T=32-Me(p)-1;p&=~(1<<T),c+=1;var A=32-Me(l)+T;if(30<A){var X=T-T%5;A=(p&(1<<X)-1).toString(32),p>>=X,T-=X,Wo=1<<32-Me(l)+T|c<<T|p,Zo=A+r}else Wo=1<<A|c<<T|p,Zo=r}function lc(r){r.return!==null&&(No(r,1),oc(r,1,0))}function Fl(r){for(;r===sc;)sc=Ia[--Pl],Ia[Pl]=null,X0=Ia[--Pl],Ia[Pl]=null;for(;r===t0;)t0=Eo[--Vo],Eo[Vo]=null,Zo=Eo[--Vo],Eo[Vo]=null,Wo=Eo[--Vo],Eo[Vo]=null}function ac(r,l){Eo[Vo++]=Wo,Eo[Vo++]=Zo,Eo[Vo++]=t0,Wo=l.id,Zo=l.overflow,t0=r}var es=null,Wi=null,Hr=!1,T0=null,zs=!1,n0=Error(a(519));function r0(r){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ra(Jo(l,r)),n0}function ih(r){var l=r.stateNode,c=r.type,p=r.memoizedProps;switch(l[j]=r,l[_e]=p,c){case"dialog":zr("cancel",l),zr("close",l);break;case"iframe":case"object":case"embed":zr("load",l);break;case"video":case"audio":for(c=0;c<da.length;c++)zr(da[c],l);break;case"source":zr("error",l);break;case"img":case"image":case"link":zr("error",l),zr("load",l);break;case"details":zr("toggle",l);break;case"input":zr("invalid",l),h(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":zr("invalid",l);break;case"textarea":zr("invalid",l),te(l,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||p.suppressHydrationWarning===!0||Dh(l.textContent,c)?(p.popover!=null&&(zr("beforetoggle",l),zr("toggle",l)),p.onScroll!=null&&zr("scroll",l),p.onScrollEnd!=null&&zr("scrollend",l),p.onClick!=null&&(l.onclick=nn),l=!0):l=!1,l||r0(r,!0)}function sh(r){for(es=r.return;es;)switch(es.tag){case 5:case 31:case 13:zs=!1;return;case 27:case 3:zs=!0;return;default:es=es.return}}function Ma(r){if(r!==es)return!1;if(!Hr)return sh(r),Hr=!0,!1;var l=r.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||$2(r.type,r.memoizedProps)),c=!c),c&&Wi&&r0(r),sh(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Wi=l0(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Wi=l0(r)}else l===27?(l=Wi,Cu(r.type)?(r=y2,y2=null,Wi=r):Wi=l):Wi=es?Fo(r.stateNode.nextSibling):null;return!0}function i0(){Wi=es=null,Hr=!1}function Kc(){var r=T0;return r!==null&&(lo===null?lo=r:lo.push.apply(lo,r),T0=null),r}function Ra(r){T0===null?T0=[r]:T0.push(r)}var uc=ze(null),j0=null,zl=null;function _0(r,l,c){Se(uc,l._currentValue),l._currentValue=c}function Ul(r){r._currentValue=uc.current,ct(uc)}function Oa(r,l,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),r===c)break;r=r.return}}function Qo(r,l,c,p){var T=r.child;for(T!==null&&(T.return=r);T!==null;){var A=T.dependencies;if(A!==null){var X=T.child;A=A.firstContext;e:for(;A!==null;){var de=A;A=T;for(var Ge=0;Ge<l.length;Ge++)if(de.context===l[Ge]){A.lanes|=c,de=A.alternate,de!==null&&(de.lanes|=c),Oa(A.return,c,r),p||(X=null);break e}A=de.next}}else if(T.tag===18){if(X=T.return,X===null)throw Error(a(341));X.lanes|=c,A=X.alternate,A!==null&&(A.lanes|=c),Oa(X,c,r),X=null}else X=T.child;if(X!==null)X.return=T;else for(X=T;X!==null;){if(X===r){X=null;break}if(T=X.sibling,T!==null){T.return=X.return,X=T;break}X=X.return}T=X}}function E0(r,l,c,p){r=null;for(var T=l,A=!1;T!==null;){if(!A){if((T.flags&524288)!==0)A=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var X=T.alternate;if(X===null)throw Error(a(387));if(X=X.memoizedProps,X!==null){var de=T.type;en(T.pendingProps.value,X.value)||(r!==null?r.push(de):r=[de])}}else if(T===yn.current){if(X=T.alternate,X===null)throw Error(a(387));X.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(r!==null?r.push(P1):r=[P1])}T=T.return}r!==null&&Qo(l,r,c,p),l.flags|=262144}function ou(r){for(r=r.firstContext;r!==null;){if(!en(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function el(r){j0=r,zl=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Js(r){return au(j0,r)}function lu(r,l){return j0===null&&el(r),au(r,l)}function au(r,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},zl===null){if(r===null)throw Error(a(308));zl=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else zl=zl.next=l;return c}var cc=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(c,p){r.push(p)}};this.abort=function(){l.aborted=!0,r.forEach(function(c){return c()})}},Jc=o.unstable_scheduleCallback,oh=o.unstable_NormalPriority,is={$$typeof:ke,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new cc,data:new Map,refCount:0}}function w0(r){r.refCount--,r.refCount===0&&Jc(oh,function(){r.controller.abort()})}var S0=null,Zc=0,Na=0,Y0=null;function Qc(r,l){if(S0===null){var c=S0=[];Zc=0,Na=_l(),Y0={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Zc++,l.then(Ln,Ln),l}function Ln(){if(--Zc===0&&S0!==null){Y0!==null&&(Y0.status="fulfilled");var r=S0;S0=null,Na=0,Y0=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function tl(r,l){var c=[],p={status:"pending",value:null,reason:null,then:function(T){c.push(T)}};return r.then(function(){p.status="fulfilled",p.value=l;for(var T=0;T<c.length;T++)(0,c[T])(l)},function(T){for(p.status="rejected",p.reason=T,T=0;T<c.length;T++)(0,c[T])(void 0)}),p}var ro=Ze.S;Ze.S=function(r,l){o2=Vn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Qc(r,l),ro!==null&&ro(r,l)};var Ii=ze(null);function dl(){var r=Ii.current;return r!==null?r:Ri.pooledCache}function g(r,l){l===null?Se(Ii,Ii.current):Se(Ii,l.pool)}function f(){var r=dl();return r===null?null:{parent:is._currentValue,pool:r}}var $=Error(a(460)),S=Error(a(474)),N=Error(a(542)),G={then:function(){}};function K(r){return r=r.status,r==="fulfilled"||r==="rejected"}function he(r,l,c){switch(c=r[c],c===void 0?r.push(l):c!==l&&(l.then(nn,nn),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,at(r),r;default:if(typeof l.status=="string")l.then(nn,nn);else{if(r=Ri,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=l,r.status="pending",r.then(function(p){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=p}},function(p){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,at(r),r}throw Ue=l,$}}function we(r){try{var l=r._init;return l(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ue=c,$):c}}var Ue=null;function rt(){if(Ue===null)throw Error(a(459));var r=Ue;return Ue=null,r}function at(r){if(r===$||r===N)throw Error(a(483))}var _t=null,Yt=0;function bn(r){var l=Yt;return Yt+=1,_t===null&&(_t=[]),he(_t,r,l)}function An(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Rr(r,l){throw l.$$typeof===q?Error(a(525)):(r=Object.prototype.toString.call(l),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function gr(r){function l(ot,je){if(r){var mt=ot.deletions;mt===null?(ot.deletions=[je],ot.flags|=16):mt.push(je)}}function c(ot,je){if(!r)return null;for(;je!==null;)l(ot,je),je=je.sibling;return null}function p(ot){for(var je=new Map;ot!==null;)ot.key!==null?je.set(ot.key,ot):je.set(ot.index,ot),ot=ot.sibling;return je}function T(ot,je){return ot=Bl(ot,je),ot.index=0,ot.sibling=null,ot}function A(ot,je,mt){return ot.index=mt,r?(mt=ot.alternate,mt!==null?(mt=mt.index,mt<je?(ot.flags|=67108866,je):mt):(ot.flags|=67108866,je)):(ot.flags|=1048576,je)}function X(ot){return r&&ot.alternate===null&&(ot.flags|=67108866),ot}function de(ot,je,mt,Ht){return je===null||je.tag!==6?(je=su(mt,ot.mode,Ht),je.return=ot,je):(je=T(je,mt),je.return=ot,je)}function Ge(ot,je,mt,Ht){var qn=mt.type;return qn===ve?zt(ot,je,mt.props.children,Ht,mt.key):je!==null&&(je.elementType===qn||typeof qn=="object"&&qn!==null&&qn.$$typeof===st&&we(qn)===je.type)?(je=T(je,mt.props),An(je,mt),je.return=ot,je):(je=W0(mt.type,mt.key,mt.props,null,ot.mode,Ht),An(je,mt),je.return=ot,je)}function gt(ot,je,mt,Ht){return je===null||je.tag!==4||je.stateNode.containerInfo!==mt.containerInfo||je.stateNode.implementation!==mt.implementation?(je=y0(mt,ot.mode,Ht),je.return=ot,je):(je=T(je,mt.children||[]),je.return=ot,je)}function zt(ot,je,mt,Ht,qn){return je===null||je.tag!==7?(je=b0(mt,ot.mode,Ht,qn),je.return=ot,je):(je=T(je,mt),je.return=ot,je)}function Xt(ot,je,mt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=su(""+je,ot.mode,mt),je.return=ot,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case z:return mt=W0(je.type,je.key,je.props,null,ot.mode,mt),An(mt,je),mt.return=ot,mt;case fe:return je=y0(je,ot.mode,mt),je.return=ot,je;case st:return je=we(je),Xt(ot,je,mt)}if(nt(je)||De(je))return je=b0(je,ot.mode,mt,null),je.return=ot,je;if(typeof je.then=="function")return Xt(ot,bn(je),mt);if(je.$$typeof===ke)return Xt(ot,lu(ot,je),mt);Rr(ot,je)}return null}function wt(ot,je,mt,Ht){var qn=je!==null?je.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return qn!==null?null:de(ot,je,""+mt,Ht);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case z:return mt.key===qn?Ge(ot,je,mt,Ht):null;case fe:return mt.key===qn?gt(ot,je,mt,Ht):null;case st:return mt=we(mt),wt(ot,je,mt,Ht)}if(nt(mt)||De(mt))return qn!==null?null:zt(ot,je,mt,Ht,null);if(typeof mt.then=="function")return wt(ot,je,bn(mt),Ht);if(mt.$$typeof===ke)return wt(ot,je,lu(ot,mt),Ht);Rr(ot,mt)}return null}function Mt(ot,je,mt,Ht,qn){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return ot=ot.get(mt)||null,de(je,ot,""+Ht,qn);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case z:return ot=ot.get(Ht.key===null?mt:Ht.key)||null,Ge(je,ot,Ht,qn);case fe:return ot=ot.get(Ht.key===null?mt:Ht.key)||null,gt(je,ot,Ht,qn);case st:return Ht=we(Ht),Mt(ot,je,mt,Ht,qn)}if(nt(Ht)||De(Ht))return ot=ot.get(mt)||null,zt(je,ot,Ht,qn,null);if(typeof Ht.then=="function")return Mt(ot,je,mt,bn(Ht),qn);if(Ht.$$typeof===ke)return Mt(ot,je,mt,lu(je,Ht),qn);Rr(je,Ht)}return null}function xn(ot,je,mt,Ht){for(var qn=null,hi=null,Bn=je,_n=je=0,Zr=null;Bn!==null&&_n<mt.length;_n++){Bn.index>_n?(Zr=Bn,Bn=null):Zr=Bn.sibling;var $i=wt(ot,Bn,mt[_n],Ht);if($i===null){Bn===null&&(Bn=Zr);break}r&&Bn&&$i.alternate===null&&l(ot,Bn),je=A($i,je,_n),hi===null?qn=$i:hi.sibling=$i,hi=$i,Bn=Zr}if(_n===mt.length)return c(ot,Bn),Hr&&No(ot,_n),qn;if(Bn===null){for(;_n<mt.length;_n++)Bn=Xt(ot,mt[_n],Ht),Bn!==null&&(je=A(Bn,je,_n),hi===null?qn=Bn:hi.sibling=Bn,hi=Bn);return Hr&&No(ot,_n),qn}for(Bn=p(Bn);_n<mt.length;_n++)Zr=Mt(Bn,ot,_n,mt[_n],Ht),Zr!==null&&(r&&Zr.alternate!==null&&Bn.delete(Zr.key===null?_n:Zr.key),je=A(Zr,je,_n),hi===null?qn=Zr:hi.sibling=Zr,hi=Zr);return r&&Bn.forEach(function(ol){return l(ot,ol)}),Hr&&No(ot,_n),qn}function nr(ot,je,mt,Ht){if(mt==null)throw Error(a(151));for(var qn=null,hi=null,Bn=je,_n=je=0,Zr=null,$i=mt.next();Bn!==null&&!$i.done;_n++,$i=mt.next()){Bn.index>_n?(Zr=Bn,Bn=null):Zr=Bn.sibling;var ol=wt(ot,Bn,$i.value,Ht);if(ol===null){Bn===null&&(Bn=Zr);break}r&&Bn&&ol.alternate===null&&l(ot,Bn),je=A(ol,je,_n),hi===null?qn=ol:hi.sibling=ol,hi=ol,Bn=Zr}if($i.done)return c(ot,Bn),Hr&&No(ot,_n),qn;if(Bn===null){for(;!$i.done;_n++,$i=mt.next())$i=Xt(ot,$i.value,Ht),$i!==null&&(je=A($i,je,_n),hi===null?qn=$i:hi.sibling=$i,hi=$i);return Hr&&No(ot,_n),qn}for(Bn=p(Bn);!$i.done;_n++,$i=mt.next())$i=Mt(Bn,ot,_n,$i.value,Ht),$i!==null&&(r&&$i.alternate!==null&&Bn.delete($i.key===null?_n:$i.key),je=A($i,je,_n),hi===null?qn=$i:hi.sibling=$i,hi=$i);return r&&Bn.forEach(function(B3){return l(ot,B3)}),Hr&&No(ot,_n),qn}function Si(ot,je,mt,Ht){if(typeof mt=="object"&&mt!==null&&mt.type===ve&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case z:e:{for(var qn=mt.key;je!==null;){if(je.key===qn){if(qn=mt.type,qn===ve){if(je.tag===7){c(ot,je.sibling),Ht=T(je,mt.props.children),Ht.return=ot,ot=Ht;break e}}else if(je.elementType===qn||typeof qn=="object"&&qn!==null&&qn.$$typeof===st&&we(qn)===je.type){c(ot,je.sibling),Ht=T(je,mt.props),An(Ht,mt),Ht.return=ot,ot=Ht;break e}c(ot,je);break}else l(ot,je);je=je.sibling}mt.type===ve?(Ht=b0(mt.props.children,ot.mode,Ht,mt.key),Ht.return=ot,ot=Ht):(Ht=W0(mt.type,mt.key,mt.props,null,ot.mode,Ht),An(Ht,mt),Ht.return=ot,ot=Ht)}return X(ot);case fe:e:{for(qn=mt.key;je!==null;){if(je.key===qn)if(je.tag===4&&je.stateNode.containerInfo===mt.containerInfo&&je.stateNode.implementation===mt.implementation){c(ot,je.sibling),Ht=T(je,mt.children||[]),Ht.return=ot,ot=Ht;break e}else{c(ot,je);break}else l(ot,je);je=je.sibling}Ht=y0(mt,ot.mode,Ht),Ht.return=ot,ot=Ht}return X(ot);case st:return mt=we(mt),Si(ot,je,mt,Ht)}if(nt(mt))return xn(ot,je,mt,Ht);if(De(mt)){if(qn=De(mt),typeof qn!="function")throw Error(a(150));return mt=qn.call(mt),nr(ot,je,mt,Ht)}if(typeof mt.then=="function")return Si(ot,je,bn(mt),Ht);if(mt.$$typeof===ke)return Si(ot,je,lu(ot,mt),Ht);Rr(ot,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,je!==null&&je.tag===6?(c(ot,je.sibling),Ht=T(je,mt),Ht.return=ot,ot=Ht):(c(ot,je),Ht=su(mt,ot.mode,Ht),Ht.return=ot,ot=Ht),X(ot)):c(ot,je)}return function(ot,je,mt,Ht){try{Yt=0;var qn=Si(ot,je,mt,Ht);return _t=null,qn}catch(Bn){if(Bn===$||Bn===N)throw Bn;var hi=_o(29,Bn,null,ot.mode);return hi.lanes=Ht,hi.return=ot,hi}finally{}}}var Tr=gr(!0),ai=gr(!1),jr=!1;function zi(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gs(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function as(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function $s(r,l,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(wi&2)!==0){var T=p.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),p.pending=l,l=Dl(r),nc(r,null,c),l}return Ll(r,p,l,c),Dl(r)}function Or(r,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var p=l.lanes;p&=r.pendingLanes,c|=p,l.lanes=c,br(r,c)}}function fi(r,l){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var T=null,A=null;if(c=c.firstBaseUpdate,c!==null){do{var X={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};A===null?T=A=X:A=A.next=X,c=c.next}while(c!==null);A===null?T=A=l:A=A.next=l}else T=A=l;c={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:A,shared:p.shared,callbacks:p.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=l:r.next=l,c.lastBaseUpdate=l}var pi=!1;function Mi(){if(pi){var r=Y0;if(r!==null)throw r}}function ui(r,l,c,p){pi=!1;var T=r.updateQueue;jr=!1;var A=T.firstBaseUpdate,X=T.lastBaseUpdate,de=T.shared.pending;if(de!==null){T.shared.pending=null;var Ge=de,gt=Ge.next;Ge.next=null,X===null?A=gt:X.next=gt,X=Ge;var zt=r.alternate;zt!==null&&(zt=zt.updateQueue,de=zt.lastBaseUpdate,de!==X&&(de===null?zt.firstBaseUpdate=gt:de.next=gt,zt.lastBaseUpdate=Ge))}if(A!==null){var Xt=T.baseState;X=0,zt=gt=Ge=null,de=A;do{var wt=de.lane&-536870913,Mt=wt!==de.lane;if(Mt?(fr&wt)===wt:(p&wt)===wt){wt!==0&&wt===Na&&(pi=!0),zt!==null&&(zt=zt.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var xn=r,nr=de;wt=l;var Si=c;switch(nr.tag){case 1:if(xn=nr.payload,typeof xn=="function"){Xt=xn.call(Si,Xt,wt);break e}Xt=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=nr.payload,wt=typeof xn=="function"?xn.call(Si,Xt,wt):xn,wt==null)break e;Xt=R({},Xt,wt);break e;case 2:jr=!0}}wt=de.callback,wt!==null&&(r.flags|=64,Mt&&(r.flags|=8192),Mt=T.callbacks,Mt===null?T.callbacks=[wt]:Mt.push(wt))}else Mt={lane:wt,tag:de.tag,payload:de.payload,callback:de.callback,next:null},zt===null?(gt=zt=Mt,Ge=Xt):zt=zt.next=Mt,X|=wt;if(de=de.next,de===null){if(de=T.shared.pending,de===null)break;Mt=de,de=Mt.next,Mt.next=null,T.lastBaseUpdate=Mt,T.shared.pending=null}}while(!0);zt===null&&(Ge=Xt),T.baseState=Ge,T.firstBaseUpdate=gt,T.lastBaseUpdate=zt,A===null&&(T.shared.lanes=0),R0|=X,r.lanes=X,r.memoizedState=Xt}}function qi(r,l){if(typeof r!="function")throw Error(a(191,r));r.call(l)}function go(r,l){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)qi(c[r],l)}var K0=ze(null),uu=ze(0);function dc(r,l){r=M0,Se(uu,r),Se(K0,l),M0=r|l.baseLanes}function e1(){Se(uu,M0),Se(K0,K0.current)}function x0(){M0=uu.current,ct(K0),ct(uu)}var nl=ze(null),fl=null;function J0(r){var l=r.alternate;Se(Us,Us.current&1),Se(nl,r),fl===null&&(l===null||K0.current!==null||l.memoizedState!==null)&&(fl=r)}function Qh(r){Se(Us,Us.current),Se(nl,r),fl===null&&(fl=r)}function ed(r){r.tag===22?(Se(Us,Us.current),Se(nl,r),fl===null&&(fl=r)):La()}function La(){Se(Us,Us.current),Se(nl,nl.current)}function qo(r){ct(nl),fl===r&&(fl=null),ct(Us)}var Us=ze(0);function lh(r){for(var l=r;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Mc(c)||R1(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Hl=0,Cr=null,Ui=null,Os=null,fc=!1,Da=!1,Z0=!1,t1=0,n1=0,cu=null,td=0;function vs(){throw Error(a(321))}function nd(r,l){if(l===null)return!1;for(var c=0;c<l.length&&c<r.length;c++)if(!en(r[c],l[c]))return!1;return!0}function r1(r,l,c,p,T,A){return Hl=A,Cr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ze.H=r===null||r.memoizedState===null?z4:Ed,Z0=!1,A=c(p,T),Z0=!1,Da&&(A=rd(l,c,p,T)),C4(r),A}function C4(r){Ze.H=$c;var l=Ui!==null&&Ui.next!==null;if(Hl=0,Os=Ui=Cr=null,fc=!1,n1=0,cu=null,l)throw Error(a(300));r===null||Zs||(r=r.dependencies,r!==null&&ou(r)&&(Zs=!0))}function rd(r,l,c,p){Cr=r;var T=0;do{if(Da&&(cu=null),n1=0,Da=!1,25<=T)throw Error(a(301));if(T+=1,Os=Ui=null,r.updateQueue!=null){var A=r.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}Ze.H=U4,A=l(c,p)}while(Da);return A}function h3(){var r=Ze.H,l=r.useState()[0];return l=typeof l.then=="function"?gc(l):l,r=r.useState()[0],(Ui!==null?Ui.memoizedState:null)!==r&&(Cr.flags|=1024),l}function Q0(){var r=t1!==0;return t1=0,r}function ah(r,l,c){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~c}function pc(r){if(fc){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}fc=!1}Hl=0,Os=Ui=Cr=null,Da=!1,n1=t1=0,cu=null}function Lo(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Os===null?Cr.memoizedState=Os=r:Os=Os.next=r,Os}function Ns(){if(Ui===null){var r=Cr.alternate;r=r!==null?r.memoizedState:null}else r=Ui.next;var l=Os===null?Cr.memoizedState:Os.next;if(l!==null)Os=l,Ui=r;else{if(r===null)throw Cr.alternate===null?Error(a(467)):Error(a(310));Ui=r,r={memoizedState:Ui.memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},Os===null?Cr.memoizedState=Os=r:Os=Os.next=r}return Os}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(r){var l=n1;return n1+=1,cu===null&&(cu=[]),r=he(cu,r,l),l=Cr,(Os===null?l.memoizedState:Os.next)===null&&(l=l.alternate,Ze.H=l===null||l.memoizedState===null?z4:Ed),r}function i1(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gc(r);if(r.$$typeof===ke)return Js(r)}throw Error(a(438,String(r)))}function uh(r){var l=null,c=Cr.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var p=Cr.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=mc(),Cr.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(r),p=0;p<r;p++)c[p]=Qt;return l.index++,c}function C0(r,l){return typeof l=="function"?l(r):l}function s1(r){var l=Ns();return ch(l,Ui,r)}function ch(r,l,c){var p=r.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=c;var T=r.baseQueue,A=p.pending;if(A!==null){if(T!==null){var X=T.next;T.next=A.next,A.next=X}l.baseQueue=T=A,p.pending=null}if(A=r.baseState,T===null)r.memoizedState=A;else{l=T.next;var de=X=null,Ge=null,gt=l,zt=!1;do{var Xt=gt.lane&-536870913;if(Xt!==gt.lane?(fr&Xt)===Xt:(Hl&Xt)===Xt){var wt=gt.revertLane;if(wt===0)Ge!==null&&(Ge=Ge.next={lane:0,revertLane:0,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),Xt===Na&&(zt=!0);else if((Hl&wt)===wt){gt=gt.next,wt===Na&&(zt=!0);continue}else Xt={lane:0,revertLane:gt.revertLane,gesture:null,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},Ge===null?(de=Ge=Xt,X=A):Ge=Ge.next=Xt,Cr.lanes|=wt,R0|=wt;Xt=gt.action,Z0&&c(A,Xt),A=gt.hasEagerState?gt.eagerState:c(A,Xt)}else wt={lane:Xt,revertLane:gt.revertLane,gesture:gt.gesture,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},Ge===null?(de=Ge=wt,X=A):Ge=Ge.next=wt,Cr.lanes|=Xt,R0|=Xt;gt=gt.next}while(gt!==null&&gt!==l);if(Ge===null?X=A:Ge.next=de,!en(A,r.memoizedState)&&(Zs=!0,zt&&(c=Y0,c!==null)))throw c;r.memoizedState=A,r.baseState=X,r.baseQueue=Ge,p.lastRenderedState=A}return T===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function hh(r){var l=Ns(),c=l.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var p=c.dispatch,T=c.pending,A=l.memoizedState;if(T!==null){c.pending=null;var X=T=T.next;do A=r(A,X.action),X=X.next;while(X!==T);en(A,l.memoizedState)||(Zs=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),c.lastRenderedState=A}return[A,p]}function id(r,l,c){var p=Cr,T=Ns(),A=Hr;if(A){if(c===void 0)throw Error(a(407));c=c()}else c=l();var X=!en((Ui||T).memoizedState,c);if(X&&(T.memoizedState=c,Zs=!0),T=T.queue,fh(A4.bind(null,p,T,r),[r]),T.getSnapshot!==l||X||Os!==null&&Os.memoizedState.tag&1){if(p.flags|=2048,hu(9,{destroy:void 0},k4.bind(null,p,T,c,l),null),Ri===null)throw Error(a(349));A||(Hl&127)!==0||sd(p,l,c)}return c}function sd(r,l,c){r.flags|=16384,r={getSnapshot:l,value:c},l=Cr.updateQueue,l===null?(l=mc(),Cr.updateQueue=l,l.stores=[r]):(c=l.stores,c===null?l.stores=[r]:c.push(r))}function k4(r,l,c,p){l.value=c,l.getSnapshot=p,I4(l)&&M4(r)}function A4(r,l,c){return c(function(){I4(l)&&M4(r)})}function I4(r){var l=r.getSnapshot;r=r.value;try{var c=l();return!en(r,c)}catch{return!0}}function M4(r){var l=Ko(r,2);l!==null&&Co(l,r,2)}function od(r){var l=Lo();if(typeof r=="function"){var c=r;if(r=c(),Z0){Le(!0);try{c()}finally{Le(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:r},l}function R4(r,l,c,p){return r.baseState=c,ch(r,Ui,typeof p=="function"?p:C0)}function d3(r,l,c,p,T){if(ea(r))throw Error(a(485));if(r=l.action,r!==null){var A={payload:T,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){A.listeners.push(X)}};Ze.T!==null?c(!0):A.isTransition=!1,p(A),c=l.pending,c===null?(A.next=l.pending=A,O4(l,A)):(A.next=c.next,l.pending=c.next=A)}}function O4(r,l){var c=l.action,p=l.payload,T=r.state;if(l.isTransition){var A=Ze.T,X={};Ze.T=X;try{var de=c(T,p),Ge=Ze.S;Ge!==null&&Ge(X,de),N4(r,l,de)}catch(gt){dh(r,l,gt)}finally{A!==null&&X.types!==null&&(A.types=X.types),Ze.T=A}}else try{A=c(T,p),N4(r,l,A)}catch(gt){dh(r,l,gt)}}function N4(r,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){ld(r,l,p)},function(p){return dh(r,l,p)}):ld(r,l,c)}function ld(r,l,c){l.status="fulfilled",l.value=c,ad(l),r.state=c,l=r.pending,l!==null&&(c=l.next,c===l?r.pending=null:(c=c.next,l.next=c,O4(r,c)))}function dh(r,l,c){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=c,ad(l),l=l.next;while(l!==p)}r.action=null}function ad(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function ud(r,l){return l}function cd(r,l){if(Hr){var c=Ri.formState;if(c!==null){e:{var p=Cr;if(Hr){if(Wi){t:{for(var T=Wi,A=zs;T.nodeType!==8;){if(!A){T=null;break t}if(T=Fo(T.nextSibling),T===null){T=null;break t}}A=T.data,T=A==="F!"||A==="F"?T:null}if(T){Wi=Fo(T.nextSibling),p=T.data==="F!";break e}}r0(p)}p=!1}p&&(l=c[0])}}return c=Lo(),c.memoizedState=c.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:l},c.queue=p,c=m3.bind(null,Cr,p),p.dispatch=c,p=od(!1),A=h1.bind(null,Cr,!1,p.queue),p=Lo(),T={state:l,dispatch:null,action:r,pending:null},p.queue=T,c=d3.bind(null,Cr,T,A,c),T.dispatch=c,p.memoizedState=r,[l,c,!1]}function hd(r){var l=Ns();return dd(l,Ui,r)}function dd(r,l,c){if(l=ch(r,l,ud)[0],r=s1(C0)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=gc(l)}catch(X){throw X===$?N:X}else p=l;l=Ns();var T=l.queue,A=T.dispatch;return c!==l.memoizedState&&(Cr.flags|=2048,hu(9,{destroy:void 0},fd.bind(null,T,c),null)),[p,A,r]}function fd(r,l){r.action=l}function o1(r){var l=Ns(),c=Ui;if(c!==null)return dd(l,c,r);Ns(),l=l.memoizedState,c=Ns();var p=c.queue.dispatch;return c.memoizedState=r,[l,p,!1]}function hu(r,l,c,p){return r={tag:r,create:c,deps:p,inst:l,next:null},l=Cr.updateQueue,l===null&&(l=mc(),Cr.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,l.lastEffect=r),r}function L4(){return Ns().memoizedState}function l1(r,l,c,p){var T=Lo();Cr.flags|=r,T.memoizedState=hu(1|l,{destroy:void 0},c,p===void 0?null:p)}function a1(r,l,c,p){var T=Ns();p=p===void 0?null:p;var A=T.memoizedState.inst;Ui!==null&&p!==null&&nd(p,Ui.memoizedState.deps)?T.memoizedState=hu(l,A,c,p):(Cr.flags|=r,T.memoizedState=hu(1|l,A,c,p))}function pd(r,l){l1(8390656,8,r,l)}function fh(r,l){a1(2048,8,r,l)}function D4(r){Cr.flags|=4;var l=Cr.updateQueue;if(l===null)l=mc(),Cr.updateQueue=l,l.events=[r];else{var c=l.events;c===null?l.events=[r]:c.push(r)}}function md(r){var l=Ns().memoizedState;return D4({ref:l,nextImpl:r}),function(){if((wi&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function gd(r,l){return a1(4,2,r,l)}function $d(r,l){return a1(4,4,r,l)}function vd(r,l){if(typeof l=="function"){r=r();var c=l(r);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function bd(r,l,c){c=c!=null?c.concat([r]):null,a1(4,4,vd.bind(null,l,r),c)}function yd(){}function B4(r,l){var c=Ns();l=l===void 0?null:l;var p=c.memoizedState;return l!==null&&nd(l,p[1])?p[0]:(c.memoizedState=[r,l],r)}function Td(r,l){var c=Ns();l=l===void 0?null:l;var p=c.memoizedState;if(l!==null&&nd(l,p[1]))return p[0];if(p=r(),Z0){Le(!0);try{r()}finally{Le(!1)}}return c.memoizedState=[p,l],p}function _d(r,l,c){return c===void 0||(Hl&1073741824)!==0&&(fr&261930)===0?r.memoizedState=l:(r.memoizedState=c,r=l2(),Cr.lanes|=r,R0|=r,c)}function P4(r,l,c,p){return en(c,l)?c:K0.current!==null?(r=_d(r,c,p),en(r,l)||(Zs=!0),r):(Hl&42)===0||(Hl&1073741824)!==0&&(fr&261930)===0?(Zs=!0,r.memoizedState=c):(r=l2(),Cr.lanes|=r,R0|=r,l)}function F4(r,l,c,p,T){var A=vt.p;vt.p=A!==0&&8>A?A:8;var X=Ze.T,de={};Ze.T=de,h1(r,!1,l,c);try{var Ge=T(),gt=Ze.S;if(gt!==null&&gt(de,Ge),Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var zt=tl(Ge,p);c1(r,l,zt,xo(r))}else c1(r,l,p,xo(r))}catch(Xt){c1(r,l,{then:function(){},status:"rejected",reason:Xt},xo())}finally{vt.p=A,X!==null&&de.types!==null&&(X.types=de.types),Ze.T=X}}function f3(){}function yt(r,l,c,p){if(r.tag!==5)throw Error(a(476));var T=Ba(r).queue;F4(r,T,l,ft,c===null?f3:function(){return p3(r),c(p)})}function Ba(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:ft},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:c},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function p3(r){var l=Ba(r);l.next===null&&(l=r.alternate.memoizedState),c1(r,l.next.queue,{},xo())}function u1(){return Js(P1)}function pl(){return Ns().memoizedState}function Ft(){return Ns().memoizedState}function Pa(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var c=xo();r=as(c);var p=$s(l,r,c);p!==null&&(Co(p,l,c),Or(p,l,c)),l={cache:hc()},r.payload=l;return}l=l.return}}function bs(r,l,c){var p=xo();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ea(r)?ph(l,c):(c=v0(r,l,c,p),c!==null&&(Co(c,r,p),du(c,l,p)))}function m3(r,l,c){var p=xo();c1(r,l,c,p)}function c1(r,l,c,p){var T={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ea(r))ph(l,T);else{var A=r.alternate;if(r.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var X=l.lastRenderedState,de=A(X,c);if(T.hasEagerState=!0,T.eagerState=de,en(de,X))return Ll(r,l,T,0),Ri===null&&e0(),!1}catch{}finally{}if(c=v0(r,l,T,p),c!==null)return Co(c,r,p),du(c,l,p),!0}return!1}function h1(r,l,c,p){if(p={lane:2,revertLane:_l(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ea(r)){if(l)throw Error(a(479))}else l=v0(r,c,p,2),l!==null&&Co(l,r,2)}function ea(r){var l=r.alternate;return r===Cr||l!==null&&l===Cr}function ph(r,l){Da=fc=!0;var c=r.pending;c===null?l.next=l:(l.next=c.next,c.next=l),r.pending=l}function du(r,l,c){if((c&4194048)!==0){var p=l.lanes;p&=r.pendingLanes,c|=p,l.lanes=c,br(r,c)}}var $c={readContext:Js,use:i1,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useLayoutEffect:vs,useInsertionEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useSyncExternalStore:vs,useId:vs,useHostTransitionStatus:vs,useFormState:vs,useActionState:vs,useOptimistic:vs,useMemoCache:vs,useCacheRefresh:vs};$c.useEffectEvent=vs;var z4={readContext:Js,use:i1,useCallback:function(r,l){return Lo().memoizedState=[r,l===void 0?null:l],r},useContext:Js,useEffect:pd,useImperativeHandle:function(r,l,c){c=c!=null?c.concat([r]):null,l1(4194308,4,vd.bind(null,l,r),c)},useLayoutEffect:function(r,l){return l1(4194308,4,r,l)},useInsertionEffect:function(r,l){l1(4,2,r,l)},useMemo:function(r,l){var c=Lo();l=l===void 0?null:l;var p=r();if(Z0){Le(!0);try{r()}finally{Le(!1)}}return c.memoizedState=[p,l],p},useReducer:function(r,l,c){var p=Lo();if(c!==void 0){var T=c(l);if(Z0){Le(!0);try{c(l)}finally{Le(!1)}}}else T=l;return p.memoizedState=p.baseState=T,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:T},p.queue=r,r=r.dispatch=bs.bind(null,Cr,r),[p.memoizedState,r]},useRef:function(r){var l=Lo();return r={current:r},l.memoizedState=r},useState:function(r){r=od(r);var l=r.queue,c=m3.bind(null,Cr,l);return l.dispatch=c,[r.memoizedState,c]},useDebugValue:yd,useDeferredValue:function(r,l){var c=Lo();return _d(c,r,l)},useTransition:function(){var r=od(!1);return r=F4.bind(null,Cr,r.queue,!0,!1),Lo().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,c){var p=Cr,T=Lo();if(Hr){if(c===void 0)throw Error(a(407));c=c()}else{if(c=l(),Ri===null)throw Error(a(349));(fr&127)!==0||sd(p,l,c)}T.memoizedState=c;var A={value:c,getSnapshot:l};return T.queue=A,pd(A4.bind(null,p,A,r),[r]),p.flags|=2048,hu(9,{destroy:void 0},k4.bind(null,p,A,c,l),null),c},useId:function(){var r=Lo(),l=Ri.identifierPrefix;if(Hr){var c=Zo,p=Wo;c=(p&~(1<<32-Me(p)-1)).toString(32)+c,l="_"+l+"R_"+c,c=t1++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=td++,l="_"+l+"r_"+c.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:u1,useFormState:cd,useActionState:cd,useOptimistic:function(r){var l=Lo();l.memoizedState=l.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=h1.bind(null,Cr,!0,c),c.dispatch=l,[r,l]},useMemoCache:uh,useCacheRefresh:function(){return Lo().memoizedState=Pa.bind(null,Cr)},useEffectEvent:function(r){var l=Lo(),c={impl:r};return l.memoizedState=c,function(){if((wi&2)!==0)throw Error(a(440));return c.impl.apply(void 0,arguments)}}},Ed={readContext:Js,use:i1,useCallback:B4,useContext:Js,useEffect:fh,useImperativeHandle:bd,useInsertionEffect:gd,useLayoutEffect:$d,useMemo:Td,useReducer:s1,useRef:L4,useState:function(){return s1(C0)},useDebugValue:yd,useDeferredValue:function(r,l){var c=Ns();return P4(c,Ui.memoizedState,r,l)},useTransition:function(){var r=s1(C0)[0],l=Ns().memoizedState;return[typeof r=="boolean"?r:gc(r),l]},useSyncExternalStore:id,useId:pl,useHostTransitionStatus:u1,useFormState:hd,useActionState:hd,useOptimistic:function(r,l){var c=Ns();return R4(c,Ui,r,l)},useMemoCache:uh,useCacheRefresh:Ft};Ed.useEffectEvent=md;var U4={readContext:Js,use:i1,useCallback:B4,useContext:Js,useEffect:fh,useImperativeHandle:bd,useInsertionEffect:gd,useLayoutEffect:$d,useMemo:Td,useReducer:hh,useRef:L4,useState:function(){return hh(C0)},useDebugValue:yd,useDeferredValue:function(r,l){var c=Ns();return Ui===null?_d(c,r,l):P4(c,Ui.memoizedState,r,l)},useTransition:function(){var r=hh(C0)[0],l=Ns().memoizedState;return[typeof r=="boolean"?r:gc(r),l]},useSyncExternalStore:id,useId:pl,useHostTransitionStatus:u1,useFormState:o1,useActionState:o1,useOptimistic:function(r,l){var c=Ns();return Ui!==null?R4(c,Ui,r,l):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:uh,useCacheRefresh:Ft};U4.useEffectEvent=md;function d1(r,l,c,p){l=r.memoizedState,c=c(p,l),c=c==null?l:R({},l,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var f1={enqueueSetState:function(r,l,c){r=r._reactInternals;var p=xo(),T=as(p);T.payload=l,c!=null&&(T.callback=c),l=$s(r,T,p),l!==null&&(Co(l,r,p),Or(l,r,p))},enqueueReplaceState:function(r,l,c){r=r._reactInternals;var p=xo(),T=as(p);T.tag=1,T.payload=l,c!=null&&(T.callback=c),l=$s(r,T,p),l!==null&&(Co(l,r,p),Or(l,r,p))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var c=xo(),p=as(c);p.tag=2,l!=null&&(p.callback=l),l=$s(r,p,c),l!==null&&(Co(l,r,c),Or(l,r,c))}};function wd(r,l,c,p,T,A,X){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,A,X):l.prototype&&l.prototype.isPureReactComponent?!Mn(c,p)||!Mn(T,A):!0}function H4(r,l,c,p){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==r&&f1.enqueueReplaceState(l,l.state,null)}function fu(r,l){var c=l;if("ref"in l){c={};for(var p in l)p!=="ref"&&(c[p]=l[p])}if(r=r.defaultProps){c===l&&(c=R({},c));for(var T in r)c[T]===void 0&&(c[T]=r[T])}return c}function G4(r){lr(r)}function g3(r){console.error(r)}function V4(r){lr(r)}function mh(r,l){try{var c=r.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Sd(r,l,c){try{var p=r.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function p1(r,l,c){return c=as(c),c.tag=3,c.payload={element:null},c.callback=function(){mh(r,l)},c}function W4(r){return r=as(r),r.tag=3,r}function xd(r,l,c,p){var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var A=p.value;r.payload=function(){return T(A)},r.callback=function(){Sd(l,c,p)}}var X=c.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(r.callback=function(){Sd(l,c,p),typeof T!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var de=p.stack;this.componentDidCatch(p.value,{componentStack:de!==null?de:""})})}function $3(r,l,c,p,T){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=c.alternate,l!==null&&E0(l,c,T,!0),c=nl.current,c!==null){switch(c.tag){case 31:case 13:return fl===null?Ih():c.alternate===null&&Ls===0&&(Ls=3),c.flags&=-257,c.flags|=65536,c.lanes=T,p===G?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([p]):l.add(p),S1(r,p,T)),!1;case 22:return c.flags|=65536,p===G?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([p]):c.add(p)),S1(r,p,T)),!1}throw Error(a(435,c.tag))}return S1(r,p,T),Ih(),!1}if(Hr)return l=nl.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,p!==n0&&(r=Error(a(422),{cause:p}),Ra(Jo(r,c)))):(p!==n0&&(l=Error(a(423),{cause:p}),Ra(Jo(l,c))),r=r.current.alternate,r.flags|=65536,T&=-T,r.lanes|=T,p=Jo(p,c),T=p1(r.stateNode,p,T),fi(r,T),Ls!==4&&(Ls=2)),!1;var A=Error(a(520),{cause:p});if(A=Jo(A,c),_1===null?_1=[A]:_1.push(A),Ls!==4&&(Ls=2),l===null)return!0;p=Jo(p,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,r=T&-T,c.lanes|=r,r=p1(c.stateNode,p,r),fi(c,r),!1;case 1:if(l=c.type,A=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Va===null||!Va.has(A))))return c.flags|=65536,T&=-T,c.lanes|=T,T=W4(T),xd(T,r,c,p),fi(c,T),!1}c=c.return}while(c!==null);return!1}var q4=Error(a(461)),Zs=!1;function wo(r,l,c,p){l.child=r===null?ai(l,null,c,p):Tr(l,r.child,c,p)}function ta(r,l,c,p,T){c=c.render;var A=l.ref;if("ref"in p){var X={};for(var de in p)de!=="ref"&&(X[de]=p[de])}else X=p;return el(l),p=r1(r,l,c,X,A,T),de=Q0(),r!==null&&!Zs?(ah(r,l,T),ra(r,l,T)):(Hr&&de&&lc(l),l.flags|=1,wo(r,l,p,T),l.child)}function pt(r,l,c,p,T){if(r===null){var A=c.type;return typeof A=="function"&&!ic(A)&&A.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=A,X4(r,l,A,p,T)):(r=W0(c.type,null,p,l,l.mode,T),r.ref=l.ref,r.return=l,l.child=r)}if(A=r.child,!Hi(r,T)){var X=A.memoizedProps;if(c=c.compare,c=c!==null?c:Mn,c(X,p)&&r.ref===l.ref)return ra(r,l,T)}return l.flags|=1,r=Bl(A,p),r.ref=l.ref,r.return=l,l.child=r}function X4(r,l,c,p,T){if(r!==null){var A=r.memoizedProps;if(Mn(A,p)&&r.ref===l.ref)if(Zs=!1,l.pendingProps=p=A,Hi(r,T))(r.flags&131072)!==0&&(Zs=!0);else return l.lanes=r.lanes,ra(r,l,T)}return $h(r,l,c,p,T)}function j4(r,l,c,p){var T=p.children,A=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(A=A!==null?A.baseLanes|c:c,r!==null){for(p=l.child=r.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;p=T&~A}else p=0,l.child=null;return v3(r,l,A,c,p)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&g(l,A!==null?A.cachePool:null),A!==null?dc(l,A):e1(),ed(l);else return p=l.lanes=536870912,v3(r,l,A!==null?A.baseLanes|c:c,c,p)}else A!==null?(g(l,A.cachePool),dc(l,A),La(),l.memoizedState=null):(r!==null&&g(l,null),e1(),La());return wo(r,l,T,c),l.child}function m1(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function v3(r,l,c,p,T){var A=dl();return A=A===null?null:{parent:is._currentValue,pool:A},l.memoizedState={baseLanes:c,cachePool:A},r!==null&&g(l,null),e1(),ed(l),r!==null&&E0(r,l,p,!0),l.childLanes=T,null}function g1(r,l){return l=pu({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function Y4(r,l,c){return Tr(l,r.child,null,c),r=g1(l,l.pendingProps),r.flags|=2,qo(l),l.memoizedState=null,r}function gh(r,l,c){var p=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(Hr){if(p.mode==="hidden")return r=g1(l,p),l.lanes=536870912,m1(null,r);if(Qh(l),(r=Wi)?(r=fa(r,zs),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:t0!==null?{id:Wo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},c=q0(r),c.return=l,l.child=c,es=l,Wi=null)):r=null,r===null)throw r0(l);return l.lanes=536870912,null}return g1(l,p)}var A=r.memoizedState;if(A!==null){var X=A.dehydrated;if(Qh(l),T)if(l.flags&256)l.flags&=-257,l=Y4(r,l,c);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(a(558));else if(Zs||E0(r,l,c,!1),T=(c&r.childLanes)!==0,Zs||T){if(p=Ri,p!==null&&(X=L(p,c),X!==0&&X!==A.retryLane))throw A.retryLane=X,Ko(r,X),Co(p,r,X),q4;Ih(),l=Y4(r,l,c)}else r=A.treeContext,Wi=Fo(X.nextSibling),es=l,Hr=!0,T0=null,zs=!1,r!==null&&ac(l,r),l=g1(l,p),l.flags|=4096;return l}return r=Bl(r.child,{mode:p.mode,children:p.children}),r.ref=l.ref,l.child=r,r.return=l,r}function $1(r,l){var c=l.ref;if(c===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(a(284));(r===null||r.ref!==c)&&(l.flags|=4194816)}}function $h(r,l,c,p,T){return el(l),c=r1(r,l,c,p,void 0,T),p=Q0(),r!==null&&!Zs?(ah(r,l,T),ra(r,l,T)):(Hr&&p&&lc(l),l.flags|=1,wo(r,l,c,T),l.child)}function na(r,l,c,p,T,A){return el(l),l.updateQueue=null,c=rd(l,p,c,T),C4(r),p=Q0(),r!==null&&!Zs?(ah(r,l,A),ra(r,l,A)):(Hr&&p&&lc(l),l.flags|=1,wo(r,l,c,A),l.child)}function K4(r,l,c,p,T){if(el(l),l.stateNode===null){var A=hl,X=c.contextType;typeof X=="object"&&X!==null&&(A=Js(X)),A=new c(p,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=f1,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=p,A.state=l.memoizedState,A.refs={},zi(l),X=c.contextType,A.context=typeof X=="object"&&X!==null?Js(X):hl,A.state=l.memoizedState,X=c.getDerivedStateFromProps,typeof X=="function"&&(d1(l,c,X,p),A.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(X=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),X!==A.state&&f1.enqueueReplaceState(A,A.state,null),ui(l,p,A,T),Mi(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(r===null){A=l.stateNode;var de=l.memoizedProps,Ge=fu(c,de);A.props=Ge;var gt=A.context,zt=c.contextType;X=hl,typeof zt=="object"&&zt!==null&&(X=Js(zt));var Xt=c.getDerivedStateFromProps;zt=typeof Xt=="function"||typeof A.getSnapshotBeforeUpdate=="function",de=l.pendingProps!==de,zt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(de||gt!==X)&&H4(l,A,p,X),jr=!1;var wt=l.memoizedState;A.state=wt,ui(l,p,A,T),Mi(),gt=l.memoizedState,de||wt!==gt||jr?(typeof Xt=="function"&&(d1(l,c,Xt,p),gt=l.memoizedState),(Ge=jr||wd(l,c,Ge,p,wt,gt,X))?(zt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=gt),A.props=p,A.state=gt,A.context=X,p=Ge):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,gs(r,l),X=l.memoizedProps,zt=fu(c,X),A.props=zt,Xt=l.pendingProps,wt=A.context,gt=c.contextType,Ge=hl,typeof gt=="object"&&gt!==null&&(Ge=Js(gt)),de=c.getDerivedStateFromProps,(gt=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(X!==Xt||wt!==Ge)&&H4(l,A,p,Ge),jr=!1,wt=l.memoizedState,A.state=wt,ui(l,p,A,T),Mi();var Mt=l.memoizedState;X!==Xt||wt!==Mt||jr||r!==null&&r.dependencies!==null&&ou(r.dependencies)?(typeof de=="function"&&(d1(l,c,de,p),Mt=l.memoizedState),(zt=jr||wd(l,c,zt,p,wt,Mt,Ge)||r!==null&&r.dependencies!==null&&ou(r.dependencies))?(gt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Mt,Ge),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Mt,Ge)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||X===r.memoizedProps&&wt===r.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||X===r.memoizedProps&&wt===r.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Mt),A.props=p,A.state=Mt,A.context=Ge,p=zt):(typeof A.componentDidUpdate!="function"||X===r.memoizedProps&&wt===r.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||X===r.memoizedProps&&wt===r.memoizedState||(l.flags|=1024),p=!1)}return A=p,$1(r,l),p=(l.flags&128)!==0,A||p?(A=l.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,r!==null&&p?(l.child=Tr(l,r.child,null,T),l.child=Tr(l,null,c,T)):wo(r,l,c,T),l.memoizedState=A.state,r=l.child):r=ra(r,l,T),r}function v1(r,l,c,p){return i0(),l.flags|=256,wo(r,l,c,p),l.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rl(r){return{baseLanes:r,cachePool:f()}}function k0(r,l,c){return r=r!==null?r.childLanes&~c:0,l&&(r|=Do),r}function s0(r,l,c){var p=l.pendingProps,T=!1,A=(l.flags&128)!==0,X;if((X=A)||(X=r!==null&&r.memoizedState===null?!1:(Us.current&2)!==0),X&&(T=!0,l.flags&=-129),X=(l.flags&32)!==0,l.flags&=-33,r===null){if(Hr){if(T?J0(l):La(),(r=Wi)?(r=fa(r,zs),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:t0!==null?{id:Wo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},c=q0(r),c.return=l,l.child=c,es=l,Wi=null)):r=null,r===null)throw r0(l);return R1(r)?l.lanes=32:l.lanes=536870912,null}var de=p.children;return p=p.fallback,T?(La(),T=l.mode,de=pu({mode:"hidden",children:de},T),p=b0(p,T,c,null),de.return=l,p.return=l,de.sibling=p,l.child=de,p=l.child,p.memoizedState=rl(c),p.childLanes=k0(r,X,c),l.memoizedState=Fa,m1(null,p)):(J0(l),vh(l,de))}var Ge=r.memoizedState;if(Ge!==null&&(de=Ge.dehydrated,de!==null)){if(A)l.flags&256?(J0(l),l.flags&=-257,l=io(r,l,c)):l.memoizedState!==null?(La(),l.child=r.child,l.flags|=128,l=null):(La(),de=p.fallback,T=l.mode,p=pu({mode:"visible",children:p.children},T),de=b0(de,T,c,null),de.flags|=2,p.return=l,de.return=l,p.sibling=de,l.child=p,Tr(l,r.child,null,c),p=l.child,p.memoizedState=rl(c),p.childLanes=k0(r,X,c),l.memoizedState=Fa,l=m1(null,p));else if(J0(l),R1(de)){if(X=de.nextSibling&&de.nextSibling.dataset,X)var gt=X.dgst;X=gt,p=Error(a(419)),p.stack="",p.digest=X,Ra({value:p,source:null,stack:null}),l=io(r,l,c)}else if(Zs||E0(r,l,c,!1),X=(c&r.childLanes)!==0,Zs||X){if(X=Ri,X!==null&&(p=L(X,c),p!==0&&p!==Ge.retryLane))throw Ge.retryLane=p,Ko(r,p),Co(X,r,p),q4;Mc(de)||Ih(),l=io(r,l,c)}else Mc(de)?(l.flags|=192,l.child=r.child,l=null):(r=Ge.treeContext,Wi=Fo(de.nextSibling),es=l,Hr=!0,T0=null,zs=!1,r!==null&&ac(l,r),l=vh(l,p.children),l.flags|=4096);return l}return T?(La(),de=p.fallback,T=l.mode,Ge=r.child,gt=Ge.sibling,p=Bl(Ge,{mode:"hidden",children:p.children}),p.subtreeFlags=Ge.subtreeFlags&65011712,gt!==null?de=Bl(gt,de):(de=b0(de,T,c,null),de.flags|=2),de.return=l,p.return=l,p.sibling=de,l.child=p,m1(null,p),p=l.child,de=r.child.memoizedState,de===null?de=rl(c):(T=de.cachePool,T!==null?(Ge=is._currentValue,T=T.parent!==Ge?{parent:Ge,pool:Ge}:T):T=f(),de={baseLanes:de.baseLanes|c,cachePool:T}),p.memoizedState=de,p.childLanes=k0(r,X,c),l.memoizedState=Fa,m1(r.child,p)):(J0(l),c=r.child,r=c.sibling,c=Bl(c,{mode:"visible",children:p.children}),c.return=l,c.sibling=null,r!==null&&(X=l.deletions,X===null?(l.deletions=[r],l.flags|=16):X.push(r)),l.child=c,l.memoizedState=null,c)}function vh(r,l){return l=pu({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function pu(r,l){return r=_o(22,r,null,l),r.lanes=0,r}function io(r,l,c){return Tr(l,r.child,null,c),r=vh(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function $o(r,l,c){r.lanes|=l;var p=r.alternate;p!==null&&(p.lanes|=l),Oa(r.return,l,c)}function J4(r,l,c,p,T,A){var X=r.memoizedState;X===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:T,treeForkCount:A}:(X.isBackwards=l,X.rendering=null,X.renderingStartTime=0,X.last=p,X.tail=c,X.tailMode=T,X.treeForkCount=A)}function So(r,l,c){var p=l.pendingProps,T=p.revealOrder,A=p.tail;p=p.children;var X=Us.current,de=(X&2)!==0;if(de?(X=X&1|2,l.flags|=128):X&=1,Se(Us,X),wo(r,l,p,c),p=Hr?X0:0,!de&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$o(r,c,l);else if(r.tag===19)$o(r,c,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(T){case"forwards":for(c=l.child,T=null;c!==null;)r=c.alternate,r!==null&&lh(r)===null&&(T=c),c=c.sibling;c=T,c===null?(T=l.child,l.child=null):(T=c.sibling,c.sibling=null),J4(l,!1,T,c,A,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,T=l.child,l.child=null;T!==null;){if(r=T.alternate,r!==null&&lh(r)===null){l.child=T;break}r=T.sibling,T.sibling=c,c=T,T=r}J4(l,!0,c,null,A,p);break;case"together":J4(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function ra(r,l,c){if(r!==null&&(l.dependencies=r.dependencies),R0|=l.lanes,(c&l.childLanes)===0)if(r!==null){if(E0(r,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(a(153));if(l.child!==null){for(r=l.child,c=Bl(r,r.pendingProps),l.child=c,c.return=l;r.sibling!==null;)r=r.sibling,c=c.sibling=Bl(r,r.pendingProps),c.return=l;c.sibling=null}return l.child}function Hi(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&ou(r)))}function bh(r,l,c){switch(l.tag){case 3:hr(l,l.stateNode.containerInfo),_0(l,is,r.memoizedState.cache),i0();break;case 27:case 5:an(l);break;case 4:hr(l,l.stateNode.containerInfo);break;case 10:_0(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Qh(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(J0(l),l.flags|=128,null):(c&l.child.childLanes)!==0?s0(r,l,c):(J0(l),r=ra(r,l,c),r!==null?r.sibling:null);J0(l);break;case 19:var T=(r.flags&128)!==0;if(p=(c&l.childLanes)!==0,p||(E0(r,l,c,!1),p=(c&l.childLanes)!==0),T){if(p)return So(r,l,c);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Se(Us,Us.current),p)break;return null;case 22:return l.lanes=0,j4(r,l,c,l.pendingProps);case 24:_0(l,is,r.memoizedState.cache)}return ra(r,l,c)}function Z4(r,l,c){if(r!==null)if(r.memoizedProps!==l.pendingProps)Zs=!0;else{if(!Hi(r,c)&&(l.flags&128)===0)return Zs=!1,bh(r,l,c);Zs=(r.flags&131072)!==0}else Zs=!1,Hr&&(l.flags&1048576)!==0&&oc(l,X0,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(r=we(l.elementType),l.type=r,typeof r=="function")ic(r)?(p=fu(r,p),l.tag=1,l=K4(null,l,r,p,c)):(l.tag=0,l=$h(null,l,r,p,c));else{if(r!=null){var T=r.$$typeof;if(T===Be){l.tag=11,l=ta(null,l,r,p,c);break e}else if(T===Ve){l.tag=14,l=pt(null,l,r,p,c);break e}}throw l=kt(r)||r,Error(a(306,l,""))}}return l;case 0:return $h(r,l,l.type,l.pendingProps,c);case 1:return p=l.type,T=fu(p,l.pendingProps),K4(r,l,p,T,c);case 3:e:{if(hr(l,l.stateNode.containerInfo),r===null)throw Error(a(387));p=l.pendingProps;var A=l.memoizedState;T=A.element,gs(r,l),ui(l,p,null,c);var X=l.memoizedState;if(p=X.cache,_0(l,is,p),p!==A.cache&&Qo(l,[is],c,!0),Mi(),p=X.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:X.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=v1(r,l,p,c);break e}else if(p!==T){T=Jo(Error(a(424)),l),Ra(T),l=v1(r,l,p,c);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Wi=Fo(r.firstChild),es=l,Hr=!0,T0=null,zs=!0,c=ai(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(i0(),p===T){l=ra(r,l,c);break e}wo(r,l,p,c)}l=l.child}return l;case 26:return $1(r,l),r===null?(c=Lc(l.type,null,l.pendingProps,null))?l.memoizedState=c:Hr||(c=l.type,r=l.pendingProps,p=o0(sn.current).createElement(c),p[j]=l,p[_e]=r,vo(p,c,r),cr(p),l.stateNode=p):l.memoizedState=Lc(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return an(l),r===null&&Hr&&(p=l.stateNode=pa(l.type,l.pendingProps,sn.current),es=l,zs=!0,T=Wi,Cu(l.type)?(y2=T,Wi=Fo(p.firstChild)):Wi=T),wo(r,l,l.pendingProps.children,c),$1(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Hr&&((T=p=Wi)&&(p=Wl(p,l.type,l.pendingProps,zs),p!==null?(l.stateNode=p,es=l,Wi=Fo(p.firstChild),zs=!1,T=!0):T=!1),T||r0(l)),an(l),T=l.type,A=l.pendingProps,X=r!==null?r.memoizedProps:null,p=A.children,$2(T,A)?p=null:X!==null&&$2(T,X)&&(l.flags|=32),l.memoizedState!==null&&(T=r1(r,l,h3,null,null,c),P1._currentValue=T),$1(r,l),wo(r,l,p,c),l.child;case 6:return r===null&&Hr&&((r=c=Wi)&&(c=Ni(c,l.pendingProps,zs),c!==null?(l.stateNode=c,es=l,Wi=null,r=!0):r=!1),r||r0(l)),null;case 13:return s0(r,l,c);case 4:return hr(l,l.stateNode.containerInfo),p=l.pendingProps,r===null?l.child=Tr(l,null,p,c):wo(r,l,p,c),l.child;case 11:return ta(r,l,l.type,l.pendingProps,c);case 7:return wo(r,l,l.pendingProps,c),l.child;case 8:return wo(r,l,l.pendingProps.children,c),l.child;case 12:return wo(r,l,l.pendingProps.children,c),l.child;case 10:return p=l.pendingProps,_0(l,l.type,p.value),wo(r,l,p.children,c),l.child;case 9:return T=l.type._context,p=l.pendingProps.children,el(l),T=Js(T),p=p(T),l.flags|=1,wo(r,l,p,c),l.child;case 14:return pt(r,l,l.type,l.pendingProps,c);case 15:return X4(r,l,l.type,l.pendingProps,c);case 19:return So(r,l,c);case 31:return gh(r,l,c);case 22:return j4(r,l,c,l.pendingProps);case 24:return el(l),p=Js(is),r===null?(T=dl(),T===null&&(T=Ri,A=hc(),T.pooledCache=A,A.refCount++,A!==null&&(T.pooledCacheLanes|=c),T=A),l.memoizedState={parent:p,cache:T},zi(l),_0(l,is,T)):((r.lanes&c)!==0&&(gs(r,l),ui(l,null,null,c),Mi()),T=r.memoizedState,A=l.memoizedState,T.parent!==p?(T={parent:p,cache:p},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),_0(l,is,p)):(p=A.cache,_0(l,is,p),p!==T.cache&&Qo(l,[is],c,!0))),wo(r,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function ia(r){r.flags|=4}function vc(r,l,c,p,T){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(T&335544128)===T)if(r.stateNode.complete)r.flags|=8192;else if(yu())r.flags|=8192;else throw Ue=G,S}else r.flags&=-16777217}function Q4(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Yi(l))if(yu())r.flags|=8192;else throw Ue=G,S}function Hs(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?dn():536870912,r.lanes|=l,_c|=l)}function sa(r,l){if(!Hr)switch(r.tailMode){case"hidden":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function mi(r){var l=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(l)for(var T=r.child;T!==null;)c|=T.lanes|T.childLanes,p|=T.subtreeFlags&65011712,p|=T.flags&65011712,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)c|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=p,r.childLanes=c,l}function e2(r,l,c){var p=l.pendingProps;switch(Fl(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(l),null;case 1:return mi(l),null;case 3:return c=l.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ul(is),Yn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ma(l)?ia(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Kc())),mi(l),null;case 26:var T=l.type,A=l.memoizedState;return r===null?(ia(l),A!==null?(mi(l),Q4(l,A)):(mi(l),vc(l,T,null,p,c))):A?A!==r.memoizedState?(ia(l),mi(l),Q4(l,A)):(mi(l),l.flags&=-16777217):(r=r.memoizedProps,r!==p&&ia(l),mi(l),vc(l,T,r,p,c)),null;case 27:if(Xn(l),c=sn.current,T=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&ia(l);else{if(!p){if(l.stateNode===null)throw Error(a(166));return mi(l),null}r=Jt.current,Ma(l)?ih(l):(r=pa(T,p,c),l.stateNode=r,ia(l))}return mi(l),null;case 5:if(Xn(l),T=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&ia(l);else{if(!p){if(l.stateNode===null)throw Error(a(166));return mi(l),null}if(A=Jt.current,Ma(l))ih(l);else{var X=o0(sn.current);switch(A){case 1:A=X.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:A=X.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":A=X.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":A=X.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":A=X.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof p.is=="string"?X.createElement("select",{is:p.is}):X.createElement("select"),p.multiple?A.multiple=!0:p.size&&(A.size=p.size);break;default:A=typeof p.is=="string"?X.createElement(T,{is:p.is}):X.createElement(T)}}A[j]=l,A[_e]=p;e:for(X=l.child;X!==null;){if(X.tag===5||X.tag===6)A.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===l)break e;for(;X.sibling===null;){if(X.return===null||X.return===l)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}l.stateNode=A;e:switch(vo(A,T,p),T){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ia(l)}}return mi(l),vc(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,c),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==p&&ia(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(a(166));if(r=sn.current,Ma(l)){if(r=l.stateNode,c=l.memoizedProps,p=null,T=es,T!==null)switch(T.tag){case 27:case 5:p=T.memoizedProps}r[j]=l,r=!!(r.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||Dh(r.nodeValue,c)),r||r0(l,!0)}else r=o0(r).createTextNode(p),r[j]=l,l.stateNode=r}return mi(l),null;case 31:if(c=l.memoizedState,r===null||r.memoizedState!==null){if(p=Ma(l),c!==null){if(r===null){if(!p)throw Error(a(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[j]=l}else i0(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mi(l),r=!1}else c=Kc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return l.flags&256?(qo(l),l):(qo(l),null);if((l.flags&128)!==0)throw Error(a(558))}return mi(l),null;case 13:if(p=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(T=Ma(l),p!==null&&p.dehydrated!==null){if(r===null){if(!T)throw Error(a(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(a(317));T[j]=l}else i0(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mi(l),T=!1}else T=Kc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(qo(l),l):(qo(l),null)}return qo(l),(l.flags&128)!==0?(l.lanes=c,l):(c=p!==null,r=r!==null&&r.memoizedState!==null,c&&(p=l.child,T=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(T=p.alternate.memoizedState.cachePool.pool),A=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==T&&(p.flags|=2048)),c!==r&&c&&(l.child.flags|=8192),Hs(l,l.updateQueue),mi(l),null);case 4:return Yn(),r===null&&Kd(l.stateNode.containerInfo),mi(l),null;case 10:return Ul(l.type),mi(l),null;case 19:if(ct(Us),p=l.memoizedState,p===null)return mi(l),null;if(T=(l.flags&128)!==0,A=p.rendering,A===null)if(T)sa(p,!1);else{if(Ls!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(A=lh(r),A!==null){for(l.flags|=128,sa(p,!1),r=A.updateQueue,l.updateQueue=r,Hs(l,r),l.subtreeFlags=0,r=c,c=l.child;c!==null;)Zh(c,r),c=c.sibling;return Se(Us,Us.current&1|2),Hr&&No(l,p.treeForkCount),l.child}r=r.sibling}p.tail!==null&&Vn()>wh&&(l.flags|=128,T=!0,sa(p,!1),l.lanes=4194304)}else{if(!T)if(r=lh(A),r!==null){if(l.flags|=128,T=!0,r=r.updateQueue,l.updateQueue=r,Hs(l,r),sa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!A.alternate&&!Hr)return mi(l),null}else 2*Vn()-p.renderingStartTime>wh&&c!==536870912&&(l.flags|=128,T=!0,sa(p,!1),l.lanes=4194304);p.isBackwards?(A.sibling=l.child,l.child=A):(r=p.last,r!==null?r.sibling=A:l.child=A,p.last=A)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Vn(),r.sibling=null,c=Us.current,Se(Us,T?c&1|2:c&1),Hr&&No(l,p.treeForkCount),r):(mi(l),null);case 22:case 23:return qo(l),x0(),p=l.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(c&536870912)!==0&&(l.flags&128)===0&&(mi(l),l.subtreeFlags&6&&(l.flags|=8192)):mi(l),c=l.updateQueue,c!==null&&Hs(l,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==c&&(l.flags|=2048),r!==null&&ct(Ii),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Ul(is),mi(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function t2(r,l){switch(Fl(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Ul(is),Yn(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Xn(l),null;case 31:if(l.memoizedState!==null){if(qo(l),l.alternate===null)throw Error(a(340));i0()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(qo(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(a(340));i0()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return ct(Us),null;case 4:return Yn(),null;case 10:return Ul(l.type),null;case 22:case 23:return qo(l),x0(),r!==null&&ct(Ii),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Ul(is),null;case 25:return null;default:return null}}function n2(r,l){switch(Fl(l),l.tag){case 3:Ul(is),Yn();break;case 26:case 27:case 5:Xn(l);break;case 4:Yn();break;case 31:l.memoizedState!==null&&qo(l);break;case 13:qo(l);break;case 19:ct(Us);break;case 10:Ul(l.type);break;case 22:case 23:qo(l),x0(),r!==null&&ct(Ii);break;case 24:Ul(is)}}function Gl(r,l){try{var c=l.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var T=p.next;c=T;do{if((c.tag&r)===r){p=void 0;var A=c.create,X=c.inst;p=A(),X.destroy=p}c=c.next}while(c!==T)}}catch(de){gi(l,l.return,de)}}function Ei(r,l,c){try{var p=l.updateQueue,T=p!==null?p.lastEffect:null;if(T!==null){var A=T.next;p=A;do{if((p.tag&r)===r){var X=p.inst,de=X.destroy;if(de!==void 0){X.destroy=void 0,T=l;var Ge=c,gt=de;try{gt()}catch(zt){gi(T,Ge,zt)}}}p=p.next}while(p!==A)}}catch(zt){gi(l,l.return,zt)}}function Cd(r){var l=r.updateQueue;if(l!==null){var c=r.stateNode;try{go(l,c)}catch(p){gi(r,r.return,p)}}}function kd(r,l,c){c.props=fu(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(p){gi(r,l,p)}}function bc(r,l){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof c=="function"?r.refCleanup=c(p):c.current=p}}catch(T){gi(r,l,T)}}function Vt(r,l){var c=r.ref,p=r.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(T){gi(r,l,T)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(T){gi(r,l,T)}else c.current=null}function ut(r){var l=r.type,c=r.memoizedProps,p=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(T){gi(r,r.return,T)}}function $r(r,l,c){try{var p=r.stateNode;Zd(p,r.type,c,l),p[_e]=l}catch(T){gi(r,r.return,T)}}function _r(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Cu(r.type)||r.tag===4}function Ad(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_r(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Cu(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function oa(r,l,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(r),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=nn));else if(p!==4&&(p===27&&Cu(r.type)&&(c=r.stateNode,l=null),r=r.child,r!==null))for(oa(r,l,c),r=r.sibling;r!==null;)oa(r,l,c),r=r.sibling}function yh(r,l,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?c.insertBefore(r,l):c.appendChild(r);else if(p!==4&&(p===27&&Cu(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(yh(r,l,c),r=r.sibling;r!==null;)yh(r,l,c),r=r.sibling}function r2(r){var l=r.stateNode,c=r.memoizedProps;try{for(var p=r.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);vo(l,p,c),l[j]=r,l[_e]=c}catch(A){gi(r,r.return,A)}}var za=!1,us=!1,Cs=!1,Th=typeof WeakSet=="function"?WeakSet:Set,so=null;function Id(r,l){if(r=r.containerInfo,Ac=F1,r=li(r),Kr(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var T=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{c.nodeType,A.nodeType}catch{c=null;break e}var X=0,de=-1,Ge=-1,gt=0,zt=0,Xt=r,wt=null;t:for(;;){for(var Mt;Xt!==c||T!==0&&Xt.nodeType!==3||(de=X+T),Xt!==A||p!==0&&Xt.nodeType!==3||(Ge=X+p),Xt.nodeType===3&&(X+=Xt.nodeValue.length),(Mt=Xt.firstChild)!==null;)wt=Xt,Xt=Mt;for(;;){if(Xt===r)break t;if(wt===c&&++gt===T&&(de=X),wt===A&&++zt===p&&(Ge=X),(Mt=Xt.nextSibling)!==null)break;Xt=wt,wt=Xt.parentNode}Xt=Mt}c=de===-1||Ge===-1?null:{start:de,end:Ge}}else c=null}c=c||{start:0,end:0}}else c=null;for(M1={focusedElem:r,selectionRange:c},F1=!1,so=l;so!==null;)if(l=so,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,so=r;else for(;so!==null;){switch(l=so,A=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)T=r[c],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&A!==null){r=void 0,c=l,T=A.memoizedProps,A=A.memoizedState,p=c.stateNode;try{var xn=fu(c.type,T);r=p.getSnapshotBeforeUpdate(xn,A),p.__reactInternalSnapshotBeforeUpdate=r}catch(nr){gi(c,c.return,nr)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,c=r.nodeType,c===9)t4(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":t4(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=l.sibling,r!==null){r.return=l.return,so=r;break}so=l.return}}function b1(r,l,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:la(r,c),p&4&&Gl(5,c);break;case 1:if(la(r,c),p&4)if(r=c.stateNode,l===null)try{r.componentDidMount()}catch(X){gi(c,c.return,X)}else{var T=fu(c.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(T,l,r.__reactInternalSnapshotBeforeUpdate)}catch(X){gi(c,c.return,X)}}p&64&&Cd(c),p&512&&bc(c,c.return);break;case 3:if(la(r,c),p&64&&(r=c.updateQueue,r!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{go(r,l)}catch(X){gi(c,c.return,X)}}break;case 27:l===null&&p&4&&r2(c);case 26:case 5:la(r,c),l===null&&p&4&&ut(c),p&512&&bc(c,c.return);break;case 12:la(r,c);break;case 31:la(r,c),p&4&&i2(r,c);break;case 13:la(r,c),p&4&&Er(r,c),p&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=_3.bind(null,c),n4(r,c))));break;case 22:if(p=c.memoizedState!==null||za,!p){l=l!==null&&l.memoizedState!==null||us,T=za;var A=us;za=p,(us=l)&&!A?aa(r,c,(c.subtreeFlags&8772)!==0):la(r,c),za=T,us=A}break;case 30:break;default:la(r,c)}}function y1(r){var l=r.alternate;l!==null&&(r.alternate=null,y1(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Rt(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ys=null,ml=!1;function gl(r,l,c){for(c=c.child;c!==null;)Md(r,l,c),c=c.sibling}function Md(r,l,c){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(O,c)}catch{}switch(c.tag){case 26:us||Vt(c,l),gl(r,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:us||Vt(c,l);var p=ys,T=ml;Cu(c.type)&&(ys=c.stateNode,ml=!1),gl(r,l,c),ts(c.stateNode),ys=p,ml=T;break;case 5:us||Vt(c,l);case 6:if(p=ys,T=ml,ys=null,gl(r,l,c),ys=p,ml=T,ys!==null)if(ml)try{(ys.nodeType===9?ys.body:ys.nodeName==="HTML"?ys.ownerDocument.body:ys).removeChild(c.stateNode)}catch(A){gi(c,l,A)}else try{ys.removeChild(c.stateNode)}catch(A){gi(c,l,A)}break;case 18:ys!==null&&(ml?(r=ys,Ph(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Bc(r)):Ph(ys,c.stateNode));break;case 4:p=ys,T=ml,ys=c.stateNode.containerInfo,ml=!0,gl(r,l,c),ys=p,ml=T;break;case 0:case 11:case 14:case 15:Ei(2,c,l),us||Ei(4,c,l),gl(r,l,c);break;case 1:us||(Vt(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"&&kd(c,l,p)),gl(r,l,c);break;case 21:gl(r,l,c);break;case 22:us=(p=us)||c.memoizedState!==null,gl(r,l,c),us=p;break;default:gl(r,l,c)}}function i2(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Bc(r)}catch(c){gi(l,l.return,c)}}}function Er(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bc(r)}catch(c){gi(l,l.return,c)}}function b3(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new Th),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new Th),l;default:throw Error(a(435,r.tag))}}function A0(r,l){var c=b3(r);l.forEach(function(p){if(!c.has(p)){c.add(p);var T=E3.bind(null,r,p);p.then(T,T)}})}function Gs(r,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var T=c[p],A=r,X=l,de=X;e:for(;de!==null;){switch(de.tag){case 27:if(Cu(de.type)){ys=de.stateNode,ml=!1;break e}break;case 5:ys=de.stateNode,ml=!1;break e;case 3:case 4:ys=de.stateNode.containerInfo,ml=!0;break e}de=de.return}if(ys===null)throw Error(a(160));Md(A,X,T),ys=null,ml=!1,A=T.alternate,A!==null&&(A.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ua(l,r),l=l.sibling}var Xo=null;function Ua(r,l){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gs(l,r),oo(r),p&4&&(Ei(3,r,r.return),Gl(3,r),Ei(5,r,r.return));break;case 1:Gs(l,r),oo(r),p&512&&(us||c===null||Vt(c,c.return)),p&64&&za&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var T=Xo;if(Gs(l,r),oo(r),p&512&&(us||c===null||Vt(c,c.return)),p&4){var A=c!==null?c.memoizedState:null;if(p=r.memoizedState,c===null)if(p===null)if(r.stateNode===null){e:{p=r.type,c=r.memoizedProps,T=T.ownerDocument||T;t:switch(p){case"title":A=T.getElementsByTagName("title")[0],(!A||A[Q]||A[j]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=T.createElement(p),T.head.insertBefore(A,T.querySelector("head > title"))),vo(A,p,c),A[j]=r,cr(A),p=A;break e;case"link":var X=S2("link","href",T).get(p+(c.href||""));if(X){for(var de=0;de<X.length;de++)if(A=X[de],A.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&A.getAttribute("rel")===(c.rel==null?null:c.rel)&&A.getAttribute("title")===(c.title==null?null:c.title)&&A.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){X.splice(de,1);break t}}A=T.createElement(p),vo(A,p,c),T.head.appendChild(A);break;case"meta":if(X=S2("meta","content",T).get(p+(c.content||""))){for(de=0;de<X.length;de++)if(A=X[de],A.getAttribute("content")===(c.content==null?null:""+c.content)&&A.getAttribute("name")===(c.name==null?null:c.name)&&A.getAttribute("property")===(c.property==null?null:c.property)&&A.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&A.getAttribute("charset")===(c.charSet==null?null:c.charSet)){X.splice(de,1);break t}}A=T.createElement(p),vo(A,p,c),T.head.appendChild(A);break;default:throw Error(a(468,p))}A[j]=r,cr(A),p=A}r.stateNode=p}else r4(T,r.type,r.stateNode);else r.stateNode=O1(T,p,r.memoizedProps);else A!==p?(A===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):A.count--,p===null?r4(T,r.type,r.stateNode):O1(T,p,r.memoizedProps)):p===null&&r.stateNode!==null&&$r(r,r.memoizedProps,c.memoizedProps)}break;case 27:Gs(l,r),oo(r),p&512&&(us||c===null||Vt(c,c.return)),c!==null&&p&4&&$r(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Gs(l,r),oo(r),p&512&&(us||c===null||Vt(c,c.return)),r.flags&32){T=r.stateNode;try{ae(T,"")}catch(xn){gi(r,r.return,xn)}}p&4&&r.stateNode!=null&&(T=r.memoizedProps,$r(r,T,c!==null?c.memoizedProps:T)),p&1024&&(Cs=!0);break;case 6:if(Gs(l,r),oo(r),p&4){if(r.stateNode===null)throw Error(a(162));p=r.memoizedProps,c=r.stateNode;try{c.nodeValue=p}catch(xn){gi(r,r.return,xn)}}break;case 3:if(Fh=null,T=Xo,Xo=ja(l.containerInfo),Gs(l,r),Xo=T,oo(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Bc(l.containerInfo)}catch(xn){gi(r,r.return,xn)}Cs&&(Cs=!1,jo(r));break;case 4:p=Xo,Xo=ja(r.stateNode.containerInfo),Gs(l,r),oo(r),Xo=p;break;case 12:Gs(l,r),oo(r);break;case 31:Gs(l,r),oo(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,A0(r,p)));break;case 13:Gs(l,r),oo(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Eh=Vn()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,A0(r,p)));break;case 22:T=r.memoizedState!==null;var Ge=c!==null&&c.memoizedState!==null,gt=za,zt=us;if(za=gt||T,us=zt||Ge,Gs(l,r),us=zt,za=gt,oo(r),p&8192)e:for(l=r.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(c===null||Ge||za||us||mu(r)),c=null,l=r;;){if(l.tag===5||l.tag===26){if(c===null){Ge=c=l;try{if(A=Ge.stateNode,T)X=A.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{de=Ge.stateNode;var Xt=Ge.memoizedProps.style,wt=Xt!=null&&Xt.hasOwnProperty("display")?Xt.display:null;de.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(xn){gi(Ge,Ge.return,xn)}}}else if(l.tag===6){if(c===null){Ge=l;try{Ge.stateNode.nodeValue=T?"":Ge.memoizedProps}catch(xn){gi(Ge,Ge.return,xn)}}}else if(l.tag===18){if(c===null){Ge=l;try{var Mt=Ge.stateNode;T?N0(Mt,!0):N0(Ge.stateNode,!1)}catch(xn){gi(Ge,Ge.return,xn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=r.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,A0(r,c))));break;case 19:Gs(l,r),oo(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,A0(r,p)));break;case 30:break;case 21:break;default:Gs(l,r),oo(r)}}function oo(r){var l=r.flags;if(l&2){try{for(var c,p=r.return;p!==null;){if(_r(p)){c=p;break}p=p.return}if(c==null)throw Error(a(160));switch(c.tag){case 27:var T=c.stateNode,A=Ad(r);yh(r,A,T);break;case 5:var X=c.stateNode;c.flags&32&&(ae(X,""),c.flags&=-33);var de=Ad(r);yh(r,de,X);break;case 3:case 4:var Ge=c.stateNode.containerInfo,gt=Ad(r);oa(r,gt,Ge);break;default:throw Error(a(161))}}catch(zt){gi(r,r.return,zt)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function jo(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;jo(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function la(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)b1(r,l.alternate,l),l=l.sibling}function mu(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Ei(4,l,l.return),mu(l);break;case 1:Vt(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&kd(l,l.return,c),mu(l);break;case 27:ts(l.stateNode);case 26:case 5:Vt(l,l.return),mu(l);break;case 22:l.memoizedState===null&&mu(l);break;case 30:mu(l);break;default:mu(l)}r=r.sibling}}function aa(r,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,T=r,A=l,X=A.flags;switch(A.tag){case 0:case 11:case 15:aa(T,A,c),Gl(4,A);break;case 1:if(aa(T,A,c),p=A,T=p.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(gt){gi(p,p.return,gt)}if(p=A,T=p.updateQueue,T!==null){var de=p.stateNode;try{var Ge=T.shared.hiddenCallbacks;if(Ge!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Ge.length;T++)qi(Ge[T],de)}catch(gt){gi(p,p.return,gt)}}c&&X&64&&Cd(A),bc(A,A.return);break;case 27:r2(A);case 26:case 5:aa(T,A,c),c&&p===null&&X&4&&ut(A),bc(A,A.return);break;case 12:aa(T,A,c);break;case 31:aa(T,A,c),c&&X&4&&i2(T,A);break;case 13:aa(T,A,c),c&&X&4&&Er(T,A);break;case 22:A.memoizedState===null&&aa(T,A,c),bc(A,A.return);break;case 30:break;default:aa(T,A,c)}l=l.sibling}}function Rd(r,l){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&w0(c))}function Od(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&w0(r))}function I0(r,l,c,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Nd(r,l,c,p),l=l.sibling}function Nd(r,l,c,p){var T=l.flags;switch(l.tag){case 0:case 11:case 15:I0(r,l,c,p),T&2048&&Gl(9,l);break;case 1:I0(r,l,c,p);break;case 3:I0(r,l,c,p),T&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&w0(r)));break;case 12:if(T&2048){I0(r,l,c,p),r=l.stateNode;try{var A=l.memoizedProps,X=A.id,de=A.onPostCommit;typeof de=="function"&&de(X,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Ge){gi(l,l.return,Ge)}}else I0(r,l,c,p);break;case 31:I0(r,l,c,p);break;case 13:I0(r,l,c,p);break;case 23:break;case 22:A=l.stateNode,X=l.alternate,l.memoizedState!==null?A._visibility&2?I0(r,l,c,p):gu(r,l):A._visibility&2?I0(r,l,c,p):(A._visibility|=2,yc(r,l,c,p,(l.subtreeFlags&10256)!==0||!1)),T&2048&&Rd(X,l);break;case 24:I0(r,l,c,p),T&2048&&Od(l.alternate,l);break;default:I0(r,l,c,p)}}function yc(r,l,c,p,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var A=r,X=l,de=c,Ge=p,gt=X.flags;switch(X.tag){case 0:case 11:case 15:yc(A,X,de,Ge,T),Gl(8,X);break;case 23:break;case 22:var zt=X.stateNode;X.memoizedState!==null?zt._visibility&2?yc(A,X,de,Ge,T):gu(A,X):(zt._visibility|=2,yc(A,X,de,Ge,T)),T&&gt&2048&&Rd(X.alternate,X);break;case 24:yc(A,X,de,Ge,T),T&&gt&2048&&Od(X.alternate,X);break;default:yc(A,X,de,Ge,T)}l=l.sibling}}function gu(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=r,p=l,T=p.flags;switch(p.tag){case 22:gu(c,p),T&2048&&Rd(p.alternate,p);break;case 24:gu(c,p),T&2048&&Od(p.alternate,p);break;default:gu(c,p)}l=l.sibling}}var Tc=8192;function Ha(r,l,c){if(r.subtreeFlags&Tc)for(r=r.child;r!==null;)Ld(r,l,c),r=r.sibling}function Ld(r,l,c){switch(r.tag){case 26:Ha(r,l,c),r.flags&Tc&&r.memoizedState!==null&&I3(c,Xo,r.memoizedState,r.memoizedProps);break;case 5:Ha(r,l,c);break;case 3:case 4:var p=Xo;Xo=ja(r.stateNode.containerInfo),Ha(r,l,c),Xo=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Tc,Tc=16777216,Ha(r,l,c),Tc=p):Ha(r,l,c));break;default:Ha(r,l,c)}}function y3(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function _h(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];so=p,T1(p,r)}y3(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$l(r),r=r.sibling}function $l(r){switch(r.tag){case 0:case 11:case 15:_h(r),r.flags&2048&&Ei(9,r,r.return);break;case 3:_h(r);break;case 12:_h(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Ts(r)):_h(r);break;default:_h(r)}}function Ts(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];so=p,T1(p,r)}y3(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Ei(8,l,l.return),Ts(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Ts(l));break;default:Ts(l)}r=r.sibling}}function T1(r,l){for(;so!==null;){var c=so;switch(c.tag){case 0:case 11:case 15:Ei(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:w0(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,so=p;else e:for(c=r;so!==null;){p=so;var T=p.sibling,A=p.return;if(y1(p),p===c){so=null;break e}if(T!==null){T.return=A,so=T;break e}so=A}}}var Dd={getCacheForType:function(r){var l=Js(is),c=l.data.get(r);return c===void 0&&(c=r(),l.data.set(r,c)),c},cacheSignal:function(){return Js(is).controller.signal}},s2=typeof WeakMap=="function"?WeakMap:Map,wi=0,Ri=null,Fr=null,fr=0,Xi=0,Yo=null,ua=!1,$u=!1,vu=!1,M0=0,Ls=0,R0=0,Ga=0,Bd=0,Do=0,_c=0,_1=null,lo=null,Pd=!1,Eh=0,o2=0,wh=1/0,Sh=null,Va=null,ao=0,Wa=null,vl=null,ca=0,Fd=0,xh=null,zd=null,E1=0,ks=null;function xo(){return(wi&2)!==0&&fr!==0?fr&-fr:Ze.T!==null?_l():_()}function l2(){if(Do===0)if((fr&536870912)===0||Hr){var r=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),Do=r}else Do=536870912;return r=nl.current,r!==null&&(r.flags|=32),Do}function Co(r,l,c){(r===Ri&&(Xi===2||Xi===9)||r.cancelPendingCommit!==null)&&(_s(r,0),bl(r,fr,Do,!1)),Sr(r,c),((wi&2)===0||r!==Ri)&&(r===Ri&&((wi&2)===0&&(Ga|=c),Ls===4&&bl(r,fr,Do,!1)),O0(r))}function a2(r,l,c){if((wi&6)!==0)throw Error(a(327));var p=!c&&(l&127)===0&&(l&r.expiredLanes)===0||Qe(r,l),T=p?Hd(r,l):Ud(r,l,!0),A=p;do{if(T===0){$u&&!p&&bl(r,l,0,!1);break}else{if(c=r.current.alternate,A&&!T3(c)){T=Ud(r,l,!1),A=!1;continue}if(T===2){if(A=l,r.errorRecoveryDisabledLanes&A)var X=0;else X=r.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){l=X;e:{var de=r;T=_1;var Ge=de.current.memoizedState.isDehydrated;if(Ge&&(_s(de,X).flags|=256),X=Ud(de,X,!1),X!==2){if(vu&&!Ge){de.errorRecoveryDisabledLanes|=A,Ga|=A,T=4;break e}A=lo,lo=T,A!==null&&(lo===null?lo=A:lo.push.apply(lo,A))}T=X}if(A=!1,T!==2)continue}}if(T===1){_s(r,0),bl(r,l,0,!0);break}e:{switch(p=r,A=T,A){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:bl(p,l,Do,!ua);break e;case 2:lo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(T=Eh+300-Vn(),10<T)){if(bl(p,l,Do,!ua),Pe(p,0,!0)!==0)break e;ca=l,p.timeoutHandle=b2(u2.bind(null,p,c,lo,Sh,Pd,l,Do,Ga,_c,ua,A,"Throttled",-0,0),T);break e}u2(p,c,lo,Sh,Pd,l,Do,Ga,_c,ua,A,null,-0,0)}}break}while(!0);O0(r)}function u2(r,l,c,p,T,A,X,de,Ge,gt,zt,Xt,wt,Mt){if(r.timeoutHandle=-1,Xt=l.subtreeFlags,Xt&8192||(Xt&16785408)===16785408){Xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},Ld(l,A,Xt);var xn=(A&62914560)===A?Eh-Vn():(A&4194048)===A?o2-Vn():0;if(xn=D1(Xt,xn),xn!==null){ca=A,r.cancelPendingCommit=xn(_u.bind(null,r,l,A,c,p,T,X,de,Ge,zt,Xt,null,wt,Mt)),bl(r,A,X,!gt);return}}_u(r,l,A,c,p,T,X,de,Ge)}function T3(r){for(var l=r;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var T=c[p],A=T.getSnapshot;T=T.value;try{if(!en(A(),T))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bl(r,l,c,p){l&=~Bd,l&=~Ga,r.suspendedLanes|=l,r.pingedLanes&=~l,p&&(r.warmLanes|=l),p=r.expirationTimes;for(var T=l;0<T;){var A=31-Me(T),X=1<<A;p[A]=-1,T&=~X}c!==0&&yo(r,c,l)}function Ch(){return(wi&6)===0?(C1(0),!1):!0}function Ec(){if(Fr!==null){if(Xi===0)var r=Fr.return;else r=Fr,zl=j0=null,pc(r),_t=null,Yt=0,r=Fr;for(;r!==null;)n2(r.alternate,r),r=r.return;Fr=null}}function _s(r,l){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,e4(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),ca=0,Ec(),Ri=r,Fr=c=Bl(r.current,null),fr=l,Xi=0,Yo=null,ua=!1,$u=Qe(r,l),vu=!1,_c=Do=Bd=Ga=R0=Ls=0,lo=_1=null,Pd=!1,(l&8)!==0&&(l|=l&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=l;0<p;){var T=31-Me(p),A=1<<T;l|=r[T],p&=~A}return M0=l,e0(),c}function bu(r,l){Cr=null,Ze.H=$c,l===$||l===N?(l=rt(),Xi=3):l===S?(l=rt(),Xi=4):Xi=l===q4?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Yo=l,Fr===null&&(Ls=1,mh(r,Jo(l,r.current)))}function yu(){var r=nl.current;return r===null?!0:(fr&4194048)===fr?fl===null:(fr&62914560)===fr||(fr&536870912)!==0?r===fl:!1}function kh(){var r=Ze.H;return Ze.H=$c,r===null?$c:r}function Ah(){var r=Ze.A;return Ze.A=Dd,r}function Ih(){Ls=4,ua||(fr&4194048)!==fr&&nl.current!==null||($u=!0),(R0&134217727)===0&&(Ga&134217727)===0||Ri===null||bl(Ri,fr,Do,!1)}function Ud(r,l,c){var p=wi;wi|=2;var T=kh(),A=Ah();(Ri!==r||fr!==l)&&(Sh=null,_s(r,l)),l=!1;var X=Ls;e:do try{if(Xi!==0&&Fr!==null){var de=Fr,Ge=Yo;switch(Xi){case 8:Ec(),X=6;break e;case 3:case 2:case 9:case 6:nl.current===null&&(l=!0);var gt=Xi;if(Xi=0,Yo=null,wc(r,de,Ge,gt),c&&$u){X=0;break e}break;default:gt=Xi,Xi=0,Yo=null,wc(r,de,Ge,gt)}}c2(),X=Ls;break}catch(zt){bu(r,zt)}while(!0);return l&&r.shellSuspendCounter++,zl=j0=null,wi=p,Ze.H=T,Ze.A=A,Fr===null&&(Ri=null,fr=0,e0()),X}function c2(){for(;Fr!==null;)Tu(Fr)}function Hd(r,l){var c=wi;wi|=2;var p=kh(),T=Ah();Ri!==r||fr!==l?(Sh=null,wh=Vn()+500,_s(r,l)):$u=Qe(r,l);e:do try{if(Xi!==0&&Fr!==null){l=Fr;var A=Yo;t:switch(Xi){case 1:Xi=0,Yo=null,wc(r,l,A,1);break;case 2:case 9:if(K(A)){Xi=0,Yo=null,d2(l);break}l=function(){Xi!==2&&Xi!==9||Ri!==r||(Xi=7),O0(r)},A.then(l,l);break e;case 3:Xi=7;break e;case 4:Xi=5;break e;case 7:K(A)?(Xi=0,Yo=null,d2(l)):(Xi=0,Yo=null,wc(r,l,A,7));break;case 5:var X=null;switch(Fr.tag){case 26:X=Fr.memoizedState;case 5:case 27:var de=Fr;if(X?Yi(X):de.stateNode.complete){Xi=0,Yo=null;var Ge=de.sibling;if(Ge!==null)Fr=Ge;else{var gt=de.return;gt!==null?(Fr=gt,cs(gt)):Fr=null}break t}}Xi=0,Yo=null,wc(r,l,A,5);break;case 6:Xi=0,Yo=null,wc(r,l,A,6);break;case 8:Ec(),Ls=6;break e;default:throw Error(a(462))}}h2();break}catch(zt){bu(r,zt)}while(!0);return zl=j0=null,Ze.H=p,Ze.A=T,wi=c,Fr!==null?0:(Ri=null,fr=0,e0(),Ls)}function h2(){for(;Fr!==null&&!vi();)Tu(Fr)}function Tu(r){var l=Z4(r.alternate,r,M0);r.memoizedProps=r.pendingProps,l===null?cs(r):Fr=l}function d2(r){var l=r,c=l.alternate;switch(l.tag){case 15:case 0:l=na(c,l,l.pendingProps,l.type,void 0,fr);break;case 11:l=na(c,l,l.pendingProps,l.type.render,l.ref,fr);break;case 5:pc(l);default:n2(c,l),l=Fr=Zh(l,M0),l=Z4(c,l,M0)}r.memoizedProps=r.pendingProps,l===null?cs(r):Fr=l}function wc(r,l,c,p){zl=j0=null,pc(l),_t=null,Yt=0;var T=l.return;try{if($3(r,T,l,c,fr)){Ls=1,mh(r,Jo(c,r.current)),Fr=null;return}}catch(A){if(T!==null)throw Fr=T,A;Ls=1,mh(r,Jo(c,r.current)),Fr=null;return}l.flags&32768?(Hr||p===1?r=!0:$u||(fr&536870912)!==0?r=!1:(ua=r=!0,(p===2||p===9||p===3||p===6)&&(p=nl.current,p!==null&&p.tag===13&&(p.flags|=16384))),w1(l,r)):cs(l)}function cs(r){var l=r;do{if((l.flags&32768)!==0){w1(l,ua);return}r=l.return;var c=e2(l.alternate,l,M0);if(c!==null){Fr=c;return}if(l=l.sibling,l!==null){Fr=l;return}Fr=l=r}while(l!==null);Ls===0&&(Ls=5)}function w1(r,l){do{var c=t2(r.alternate,r);if(c!==null){c.flags&=32767,Fr=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(r=r.sibling,r!==null)){Fr=r;return}Fr=r=c}while(r!==null);Ls=6,Fr=null}function _u(r,l,c,p,T,A,X,de,Ge){r.cancelPendingCommit=null;do Sc();while(ao!==0);if((wi&6)!==0)throw Error(a(327));if(l!==null){if(l===r.current)throw Error(a(177));if(A=l.lanes|l.childLanes,A|=mo,Al(r,c,A,X,de,Ge),r===Ri&&(Fr=Ri=null,fr=0),vl=l,Wa=r,ca=c,Fd=A,xh=T,zd=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Cc(Ne,function(){return Vd(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=Ze.T,Ze.T=null,T=vt.p,vt.p=2,X=wi,wi|=4;try{Id(r,l,c)}finally{wi=X,vt.p=T,Ze.T=p}}ao=1,Gd(),qa(),f2()}}function Gd(){if(ao===1){ao=0;var r=Wa,l=vl,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=Ze.T,Ze.T=null;var p=vt.p;vt.p=2;var T=wi;wi|=4;try{Ua(l,r);var A=M1,X=li(r.containerInfo),de=A.focusedElem,Ge=A.selectionRange;if(X!==de&&de&&de.ownerDocument&&Xr(de.ownerDocument.documentElement,de)){if(Ge!==null&&Kr(de)){var gt=Ge.start,zt=Ge.end;if(zt===void 0&&(zt=gt),"selectionStart"in de)de.selectionStart=gt,de.selectionEnd=Math.min(zt,de.value.length);else{var Xt=de.ownerDocument||document,wt=Xt&&Xt.defaultView||window;if(wt.getSelection){var Mt=wt.getSelection(),xn=de.textContent.length,nr=Math.min(Ge.start,xn),Si=Ge.end===void 0?nr:Math.min(Ge.end,xn);!Mt.extend&&nr>Si&&(X=Si,Si=nr,nr=X);var ot=or(de,nr),je=or(de,Si);if(ot&&je&&(Mt.rangeCount!==1||Mt.anchorNode!==ot.node||Mt.anchorOffset!==ot.offset||Mt.focusNode!==je.node||Mt.focusOffset!==je.offset)){var mt=Xt.createRange();mt.setStart(ot.node,ot.offset),Mt.removeAllRanges(),nr>Si?(Mt.addRange(mt),Mt.extend(je.node,je.offset)):(mt.setEnd(je.node,je.offset),Mt.addRange(mt))}}}}for(Xt=[],Mt=de;Mt=Mt.parentNode;)Mt.nodeType===1&&Xt.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<Xt.length;de++){var Ht=Xt[de];Ht.element.scrollLeft=Ht.left,Ht.element.scrollTop=Ht.top}}F1=!!Ac,M1=Ac=null}finally{wi=T,vt.p=p,Ze.T=c}}r.current=l,ao=2}}function qa(){if(ao===2){ao=0;var r=Wa,l=vl,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=Ze.T,Ze.T=null;var p=vt.p;vt.p=2;var T=wi;wi|=4;try{b1(r,l.alternate,l)}finally{wi=T,vt.p=p,Ze.T=c}}ao=3}}function f2(){if(ao===4||ao===3){ao=0,sr();var r=Wa,l=vl,c=ca,p=zd;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ao=5:(ao=0,vl=Wa=null,Mh(r,r.pendingLanes));var T=r.pendingLanes;if(T===0&&(Va=null),Kt(c),l=l.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(O,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=Ze.T,T=vt.p,vt.p=2,Ze.T=null;try{for(var A=r.onRecoverableError,X=0;X<p.length;X++){var de=p[X];A(de.value,{componentStack:de.stack})}}finally{Ze.T=l,vt.p=T}}(ca&3)!==0&&Sc(),O0(r),T=r.pendingLanes,(c&261930)!==0&&(T&42)!==0?r===ks?E1++:(E1=0,ks=r):E1=0,C1(0)}}function Mh(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,w0(l)))}function Sc(){return Gd(),qa(),f2(),Vd()}function Vd(){if(ao!==5)return!1;var r=Wa,l=Fd;Fd=0;var c=Kt(ca),p=Ze.T,T=vt.p;try{vt.p=32>c?32:c,Ze.T=null,c=xh,xh=null;var A=Wa,X=ca;if(ao=0,vl=Wa=null,ca=0,(wi&6)!==0)throw Error(a(331));var de=wi;if(wi|=4,$l(A.current),Nd(A,A.current,X,c),wi=de,C1(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(O,A)}catch{}return!0}finally{vt.p=T,Ze.T=p,Mh(r,l)}}function Bo(r,l,c){l=Jo(c,l),l=p1(r.stateNode,l,2),r=$s(r,l,2),r!==null&&(Sr(r,2),O0(r))}function gi(r,l,c){if(r.tag===3)Bo(r,r,c);else for(;l!==null;){if(l.tag===3){Bo(l,r,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Va===null||!Va.has(p))){r=Jo(c,r),c=W4(2),p=$s(l,c,2),p!==null&&(xd(c,p,l,r),Sr(p,2),O0(p));break}}l=l.return}}function S1(r,l,c){var p=r.pingCache;if(p===null){p=r.pingCache=new s2;var T=new Set;p.set(l,T)}else T=p.get(l),T===void 0&&(T=new Set,p.set(l,T));T.has(c)||(vu=!0,T.add(c),r=Rh.bind(null,r,l,c),l.then(r,r))}function Rh(r,l,c){var p=r.pingCache;p!==null&&p.delete(l),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Ri===r&&(fr&c)===c&&(Ls===4||Ls===3&&(fr&62914560)===fr&&300>Vn()-Eh?(wi&2)===0&&_s(r,0):Bd|=c,_c===fr&&(_c=0)),O0(r)}function xc(r,l){l===0&&(l=dn()),r=Ko(r,l),r!==null&&(Sr(r,l),O0(r))}function _3(r){var l=r.memoizedState,c=0;l!==null&&(c=l.retryLane),xc(r,c)}function E3(r,l){var c=0;switch(r.tag){case 31:case 13:var p=r.stateNode,T=r.memoizedState;T!==null&&(c=T.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(l),xc(r,c)}function Cc(r,l){return Zn(r,l)}var x1=null,Eu=null,yl=!1,wu=!1,Oh=!1,ha=0;function O0(r){r!==Eu&&r.next===null&&(Eu===null?x1=Eu=r:Eu=Eu.next=r),wu=!0,yl||(yl=!0,w3())}function C1(r,l){if(!Oh&&wu){Oh=!0;do for(var c=!1,p=x1;p!==null;){if(r!==0){var T=p.pendingLanes;if(T===0)var A=0;else{var X=p.suspendedLanes,de=p.pingedLanes;A=(1<<31-Me(42|r)+1)-1,A&=T&~(X&~de),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(c=!0,Xd(p,A))}else A=fr,A=Pe(p,p===Ri?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(A&3)===0||Qe(p,A)||(c=!0,Xd(p,A));p=p.next}while(c);Oh=!1}}function Wd(){Qs()}function Qs(){wu=yl=!1;var r=0;ha!==0&&v2()&&(r=ha);for(var l=Vn(),c=null,p=x1;p!==null;){var T=p.next,A=Tl(p,l);A===0?(p.next=null,c===null?x1=T:c.next=T,T===null&&(Eu=c)):(c=p,(r!==0||(A&3)!==0)&&(wu=!0)),p=T}ao!==0&&ao!==5||C1(r),ha!==0&&(ha=0)}function Tl(r,l){for(var c=r.suspendedLanes,p=r.pingedLanes,T=r.expirationTimes,A=r.pendingLanes&-62914561;0<A;){var X=31-Me(A),de=1<<X,Ge=T[X];Ge===-1?((de&c)===0||(de&p)!==0)&&(T[X]=Dt(de,l)):Ge<=l&&(r.expiredLanes|=de),A&=~de}if(l=Ri,c=fr,c=Pe(r,r===l?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,c===0||r===l&&(Xi===2||Xi===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&ss(p),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Qe(r,c)){if(l=c&-c,l===r.callbackPriority)return l;switch(p!==null&&ss(p),Kt(c)){case 2:case 8:c=Ce;break;case 32:c=Ne;break;case 268435456:c=Je;break;default:c=Ne}return p=qd.bind(null,r),c=Zn(c,p),r.callbackPriority=l,r.callbackNode=c,l}return p!==null&&p!==null&&ss(p),r.callbackPriority=2,r.callbackNode=null,2}function qd(r,l){if(ao!==0&&ao!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Sc()&&r.callbackNode!==c)return null;var p=fr;return p=Pe(r,r===Ri?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(a2(r,p,l),Tl(r,Vn()),r.callbackNode!=null&&r.callbackNode===c?qd.bind(null,r):null)}function Xd(r,l){if(Sc())return null;a2(r,l,!0)}function w3(){Ic(function(){(wi&6)!==0?Zn(ee,Wd):Qs()})}function _l(){if(ha===0){var r=Na;r===0&&(r=ds,ds<<=1,(ds&261888)===0&&(ds=256)),ha=r}return ha}function k1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wt(""+r)}function Oi(r,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,r.id&&c.setAttribute("form",r.id),l.parentNode.insertBefore(c,l),r=new FormData(r),c.parentNode.removeChild(c),r}function Vs(r,l,c,p,T){if(l==="submit"&&c&&c.stateNode===T){var A=k1((T[_e]||null).action),X=p.submitter;X&&(l=(l=X[_e]||null)?k1(l.formAction):X.getAttribute("formAction"),l!==null&&(A=l,X=null));var de=new co("action","action",null,p,T);r.push({event:de,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ha!==0){var Ge=X?Oi(T,X):new FormData(T);yt(c,{pending:!0,data:Ge,method:T.method,action:A},null,Ge)}}else typeof A=="function"&&(de.preventDefault(),Ge=X?Oi(T,X):new FormData(T),yt(c,{pending:!0,data:Ge,method:T.method,action:A},A,Ge))},currentTarget:T}]})}}for(var Su=0;Su<Ys.length;Su++){var jd=Ys[Su],Yd=jd.toLowerCase(),p2=jd[0].toUpperCase()+jd.slice(1);ls(Yd,"on"+p2)}ls(kr,"onAnimationEnd"),ls(os,"onAnimationIteration"),ls(ue,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(_i,"onTransitionRun"),ls(Qi,"onTransitionStart"),ls(cl,"onTransitionCancel"),ls(no,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(da));function El(r,l){l=(l&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],T=p.event;p=p.listeners;e:{var A=void 0;if(l)for(var X=p.length-1;0<=X;X--){var de=p[X],Ge=de.instance,gt=de.currentTarget;if(de=de.listener,Ge!==A&&T.isPropagationStopped())break e;A=de,T.currentTarget=gt;try{A(T)}catch(zt){lr(zt)}T.currentTarget=null,A=Ge}else for(X=0;X<p.length;X++){if(de=p[X],Ge=de.instance,gt=de.currentTarget,de=de.listener,Ge!==A&&T.isPropagationStopped())break e;A=de,T.currentTarget=gt;try{A(T)}catch(zt){lr(zt)}T.currentTarget=null,A=Ge}}}}function zr(r,l){var c=l[Te];c===void 0&&(c=l[Te]=new Set);var p=r+"__bubble";c.has(p)||(Nh(l,r,2,!1),c.add(p))}function Vl(r,l,c){var p=0;l&&(p|=4),Nh(c,r,p,l)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Kd(r){if(!r[kc]){r[kc]=!0,On.forEach(function(c){c!=="selectionchange"&&(A1.has(c)||Vl(c,!1,r),Vl(c,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[kc]||(l[kc]=!0,Vl("selectionchange",!1,l))}}function Nh(r,l,c,p){switch(O2(l)){case 2:var T=M2;break;case 8:T=N3;break;default:T=s4}c=T.bind(null,l,c,r),T=void 0,!js||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),p?T!==void 0?r.addEventListener(l,c,{capture:!0,passive:T}):r.addEventListener(l,c,!0):T!==void 0?r.addEventListener(l,c,{passive:T}):r.addEventListener(l,c,!1)}function Xa(r,l,c,p,T){var A=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var X=p.tag;if(X===3||X===4){var de=p.stateNode.containerInfo;if(de===T)break;if(X===4)for(X=p.return;X!==null;){var Ge=X.tag;if((Ge===3||Ge===4)&&X.stateNode.containerInfo===T)return;X=X.return}for(;de!==null;){if(X=Ee(de),X===null)return;if(Ge=X.tag,Ge===5||Ge===6||Ge===26||Ge===27){p=A=X;continue e}de=de.parentNode}}p=p.return}Dr(function(){var gt=A,zt=gn(c),Xt=[];e:{var wt=po.get(r);if(wt!==void 0){var Mt=co,xn=r;switch(r){case"keypress":if(Zi(c)===0)break e;case"keydown":case"keyup":Mt=mr;break;case"focusin":xn="focus",Mt=qr;break;case"focusout":xn="blur",Mt=qr;break;case"beforeblur":case"afterblur":Mt=qr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Zu;break;case kr:case os:case ue:Mt=Go;break;case no:Mt=m0;break;case"scroll":case"scrollend":Mt=Bs;break;case"wheel":Mt=g0;break;case"copy":case"cut":case"paste":Mt=Ml;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=H0;break;case"toggle":case"beforetoggle":Mt=G0}var nr=(l&4)!==0,Si=!nr&&(r==="scroll"||r==="scrollend"),ot=nr?wt!==null?wt+"Capture":null:wt;nr=[];for(var je=gt,mt;je!==null;){var Ht=je;if(mt=Ht.stateNode,Ht=Ht.tag,Ht!==5&&Ht!==26&&Ht!==27||mt===null||ot===null||(Ht=rr(je,ot),Ht!=null&&nr.push(wr(je,Ht,mt))),Si)break;je=je.return}0<nr.length&&(wt=new Mt(wt,xn,null,c,zt),Xt.push({event:wt,listeners:nr}))}}if((l&7)===0){e:{if(wt=r==="mouseover"||r==="pointerover",Mt=r==="mouseout"||r==="pointerout",wt&&c!==Sn&&(xn=c.relatedTarget||c.fromElement)&&(Ee(xn)||xn[J]))break e;if((Mt||wt)&&(wt=zt.window===zt?zt:(wt=zt.ownerDocument)?wt.defaultView||wt.parentWindow:window,Mt?(xn=c.relatedTarget||c.toElement,Mt=gt,xn=xn?Ee(xn):null,xn!==null&&(Si=m(xn),nr=xn.tag,xn!==Si||nr!==5&&nr!==27&&nr!==6)&&(xn=null)):(Mt=null,xn=gt),Mt!==xn)){if(nr=Zl,Ht="onMouseLeave",ot="onMouseEnter",je="mouse",(r==="pointerout"||r==="pointerover")&&(nr=H0,Ht="onPointerLeave",ot="onPointerEnter",je="pointer"),Si=Mt==null?wt:kn(Mt),mt=xn==null?wt:kn(xn),wt=new nr(Ht,je+"leave",Mt,c,zt),wt.target=Si,wt.relatedTarget=mt,Ht=null,Ee(zt)===gt&&(nr=new nr(ot,je+"enter",xn,c,zt),nr.target=mt,nr.relatedTarget=Si,Ht=nr),Si=Ht,Mt&&xn)t:{for(nr=xu,ot=Mt,je=xn,mt=0,Ht=ot;Ht;Ht=nr(Ht))mt++;Ht=0;for(var qn=je;qn;qn=nr(qn))Ht++;for(;0<mt-Ht;)ot=nr(ot),mt--;for(;0<Ht-mt;)je=nr(je),Ht--;for(;mt--;){if(ot===je||je!==null&&ot===je.alternate){nr=ot;break t}ot=nr(ot),je=nr(je)}nr=null}else nr=null;Mt!==null&&Lh(Xt,wt,Mt,nr,!1),xn!==null&&Si!==null&&Lh(Xt,Si,xn,nr,!0)}}e:{if(wt=gt?kn(gt):window,Mt=wt.nodeName&&wt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&wt.type==="file")var hi=lt;else if(y(wt))if(Et)hi=yr;else{hi=Gn;var Bn=Nn}else Mt=wt.nodeName,!Mt||Mt.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?gt&&Ct(gt.elementType)&&(hi=lt):hi=Qn;if(hi&&(hi=hi(r,gt))){I(Xt,hi,c,zt);break e}Bn&&Bn(r,wt,gt),r==="focusout"&&gt&&wt.type==="number"&&gt.memoizedProps.value!=null&&w(wt,"number",wt.value)}switch(Bn=gt?kn(gt):window,r){case"focusin":(y(Bn)||Bn.contentEditable==="true")&&(Jr=Bn,bi=gt,Pr=null);break;case"focusout":Pr=bi=Jr=null;break;case"mousedown":Fi=!0;break;case"contextmenu":case"mouseup":case"dragend":Fi=!1,ms(Xt,c,zt);break;case"selectionchange":if(ri)break;case"keydown":case"keyup":ms(Xt,c,zt)}var _n;if($0)e:{switch(r){case"compositionstart":var Zr="onCompositionStart";break e;case"compositionend":Zr="onCompositionEnd";break e;case"compositionupdate":Zr="onCompositionUpdate";break e}Zr=void 0}else Nl?Ca(r,c)&&(Zr="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Zr="onCompositionStart");Zr&&(tc&&c.locale!=="ko"&&(Nl||Zr!=="onCompositionStart"?Zr==="onCompositionEnd"&&Nl&&(_n=Pi()):(Fn=zt,oi="value"in Fn?Fn.value:Fn.textContent,Nl=!0)),Bn=I1(gt,Zr),0<Bn.length&&(Zr=new tu(Zr,r,null,c,zt),Xt.push({event:Zr,listeners:Bn}),_n?Zr.data=_n:(_n=V0(c),_n!==null&&(Zr.data=_n)))),(_n=ec?ka(r,c):iu(r,c))&&(Zr=I1(gt,"onBeforeInput"),0<Zr.length&&(Bn=new tu("onBeforeInput","beforeinput",null,c,zt),Xt.push({event:Bn,listeners:Zr}),Bn.data=_n)),Vs(Xt,r,gt,c,zt)}El(Xt,l)})}function wr(r,l,c){return{instance:r,listener:l,currentTarget:c}}function I1(r,l){for(var c=l+"Capture",p=[];r!==null;){var T=r,A=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||A===null||(T=rr(r,c),T!=null&&p.unshift(wr(r,T,A)),T=rr(r,l),T!=null&&p.push(wr(r,T,A))),r.tag===3)return p;r=r.return}return[]}function xu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Lh(r,l,c,p,T){for(var A=l._reactName,X=[];c!==null&&c!==p;){var de=c,Ge=de.alternate,gt=de.stateNode;if(de=de.tag,Ge!==null&&Ge===p)break;de!==5&&de!==26&&de!==27||gt===null||(Ge=gt,T?(gt=rr(c,A),gt!=null&&X.unshift(wr(c,gt,Ge))):T||(gt=rr(c,A),gt!=null&&X.push(wr(c,gt,Ge)))),c=c.return}X.length!==0&&r.push({event:l,listeners:X})}var B5=/\r\n?/g,S3=/\u0000|\uFFFD/g;function m2(r){return(typeof r=="string"?r:""+r).replace(B5,`
`).replace(S3,"")}function Dh(r,l){return l=m2(l),m2(r)===l}function ji(r,l,c,p,T,A){switch(c){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||ae(r,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&ae(r,""+p);break;case"className":ce(r,"class",p);break;case"tabIndex":ce(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ce(r,c,p);break;case"style":dt(r,p,A);break;case"data":if(l!=="object"){ce(r,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||c!=="href")){r.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=Wt(""+p),r.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(c==="formAction"?(l!=="input"&&ji(r,l,"name",T.name,T,null),ji(r,l,"formEncType",T.formEncType,T,null),ji(r,l,"formMethod",T.formMethod,T,null),ji(r,l,"formTarget",T.formTarget,T,null)):(ji(r,l,"encType",T.encType,T,null),ji(r,l,"method",T.method,T,null),ji(r,l,"target",T.target,T,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(c);break}p=Wt(""+p),r.setAttribute(c,p);break;case"onClick":p!=null&&(r.onclick=nn);break;case"onScroll":p!=null&&zr("scroll",r);break;case"onScrollEnd":p!=null&&zr("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(c=p.__html,c!=null){if(T.children!=null)throw Error(a(60));r.innerHTML=c}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}c=Wt(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""+p):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":p===!0?r.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(c,p):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(c,p):r.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(c):r.setAttribute(c,p);break;case"popover":zr("beforetoggle",r),zr("toggle",r),Zt(r,"popover",p);break;case"xlinkActuate":xi(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":xi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":xi(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":xi(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":xi(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":xi(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":xi(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":xi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":xi(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zt(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bt.get(c)||c,Zt(r,c,p))}}function Jd(r,l,c,p,T,A){switch(c){case"style":dt(r,p,A);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(c=p.__html,c!=null){if(T.children!=null)throw Error(a(60));r.innerHTML=c}}break;case"children":typeof p=="string"?ae(r,p):(typeof p=="number"||typeof p=="bigint")&&ae(r,""+p);break;case"onScroll":p!=null&&zr("scroll",r);break;case"onScrollEnd":p!=null&&zr("scrollend",r);break;case"onClick":p!=null&&(r.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(T=c.endsWith("Capture"),l=c.slice(2,T?c.length-7:void 0),A=r[_e]||null,A=A!=null?A[c]:null,typeof A=="function"&&r.removeEventListener(l,A,T),typeof p=="function")){typeof A!="function"&&A!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(l,p,T);break e}c in r?r[c]=p:p===!0?r.setAttribute(c,""):Zt(r,c,p)}}}function vo(r,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zr("error",r),zr("load",r);var p=!1,T=!1,A;for(A in c)if(c.hasOwnProperty(A)){var X=c[A];if(X!=null)switch(A){case"src":p=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ji(r,l,A,X,c,null)}}T&&ji(r,l,"srcSet",c.srcSet,c,null),p&&ji(r,l,"src",c.src,c,null);return;case"input":zr("invalid",r);var de=A=X=T=null,Ge=null,gt=null;for(p in c)if(c.hasOwnProperty(p)){var zt=c[p];if(zt!=null)switch(p){case"name":T=zt;break;case"type":X=zt;break;case"checked":Ge=zt;break;case"defaultChecked":gt=zt;break;case"value":A=zt;break;case"defaultValue":de=zt;break;case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(a(137,l));break;default:ji(r,l,p,zt,c,null)}}h(r,A,de,Ge,gt,X,T,!1);return;case"select":zr("invalid",r),p=X=A=null;for(T in c)if(c.hasOwnProperty(T)&&(de=c[T],de!=null))switch(T){case"value":A=de;break;case"defaultValue":X=de;break;case"multiple":p=de;default:ji(r,l,T,de,c,null)}l=A,c=X,r.multiple=!!p,l!=null?D(r,!!p,l,!1):c!=null&&D(r,!!p,c,!0);return;case"textarea":zr("invalid",r),A=T=p=null;for(X in c)if(c.hasOwnProperty(X)&&(de=c[X],de!=null))switch(X){case"value":p=de;break;case"defaultValue":T=de;break;case"children":A=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(91));break;default:ji(r,l,X,de,c,null)}te(r,p,T,A);return;case"option":for(Ge in c)if(c.hasOwnProperty(Ge)&&(p=c[Ge],p!=null))switch(Ge){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ji(r,l,Ge,p,c,null)}return;case"dialog":zr("beforetoggle",r),zr("toggle",r),zr("cancel",r),zr("close",r);break;case"iframe":case"object":zr("load",r);break;case"video":case"audio":for(p=0;p<da.length;p++)zr(da[p],r);break;case"image":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"embed":case"source":case"link":zr("error",r),zr("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(gt in c)if(c.hasOwnProperty(gt)&&(p=c[gt],p!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ji(r,l,gt,p,c,null)}return;default:if(Ct(l)){for(zt in c)c.hasOwnProperty(zt)&&(p=c[zt],p!==void 0&&Jd(r,l,zt,p,c,void 0));return}}for(de in c)c.hasOwnProperty(de)&&(p=c[de],p!=null&&ji(r,l,de,p,c,null))}function Zd(r,l,c,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,A=null,X=null,de=null,Ge=null,gt=null,zt=null;for(Mt in c){var Xt=c[Mt];if(c.hasOwnProperty(Mt)&&Xt!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":Ge=Xt;default:p.hasOwnProperty(Mt)||ji(r,l,Mt,null,p,Xt)}}for(var wt in p){var Mt=p[wt];if(Xt=c[wt],p.hasOwnProperty(wt)&&(Mt!=null||Xt!=null))switch(wt){case"type":A=Mt;break;case"name":T=Mt;break;case"checked":gt=Mt;break;case"defaultChecked":zt=Mt;break;case"value":X=Mt;break;case"defaultValue":de=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(a(137,l));break;default:Mt!==Xt&&ji(r,l,wt,Mt,p,Xt)}}jn(r,X,de,Ge,gt,zt,A,T);return;case"select":Mt=X=de=wt=null;for(A in c)if(Ge=c[A],c.hasOwnProperty(A)&&Ge!=null)switch(A){case"value":break;case"multiple":Mt=Ge;default:p.hasOwnProperty(A)||ji(r,l,A,null,p,Ge)}for(T in p)if(A=p[T],Ge=c[T],p.hasOwnProperty(T)&&(A!=null||Ge!=null))switch(T){case"value":wt=A;break;case"defaultValue":de=A;break;case"multiple":X=A;default:A!==Ge&&ji(r,l,T,A,p,Ge)}l=de,c=X,p=Mt,wt!=null?D(r,!!c,wt,!1):!!p!=!!c&&(l!=null?D(r,!!c,l,!0):D(r,!!c,c?[]:"",!1));return;case"textarea":Mt=wt=null;for(de in c)if(T=c[de],c.hasOwnProperty(de)&&T!=null&&!p.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:ji(r,l,de,null,p,T)}for(X in p)if(T=p[X],A=c[X],p.hasOwnProperty(X)&&(T!=null||A!=null))switch(X){case"value":wt=T;break;case"defaultValue":Mt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:T!==A&&ji(r,l,X,T,p,A)}U(r,wt,Mt);return;case"option":for(var xn in c)if(wt=c[xn],c.hasOwnProperty(xn)&&wt!=null&&!p.hasOwnProperty(xn))switch(xn){case"selected":r.selected=!1;break;default:ji(r,l,xn,null,p,wt)}for(Ge in p)if(wt=p[Ge],Mt=c[Ge],p.hasOwnProperty(Ge)&&wt!==Mt&&(wt!=null||Mt!=null))switch(Ge){case"selected":r.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:ji(r,l,Ge,wt,p,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in c)wt=c[nr],c.hasOwnProperty(nr)&&wt!=null&&!p.hasOwnProperty(nr)&&ji(r,l,nr,null,p,wt);for(gt in p)if(wt=p[gt],Mt=c[gt],p.hasOwnProperty(gt)&&wt!==Mt&&(wt!=null||Mt!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(a(137,l));break;default:ji(r,l,gt,wt,p,Mt)}return;default:if(Ct(l)){for(var Si in c)wt=c[Si],c.hasOwnProperty(Si)&&wt!==void 0&&!p.hasOwnProperty(Si)&&Jd(r,l,Si,void 0,p,wt);for(zt in p)wt=p[zt],Mt=c[zt],!p.hasOwnProperty(zt)||wt===Mt||wt===void 0&&Mt===void 0||Jd(r,l,zt,wt,p,Mt);return}}for(var ot in c)wt=c[ot],c.hasOwnProperty(ot)&&wt!=null&&!p.hasOwnProperty(ot)&&ji(r,l,ot,null,p,wt);for(Xt in p)wt=p[Xt],Mt=c[Xt],!p.hasOwnProperty(Xt)||wt===Mt||wt==null&&Mt==null||ji(r,l,Xt,wt,p,Mt)}function g2(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x3(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var T=c[p],A=T.transferSize,X=T.initiatorType,de=T.duration;if(A&&de&&g2(X)){for(X=0,de=T.responseEnd,p+=1;p<c.length;p++){var Ge=c[p],gt=Ge.startTime;if(gt>de)break;var zt=Ge.transferSize,Xt=Ge.initiatorType;zt&&g2(Xt)&&(Ge=Ge.responseEnd,X+=zt*(Ge<de?1:(de-gt)/(Ge-gt)))}if(--p,l+=8*(A+X)/(T.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ac=null,M1=null;function o0(r){return r.nodeType===9?r:r.ownerDocument}function Po(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function $2(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Bh=null;function v2(){var r=window.event;return r&&r.type==="popstate"?r===Bh?!1:(Bh=r,!0):(Bh=null,!1)}var b2=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,ko=typeof Promise=="function"?Promise:void 0,Ic=typeof queueMicrotask=="function"?queueMicrotask:typeof ko<"u"?function(r){return ko.resolve(null).then(r).catch(P5)}:b2;function P5(r){setTimeout(function(){throw r})}function Cu(r){return r==="head"}function Ph(r,l){var c=l,p=0;do{var T=c.nextSibling;if(r.removeChild(c),T&&T.nodeType===8)if(c=T.data,c==="/$"||c==="/&"){if(p===0){r.removeChild(T),Bc(l);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")ts(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,ts(c);for(var A=c.firstChild;A;){var X=A.nextSibling,de=A.nodeName;A[Q]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=X}}else c==="body"&&ts(r.ownerDocument.body);c=T}while(c);Bc(l)}function N0(r,l){var c=r;r=0;do{var p=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=p}while(c)}function t4(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":t4(c),Rt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function Wl(r,l,c,p){for(;r.nodeType===1;){var T=c;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[Q])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(A=r.getAttribute("rel"),A==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(A!==T.rel||r.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||r.getAttribute("title")!==(T.title==null?null:T.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(A=r.getAttribute("src"),(A!==(T.src==null?null:T.src)||r.getAttribute("type")!==(T.type==null?null:T.type)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&A&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var A=T.name==null?null:""+T.name;if(T.type==="hidden"&&r.getAttribute("name")===A)return r}else return r;if(r=Fo(r.nextSibling),r===null)break}return null}function Ni(r,l,c){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Fo(r.nextSibling),r===null))return null;return r}function fa(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Fo(r.nextSibling),r===null))return null;return r}function Mc(r){return r.data==="$?"||r.data==="$~"}function R1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function n4(r,l){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||c.readyState!=="loading")l();else{var p=function(){l(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function Fo(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var y2=null;function l0(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(l===0)return Fo(r.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}r=r.nextSibling}return null}function Li(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return r;l--}else c!=="/$"&&c!=="/&"||l++}r=r.previousSibling}return null}function pa(r,l,c){switch(l=o0(c),r){case"html":if(r=l.documentElement,!r)throw Error(a(452));return r;case"head":if(r=l.head,!r)throw Error(a(453));return r;case"body":if(r=l.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function ts(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Rt(r)}var il=new Map,Tn=new Set;function ja(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var L0=vt.d;vt.d={f:T2,r:ci,D:Oc,C:C3,L:Nc,m:E2,X:k3,S:w2,M:Ao};function T2(){var r=L0.f(),l=Ch();return r||l}function ci(r){var l=wn(r);l!==null&&l.tag===5&&l.type==="form"?p3(l):L0.r(r)}var Rc=typeof document>"u"?null:document;function _2(r,l,c){var p=Rc;if(p&&typeof l=="string"&&l){var T=Xs(l);T='link[rel="'+r+'"][href="'+T+'"]',typeof c=="string"&&(T+='[crossorigin="'+c+'"]'),Tn.has(T)||(Tn.add(T),r={rel:r,crossOrigin:c,href:l},p.querySelector(T)===null&&(l=p.createElement("link"),vo(l,"link",r),cr(l),p.head.appendChild(l)))}}function Oc(r){L0.D(r),_2("dns-prefetch",r,null)}function C3(r,l){L0.C(r,l),_2("preconnect",r,l)}function Nc(r,l,c){L0.L(r,l,c);var p=Rc;if(p&&r&&l){var T='link[rel="preload"][as="'+Xs(l)+'"]';l==="image"&&c&&c.imageSrcSet?(T+='[imagesrcset="'+Xs(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(T+='[imagesizes="'+Xs(c.imageSizes)+'"]')):T+='[href="'+Xs(r)+'"]';var A=T;switch(l){case"style":A=sl(r);break;case"script":A=D0(r)}il.has(A)||(r=R({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:r,as:l},c),il.set(A,r),p.querySelector(T)!==null||l==="style"&&p.querySelector(ql(A))||l==="script"&&p.querySelector(ku(A))||(l=p.createElement("link"),vo(l,"link",r),cr(l),p.head.appendChild(l)))}}function E2(r,l){L0.m(r,l);var c=Rc;if(c&&r){var p=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Xs(p)+'"][href="'+Xs(r)+'"]',A=T;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=D0(r)}if(!il.has(A)&&(r=R({rel:"modulepreload",href:r},l),il.set(A,r),c.querySelector(T)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ku(A)))return}p=c.createElement("link"),vo(p,"link",r),cr(p),c.head.appendChild(p)}}}function w2(r,l,c){L0.S(r,l,c);var p=Rc;if(p&&r){var T=Nr(p).hoistableStyles,A=sl(r);l=l||"default";var X=T.get(A);if(!X){var de={loading:0,preload:null};if(X=p.querySelector(ql(A)))de.loading=5;else{r=R({rel:"stylesheet",href:r,"data-precedence":l},c),(c=il.get(A))&&Dc(r,c);var Ge=X=p.createElement("link");cr(Ge),vo(Ge,"link",r),Ge._p=new Promise(function(gt,zt){Ge.onload=gt,Ge.onerror=zt}),Ge.addEventListener("load",function(){de.loading|=1}),Ge.addEventListener("error",function(){de.loading|=2}),de.loading|=4,Au(X,l,p)}X={type:"stylesheet",instance:X,count:1,state:de},T.set(A,X)}}}function k3(r,l){L0.X(r,l);var c=Rc;if(c&&r){var p=Nr(c).hoistableScripts,T=D0(r),A=p.get(T);A||(A=c.querySelector(ku(T)),A||(r=R({src:r,async:!0},l),(l=il.get(T))&&N1(r,l),A=c.createElement("script"),cr(A),vo(A,"link",r),c.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(T,A))}}function Ao(r,l){L0.M(r,l);var c=Rc;if(c&&r){var p=Nr(c).hoistableScripts,T=D0(r),A=p.get(T);A||(A=c.querySelector(ku(T)),A||(r=R({src:r,async:!0,type:"module"},l),(l=il.get(T))&&N1(r,l),A=c.createElement("script"),cr(A),vo(A,"link",r),c.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(T,A))}}function Lc(r,l,c,p){var T=(T=sn.current)?ja(T):null;if(!T)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=sl(c.href),c=Nr(T).hoistableStyles,p=c.get(l),p||(p={type:"style",instance:null,count:0,state:null},c.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=sl(c.href);var A=Nr(T).hoistableStyles,X=A.get(r);if(X||(T=T.ownerDocument||T,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(r,X),(A=T.querySelector(ql(r)))&&!A._p&&(X.instance=A,X.state.loading=5),il.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},il.set(r,c),A||A3(T,r,c,X.state))),l&&p===null)throw Error(a(528,""));return X}if(l&&p!==null)throw Error(a(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=D0(c),c=Nr(T).hoistableScripts,p=c.get(l),p||(p={type:"script",instance:null,count:0,state:null},c.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function sl(r){return'href="'+Xs(r)+'"'}function ql(r){return'link[rel="stylesheet"]['+r+"]"}function wl(r){return R({},r,{"data-precedence":r.precedence,precedence:null})}function A3(r,l,c,p){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=r.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),vo(l,"link",c),cr(l),r.head.appendChild(l))}function D0(r){return'[src="'+Xs(r)+'"]'}function ku(r){return"script[async]"+r}function O1(r,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var p=r.querySelector('style[data-href~="'+Xs(c.href)+'"]');if(p)return l.instance=p,cr(p),p;var T=R({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),cr(p),vo(p,"style",T),Au(p,c.precedence,r),l.instance=p;case"stylesheet":T=sl(c.href);var A=r.querySelector(ql(T));if(A)return l.state.loading|=4,l.instance=A,cr(A),A;p=wl(c),(T=il.get(T))&&Dc(p,T),A=(r.ownerDocument||r).createElement("link"),cr(A);var X=A;return X._p=new Promise(function(de,Ge){X.onload=de,X.onerror=Ge}),vo(A,"link",p),l.state.loading|=4,Au(A,c.precedence,r),l.instance=A;case"script":return A=D0(c.src),(T=r.querySelector(ku(A)))?(l.instance=T,cr(T),T):(p=c,(T=il.get(A))&&(p=R({},c),N1(p,T)),r=r.ownerDocument||r,T=r.createElement("script"),cr(T),vo(T,"link",p),r.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Au(p,c.precedence,r));return l.instance}function Au(r,l,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=p.length?p[p.length-1]:null,A=T,X=0;X<p.length;X++){var de=p[X];if(de.dataset.precedence===l)A=de;else if(A!==T)break}A?A.parentNode.insertBefore(r,A.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(r,l.firstChild))}function Dc(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function N1(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Fh=null;function S2(r,l,c){if(Fh===null){var p=new Map,T=Fh=new Map;T.set(c,p)}else T=Fh,p=T.get(c),p||(p=new Map,T.set(c,p));if(p.has(r))return p;for(p.set(r,null),c=c.getElementsByTagName(r),T=0;T<c.length;T++){var A=c[T];if(!(A[Q]||A[j]||r==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var X=A.getAttribute(l)||"";X=r+X;var de=p.get(X);de?de.push(A):p.set(X,[A])}}return p}function r4(r,l,c){r=r.ownerDocument||r,r.head.insertBefore(c,l==="title"?r.querySelector("head > title"):null)}function ma(r,l,c){if(c===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Yi(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function I3(r,l,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var T=sl(p.href),A=l.querySelector(ql(T));if(A){l=A._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=B1.bind(r),l.then(r,r)),c.state.loading|=4,c.instance=A,cr(A);return}A=l.ownerDocument||l,p=wl(p),(T=il.get(T))&&Dc(p,T),A=A.createElement("link"),cr(A);var X=A;X._p=new Promise(function(de,Ge){X.onload=de,X.onerror=Ge}),vo(A,"link",p),c.instance=A}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=B1.bind(r),l.addEventListener("load",c),l.addEventListener("error",c))}}var L1=0;function D1(r,l){return r.stylesheets&&r.count===0&&Io(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var p=setTimeout(function(){if(r.stylesheets&&Io(r,r.stylesheets),r.unsuspend){var A=r.unsuspend;r.unsuspend=null,A()}},6e4+l);0<r.imgBytes&&L1===0&&(L1=62500*x3());var T=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Io(r,r.stylesheets),r.unsuspend)){var A=r.unsuspend;r.unsuspend=null,A()}},(r.imgBytes>L1?50:800)+l);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(T)}}:null}function B1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Io(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zh=null;function Io(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zh=new Map,l.forEach(M3,r),zh=null,B1.call(r))}function M3(r,l){if(!(l.state.loading&4)){var c=zh.get(r);if(c)var p=c.get(null);else{c=new Map,zh.set(r,c);for(var T=r.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<T.length;A++){var X=T[A];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(c.set(X.dataset.precedence,X),p=X)}p&&c.set(null,p)}T=l.instance,X=T.getAttribute("data-precedence"),A=c.get(X)||p,A===p&&c.set(null,T),c.set(X,T),this.count++,p=B1.bind(this),T.addEventListener("load",p),T.addEventListener("error",p),A?A.parentNode.insertBefore(T,A.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(T,r.firstChild)),l.state.loading|=4}}var P1={$$typeof:ke,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function i4(r,l,c,p,T,A,X,de,Ge){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=p,this.onUncaughtError=T,this.onCaughtError=A,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ge,this.incompleteTransitions=new Map}function x2(r,l,c,p,T,A,X,de,Ge,gt,zt,Xt){return r=new i4(r,l,c,X,Ge,gt,zt,Xt,de),l=1,A===!0&&(l|=24),A=_o(3,null,null,l),r.current=A,A.stateNode=r,l=hc(),l.refCount++,r.pooledCache=l,l.refCount++,A.memoizedState={element:p,isDehydrated:c,cache:l},zi(A),r}function R3(r){return r?(r=hl,r):hl}function C2(r,l,c,p,T,A){T=R3(T),p.context===null?p.context=T:p.pendingContext=T,p=as(l),p.payload={element:c},A=A===void 0?null:A,A!==null&&(p.callback=A),c=$s(r,p,l),c!==null&&(Co(c,r,l),Or(c,r,l))}function O3(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<l?c:l}}function k2(r,l){O3(r,l),(r=r.alternate)&&O3(r,l)}function A2(r){if(r.tag===13||r.tag===31){var l=Ko(r,67108864);l!==null&&Co(l,r,67108864),k2(r,67108864)}}function I2(r){if(r.tag===13||r.tag===31){var l=xo();l=V(l);var c=Ko(r,l);c!==null&&Co(c,r,l),k2(r,l)}}var F1=!0;function M2(r,l,c,p){var T=Ze.T;Ze.T=null;var A=vt.p;try{vt.p=2,s4(r,l,c,p)}finally{vt.p=A,Ze.T=T}}function N3(r,l,c,p){var T=Ze.T;Ze.T=null;var A=vt.p;try{vt.p=8,s4(r,l,c,p)}finally{vt.p=A,Ze.T=T}}function s4(r,l,c,p){if(F1){var T=Xl(p);if(T===null)Xa(r,l,p,o4,c),N2(r,p);else if(F5(T,r,l,c,p))p.stopPropagation();else if(N2(r,p),l&4&&-1<l4.indexOf(r)){for(;T!==null;){var A=wn(T);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var X=me(A.pendingLanes);if(X!==0){var de=A;for(de.pendingLanes|=2,de.entangledLanes|=2;X;){var Ge=1<<31-Me(X);de.entanglements[1]|=Ge,X&=~Ge}O0(A),(wi&6)===0&&(wh=Vn()+500,C1(0))}}break;case 31:case 13:de=Ko(A,2),de!==null&&Co(de,A,2),Ch(),k2(A,2)}if(A=Xl(p),A===null&&Xa(r,l,p,o4,c),A===T)break;T=A}T!==null&&p.stopPropagation()}else Xa(r,l,p,null,c)}}function Xl(r){return r=gn(r),R2(r)}var o4=null;function R2(r){if(o4=null,r=Ee(r),r!==null){var l=m(r);if(l===null)r=null;else{var c=l.tag;if(c===13){if(r=b(l),r!==null)return r;r=null}else if(c===31){if(r=C(l),r!==null)return r;r=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return o4=r,null}function O2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F()){case ee:return 2;case Ce:return 8;case Ne:case et:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Uh=!1,Ya=null,ga=null,jl=null,z1=new Map,Iu=new Map,Ka=[],l4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N2(r,l){switch(r){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":z1.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(l.pointerId)}}function Hh(r,l,c,p,T,A){return r===null||r.nativeEvent!==A?(r={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:A,targetContainers:[T]},l!==null&&(l=wn(l),l!==null&&A2(l)),r):(r.eventSystemFlags|=p,l=r.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),r)}function F5(r,l,c,p,T){switch(l){case"focusin":return Ya=Hh(Ya,r,l,c,p,T),!0;case"dragenter":return ga=Hh(ga,r,l,c,p,T),!0;case"mouseover":return jl=Hh(jl,r,l,c,p,T),!0;case"pointerover":var A=T.pointerId;return z1.set(A,Hh(z1.get(A)||null,r,l,c,p,T)),!0;case"gotpointercapture":return A=T.pointerId,Iu.set(A,Hh(Iu.get(A)||null,r,l,c,p,T)),!0}return!1}function Gh(r){var l=Ee(r.target);if(l!==null){var c=m(l);if(c!==null){if(l=c.tag,l===13){if(l=b(c),l!==null){r.blockedOn=l,B(r.priority,function(){I2(c)});return}}else if(l===31){if(l=C(c),l!==null){r.blockedOn=l,B(r.priority,function(){I2(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function U1(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var c=Xl(r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);Sn=p,c.target.dispatchEvent(p),Sn=null}else return l=wn(c),l!==null&&A2(l),r.blockedOn=c,!1;l.shift()}return!0}function L3(r,l,c){U1(r)&&c.delete(l)}function D3(){Uh=!1,Ya!==null&&U1(Ya)&&(Ya=null),ga!==null&&U1(ga)&&(ga=null),jl!==null&&U1(jl)&&(jl=null),z1.forEach(L3),Iu.forEach(L3)}function H1(r,l){r.blockedOn===l&&(r.blockedOn=null,Uh||(Uh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,D3)))}var G1=null;function Ja(r){G1!==r&&(G1=r,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){G1===r&&(G1=null);for(var l=0;l<r.length;l+=3){var c=r[l],p=r[l+1],T=r[l+2];if(typeof p!="function"){if(R2(p||c)===null)continue;break}var A=wn(c);A!==null&&(r.splice(l,3),l-=3,yt(A,{pending:!0,data:T,method:c.method,action:p},p,T))}}))}function Bc(r){function l(Ge){return H1(Ge,r)}Ya!==null&&H1(Ya,r),ga!==null&&H1(ga,r),jl!==null&&H1(jl,r),z1.forEach(l),Iu.forEach(l);for(var c=0;c<Ka.length;c++){var p=Ka[c];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Ka.length&&(c=Ka[0],c.blockedOn===null);)Gh(c),c.blockedOn===null&&Ka.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var T=c[p],A=c[p+1],X=T[_e]||null;if(typeof A=="function")X||Ja(c);else if(X){var de=null;if(A&&A.hasAttribute("formAction")){if(T=A,X=A[_e]||null)de=X.formAction;else if(R2(T)!==null)continue}else de=X.action;typeof de=="function"?c[p+1]=de:(c.splice(p,3),p-=3),Ja(c)}}}function Vh(){function r(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(X){return T=X})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,T=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function Mo(r){this._internalRoot=r}a4.prototype.render=Mo.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(a(409));var c=l.current,p=xo();C2(c,p,r,l,null,null)},a4.prototype.unmount=Mo.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;C2(r.current,2,null,r,null,null),Ch(),l[J]=null}};function a4(r){this._internalRoot=r}a4.prototype.unstable_scheduleHydration=function(r){if(r){var l=_();r={blockedOn:null,target:r,priority:l};for(var c=0;c<Ka.length&&l!==0&&l<Ka[c].priority;c++);Ka.splice(c,0,r),c===0&&Gh(r)}};var We=s.version;if(We!=="19.2.0")throw Error(a(527,We,"19.2.0"));vt.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=k(l),r=r!==null?E(r):null,r=r===null?null:r.stateNode,r};var $a={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Ze,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{O=Mu.inject($a),oe=Mu}catch{}}return H2.createRoot=function(r,l){if(!d(r))throw Error(a(299));var c=!1,p="",T=G4,A=g3,X=V4;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(X=l.onRecoverableError)),l=x2(r,1,!1,null,null,c,p,null,T,A,X,Vh),r[J]=l.current,Kd(r),new Mo(l)},H2.hydrateRoot=function(r,l,c){if(!d(r))throw Error(a(299));var p=!1,T="",A=G4,X=g3,de=V4,Ge=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(X=c.onCaughtError),c.onRecoverableError!==void 0&&(de=c.onRecoverableError),c.formState!==void 0&&(Ge=c.formState)),l=x2(r,1,!0,l,c??null,p,T,Ge,A,X,de,Vh),l.context=R3(null),c=l.current,p=xo(),p=V(p),T=as(p),T.callback=null,$s(c,T,p),c=p,l.current.lanes=c,Sr(l,c),O0(l),r[J]=l.current,Kd(r),new a4(l)},H2.version="19.2.0",H2}var I8;function Yg(){if(I8)return v6.exports;I8=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),v6.exports=jg(),v6.exports}var Kg=Yg();const Jg=Xu(Kg);var _6={exports:{}},M8;function Zg(){return M8||(M8=1,(function(o){var s=(function(){var n=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",m={};function b(x,k){if(!m[x]){m[x]={};for(var E=0;E<x.length;E++)m[x][x.charAt(E)]=E}return m[x][k]}var C={compressToBase64:function(x){if(x==null)return"";var k=C._compress(x,6,function(E){return a.charAt(E)});switch(k.length%4){default:case 0:return k;case 1:return k+"===";case 2:return k+"==";case 3:return k+"="}},decompressFromBase64:function(x){return x==null?"":x==""?null:C._decompress(x.length,32,function(k){return b(a,x.charAt(k))})},compressToUTF16:function(x){return x==null?"":C._compress(x,15,function(k){return n(k+32)})+" "},decompressFromUTF16:function(x){return x==null?"":x==""?null:C._decompress(x.length,16384,function(k){return x.charCodeAt(k)-32})},compressToUint8Array:function(x){for(var k=C.compress(x),E=new Uint8Array(k.length*2),R=0,q=k.length;R<q;R++){var z=k.charCodeAt(R);E[R*2]=z>>>8,E[R*2+1]=z%256}return E},decompressFromUint8Array:function(x){if(x==null)return C.decompress(x);for(var k=new Array(x.length/2),E=0,R=k.length;E<R;E++)k[E]=x[E*2]*256+x[E*2+1];var q=[];return k.forEach(function(z){q.push(n(z))}),C.decompress(q.join(""))},compressToEncodedURIComponent:function(x){return x==null?"":C._compress(x,6,function(k){return d.charAt(k)})},decompressFromEncodedURIComponent:function(x){return x==null?"":x==""?null:(x=x.replace(/ /g,"+"),C._decompress(x.length,32,function(k){return b(d,x.charAt(k))}))},compress:function(x){return C._compress(x,16,function(k){return n(k)})},_compress:function(x,k,E){if(x==null)return"";var R,q,z={},fe={},ve="",ge="",re="",ie=2,ke=3,Be=2,Ke=[],ye=0,Ve=0,st;for(st=0;st<x.length;st+=1)if(ve=x.charAt(st),Object.prototype.hasOwnProperty.call(z,ve)||(z[ve]=ke++,fe[ve]=!0),ge=re+ve,Object.prototype.hasOwnProperty.call(z,ge))re=ge;else{if(Object.prototype.hasOwnProperty.call(fe,re)){if(re.charCodeAt(0)<256){for(R=0;R<Be;R++)ye=ye<<1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++;for(q=re.charCodeAt(0),R=0;R<8;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1}else{for(q=1,R=0;R<Be;R++)ye=ye<<1|q,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=0;for(q=re.charCodeAt(0),R=0;R<16;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1}ie--,ie==0&&(ie=Math.pow(2,Be),Be++),delete fe[re]}else for(q=z[re],R=0;R<Be;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1;ie--,ie==0&&(ie=Math.pow(2,Be),Be++),z[ge]=ke++,re=String(ve)}if(re!==""){if(Object.prototype.hasOwnProperty.call(fe,re)){if(re.charCodeAt(0)<256){for(R=0;R<Be;R++)ye=ye<<1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++;for(q=re.charCodeAt(0),R=0;R<8;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1}else{for(q=1,R=0;R<Be;R++)ye=ye<<1|q,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=0;for(q=re.charCodeAt(0),R=0;R<16;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1}ie--,ie==0&&(ie=Math.pow(2,Be),Be++),delete fe[re]}else for(q=z[re],R=0;R<Be;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1;ie--,ie==0&&(ie=Math.pow(2,Be),Be++)}for(q=2,R=0;R<Be;R++)ye=ye<<1|q&1,Ve==k-1?(Ve=0,Ke.push(E(ye)),ye=0):Ve++,q=q>>1;for(;;)if(ye=ye<<1,Ve==k-1){Ke.push(E(ye));break}else Ve++;return Ke.join("")},decompress:function(x){return x==null?"":x==""?null:C._decompress(x.length,32768,function(k){return x.charCodeAt(k)})},_decompress:function(x,k,E){var R=[],q=4,z=4,fe=3,ve="",ge=[],re,ie,ke,Be,Ke,ye,Ve,st={val:E(0),position:k,index:1};for(re=0;re<3;re+=1)R[re]=re;for(ke=0,Ke=Math.pow(2,2),ye=1;ye!=Ke;)Be=st.val&st.position,st.position>>=1,st.position==0&&(st.position=k,st.val=E(st.index++)),ke|=(Be>0?1:0)*ye,ye<<=1;switch(ke){case 0:for(ke=0,Ke=Math.pow(2,8),ye=1;ye!=Ke;)Be=st.val&st.position,st.position>>=1,st.position==0&&(st.position=k,st.val=E(st.index++)),ke|=(Be>0?1:0)*ye,ye<<=1;Ve=n(ke);break;case 1:for(ke=0,Ke=Math.pow(2,16),ye=1;ye!=Ke;)Be=st.val&st.position,st.position>>=1,st.position==0&&(st.position=k,st.val=E(st.index++)),ke|=(Be>0?1:0)*ye,ye<<=1;Ve=n(ke);break;case 2:return""}for(R[3]=Ve,ie=Ve,ge.push(Ve);;){if(st.index>x)return"";for(ke=0,Ke=Math.pow(2,fe),ye=1;ye!=Ke;)Be=st.val&st.position,st.position>>=1,st.position==0&&(st.position=k,st.val=E(st.index++)),ke|=(Be>0?1:0)*ye,ye<<=1;switch(Ve=ke){case 0:for(ke=0,Ke=Math.pow(2,8),ye=1;ye!=Ke;)Be=st.val&st.position,st.position>>=1,st.position==0&&(st.position=k,st.val=E(st.index++)),ke|=(Be>0?1:0)*ye,ye<<=1;R[z++]=n(ke),Ve=z-1,q--;break;case 1:for(ke=0,Ke=Math.pow(2,16),ye=1;ye!=Ke;)Be=st.val&st.position,st.position>>=1,st.position==0&&(st.position=k,st.val=E(st.index++)),ke|=(Be>0?1:0)*ye,ye<<=1;R[z++]=n(ke),Ve=z-1,q--;break;case 2:return ge.join("")}if(q==0&&(q=Math.pow(2,fe),fe++),R[Ve])ve=R[Ve];else if(Ve===z)ve=ie+ie.charAt(0);else return null;ge.push(ve),R[z++]=ie+ve.charAt(0),q--,ie=ve,q==0&&(q=Math.pow(2,fe),fe++)}}};return C})();o!=null?o.exports=s:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return s})})(_6)),_6.exports}var Qg=Zg();const _m=Xu(Qg),Uo={defaultGrid:[[4,4,4,4,4,4,4,4],[4,2,1,1,1,1,3,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4],[4,4,4,4,4,4,4,4]],THEME:{0:"",1:"",2:"",3:"",4:"",PLAYER:""},checkMove:(o,s,n)=>{if(!o||!o[n]||typeof o[n][s]>"u")return"WALL";const a=o[n][s];return a===4||a===0?"WALL":a===3?"WIN":"OK"},look:(o,s,n,a,d)=>{let m=a;d==="LEFT"?m=(a+3)%4:d==="RIGHT"&&(m=(a+1)%4);let b=s,C=n;return m===0?b++:m===1?C++:m===2?b--:m===3&&C--,Uo.checkMove(o,b,C)!=="WALL"},resizeGrid:(o,s,n)=>{const a=[];for(let d=0;d<s;d++){const m=[];for(let b=0;b<n;b++)o[d]&&o[d][b]!==void 0?m.push(o[d][b]):m.push(4);a.push(m)}return a}};function e$({levelData:o,onUpdate:s}){const[n,a]=Dn.useState(4),d=o.startPos||{x:1,y:1,dir:1},m=o.grid||Uo.defaultGrid,b=m.length,C=m[0]?.length||0,x=[{id:1,label:"Chemin",icon:""},{id:4,label:"Mur",icon:""},{id:3,label:"Arrive",icon:""}],k=(z,fe)=>{const ve=Math.max(3,Math.min(50,z)),ge=Math.max(3,Math.min(50,fe));if(ve===b&&ge===C)return;const re=Uo.resizeGrid(m,ve,ge);s({...o,grid:re})},E=(z,fe)=>{const ve=m.map(ge=>[...ge]);if(n===2){for(let ge=0;ge<ve.length;ge++)for(let re=0;re<ve[ge].length;re++)ve[ge][re]===2&&(ve[ge][re]=1);ve[z][fe]=2,s({...o,grid:ve,startPos:{...d,x:fe,y:z}})}else ve[z][fe]=n,s({...o,grid:ve})},R=z=>{s({...o,startPos:{...d,dir:parseInt(z)}})},q=d.dir*90+90;return xe.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[xe.jsxs("div",{style:{background:"#f8f9fa",padding:"10px",borderBottom:"1px solid #ddd"},children:[xe.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"10px",alignItems:"center"},children:[xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",background:"white",padding:"5px",borderRadius:"4px",border:"1px solid #eee"},children:[xe.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"#7f8c8d"},children:"L:"}),xe.jsx("input",{type:"number",min:"3",max:"50",value:C,onChange:z=>k(b,parseInt(z.target.value)||3),style:{width:"40px",textAlign:"center",border:"1px solid #ccc",borderRadius:"3px"}}),xe.jsx("span",{style:{color:"#ccc"},children:"x"}),xe.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"bold",color:"#7f8c8d"},children:"H:"}),xe.jsx("input",{type:"number",min:"3",max:"50",value:b,onChange:z=>k(parseInt(z.target.value)||3,C),style:{width:"40px",textAlign:"center",border:"1px solid #ccc",borderRadius:"3px"}})]}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[xe.jsx("label",{style:{fontSize:"0.8rem"},children:"Dir:"}),xe.jsx("input",{type:"range",min:"0",max:"3",step:"1",value:d.dir,onChange:z=>R(z.target.value),style:{width:"50px"}}),xe.jsx("span",{style:{fontSize:"1.2rem",transform:`rotate(${q}deg)`,display:"inline-block"},children:""})]})]}),xe.jsxs("div",{className:"editor-toolbar",style:{display:"flex",justifyContent:"center",gap:"5px",margin:0,boxShadow:"none",background:"transparent",padding:0},children:[xe.jsx("button",{onClick:()=>a(2),className:`tool-btn ${n===2?"active":""}`,style:{padding:"4px 8px",fontSize:"0.8rem",border:n===2?"2px solid #27ae60":"1px solid #ccc"},children:" Dpart"}),x.map(z=>xe.jsxs("button",{onClick:()=>a(z.id),className:`tool-btn ${n===z.id?"active":""}`,style:{padding:"4px 8px",fontSize:"0.8rem",border:n===z.id?"2px solid #3498db":"1px solid #ccc"},children:[z.icon," ",z.label]},z.id))]})]}),xe.jsx("div",{style:{flex:1,padding:"20px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",background:"#e0e0e0"},children:xe.jsx("div",{className:"editor-grid",style:{display:"grid",gridTemplateColumns:`repeat(${C}, 1fr)`,gap:"1px",padding:"2px",backgroundColor:"#34495e",aspectRatio:`${C} / ${b}`,width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",margin:"auto"},children:m.map((z,fe)=>z.map((ve,ge)=>{const re=ve===2;return xe.jsxs("div",{onClick:()=>E(fe,ge),style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",background:ve===4?"#2c3e50":ve===2?"#2ecc71":"#fff",position:"relative",overflow:"hidden"},children:[xe.jsx("span",{style:{fontSize:`min(40px, ${60/Math.max(b,C)}vmin)`,opacity:re?.3:1},children:ve===2?"":Uo.THEME[ve]}),re&&xe.jsx("div",{style:{position:"absolute",transform:`rotate(${q}deg)`,fontSize:`min(40px, ${60/Math.max(b,C)}vmin)`,transition:"transform 0.2s"},children:Uo.THEME.PLAYER})]},`${fe}-${ge}`)}))})})]})}function t$({levelData:o,onUpdate:s}){const[n,a]=Dn.useState(""),[d,m]=Dn.useState(0),b=o.inputs||{},C=o.hiddenVars||[],x=o.lockedVars||[],k=o.targets||{};Dn.useEffect(()=>{const re=Object.keys(b),ke=Object.keys(k).filter(Be=>!re.includes(Be));if(ke.length>0){console.log(" Nettoyage cibles orphelines :",ke);const Be={...k};ke.forEach(Ke=>delete Be[Ke]),s({...o,targets:Be})}},[b,k]);const E=re=>{if(typeof re=="string"){const ie=re.trim();if(ie.startsWith("[")&&ie.endsWith("]"))try{return JSON.parse(ie)}catch{return re}if(ie.startsWith("@")||ie===""||ie.endsWith(".")||ie.endsWith(","))return re;const ke=Number(ie.replace(",","."));if(!isNaN(ke))return ke}return re},R=()=>{if(!n)return;const re={...b,[n]:E(d)};s({...o,inputs:re}),a(""),m(0)},q=re=>{const ie={...b};delete ie[re];const ke=C.filter(ye=>ye!==re),Be=x.filter(ye=>ye!==re),Ke={...k};delete Ke[re],s({...o,inputs:ie,hiddenVars:ke,lockedVars:Be,targets:Ke})},z=re=>{let ie=[...C],ke=[...x];const Be=C.includes(re),Ke=x.includes(re);!Be&&!Ke?ke.push(re):Ke?(ke=ke.filter(ye=>ye!==re),ie.push(re)):ie=ie.filter(ye=>ye!==re),s({...o,hiddenVars:ie,lockedVars:ke})},fe=(re,ie)=>{const ke={...b,[re]:E(ie)};s({...o,inputs:ke})},ve=re=>{const ie={...k};ie[re]!==void 0?delete ie[re]:ie[re]=b[re],s({...o,targets:ie})},ge=(re,ie)=>{const ke={...k,[re]:E(ie)};s({...o,targets:ke})};return xe.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #ddd"},children:[xe.jsx("h4",{style:{marginTop:0,color:"#2c3e50"},children:" Configuration Labo"}),xe.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[xe.jsxs("div",{children:[xe.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"1. Variables (Mmoire)"}),xe.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px"},children:[xe.jsx("input",{type:"text",placeholder:"Nom (x)",value:n,onChange:re=>a(re.target.value),style:{flex:1,padding:"5px",width:"50px"}}),xe.jsx("input",{type:"text",placeholder:"Val (0)",value:d,onChange:re=>m(re.target.value),style:{flex:1,padding:"5px",width:"50px"}}),xe.jsx("button",{onClick:R,style:{cursor:"pointer",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",padding:"0 10px"},children:"ok"})]}),Object.entries(b).map(([re,ie])=>{const ke=C.includes(re),Be=x.includes(re);let Ke="",ye="white";Be&&(Ke="",ye="#fff3cd"),ke&&(Ke="",ye="#eee");const Ve=typeof ie=="object"?JSON.stringify(ie):ie;return xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px",background:ye,padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[xe.jsx("button",{onClick:()=>z(re),style:{border:"none",background:"none",cursor:"pointer"},children:Ke}),xe.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:re}),xe.jsx("span",{style:{color:"#888"},children:"="}),xe.jsx("input",{type:"text",value:Ve,onChange:st=>fe(re,st.target.value),style:{flex:1,border:"1px solid #ddd",borderRadius:"3px",padding:"2px"}}),xe.jsx("button",{onClick:()=>q(re),style:{color:"#e74c3c",border:"none",background:"none",cursor:"pointer"},children:""})]},re)})]}),xe.jsxs("div",{children:[xe.jsx("h5",{style:{margin:"0 0 10px 0",borderBottom:"1px solid #eee"},children:"2. Objectifs (Fin)"}),Object.keys(b).map(re=>{const ie=k[re]!==void 0,ke=k[re],Be=typeof ke=="object"?JSON.stringify(ke):ke??"";return xe.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",opacity:ie?1:.5},children:[xe.jsx("input",{type:"checkbox",checked:ie,onChange:()=>ve(re),style:{marginRight:"8px"}}),xe.jsx("span",{style:{fontWeight:"bold",width:"30px"},children:re}),ie&&xe.jsxs(xe.Fragment,{children:[xe.jsx("span",{style:{marginRight:"5px"},children:"="}),xe.jsx("input",{type:"text",value:Be,onChange:Ke=>ge(re,Ke.target.value),style:{width:"80px",padding:"2px",borderColor:"#27ae60",borderStyle:"solid",borderWidth:"1px",borderRadius:"3px"}})]})]},re)})]})]})]})}const Pu=300;function n$({levelData:o,onUpdate:s}){const n=o.startPos?.x??0,a=o.startPos?.y??0,d=o.startPos?.dir??0,m=(k,E)=>{const R={x:n,y:a,dir:d,...o.startPos,[k]:parseInt(E)||0};s({...o,startPos:R})},b=k=>Pu/2+k,C=k=>Pu/2-k,x=d;return xe.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[xe.jsxs("div",{style:{width:Pu,height:Pu,background:"white",border:"1px solid #ccc",borderRadius:"8px",position:"relative",overflow:"hidden",margin:"0 auto",boxShadow:"inset 0 0 20px rgba(0,0,0,0.05)"},children:[xe.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},children:[xe.jsx("defs",{children:xe.jsx("pattern",{id:"gridSmall",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:xe.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#f0f0f0",strokeWidth:"1"})})}),xe.jsx("rect",{width:"100%",height:"100%",fill:"url(#gridSmall)"}),xe.jsx("line",{x1:Pu/2,y1:"0",x2:Pu/2,y2:Pu,stroke:"#ccc",strokeWidth:"1"}),xe.jsx("line",{x1:"0",y1:Pu/2,x2:Pu,y2:Pu/2,stroke:"#ccc",strokeWidth:"1"})]}),xe.jsx("div",{style:{position:"absolute",left:b(n),top:C(a),width:"40px",height:"40px",marginLeft:"-20px",marginTop:"-20px",transform:`rotate(${x}deg)`,transformOrigin:"center center",transition:"all 0.2s ease"},children:xe.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[xe.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#2c3e50",strokeWidth:"3",fill:"rgba(255,255,255,0.8)"}),xe.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#2c3e50"})]})})]}),xe.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #eee"},children:[xe.jsx("h4",{style:{marginTop:0,color:"#2c3e50"},children:" Position de dpart"}),xe.jsxs("div",{style:{marginBottom:"15px",display:"flex",gap:"10px",justifyContent:"center"},children:[xe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[xe.jsx("label",{style:{fontSize:"0.8rem",color:"#777"},children:"X"}),xe.jsx("input",{type:"number",value:n,onChange:k=>m("x",k.target.value),style:{width:"60px",padding:"5px",textAlign:"center"}})]}),xe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[xe.jsx("label",{style:{fontSize:"0.8rem",color:"#777"},children:"Y"}),xe.jsx("input",{type:"number",value:a,onChange:k=>m("y",k.target.value),style:{width:"60px",padding:"5px",textAlign:"center"}})]})]}),xe.jsxs("div",{style:{marginBottom:"5px"},children:[xe.jsxs("label",{style:{display:"block",marginBottom:"5px",fontSize:"0.9rem",fontWeight:"bold",textAlign:"center"},children:["Direction : ",d,""]}),xe.jsx("input",{type:"range",min:"0",max:"360",step:"90",value:d,onChange:k=>m("dir",k.target.value),style:{width:"100%",cursor:"pointer"}}),xe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",color:"#999"},children:[xe.jsx("span",{children:"0 (Est)"}),xe.jsx("span",{children:"90 (Sud)"}),xe.jsx("span",{children:"180 (Ouest)"}),xe.jsx("span",{children:"270 (Nord)"})]})]})]})]})}var o5={exports:{}},r$=o5.exports,R8;function S5(){return R8||(R8=1,(function(o,s){(function(n,a){o.exports=a()})(r$,function(){var n={},a,d,m,b,C,x,k,E,R,q,z,fe,ve,ge,re,ie,ke,Be,Ke,ye,Ve,st,Xe,Qt,It,De,Bt,kt,nt,Ze,vt,ft,Ut,le,ze,ct,Se,Jt,Ot,sn,yn,hr,Yn,an,Xn,ht,tn,Wr,Jn,pr,on,Ti,Bi,Zn,ss,vi,sr,Vn,F,ee,Ce,Ne,et,Je,xt,St,O,oe,Le,Me,Nt,Cn,Qr,ds,fs,H,me,Pe,Qe,Dt,dn,Hn,Sr,Al,yo,br,L,V,Kt,_,B,Y,j,_e,J,Te,He,Ye,it,Q,Rt,Ee,wn,kn,Nr,cr,On,Ji,ii,fn,xr,Ms,si,Ir,Zt,ce,xi,ps,dr,Lr,$n,er,Ur,Ea,Xs,jn,h,w,D,U,te,ae,Ae,pe,dt,Ct,bt,hn,Wt,nn,Sn,gn,Pt,tr,Pn,Kn,Dr,rr,ei,js,rs,Fn,oi,Ci,Pi,Zi,ti,Wn,Yr,di,co,ni,Bs,To,jt,ki,Vi,Zl,Ql,Ps,Rs,qr,ws,Go,Il,Ml,Rl,tu,ho,Xc,jc,rh,Ju,al,mr,nu,H0,wa,Zu,p0,m0,Yc,g0,Sa,G0,Qu,$0,Ol,ec,tc,ru,xa,Ca,V0,Nl,ka,iu,ul,y,I,ne,$e,Re,qe,lt,Et,Gt,qt,pn,At,Un,Nn,Gn,Qn,yr,Br,en,Mn,Mr,or,Xr,li,Kr,ri,Jr,bi,Pr,Fi,ms,Ss,yi,Fs,fo,xs,kr,os,ue,_i,Qi,cl,no,po,Ys,ls,lr,Ks,Ai,mo,e0,Ll,v0,Ko,nc,Dl,hl,rc,_o,ic,Bl,Zh,W0,b0,su,q0,y0,Aa,Jo,Ia,Pl,sc,X0,Eo,Vo,t0,Wo,Zo,No,oc,lc,Fl,ac,es,Wi,Hr,T0,zs,n0,r0,ih,sh,Ma,i0,Kc,Ra,uc,j0,zl,_0,Ul,Oa,Qo,E0,ou,el,Js,lu,au,cc,Jc,oh,is,hc,w0,S0,Zc,Na,Y0,Qc,Ln,tl,ro,Ii,dl,g,f,$,S,N,G,K,he,we,Ue,rt,at,_t,Yt,bn,An,Rr,gr,Tr,ai,jr,zi,gs,as,$s,Or,fi,pi,Mi,ui,qi,go,K0,uu,dc,e1,x0,nl,fl,J0,Qh,ed,La,qo,Us,lh,Hl,Cr,Ui,Os,fc,Da,Z0,t1,n1,cu,td,vs,nd,r1,C4,rd,h3,Q0,ah,pc,Lo,Ns,mc,gc,i1,uh,C0,s1,ch,hh,id,sd,k4,A4,I4,M4,od,R4,d3,O4,N4,ld,dh,ad,ud,cd,hd,dd,fd,o1,hu,L4,l1,a1,pd,fh,D4,md,gd,$d,vd,bd,yd,B4,Td,_d,P4,F4,f3,yt;a=function(e,t,i,u){if(!(e instanceof Ft)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const v=t.toLowerCase();if(!i)throw Error("Can not register a null value");let M=Ba[e],Z=u1[e];if(M||(M=Ba[e]=Object.create(null),Z=u1[e]=Object.create(null)),d(e,i),!u&&M[v]&&M[v]!==i)throw Error('Name "'+v+'" with type "'+e+'" already registered.');M[v]=i,Z[v]=t},d=function(e,t){switch(e){case String(Ft.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},m=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const i=Ba[e];i&&i[t]?(delete Ba[e][t],delete u1[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},b=function(e,t,i){e=`${e}`.toLowerCase(),t=t.toLowerCase();const u=Ba[e];if(!u||!u[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",i)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return u[t]},C=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=Ba[e])?!!e[t]:!1},x=function(e,t,i){return b(e,t,i)},k=function(e,t,i){return b(e,t,i)},E=function(e,t,i){e=`${e}`.toLowerCase();var u=Ba[e];if(!u){if(u=`Unable to find [${e}] in the registry.`,i)throw Error(`${u} You must require or register a ${e} plugin.`);return console.warn(u),null}if(!t)return u;e=u1[e],i=Object.create(null);for(const v of Object.keys(u))i[e[v]]=u[v];return i},R=function(e,t,i){return t=t.plugins[String(e)]||pl,typeof t=="function"?t:x(e,t,i)},q=function(e,t){z(),ph=setTimeout(function(){t&&t.handleRightClick(e)},m3)},z=function(){ph&&(clearTimeout(ph),ph=0)},fe=function(){h1=null},ve=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&re(e)},ge=function(e){return`${e.pointerId}`},re=function(e){const t=ge(e);return h1?h1===t:e.type==="pointerdown"?(h1=t,!0):!1},ie=function(e,t,i,u,v){function M(Ie){(v||ve(Ie))&&(i?u.call(i,Ie):u(Ie))}const Z=[];if(t in ea)for(let Ie=0;Ie<ea[t].length;Ie++){const Lt=ea[t][Ie];e.addEventListener(Lt,M,!1),Z.push([e,Lt,M])}else e.addEventListener(t,M,!1),Z.push([e,t,M]);return Z},ke=function(e,t,i,u){function v(Z){i?u.call(i,Z):u(Z)}const M=[];if(t in ea)for(let Z=0;Z<ea[t].length;Z++){const Ie=ea[t][Z];e.addEventListener(Ie,v,!1),M.push([e,Ie,v])}else e.addEventListener(t,v,!1),M.push([e,t,v]);return M},Be=function(e){const t=e[e.length-1][2];for(;e.length;){const[i,u,v]=e.pop();i.removeEventListener(u,v,!1)}return t},Ke=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},ye=function(e){return e.ctrlKey&&xd?!0:e.button===2},Ve=function(e,t,i){const u=t.createSVGPoint();return u.x=e.clientX,u.y=e.clientY,i||(i=t.getScreenCTM().inverse()),u.matrixTransform(i)},st=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*Zs,y:e.deltaY*Zs};case 2:return{x:e.deltaX*wo,y:e.deltaY*wo}}},Xe=function(){return"blockly-"+(v3++).toString(36)},Qt=function(){return m1.genUid()},It=function(e){return e.type===pt.BLOCK_CREATE},De=function(e){return e.type===pt.BLOCK_DELETE},Bt=function(e){return e.type===pt.BLOCK_CHANGE},kt=function(e){return e.type===pt.BLOCK_FIELD_INTERMEDIATE_CHANGE},nt=function(e){return e.type===pt.BLOCK_MOVE},Ze=function(e){return e.type===pt.CLICK},vt=function(e){return e.type===pt.BUBBLE_OPEN},ft=function(e){return e.type===pt.VIEWPORT_CHANGE},n.setRecordUndo$$module$build$src$core$events$utils=function(e){gh=e},Ut=function(){return gh},le=function(e){K4.fireInternal(e)},ze=function(e){if(sn()){if(!na.length)try{requestAnimationFrame(()=>{setTimeout(ct,0)})}catch{setTimeout(ct,0)}Se(e)}},ct=function(){const e=Jt(na);na.length=0;for(const t of e){if(!t.workspaceId)continue;let i;(i=et(t.workspaceId))==null||i.fireChangeListener(t)}},Se=function(e){if(Bt(e)&&e.element==="mutation"){let t;for(t=na.length;t>0;t--){const i=na[t-1];if(i.group!==e.group||i.workspaceId!==e.workspaceId||!nt(i)||i.newParentId!==e.blockId)break}na.splice(t,0,e)}else na.push(e)},Jt=function(e){const t=[];for(const i of e)if(e=t[t.length-1],!i.isNull())if(e&&e.workspaceId===i.workspaceId&&e.group===i.group)if(nt(i)&&nt(e)&&i.blockId===e.blockId){if(e.newParentId=i.newParentId,e.newInputName=i.newInputName,e.newCoordinate=i.newCoordinate,e.reason||i.reason){let u,v;e.reason=Array.from(new Set(((u=e.reason)!=null?u:[]).concat((v=i.reason)!=null?v:[])))}}else Bt(i)&&Bt(e)&&i.blockId===e.blockId&&i.element===e.element&&i.name===e.name?e.newValue=i.newValue:ft(i)&&ft(e)?(e.viewTop=i.viewTop,e.viewLeft=i.viewLeft,e.scale=i.scale,e.oldScale=i.oldScale):Ze(i)&&vt(e)||t.push(i);else t.push(i);return e=t.filter(i=>!i.isNull())},Ot=function(){for(let e=0,t;t=na[e];e++)t.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){$1++},n.enable$$module$build$src$core$events$utils=function(){$1--},sn=function(){return $1===0},n.getGroup$$module$build$src$core$events$utils=function(){return Y4},n.setGroup$$module$build$src$core$events$utils=function(e){K4.setGroupInternal(e)},yn=function(e){Y4=typeof e=="boolean"?e?Qt():"":e},hr=function(e){const t=[];e=e.getDescendants(!1);for(let i=0,u;u=e[i];i++)t[i]=u.id;return t},Yn=function(e,t){const i=an(e.type);if(!i)throw Error("Unknown event type.");return i.fromJson(e,t)},an=function(e){const t=x(Ft.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},Xn=function(e){if((nt(e)||It(e))&&e.workspaceId){var t=et(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const i=gh;try{gh=!1;const u=e.getParent();if(u&&!u.hasDisabledReason($h)){const v=e.getDescendants(!1);for(let M=0,Z;Z=v[M];M++)Z.setDisabledReason(!1,$h)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setDisabledReason(!0,$h),e=e.getNextBlock();while(e)}finally{gh=i}}}},ht=function(e,t,i){e=document.createElementNS(v1,`${e}`);for(const u in t)e.setAttribute(u,`${t[u]}`);return i&&i.appendChild(e),e},tn=function(e,t){return t=t.split(" "),t.every(i=>e.classList.contains(i))?!1:(e.classList.add(...t),!0)},Wr=function(e,t){e.classList.remove(...t.split(" "))},Jn=function(e,t){return t=t.split(" "),t.every(i=>!e.classList.contains(i))?!1:(e.classList.remove(...t),!0)},pr=function(e,t){return e.classList.contains(t)},on=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},Ti=function(e,t){const i=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");i?t.insertBefore(e,i):t.appendChild(e)},Bi=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},Zn=function(){vh++,s0||(s0=Object.create(null))},ss=function(){vh--,vh||(s0=null)},vi=function(e){const t=e.textContent+`
`+e.className.baseVal;var i;return s0&&(i=s0[t])||(i=window.getComputedStyle(e),i=Vn(e,i.fontSize,i.fontWeight,i.fontFamily),s0&&(s0[t]=i)),i},sr=function(e,t,i,u){return Vn(e,t+"pt",i,u)},Vn=function(e,t,i,u){const v=e.textContent;e=v+`
`+e.className.baseVal;var M;return s0&&(M=s0[e])||(pu||(M=document.createElement("canvas"),M.className="blocklyComputeCanvas",document.body.appendChild(M),pu=M.getContext("2d")),v&&pu?(pu.font=i+" "+t+" "+u,M=pu.measureText(v).width):M=0,s0&&(s0[e]=M)),M},F=function(e,t,i,u){const v=document.createElement("span");v.style.font=i+" "+t+" "+u,v.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(v),t.appendChild(e),document.body.appendChild(t),i={height:0,baseline:0};try{t.style.alignItems="baseline",i.baseline=e.offsetTop-v.offsetTop,t.style.alignItems="flex-end",i.height=e.offsetTop-v.offsetTop}finally{document.body.removeChild(t)}return i},n.getFocusManager$$module$build$src$core$focus_manager=function(){return So.getFocusManager()},ee=function(e){return e&&typeof e.getFocusableElement=="function"&&typeof e.getFocusableTree=="function"&&typeof e.onNodeFocus=="function"&&typeof e.onNodeBlur=="function"&&typeof e.canBeFocused=="function"},Ce=function(e){return ee(e)&&typeof e.id=="string"&&typeof e.workspace=="object"&&typeof e.select=="function"&&typeof e.unselect=="function"},Ne=function(e,t){for(const i in t)t[i]!==null&&Array.isArray(t[i])?e[i]=Ne(e[i]||[],t[i]):e[i]=t[i]!==null&&typeof t[i]=="object"?Ne(e[i]||Object.create(null),t[i]):t[i];return e},et=function(e){return bh[e]||null},Je=function(){const e=[];for(const t in bh)e.push(bh[t]);return e},xt=function(e){bh[e.id]=e},St=function(e){delete bh[e.id]},O=function(){return Z4},oe=function(e){Z4=e},Le=function(){const e=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();return e&&Ce(e)?e:null},Me=function(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)},Nt=function(e){const t=Le();let i,u,v,M;const Z=new(an(pt.SELECTED))((i=t?.id)!=null?i:null,(u=e?.id)!=null?u:null,(M=(v=e?.workspace.id)!=null?v:t?.workspace.id)!=null?M:"");le(Z)},Cn=function(){return ia},Qr=function(e){ia=e},ds=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),i=e.getCachedParentSvgSize();var u=t.parentElement;if(u instanceof HTMLElement){var v=u.offsetWidth;u=u.offsetHeight,i.width!==v&&(t.setAttribute("width",v+"px"),e.setCachedParentSvgSize(v,null)),i.height!==u&&(t.setAttribute("height",u+"px"),e.setCachedParentSvgSize(null,u)),e.resize()}},fs=function(e,t){const i=Object.create(null),u=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=u.indexOf(e),u.splice(e,u.length-e));for(let v=0,M;M=u[v];v++)i[M.type]?i[M.type]++:i[M.type]=1;return i},H=function(e){return function(){this.jsonInit(e)}},me=function(e){Q4.defineBlocksWithJsonArrayInternal(e)},Pe=function(e){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let i=0;i<e.length;i++){const u=e[i];if(!u){console.warn(`Block definition #${i} in JSON array is ${u}. Skipping`);continue}const v=u.type;v?t[v]={init:H(u)}:console.warn(`Block definition #${i} in JSON array is missing a type attribute. Skipping.`)}return t},n.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const i=e[t];t in bs&&console.warn(`Block definition "${t}" overwrites previous definition.`),bs[t]=i}},Qe=function(e){let t=O();const i=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedTree();for(const u of Je())if(i===u){t=u;break}!Ke(e)&&t&&(!t.rendered||t.isFlyout||t.isVisible())&&Hi.registry.onKeyDown(t,e)},Dt=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},dn=function(e){if(Cd)throw Error("CSS already injected");kd+=`
`+e},Hn=function(e,t){Cd||(Cd=!0,e&&(e=t.replace(/[\\/]$/,""),t=kd.replace(/<<<PATH>>>/g,e),kd="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},Sr=function(e){return Ad.getSizeInternal(e)},Al=function(e){if(br(e,"display")!=="none")return yo(e);const t=e.style,i=t.display,u=t.visibility,v=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const M=e.offsetWidth;return e=e.offsetHeight,t.display=i,t.position=v,t.visibility=u,new _r(M,e)},yo=function(e){return new _r(e.offsetWidth,e.offsetHeight)},br=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},L=function(e){const t=new Vt(0,0);e=e.getBoundingClientRect();var i=document.documentElement;return i=new Vt(window.pageXOffset||i.scrollLeft,window.pageYOffset||i.scrollTop),t.x=e.left+i.x,t.y=e.top+i.y,t},V=function(){const e=document.body,t=document.documentElement;return new Vt(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},Kt=function(e){const t=parseFloat(br(e,"borderLeftWidth")),i=parseFloat(br(e,"borderRightWidth")),u=parseFloat(br(e,"borderTopWidth"));return e=parseFloat(br(e,"borderBottomWidth")),new $r(u,e,t,i)},_=function(e,t,i){e=B(e,t,i),t.scrollLeft=e.x,t.scrollTop=e.y},B=function(e,t,i){var u=L(e),v=L(t),M=Kt(t);const Z=u.x-v.x-M.left;return u=u.y-v.y-M.top,v=yo(e),e=t.clientWidth-v.width,v=t.clientHeight-v.height,M=t.scrollLeft,t=t.scrollTop,i?(M+=Z-e/2,t+=u-v/2):(M+=Math.min(Z,Math.max(Z-e,0)),t+=Math.min(u,Math.max(u-v,0))),new Vt(M,t)},Y=function(e){const t=new Vt(0,0);var i=e.x&&e.getAttribute("x");const u=e.y&&e.getAttribute("y");return i&&(t.x=parseInt(i)),u&&(t.y=parseInt(u)),(i=(i=e.getAttribute("transform"))&&i.match(yh))&&(t.x+=Number(i[1]),i[3]&&(t.y+=Number(i[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(r2))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},j=function(e){let t=0,i=0;for(;e;){const u=Y(e);if(t+=u.x,i+=u.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new Vt(t,i)},_e=function(){const e=V();return new $r(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},J=function(){const e=document.documentElement,t=window;return new Vt(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Te=function(e,t){var i=t.x;t=t.y;const u=e.getInjectionDiv().getBoundingClientRect();return i=new Vt(i-u.left,t-u.top),t=e.getOriginOffsetInPixels(),Vt.difference(i,t).scale(1/e.scale)},He=function(e,t){var i=t.scale(e.scale);t=i.x,i=i.y;const u=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Vt(t+u.left+e.x,i+u.top+e.y)},Ye=function(e){({document:Id=Id,DOMParser:b1=b1,XMLSerializer:y1=y1}=e),Th=new b1,so=new y1},n.createElement$$module$build$src$core$utils$xml=function(e){return Id.createElementNS(ys,e)},n.createTextNode$$module$build$src$core$utils$xml=function(e){return Id.createTextNode(e)},n.textToDom$$module$build$src$core$utils$xml=function(e){let t=Th.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=Th.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},it=function(e){return Q(so.serializeToString(e))},Q=function(e){return e.replace(ml,t=>`&#${t.charCodeAt(0)};`)},Rt=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=fn(e),e=On(e)),Ee(e),e):null},Ee=function(e){const t=e.kind;if(e=e.contents,t&&t!==i2&&t!==Md)throw Error("Invalid toolbox kind "+t+". Please supply either "+i2+" or "+Md);if(!e)throw Error("Toolbox must have a contents attribute.")},wn=function(e){return e?e.contents?e.contents:Array.isArray(e)&&e.length>0&&!e[0].nodeType?e:Ji(e):[]},kn=function(e){return b3.hasCategoriesInternal(e)},Nr=function(e){if(!e)return!1;const t=e.kind;return t?t===Md:!!e.contents.filter(i=>i.kind.toUpperCase()==="CATEGORY").length},cr=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},On=function(e){const t={contents:Ji(e)};return e instanceof Node&&ii(e,t),t},Ji=function(e){const t=[];let i=e.childNodes;i||(i=e);for(let u=0,v;v=i[u];u++){if(!v.tagName)continue;e={};const M=v.tagName.toUpperCase();e.kind=M,M==="BLOCK"?e.blockxml=v:v.childNodes&&v.childNodes.length>0&&(e.contents=Ji(v)),ii(v,e),t.push(e)}return t},ii=function(e,t){for(let i=0;i<e.attributes.length;i++){const u=e.attributes[i];u.nodeName.includes("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[u.nodeName.replace("css-","")]=u.value):t[u.nodeName]=u.value}},fn=function(e){let t=null;if(e)if(typeof e=="string"){if(t=n.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},xr=function(e,t,i,u,v,M){const Z=M.scrollbar&&M.scrollbar.canScrollVertically();return e.horizontal===Xo.LEFT?(i=v.absoluteMetrics.left+i,Z&&M.RTL&&(i+=Cs.scrollbarThickness)):(i=v.absoluteMetrics.left+v.viewMetrics.width-t.width-i,Z&&!M.RTL&&(i-=Cs.scrollbarThickness)),e.vertical===Gs.TOP?e=v.absoluteMetrics.top+u:(e=v.absoluteMetrics.top+v.viewMetrics.height-t.height-u,M.scrollbar&&M.scrollbar.canScrollHorizontally()&&(e-=Cs.scrollbarThickness)),new $r(e,e+t.height,i,i+t.width)},Ms=function(e,t){return{horizontal:t.toolboxMetrics.position===Er.LEFT||e.horizontalLayout&&!e.RTL?Xo.RIGHT:Xo.LEFT,vertical:t.toolboxMetrics.position===Er.BOTTOM?Gs.TOP:Gs.BOTTOM}},si=function(e,t,i,u){const v=e.left,M=e.right-e.left,Z=e.bottom-e.top;for(let Ie=0;Ie<u.length;Ie++){const Lt=u[Ie];e.intersects(Lt)&&(e=i===Ua.UP?Lt.top-Z-t:Lt.bottom+t,e=new $r(e,e+Z,v,v+M),Ie=-1)}return e},Ir=function(e,t){a(Ft.SERIALIZER,e,t)},Zt=function(e){m(Ft.SERIALIZER,e)},ce=function(e,{addCoordinates:t=!1,saveIds:i=!0}={}){const u=e.workspace,v=Object.create(null);return v.height=e.getSize().height,v.width=e.getSize().width,i&&(v.id=e.id),t&&(t=e.getRelativeToSurfaceXY(),v.x=u.RTL?u.getWidth()-t.x:t.x,v.y=t.y),e.getText()&&(v.text=e.getText()),e.isCollapsed()&&(v.collapsed=!0),e.isOwnEditable()||(v.editable=!1),e.isOwnMovable()||(v.movable=!1),e.isOwnDeletable()||(v.deletable=!1),v},xi=function(e,t,{recordUndo:i=!1}={}){const u=Ut();if(n.setRecordUndo$$module$build$src$core$events$utils(i),i=t.newComment(e.id),e.text!==void 0&&i.setText(e.text),e.x!==void 0||e.y!==void 0){const M=i.getRelativeToSurfaceXY();let Z,Ie=(Z=e.x)!=null?Z:M.x;Ie=t.RTL?t.getWidth()-Ie:Ie;var v;t=(v=e.y)!=null?v:M.y,i.moveTo(new Vt(Ie,t))}if(e.width!==void 0||e.height){v=i.getSize();let M,Z;i.setSize(new _r((M=e.width)!=null?M:v.width,(Z=e.height)!=null?Z:v.height))}return e.collapsed!==void 0&&i.setCollapsed(e.collapsed),e.editable!==void 0&&i.setEditable(e.editable),e.movable!==void 0&&i.setMovable(e.movable),e.deletable!==void 0&&i.setDeletable(e.deletable),n.setRecordUndo$$module$build$src$core$events$utils(u),i},ps=function(e,t){a(Ft.PASTER,e,t)},dr=function(e){m(Ft.PASTER,e)},Lr=function(e){const t=e.workspace,i=e.getRelativeToSurfaceXY(),u=new Vt(0,0),v=t.getTopComments(!1).filter(M=>M.id!==e.id).map(M=>M.getRelativeToSurfaceXY());for(;$n(Vt.sum(i,u),v);)u.translate(t.RTL?-30:30,30);e.moveTo(Vt.sum(i,u))},$n=function(e,t){return t.some(i=>Math.abs(i.x-e.x)<=1&&Math.abs(i.y-e.y)<=1)},er=function(e,t){e.setAttribute(_h,t)},Ur=function(e,t,i){Array.isArray(i)&&(i=i.join(" ")),e.setAttribute(y3+t,`${i}`)},Ea=function(e){return e&&typeof e.saveState=="function"&&typeof e.loadState=="function"},Xs=function(e){return D(e),w()?(U(),Promise.resolve()):(vu||(vu=new Promise(t=>{M0=t,Ls=window.requestAnimationFrame(()=>{U(),t()})})),vu)},jn=function(){return vu||Promise.resolve()},h=function(e){e||window.cancelAnimationFrame(Ls),U(e),!e&&M0&&M0()},w=function(){return V4},D=function(e){ua.add(e),$u.set(e,n.getGroup$$module$build$src$core$events$utils());const t=e.getParent();t?D(t):Yo.add(e)},U=function(e){const t=e?new Set([e]):new Set([...Yo].map(M=>M.workspace)),i=[...Yo].filter(ae).filter(M=>t.has(M.workspace));for(var u of i)Ae(u);for(const M of t)M.resizeContents();for(var v of i)u=v.getRelativeToSurfaceXY(),v.updateComponentLocations(u);for(const M of i)v=n.getGroup$$module$build$src$core$events$utils(),(u=$u.get(M))&&n.setGroup$$module$build$src$core$events$utils(u),M.bumpNeighbours(),n.setGroup$$module$build$src$core$events$utils(v);for(const M of i)te(M);e||(vu=null)},te=function(e){Yo.delete(e),ua.delete(e),$u.delete(e);for(const t of e.getChildren(!1))te(t)},ae=function(e){return!e.isDisposed()&&!e.getParent()},Ae=function(e){if(ua.has(e)&&e.initialized){for(const t of e.getChildren(!1))Ae(t);e.renderEfficiently()}},pe=function(e,t){Eh(e,t)},dt=function(e=Pd){Eh=e},Ct=function(e,t){wh(e,t)},bt=function(e=o2){wh=e},hn=function(e,t,i){Va(e,t,i)},Wt=function(e=Sh){Va=e},nn=function(e,t){Wa(e,t)},Sn=function(e=ao){Wa=e},gn=function(e){return e&&typeof e.getProcedureDef=="function"},Pt=function(e){return e&&typeof e.getProcedureCall=="function"&&typeof e.renameProcedure=="function"},tr=function(e){return e.getVariableModel!==void 0},Pn=function(e,t,i,u){e=e+" was deprecated in "+t+" and will be deleted in "+i+".",u&&(e+=`
Use `+u+" instead."),ca.has(e)||(ca.add(e),console.warn(e))},n.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let i=0;i<e.length;i++){const u=e[i].getVarModels();if(u)for(let v=0;v<u.length;v++){const M=u[v];M.getId()&&t.add(M)}}return Array.from(t.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let u=0,v;v=e[u];u++){var i=v.getDeveloperVariables;if(i){i=i();for(let M=0;M<i.length;M++)t.add(i[M])}}return Array.from(t.values())},Kn=function(e){return Dr(e,!1)},Dr=function(e,t=!0){return bs.variables_set||bs.variables_get||console.warn("There are no variable blocks, but there is a variable category."),t?(Pn("The XML return value of Blockly.Variables.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),js(e)):(e.registerButtonCallback("CREATE_VARIABLE",function(i){Pi(i.getTargetWorkspace())}),[{kind:"button",text:"%{BKY_NEW_VARIABLE}",callbackkey:"CREATE_VARIABLE"},...ei(e,e.getVariableMap().getVariablesOfType(""),!0)])},rr=function(e){return{VAR:{name:e.getName(),type:e.getType()}}},ei=function(e,t,i,u="variables_get",v="variables_set"){i&&(i=bs.math_change),e=[];const M=t.slice(-1)[0];return M&&(bs[v]&&e.push({kind:"block",type:v,gap:i?8:24,fields:rr(M)}),i&&e.push({kind:"block",type:"math_change",gap:bs[u]?20:8,fields:rr(M),inputs:{DELTA:{shadow:{type:"math_number",fields:{NUM:1}}}}})),bs[u]&&e.push(...t.sort(jt).map(Z=>({kind:"block",type:u,gap:8,fields:rr(Z)}))),e},js=function(e){let t=[];const i=document.createElement("button");return i.setAttribute("text","%{BKY_NEW_VARIABLE}"),i.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(u){Pi(u.getTargetWorkspace())}),t.push(i),e=rs(e),t=t.concat(e)},rs=function(e){e=e.getVariableMap().getVariablesOfType("");const t=[];if(e.length>0){var i=e[e.length-1];if(bs.variables_set){var u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set"),u.setAttribute("gap",bs.math_change?"8":"24"),u.appendChild(ni(i)),t.push(u)}if(bs.math_change&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","math_change"),u.setAttribute("gap",bs.variables_get?"20":"8"),u.appendChild(ni(i)),i=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),u.appendChild(i),t.push(u)),bs.variables_get){e.sort(jt);for(let v=0,M;M=e[v];v++)i=n.createElement$$module$build$src$core$utils$xml("block"),i.setAttribute("type","variables_get"),i.setAttribute("gap","8"),i.appendChild(ni(M)),t.push(i)}}return t},Fn=function(e){return E1.generateUniqueNameInternal(e)},oi=function(e){return Ci(zd.charAt(0),e.getVariableMap().getAllVariables().map(t=>t.getName()))},Ci=function(e,t){if(!t.length)return e;const i=zd;let u="",v=i.indexOf(e);for(;;){let M=!1;for(let Z=0;Z<t.length;Z++)if(t[Z].toLowerCase()===e){M=!0;break}if(!M)break;v++,v===i.length&&(v=0,u=`${Number(u)+1}`),e=i.charAt(v)+u}return e},Pi=function(e,t,i){function u(M){Zi(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,M,function(Z){if(Z){var Ie=Wn(Z,e);if(Ie){if(Ie.getType()===v)var Lt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",Ie.getName());else Lt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,Lt=Lt.replace("%1",Ie.getName()).replace("%2",Ie.getType());pe(Lt,function(){u(Z)})}else e.getVariableMap().createVariable(Z,v),t&&t(Z)}else t&&t(null)})}const v=i||"";u("")},n.renameVariable$$module$build$src$core$variables=function(e,t,i){function u(v){const M=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.getName());Zi(M,v,function(Z){if(Z){var Ie=ti(Z,t.getType(),e),Lt=Yr(t.getName(),Z,e);if(Ie||Lt){var zn="";Ie?zn=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",Ie.getName()).replace("%2",Ie.getType()):Lt&&(zn=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",Z).replace("%2",Lt)),pe(zn,function(){u(Z)})}else e.getVariableMap().renameVariable(t,Z),i&&i(Z)}else i&&i(null)})}u("")},Zi=function(e,t,i){hn(e,t,function(u){u&&(u=u.replace(/[\s\xa0]+/g," ").trim(),u===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||u===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(u=null),i(u)})},ti=function(e,t,i){i=i.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let u=0,v;v=i[u];u++)if(v.getName().toLowerCase()===e&&v.getType()!==t)return v;return null},Wn=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let i=0,u;u=t[i];i++)if(u.getName().toLowerCase()===e)return u;return null},Yr=function(e,t,i){return i.getProcedureMap().getProcedures().length?di(e,t,i):co(e,t,i)},di=function(e,t,i){e=e.toLowerCase(),t=t.toLowerCase(),i=i.getProcedureMap().getProcedures();for(const v of i){var u=v.getParameters().filter(tr).map(M=>M.getVariableModel().getName());if(u&&(i=u.some(M=>M.toLowerCase()===e),u=u.some(M=>M.toLowerCase()===t),i&&u))return v.getName()}return null},co=function(e,t,i){e=e.toLowerCase(),t=t.toLowerCase(),i=i.getAllBlocks(!1);for(const v of i){if(!gn(v))continue;i=v.getProcedureDef();var u=i[1];const M=u.some(Z=>Z.toLowerCase()===e);if(u=u.some(Z=>Z.toLowerCase()===t),M&&u)return i[0]}return null},ni=function(e){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.getType()),e=n.createTextNode$$module$build$src$core$utils$xml(e.getName()),t.appendChild(e),t},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,i,u){let v=n.getVariable$$module$build$src$core$variables(e,t,i,u);return v||(v=Bs(e,t,i,u)),v},n.getVariable$$module$build$src$core$variables=function(e,t,i,u){const v=e.getPotentialVariableMap();let M=null;if(t&&(M=e.getVariableById(t),!M&&v&&(M=v.getVariableById(t)),M))return M;if(i){if(u===void 0)throw Error("Tried to look up a variable by name without a type");M=e.getVariable(i,u),!M&&v&&(M=v.getVariable(i,u))}return M},Bs=function(e,t,i,u){const v=e.getVariableMap(),M=e.getPotentialVariableMap();return i||(i=Fn(e.isFlyout?e.targetWorkspace:e)),M?M.createVariable(i,u,t??void 0):v.createVariable(i,u,t)},To=function(e,t){e=e.getAllVariables();const i=[];if(t.length!==e.length)for(let u=0;u<e.length;u++){const v=e[u];t.includes(v)||i.push(v)}return i},jt=function(e,t){return e.getName().localeCompare(t.getName(),void 0,{sensitivity:"base"})},ki=function(e,t){const i=[];e=e.getAllBlocks(!1);for(let u=0;u<e.length;u++){const v=e[u].getVarModels();if(v)for(let M=0;M<v.length;M++)v[M].getId()===t&&i.push(e[u])}return i},n.deleteVariable$$module$build$src$core$variables=function(e,t,i){var u=t.getName();const v=ki(e,t.getId());for(let M=v.length-1;M>=0;M--){const Z=v[M];if(Z.type==="procedures_defnoreturn"||Z.type==="procedures_defreturn"){i=String(Z.getFieldValue("NAME")),u=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",u).replace("%2",i),pe(u);return}Z===i&&v.splice(M,1)}i&&v.length||v.length>1?(u=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(v.length+(i&&!i.workspace.isFlyout?1:0))).replace("%2",u),Ct(u,M=>{M&&t&&e.getVariableMap().deleteVariable(t)})):e.getVariableMap().deleteVariable(t)},Vi=function(e,{addCoordinates:t=!1,addInputBlocks:i=!0,addNextBlocks:u=!0,doFullSerialization:v=!0,saveIds:M=!0}={}){if(e.isInsertionMarker())return null;const Z={type:e.type,id:M?e.id:void 0};return t&&Ql(e,Z),Zl(e,Z),Ps(e,Z,v),Rs(e,Z,v),qr(e,Z,v),i&&ws(e,Z,v,M),u&&Go(e,Z,v,M),Z},Zl=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},Ql=function(e,t){const i=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(i.RTL?i.getWidth()-e.x:e.x),t.y=Math.round(e.y)},Ps=function(e,t,i){e.saveExtraState?(e=e.saveExtraState(i),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=es(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Rs=function(e,t,i){const u=Object.create(null);for(const v of e.getIcons())Ea(v)&&(e=v.saveState(i))&&(u[v.getType().toString()]=e);Object.keys(u).length&&(t.icons=u)},qr=function(e,t,i){const u=Object.create(null);for(const v of e.getFields())v.isSerializable()&&(u[v.name]=v.saveState(i));Object.keys(u).length&&(t.fields=u)},ws=function(e,t,i,u){const v=Object.create(null);for(let M=0;M<e.inputList.length;M++){const Z=e.inputList[M];if(!Z.connection)continue;const Ie=Il(Z.connection,i,u);Ie&&(v[Z.name]=Ie)}Object.keys(v).length&&(t.inputs=v)},Go=function(e,t,i,u){e.nextConnection&&(e=Il(e.nextConnection,i,u))&&(t.next=e)},Il=function(e,t,i){const u=e.getShadowState(!0);if(e=e.targetBlock(),!u&&!e)return null;const v=Object.create(null);return u&&(v.shadow=u),e&&!e.isShadow()&&(v.block=Vi(e,{doFullSerialization:t,saveIds:i})),v},Ml=function(e,t,{recordUndo:i=!1}={}){return e=Rl(e,t,{recordUndo:i}),t.rendered&&h(),e},Rl=function(e,t,{parentConnection:i,isShadow:u=!1,recordUndo:v=!1}={}){const M=Ut();n.setRecordUndo$$module$build$src$core$events$utils(v),(v=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();const Z=t.getAllVariables();let Ie;try{Ie=tu(e,t,{parentConnection:i,isShadow:u})}finally{n.enable$$module$build$src$core$events$utils()}if(ho(t,Z),sn()&&le(new(an(pt.BLOCK_CREATE))(Ie)),n.setGroup$$module$build$src$core$events$utils(v),n.setRecordUndo$$module$build$src$core$events$utils(M),t.rendered){const Lt=Ie;setTimeout(()=>{Lt.disposed||Lt.setConnectionTracking(!0)},1)}return Ie},tu=function(e,t,{parentConnection:i,isShadow:u=!1}={}){if(!e.type)throw new l2(e);const v=t.newBlock(e.type,e.id);return v.setShadow(u),Xc(v,e),jc(v,e),rh(v,e),Ju(i,v,e),al(v,e),mr(v,e),nu(v,e),H0(v,e),Zu(v,t.rendered),v},ho=function(e,t){if(sn())for(e=To(e,t),t=0;t<e.length;t++){const i=e[t];le(new(an(pt.VAR_CREATE))(i))}},Xc=function(e,t){let i=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const u=e.workspace;i=u.RTL?u.getWidth()-i:i,e.moveBy(i,t)},jc=function(e,t){if(t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setDisabledReason(!0,fr),Array.isArray(t.disabledReasons))for(const i of t.disabledReasons)e.setDisabledReason(!0,i);t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},rh=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(n.textToDom$$module$build$src$core$utils$xml(t.extraState)))},Ju=function(e,t,i){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new u2(i);if(e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var u=t.outputConnection;if(!u)throw new Co("output",t,i)}else if(u=t.previousConnection,!u)throw new Co("previous",t,i);if(!e.connect(u)){const v=t.workspace.connectionChecker;throw new a2(v.getErrorMessage(v.canConnectWithReason(u,e,!1),u,e),e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,i)}}},al=function(e,t){if(t.icons){var i=Object.keys(t.icons);for(const v of i){i=t.icons[v];var u=e.getIcon(v);if(!u){if(u=x(Ft.ICON,v,!1),!u)throw new T3(v,e,t);u=new u(e),e.addIcon(u)}Ea(u)&&u.loadState(i)}}},mr=function(e,t){if(t.fields){var i=Object.keys(t.fields);for(let u=0;u<i.length;u++){const v=i[u],M=t.fields[v],Z=e.getField(v);Z?Z.loadState(M):console.warn(`Ignoring non-existant field ${v} in block ${e.type}`)}}},nu=function(e,t){if(t.inputs){var i=Object.keys(t.inputs);for(let u=0;u<i.length;u++){const v=i[u],M=e.getInput(v);if(!M||!M.connection)throw new Co(v,e,t);wa(M.connection,t.inputs[v])}}},H0=function(e,t){if(t.next){if(!e.nextConnection)throw new Co("next",e,t);wa(e.nextConnection,t.next)}},wa=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&tu(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Zu=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const i of e.getIcons())i.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},p0=function(e){return typeof e.bubbleIsVisible=="function"&&typeof e.setBubbleVisible=="function"&&typeof e.getBubble=="function"},m0=function(e){return e*Math.PI/180},Yc=function(e){return e*180/Math.PI},g0=function(e,t,i){if(i<e){const u=i;i=e,e=u}return Math.max(e,Math.min(t,i))},Sa=function(){document.querySelector(".blocklyDropDownDiv")||(cs=document.createElement("div"),cs.className="blocklyDropDownDiv",cs.tabIndex=-1,(Cn()||document.body).appendChild(cs),w1=document.createElement("div"),w1.className="blocklyDropDownContent",cs.appendChild(w1),Sc=ie(w1,"keydown",null,Qe),_u=document.createElement("div"),_u.className="blocklyDropDownArrow",cs.appendChild(_u),cs.style.opacity="0",cs.style.transition="transform "+Hd+"s, opacity "+Hd+"s")},G0=function(e){Gd=e},Qu=function(){return qa},$0=function(){return w1},Ol=function(){Sc&&(Be(Sc),Sc=null),cs.remove(),Sa()},ec=function(e,t){cs.style.backgroundColor=e,cs.style.borderColor=t},tc=function(e,t,i,u,v=!0){return V0(xa(t),e,v,i,u)},ru=function(e,t,i,u=!0){return f2=!0,V0(Ca(e),e,u,t,i)},xa=function(e){var t=e.getSvgRoot();const i=e.workspace.scale,u=e.height*i;return e=e.width*i,t=L(t),new $r(t.y,t.y+u,t.x,t.x+e)},Ca=function(e){return e=e.getScaledBBox(),new $r(e.top,e.bottom,e.left,e.right)},V0=function(e,t,i,u,v){const M=e.left+(e.right-e.left)/2,Z=e.bottom;e=e.top,v&&(e+=v),v=t.getSourceBlock();let Ie=v.workspace;for(;Ie.options.parentWorkspace;)Ie=Ie.options.parentWorkspace;return G0(Ie.getParentSvg().parentNode),Nl(t,v.RTL,M,Z,M,e,i,u)},Nl=function(e,t,i,u,v,M,Z,Ie){return qa=e,Tu=Ie||null,cs.style.direction=t?"rtl":"ltr",e=O(),d2=e.getRenderer().getClassName(),wc=e.getTheme().getClassName(),tn(cs,d2),tn(cs,wc),i=qe(i,u,v,M),Z&&(Mh=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(cs)),i},ka=function(e,t,i,u){return e=y(e,i.left,i.right,u.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+c2,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},iu=function(e,t,i,u){return e=y(e,i.left,i.right,u.width),{initialX:e.divX,initialY:t-u.height,finalX:e.divX,finalY:t-u.height-c2,arrowX:e.arrowX,arrowY:u.height-Ih*2-Ah/2,arrowAtTop:!1,arrowVisible:!0}},ul=function(e,t,i){return e=y(e,t.left,t.right,i.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},y=function(e,t,i,u){return t=g0(t,e-u/2,i-u),e=e-Ah/2-t,i=Ud,e=g0(i,e,u-i-Ah),{arrowX:e,divX:t}},I=function(){return!!qa},ne=function(e,t){return qa===e?(t?Re():$e(),!0):!1},$e=function(){cs.style.transform="translate(0, 0)",cs.style.opacity="0",h2=setTimeout(function(){Re()},Hd*1e3),Tu&&(Tu(),Tu=null)},Re=function(){I()&&(h2&&clearTimeout(h2),Tu&&(Tu(),Tu=null),Ol(),qa=null,O().markFocused(),Mh&&(Mh(),Mh=null))},qe=function(e,t,i,u){e=Vd.getPositionMetrics(e,t,i,u),e.arrowVisible?(t=e.arrowX,i=e.arrowY,u=e.arrowAtTop?45:225,_u.style.display="",_u.style.transform=`translate(${t}px, ${i}px) rotate(${u}deg)`,_u.setAttribute("class","blocklyDropDownArrow")):_u.style.display="none",t=Math.floor(e.initialX),i=Math.floor(e.initialY),u=Math.floor(e.finalX);const v=Math.floor(e.finalY);return cs.style.left=t+"px",cs.style.top=i+"px",cs.style.display="block",cs.style.opacity="1",cs.style.transform="translate("+(u-t)+"px,"+(v-i)+"px)",!!e.arrowAtTop},lt=function(){if(qa){var e=qa.getSourceBlock();e=f2?Ca(qa):xa(e);const t=e.left+(e.right-e.left)/2;qe(t,e.bottom,t,e.top)}else $e()},Et=function(e){return e.length?e.reduce(function(t,i){return t.length<i.length?t:i}).length:0},Gt=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let i=0;t=t||Et(e);let u;for(u=0;u<t;u++){for(var v=e[0][u],M=1;M<e.length;M++)if(v!==e[M][u])return i;v===" "&&(i=u+1)}for(v=1;v<e.length;v++)if((M=e[v][u])&&M!==" ")return i;return t},qt=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let i=0;t=t||Et(e);let u;for(u=0;u<t;u++){for(var v=e[0].substr(-u-1,1),M=1;M<e.length;M++)if(v!==e[M].substr(-u-1,1))return i;v===" "&&(i=u+1)}for(v=1;v<e.length;v++)if((M=e[v].charAt(e[v].length-u-1))&&M!==" ")return i;return t},n.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let i=0;i<e.length;i++)e[i]=pn(e[i],t);return e.join(`
`)},pn=function(e,t){if(e.length<=t)return e;const i=e.trim().split(/\s+/);for(var u=0;u<i.length;u++)i[u].length>t&&(t=i[u].length);var v=-1/0;let M,Z=1;do{u=v,M=e,e=[],v=i.length/Z;let Ie=1;for(let Lt=0;Lt<i.length-1;Lt++)Ie<(Lt+1.5)/v?(Ie++,e[Lt]=!0):e[Lt]=!1;e=Un(i,e,t),v=At(i,e,t),e=Nn(i,e),Z++}while(v>u);return M},At=function(e,t,i){const u=[0],v=[];for(var M=0;M<e.length;M++)u[u.length-1]+=e[M].length,t[M]===!0?(u.push(0),v.push(e[M].charAt(e[M].length-1))):t[M]===!1&&u[u.length-1]++;for(e=Math.max(...u),t=0,M=0;M<u.length;M++)t-=Math.pow(Math.abs(i-u[M]),1.5)*2,t-=Math.pow(e-u[M],1.5),".?!".includes(v[M])?t+=i/3:",;)]}".includes(v[M])&&(t+=i/4);return u.length>1&&u[u.length-1]<=u[u.length-2]&&(t+=.5),t},Un=function(e,t,i){let u=At(e,t,i),v;for(let M=0;M<t.length-1;M++){if(t[M]===t[M+1])continue;const Z=[].concat(t);Z[M]=!Z[M],Z[M+1]=!Z[M+1];const Ie=At(e,Z,i);Ie>u&&(u=Ie,v=Z)}return v?Un(e,v,i):t},Nn=function(e,t){const i=[];for(let u=0;u<e.length;u++)i.push(e[u]),t[u]!==void 0&&i.push(t[u]?`
`:" ");return i.join("")},n.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},Gn=function(e){S1=e},Qn=function(){return S1},yr=function(){return Rh},Br=function(){return Qs},en=function(e){if(e=Mn(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Mn=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Mr=function(){document.querySelector(".blocklyTooltipDiv")||(Qs=document.createElement("div"),Qs.className="blocklyTooltipDiv",(Cn()||document.body).appendChild(Qs))},or=function(e){e.mouseOverWrapper_=ke(e,"pointerover",null,li),e.mouseOutWrapper_=ke(e,"pointerout",null,Kr),e.addEventListener("pointermove",ri,!1)},Xr=function(e){e&&(Be(e.mouseOverWrapper_),Be(e.mouseOutWrapper_),e.removeEventListener("pointermove",ri))},li=function(e){xc||(e=Mn(e.currentTarget),yl!==e&&(bi(),wu=null,yl=e),clearTimeout(E3))},Kr=function(e){xc||(E3=setTimeout(function(){wu=yl=null,bi()},1),clearTimeout(Cc),Cc=0)},ri=function(e){if(yl&&yl.tooltip&&!xc)if(Rh){const t=x1-e.pageX;e=Eu-e.pageY,Math.sqrt(t*t+e*e)>O0&&bi()}else wu!==yl&&(clearTimeout(Cc),x1=e.pageX,Eu=e.pageY,Cc=setTimeout(Fs,C1))},Jr=function(){wu=yl=null,bi()},bi=function(){Rh&&(Rh=!1,Qs&&(Qs.style.display="none")),Cc&&(clearTimeout(Cc),Cc=0)},Pr=function(){bi(),xc=!0},Fi=function(){xc=!1},ms=function(){Qs&&yl&&(typeof S1=="function"?S1(Qs,yl):Ss())},Ss=function(){var e=en(yl);e=n.wrap$$module$build$src$core$utils$string(e,_3),e=e.split(`
`);for(let t=0;t<e.length;t++){const i=document.createElement("div");i.appendChild(document.createTextNode(e[t])),Qs.appendChild(i)}},yi=function(e){const t=document.documentElement.clientWidth,i=document.documentElement.clientHeight;let u=x1;u=e?u-(Oh+Qs.offsetWidth):u+Oh;let v=Eu+ha;return v+Qs.offsetHeight>i+window.scrollY&&(v-=Qs.offsetHeight+2*ha),e?u=Math.max(Wd-window.scrollX,u):u+Qs.offsetWidth>t+window.scrollX-2*Wd&&(u=t-Qs.offsetWidth-2*Wd),{x:u,y:v}},Fs=function(){if(!xc&&(wu=yl,Qs)){Qs.textContent="",ms();var e=yl.RTL;Qs.style.direction=e?"rtl":"ltr",Qs.style.display="block",Rh=!0;var{x:t,y:i}=yi(e);Qs.style.left=t+"px",Qs.style.top=i+"px"}},fo=function(){return qd},xs=function(e){qd=e},kr=function(){return Xd},os=function(e){Xd=e},ue=function(e){e=`${e}`.toLowerCase().trim();var t=w3[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var i=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return i&&(e=Number(i[1]),t=Number(i[2]),i=Number(i[3]),e>=0&&e<256&&t>=0&&t<256&&i>=0&&i<256)?_i(e,t,i):null},_i=function(e,t,i){return t=e<<16|t<<8|i,e<16?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},Qi=function(e){return e=ue(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},cl=function(e,t,i){let u=0,v=0,M=0;if(t===0)M=v=u=i;else{const Z=Math.floor(e/60),Ie=e/60-Z;e=i*(1-t);const Lt=i*(1-t*Ie);switch(t=i*(1-t*(1-Ie)),Z){case 1:u=Lt,v=i,M=e;break;case 2:u=e,v=i,M=t;break;case 3:u=e,v=Lt,M=i;break;case 4:u=t,v=e,M=i;break;case 5:u=i,v=e,M=Lt;break;case 6:case 0:u=i,v=t,M=e}}return _i(Math.floor(u),Math.floor(v),Math.floor(M))},no=function(e,t,i){return e=ue(e),!e||(t=ue(t),!t)?null:(e=Qi(e),t=Qi(t),_i(Math.round(t[0]+i*(e[0]-t[0])),Math.round(t[1]+i*(e[1]-t[1])),Math.round(t[2]+i*(e[2]-t[2]))))},po=function(e){return cl(e,qd,Xd*255)},Ys=function(e,t,i){const u=[];var v=e.split("");v.push("");var M=0;e=[];let Z=null;for(let zn=0;zn<v.length;zn++){var Ie=v[zn];if(M===0)if(Ie==="%")(M=e.join(""))&&u.push(M),e.length=0,M=1;else if(i&&Ie===`
`){const Ws=e.join("");Ws&&u.push(Ws),e.length=0,u.push(Ie)}else e.push(Ie);else if(M===1)Ie==="%"?(e.push(Ie),M=0):t&&"0"<=Ie&&Ie<="9"?(M=2,Z=Ie,(Ie=e.join(""))&&u.push(Ie),e.length=0):Ie==="{"?M=3:(e.push("%",Ie),M=0);else if(M===2)if("0"<=Ie&&Ie<="9")Z+=Ie;else{var Lt=void 0;u.push(parseInt((Lt=Z)!=null?Lt:"",10)),zn--,M=0}else M===3&&(Ie===""?(e.splice(0,0,"%{"),zn--,M=0):Ie!=="}"?e.push(Ie):(M=e.join(""),/[A-Z]\w*/i.test(M)?(Ie=M.toUpperCase(),(Ie=Ie.startsWith("BKY_")?Ie.substring(4):null)&&Ie in n.Msg$$module$build$src$core$msg?(M=n.Msg$$module$build$src$core$msg[Ie],typeof M=="string"?Array.prototype.push.apply(u,Ys(M,t,i)):t?u.push(`${M}`):u.push(M)):u.push("%{"+M+"}")):u.push("%{"+M+"}"),M=e.length=0))}for((t=e.join(""))&&u.push(t),Lt=[],e.length=0,v=0;v<u.length;v++)typeof u[v]!="string"||i&&u[v]===`
`?((t=e.join(""))&&Lt.push(t),e.length=0,Lt.push(u[v])):e.push(u[v]);return(t=e.join(""))&&Lt.push(t),e.length=0,Lt},ls=function(e){return Ys(e,!0,!0)},lr=function(e){return typeof e!="string"?e:(e=Ys(e,!1,!1),e.length?String(e[0]):"")},Ks=function(e){let t=!0;const i=n.Msg$$module$build$src$core$msg,u=e.match(/%{BKY_[A-Z]\w*}/gi);if(u)for(let v=0;v<u.length;v++){const M=u[v].toUpperCase();i[M.slice(6,-1)]===void 0&&(console.warn("No message string for "+u[v]+" in "+e),t=!1)}return t},Ai=function(e){const t=typeof e=="string"?lr(e):e;var i=Number(t);if(!isNaN(i)&&0<=i&&i<=360)return{hue:i,hex:cl(i,fo(),kr()*255)};if(i=ue(t))return{hue:null,hex:i};throw i='Invalid colour: "'+t+'"',e!==t&&(i+=' (from "'+e+'")'),Error(i)},mo=function(){return El},e0=function(e){if(El=e,e===null){let t;(t=document.querySelector("."+p2))==null||t.remove()}},Ll=function(){const e=Cn()||document.body,t=document.querySelector("div."+p2);t?El=t:(El=document.createElement("div"),El.className=p2,El.tabIndex=-1),ie(El,"keydown",null,Qe),e.appendChild(El)},v0=function(e,t,i,u,v=!0){if(Ko(),Su=e,Yd=i,i=El){if(i.style.direction=t?"rtl":"ltr",i.style.display="block",!u&&e instanceof Oi){let Ie;u=(Ie=e.getSourceBlock())==null?void 0:Ie.workspace}var M;jd=(M=u)!=null?M:null;var Z;e=(Z=u)!=null?Z:O(),da=e.getRenderer().getClassName(),A1=e.getTheme().getClassName(),da&&tn(i,da),A1&&tn(i,A1),v&&(zr=n.getFocusManager$$module$build$src$core$focus_manager().takeEphemeralFocus(i))}},Ko=function(){if(nc()){Su=null;var e=El;e&&(e.style.display="none",e.style.left="",e.style.top="",Yd&&(Yd(),Yd=null),e.textContent="",da&&(Jn(e,da),da=""),A1&&(Jn(e,A1),A1=""),O().markFocused(),zr&&(zr(),zr=null))}},nc=function(){return!!Su},Dl=function(e){Su===e&&Ko()},hl=function(e){let t=jd===null,i=e;for(;!t&&i;){if(i===e){t=!0;break}i=e.options.parentWorkspace}t&&Ko()},rc=function(e,t,i){El.style.left=e+"px",El.style.top=t+"px",El.style.height=i+"px"},_o=function(e,t,i,u){const v=Bl(e,t,i);e=ic(e,t,i,u),v<0?rc(e,0,i.height+v):rc(e,v,i.height)},ic=function(e,t,i,u){return u?Math.min(Math.max(t.right-i.width,e.left),e.right-i.width):Math.max(Math.min(t.left,e.right-i.width),e.left)},Bl=function(e,t,i){return t.bottom+i.height>=e.bottom?t.top-i.height:t.bottom},Zh=function(e){return!(e==null||!e.repositionForWindowResize)},W0=function(){Zh(Su)&&Su.repositionForWindowResize()||Ko()},b0=function(){return kc},su=function(e){kc=e},q0=function(e,t,i,u,v){if(v0(Kd,i,sc,u),t.length){v||(e instanceof PointerEvent?v=new Vt(e.clientX,e.clientY):(console.warn("Context menu opened with keyboard but no location given"),v=new Vt(0,0)));var M=y0(t,i,e,v);Nh=M,Aa(M,i,v),setTimeout(function(){M.focus()},1),kc=null}else Pl()},y0=function(e,t,i,u){const v=new s2;v.setRole($l.MENU);for(let M=0;M<e.length;M++){const Z=e[M];if(Z.separator){v.addChild(new wi);continue}const Ie=new Dd(Z.text);Ie.setRightToLeft(t),Ie.setRole($l.MENUITEM),v.addChild(Ie),Ie.setEnabled(Z.enabled),Z.enabled&&Ie.onAction(function(Lt,zn){Pl(),requestAnimationFrame(()=>{setTimeout(()=>{Z.callback(Z.scope,i,zn,u)},0)})},{})}return v},Aa=function(e,t,i){const u=_e();i=new $r(i.y+u.top,i.y+u.top,i.x+u.left,i.x+u.left),Jo(e);const v=e.getSize();t&&(i.left+=v.width,i.right+=v.width,u.left+=v.width,u.right+=v.width),_o(u,i,v,t),e.focus()},Jo=function(e){var t=mo();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),tn(t,"blocklyContextMenu"),ie(t,"contextmenu",null,Ia),e.focus()},Ia=function(e){e.preventDefault(),e.stopPropagation()},Pl=function(){Dl(Kd),kc=null},sc=function(){Nh&&(Nh.dispose(),Nh=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{n.disable$$module$build$src$core$events$utils();let i;try{i=t instanceof Element?n0(t,e.workspace):Rl(t,e.workspace);const u=e.getRelativeToSurfaceXY();u.x=e.RTL?u.x-n.config$$module$build$src$core$config.snapRadius:u.x+n.config$$module$build$src$core$config.snapRadius,u.y+=n.config$$module$build$src$core$config.snapRadius*2,i.moveBy(u.x,u.y)}finally{n.enable$$module$build$src$core$events$utils()}return sn()&&!i.isShadow()&&le(new(an(pt.BLOCK_CREATE))(i)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(i),i}},X0=function(e,t){return t=Ve(t,e.getParentSvg(),e.getInverseScreenCTM()),t.x/=e.scale,t.y/=e.scale,t},Eo=function(e,t,i){t=X0(e,t),m2.set(e,Vt.difference(i,t))},Vo=function(e,t){if(t=X0(e,t),e=m2.get(e),!e)throw Error("Drag not initialized");return Vt.sum(e,t)},t0=function(e,t=!1){const i=n.createElement$$module$build$src$core$utils$xml("xml");var u=Zo(n.allUsedVarModels$$module$build$src$core$variables(e));u.hasChildNodes()&&i.appendChild(u);for(const v of e.getTopComments())i.appendChild(Wo(v,t));for(e=e.getTopBlocks(!0),u=0;u<e.length;u++)i.appendChild(No(e[u],t));return i},Wo=function(e,t=!1){const i=n.createElement$$module$build$src$core$utils$xml("comment");t||i.setAttribute("id",e.id),t=e.workspace;const u=e.getRelativeToSurfaceXY().clone();return u.x=t.RTL?t.getWidth()-u.x:u.x,i.setAttribute("x",`${u.x}`),i.setAttribute("y",`${u.y}`),i.setAttribute("w",`${e.getSize().width}`),i.setAttribute("h",`${e.getSize().height}`),e.getText()&&(i.textContent=e.getText()),e.isCollapsed()&&i.setAttribute("collapsed","true"),e.isOwnEditable()||i.setAttribute("editable","false"),e.isOwnMovable()||i.setAttribute("movable","false"),e.isOwnDeletable()||i.setAttribute("deletable","false"),i},Zo=function(e){const t=n.createElement$$module$build$src$core$utils$xml("variables");for(let i=0;i<e.length;i++){const u=e[i],v=n.createElement$$module$build$src$core$utils$xml("variable");v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(u.getName())),u.getType()&&v.setAttribute("type",u.getType()),v.id=u.getId(),t.appendChild(v)}return t},No=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let i=0;if(e.workspace.RTL&&(i=e.workspace.getWidth()),t=Fl(e,t),Oa(t)){const u=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?i-u.x:u.x))),t.setAttribute("y",String(Math.round(u.y)))}return t},oc=function(e){if(e.isSerializable()){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},lc=function(e,t){for(const i of e.getFields())(e=oc(i))&&t.appendChild(e)},Fl=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Fl(t):new DocumentFragment;const i=n.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(i.setAttribute("type",e.type),t||(i.id=e.id),e.mutationToDom){var u=e.mutationToDom();u&&(u.hasChildNodes()||u.hasAttributes())&&i.appendChild(u)}if(lc(e,i),u=e.getCommentText()){var v=e.getIcon(_s.COMMENT),M=v.getBubbleSize(),Z=v.bubbleIsVisible();v=v.getBubbleLocation();var Ie=n.createElement$$module$build$src$core$utils$xml("comment");Ie.appendChild(n.createTextNode$$module$build$src$core$utils$xml(u)),Ie.setAttribute("pinned",`${Z}`),Ie.setAttribute("h",`${M.height}`),Ie.setAttribute("w",`${M.width}`),v&&(Ie.setAttribute("x",`${e.workspace.RTL?e.workspace.getWidth()-(v.x+M.width):v.x}`),Ie.setAttribute("y",`${v.y}`)),i.appendChild(Ie)}for(e.data&&(u=n.createElement$$module$build$src$core$utils$xml("data"),u.appendChild(n.createTextNode$$module$build$src$core$utils$xml(e.data)),i.appendChild(u)),u=0;u<e.inputList.length;u++){M=e.inputList[u];var Lt=void 0;Z=!0,M.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&M.type!==n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW&&(v=M.connection.targetBlock(),M.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?Lt=n.createElement$$module$build$src$core$utils$xml("value"):M.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(Lt=n.createElement$$module$build$src$core$utils$xml("statement")),Ie=M.connection.getShadowDom(),!Ie||v&&v.isShadow()||Lt.appendChild(ac(Ie,t)),v&&(v=Fl(v,t),v.nodeType===k0.ELEMENT_NODE&&(Lt.appendChild(v),Z=!1)),Lt.setAttribute("name",M.name),Z||i.appendChild(Lt))}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&i.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&i.setAttribute("collapsed","true"),e.isEnabled()||i.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||i.setAttribute("deletable","false"),e.isOwnMovable()||i.setAttribute("movable","false"),e.isOwnEditable()||i.setAttribute("editable","false"),Lt=e.getNextBlock();let zn;return Lt&&(u=Fl(Lt,t),u.nodeType===k0.ELEMENT_NODE&&(zn=n.createElement$$module$build$src$core$utils$xml("next"),zn.appendChild(u),i.appendChild(zn))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||Lt&&Lt.isShadow()||zn.appendChild(ac(e,t)),i},ac=function(e,t){let i=e=e.cloneNode(!0),u;for(;i;)if(t&&i.nodeName==="shadow"&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;){u=i,i=i.parentNode;let v;u.nodeType===k0.TEXT_NODE&&u.data.trim()===""&&((v=i)==null?void 0:v.firstChild)!==u&&on(u)}i&&(u=i,i=i.nextSibling,u.nodeType===k0.TEXT_NODE&&u.data.trim()===""&&on(u))}return e},es=function(e){return it(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Wi=function(e){e=es(e).split("<");let t="";for(let i=1;i<e.length;i++){const u=e[i];u[0]==="/"&&(t=t.substring(2)),e[i]=t+"<"+u,u[0]!=="/"&&u.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Hr=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=n.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},n.domToWorkspace$$module$build$src$core$xml=function(e,t){let i=0;t.RTL&&(i=t.getWidth());const u=[];Zn();const v=n.getGroup$$module$build$src$core$events$utils();v||n.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let M=!0;try{for(let Z=0,Ie;Ie=e.childNodes[Z];Z++){const Lt=Ie.nodeName.toLowerCase(),zn=Ie;if(Lt==="block"||Lt==="shadow"&&!Ut()){const Ws=n0(zn,t);u.push(Ws.id);let hs;const ll=parseInt((hs=zn.getAttribute("x"))!=null?hs:"10",10);let Pc;const Bu=parseInt((Pc=zn.getAttribute("y"))!=null?Pc:"10",10);isNaN(ll)||isNaN(Bu)||Ws.moveBy(t.RTL?i-ll:ll,Bu,["create"]),M=!1}else{if(Lt==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(Lt==="comment")T0(zn,t);else if(Lt==="variables"){if(M)r0(zn,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");M=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(v),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&h(),ss()}return le(new(an(pt.FINISHED_LOADING))(t)),u},T0=function(e,t){var i;const u=(i=e.getAttribute("id"))!=null?i:void 0;i=t.rendered?new o0(t,u):new M1(t,u);var v;i.setText((v=e.textContent)!=null?v:"");var M;v=parseInt((M=e.getAttribute("x"))!=null?M:"",10);let Z;M=parseInt((Z=e.getAttribute("y"))!=null?Z:"",10),isNaN(v)||isNaN(M)||(v=t.RTL?t.getWidth()-v:v,i.moveTo(new Vt(v,M)));var Ie;t=parseInt((Ie=e.getAttribute("w"))!=null?Ie:"",10);let Lt;return Ie=parseInt((Lt=e.getAttribute("h"))!=null?Lt:"",10),isNaN(t)||isNaN(Ie)||i.setSize(new _r(t,Ie)),e.getAttribute("collapsed")==="true"&&i.setCollapsed(!0),e.getAttribute("editable")==="false"&&i.setEditable(!1),e.getAttribute("movable")==="false"&&i.setMovable(!1),e.getAttribute("deletable")==="false"&&i.setDeletable(!1),i},zs=function(e,t){if(!t.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(e,t);var i=t.getBlocksBoundingBox();if(e=n.domToWorkspace$$module$build$src$core$xml(e,t),i&&i.top!==i.bottom){var u=i.bottom;i=t.RTL?i.right:i.left;var v=1/0;let M=-1/0,Z=1/0;for(let Ie=0;Ie<e.length;Ie++){const Lt=t.getBlockById(e[Ie]).getRelativeToSurfaceXY();Lt.y<Z&&(Z=Lt.y),Lt.x<v&&(v=Lt.x),Lt.x>M&&(M=Lt.x)}for(u=u-Z+10,i=t.RTL?i-M:i-v,v=0;v<e.length;v++)t.getBlockById(e[v]).moveBy(i,u,["create"])}return e},n.domToBlock$$module$build$src$core$xml=function(e,t){return e=n0(e,t),t.rendered&&h(),e},n0=function(e,t){n.disable$$module$build$src$core$events$utils();var i=t.getAllVariables();let u;try{if(u=zl(e,t),t.rendered){const v=u,M=u.getDescendants(!1);v.setConnectionTracking(!1);for(let Z=M.length-1;Z>=0;Z--)M[Z].initSvg();for(let Z=M.length-1;Z>=0;Z--)M[Z].queueRender();setTimeout(function(){v.disposed||v.setConnectionTracking(!0)},1),t.resizeContents()}else{const v=u.getDescendants(!1);for(let M=v.length-1;M>=0;M--)v[M].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(sn()){for(e=To(t,i),t=0;t<e.length;t++)i=e[t],le(new(an(pt.VAR_CREATE))(i));le(new(an(pt.BLOCK_CREATE))(u))}return u},r0=function(e,t){for(let u=0;u<e.children.length;u++){var i=e.children[u];const v=i.getAttribute("type"),M=i.getAttribute("id");if(i=i.textContent,!i)break;let Z;t.getVariableMap().createVariable(i,(Z=v)!=null?Z:void 0,M)}},ih=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let i=0;i<e.children.length;i++){const u=e.children[i];if(u.nodeType!==k0.TEXT_NODE)switch(u.nodeName.toLowerCase()){case"mutation":t.mutation.push(u);break;case"comment":t.comment.push(u);break;case"data":t.data.push(u);break;case"title":case"field":t.field.push(u);break;case"value":case"statement":t.input.push(u);break;case"next":t.next.push(u);break;default:console.warn("Ignoring unknown tag: "+u.nodeName)}}return t},sh=function(e,t){let i=!1;for(let u=0;u<e.length;u++){const v=e[u];t.domToMutation&&(t.domToMutation(v),t.initSvg&&(i=!0))}return i},Ma=function(e,t){for(let i=0;i<e.length;i++){const u=e[i],v=u.textContent,M=u.getAttribute("pinned")==="true";let Z;const Ie=parseInt((Z=u.getAttribute("w"))!=null?Z:"50",10);let Lt;const zn=parseInt((Lt=u.getAttribute("h"))!=null?Lt:"50",10);let Ws,hs=parseInt((Ws=u.getAttribute("x"))!=null?Ws:"",10),ll;const Pc=parseInt((ll=u.getAttribute("y"))!=null?ll:"",10);t.setCommentText(v);const Bu=t.getIcon(_s.COMMENT);isNaN(Ie)||isNaN(zn)||Bu.setBubbleSize(new _r(Ie,zn)),Bu.setBubbleVisible(M),setTimeout(()=>{isNaN(hs)||isNaN(Pc)||(hs=t.workspace.RTL?t.workspace.getWidth()-(hs+Ie):hs,Bu.setBubbleLocation(new Vt(hs,Pc))),Bu.setBubbleVisible(M)},1)}},i0=function(e,t){for(let i=0;i<e.length;i++)t.data=e[i].textContent},Kc=function(e,t){for(let i=0;i<e.length;i++){const u=e[i],v=u.getAttribute("name");v?_0(t,v,u):console.warn(`Ignoring unnamed field in block ${t.type}`)}},Ra=function(e){let t=null,i=null;for(let u=0;u<e.childNodes.length;u++){const v=e.childNodes[u];Oa(v)&&(v.nodeName.toLowerCase()==="block"?t=v:v.nodeName.toLowerCase()==="shadow"&&(i=v))}return{childBlockElement:t,childShadowElement:i}},uc=function(e,t,i,u){for(let M=0;M<e.length;M++){var v=e[M];const Z=v.getAttribute("name"),Ie=Z?i.getInput(Z):null;if(!Ie){console.warn("Ignoring non-existent input "+Z+" in block "+u);break}if(v=Ra(v),v.childBlockElement){if(!Ie.connection)throw TypeError("Input connection does not exist.");zl(v.childBlockElement,t,Ie.connection,!1)}if(v.childShadowElement){let Lt;(Lt=Ie.connection)==null||Lt.setShadowDom(v.childShadowElement)}}},j0=function(e,t,i){for(let u=0;u<e.length;u++){const v=Ra(e[u]);if(v.childBlockElement){if(!i.nextConnection)throw TypeError("Next statement does not exist.");if(i.nextConnection.isConnected())throw TypeError("Next statement is already connected.");zl(v.childBlockElement,t,i.nextConnection,!0)}v.childShadowElement&&i.nextConnection&&i.nextConnection.setShadowDom(v.childShadowElement)}},zl=function(e,t,i,u){var v;const M=e.getAttribute("type");if(!M)throw TypeError("Block type unspecified: "+e.outerHTML);var Z=(v=e.getAttribute("id"))!=null?v:void 0;v=t.newBlock(M,Z),Z=ih(e);const Ie=sh(Z.mutation,v);if(Ma(Z.comment,v),i0(Z.data,v),i)if(u)if(v.previousConnection)i.connect(v.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(v.outputConnection)i.connect(v.outputConnection);else if(v.previousConnection)i.connect(v.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(Kc(Z.field,v),uc(Z.input,t,v,M),j0(Z.next,t,v),Ie&&v.initSvg(),(t=e.getAttribute("inline"))&&v.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&v.setDisabledReason(t==="true"||t==="disabled",fr),t=e.getAttribute("disabled-reasons"),t!==null)for(var Lt of t.split(","))v.setDisabledReason(!0,decodeURIComponent(Lt));if((Lt=e.getAttribute("deletable"))&&v.setDeletable(Lt==="true"),(Lt=e.getAttribute("movable"))&&v.setMovable(Lt==="true"),(Lt=e.getAttribute("editable"))&&v.setEditable(Lt==="true"),(Lt=e.getAttribute("collapsed"))&&v.setCollapsed(Lt==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=v.getChildren(!1),Lt=0;Lt<e.length;Lt++)if(!e[Lt].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");v.setShadow(!0)}return v},_0=function(e,t,i){const u=e.getField(t);u?u.fromXml(i):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Ul=function(e){for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes[t];if(i.nodeName.toLowerCase()==="next"){e.removeChild(i);break}}},Oa=function(e){return e.nodeType===k0.ELEMENT_NODE},Qo=function(e,t){a(Ft.FIELD,e,t,!0)},E0=function(e){m(Ft.FIELD,e)},n.fromJson$$module$build$src$core$field_registry=function(e){return b2.fromJsonInternal(e)},ou=function(e){const t=k(Ft.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},el=function(e){return e&&typeof e=="object"&&"src"in e&&typeof e.src=="string"&&"alt"in e&&typeof e.alt=="string"&&"width"in e&&typeof e.width=="number"&&"height"in e&&typeof e.height=="number"},n.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(Fo[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');Fo[e]=t},n.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');n.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},n.registerMutator$$module$build$src$core$extensions=function(e,t,i,u){const v='Error when registering mutator "'+e+'": ';w0(v,t);const M=is(t,v);if(i&&typeof i!="function")throw Error(v+'Extension "'+e+'" is not a function');n.register$$module$build$src$core$extensions(e,function(){M&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(u||[],this)),this.mixin(t),i&&i.apply(this)})},Js=function(e){lu(e)?delete Fo[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},lu=function(e){return!!Fo[e]},au=function(e,t,i){const u=Fo[e];if(typeof u!="function")throw Error('Error: Extension "'+e+'" not found.');let v;if(i?cc(e,t):v=S0(t),u.apply(t),i)w0('Error after applying mutator "'+e+'": ',t);else if(!Zc(v,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},cc=function(e,t){if(S0(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Jc=function(e,t){return hc(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},oh=function(e,t){return hc(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},is=function(e,t){return hc(e.compose,e.decompose,t+" compose/decompose")},hc=function(e,t,i){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(i+" must be a function");return!0}if(!e&&!t)return!1;throw Error(i+"Must have both or neither functions")},w0=function(e,t){const i=Jc(t,e),u=oh(t,e);if(!i&&!u)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");is(t,e)},S0=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},Zc=function(e,t){if(t=S0(t),t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},Na=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const i=[];return function(){i.includes(this.type)||(Y0(this,e,t),i.push(this.type)),this.setTooltip((function(){const u=String(this.getFieldValue(e));return lr(t[u])}).bind(this))}},Y0=function(e,t,i){var u=e.getField(t);if(u instanceof ko&&!u.isOptionListDynamic()){u=u.getOptions();for(const v of u)v!==ko.SEPARATOR&&([,u]=v,i[u]===void 0&&console.warn(`No tooltip mapping for value ${u} of field ${t} of block type ${e.type}.`))}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const i=this.getField(t);return lr(e).replace("%1",i?i.getText():"")}).bind(this))}},Qc=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},Ln=function(e,t){return" "+e+","+t+" "},tl=function(e,t){return" "+e+t.join("")},ro=function(e,t){return" M "+e+","+t+" "},Ii=function(e,t){return" m "+e+","+t+" "},dl=function(e,t){return" l "+e+","+t+" "},g=function(e){return" l"+e.join("")},f=function(e,t){return" "+e+" "+t+" "},$=function(e,t,i,u){return e+" "+i+" "+i+" "+t+u},S=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},N=function(e,t){let i=null;t=t.outputConnection;const u=t?.getConnectionChecker();for(let v=0,M;M=e.inputList[v];v++){const Z=M.connection;let Ie;if(Z&&((Ie=u)!=null&&Ie.canConnect(t,Z,!1))){if(i)return null;i=Z}}return i},G=function(e,t){let i;for(;i=N(e,t);)if(e=i.targetBlock(),!e||e.isShadow())return i;return null},K=function(e){return ee(e)&&typeof e.getType=="function"&&typeof e.initView=="function"&&typeof e.dispose=="function"&&typeof e.getWeight=="function"&&typeof e.getSize=="function"&&typeof e.applyColour=="function"&&typeof e.hideForInsertionMarker=="function"&&typeof e.updateEditable=="function"&&typeof e.updateCollapsed=="function"&&typeof e.isShownWhenCollapsed=="function"&&typeof e.setOffsetInBlock=="function"&&typeof e.onLocationChange=="function"&&typeof e.onClick=="function"},he=function(e){return K(e)&&p0(e)&&Ea(e)&&typeof e.setText=="function"&&typeof e.getText=="function"&&typeof e.setBubbleSize=="function"&&typeof e.getBubbleSize=="function"&&typeof e.setBubbleLocation=="function"&&typeof e.getBubbleLocation=="function"&&e.getType()===_s.COMMENT},we=function(e){if(!(e.getDescendants(!1).length>100)){var t=e.workspace,i=e.getSvgRoot();t.getAudioManager().play("delete");var u=e.getRelativeToSurfaceXY(),v=i.cloneNode(!0);v.setAttribute("transform","translate("+u.x+","+u.y+")");var M;(M=t.getLayerManager())==null||M.appendToAnimationLayer({getSvgRoot:()=>v}),Ue(v,{x:u.x,y:u.y,width:e.width,height:e.height},t.RTL,new Date)}},Ue=function(e,t,i,u){const v=(new Date().getTime()-u.getTime())/150;v>1?on(e):(e.setAttribute("transform","translate("+(t.x+(i?-1:1)*t.width/2*v)+","+(t.y+t.height/2*v)+") scale("+(1-v)+")"),setTimeout(Ue,10,e,t,i,u))},rt=function(e){var t=e.workspace;const i=t.scale;if(t.getAudioManager().play("click"),!(i<1)){var u=t.getSvgXY(e.getSvgRoot());e.outputConnection?(u.x+=(e.RTL?3:-3)*i,u.y+=13*i):e.previousConnection&&(u.x+=(e.RTL?-23:23)*i,u.y+=3*i);var v=ht(ut.CIRCLE,{cx:u.x,cy:u.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=ht(ut.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*i},v),t=ht(ut.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},v),e.beginElement(),t.beginElement(),setTimeout(()=>void on(v),150)}},at=function(e){if(Yt(),e.workspace.getAudioManager().play("disconnect"),!(e.workspace.scale<1)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),O1=e,_t(e,t,new Date,0)}},_t=function(e,t,i,u){const v=[.66,1,.66,0,-.66,-1,-.66,0];let M="";i.getTime()+200>new Date().getTime()&&(M=`skewX(${Math.round(v[u%v.length]*t)})`,ku=setTimeout(_t,15,e,t,i,u+1)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${M}`)},Yt=function(){O1&&(ku&&(clearTimeout(ku),ku=null),O1.getSvgRoot().setAttribute("transform",O1.getTranslation()),O1=null)},bn=function(e,t){e.workspace.RTL&&(t.x=e.workspace.getWidth()-t.x);const i=e.workspace,u=n.config$$module$build$src$core$config.snapRadius,v=Vt.difference(t,e.getRelativeToSurfaceXY()),M=new Vt(0,0),Z=i.getAllBlocks(!1).filter(Ie=>Ie.id!=e.id).map(Ie=>Ie.getRelativeToSurfaceXY());for(;An(Vt.sum(t,M),Z)||Rr(e,Vt.sum(v,M),u);)i.RTL?M.translate(-u,u*2):M.translate(u,u*2);e.moveTo(Vt.sum(t,M))},An=function(e,t){return t.some(i=>Math.abs(i.x-e.x)<=1&&Math.abs(i.y-e.y)<=1)},Rr=function(e,t,i){return e.getConnections_(!1).some(u=>!!u.closest(i,t).connection)},gr=function(e,t,i){const u=i.getBoundingRectangle(),v=u.right-u.left,M=g0(t.top,u.top,t.top+t.height-(u.bottom-u.top))-u.top;let Z=t.left;return t=t.left+t.width-v,e.RTL?Z=Math.min(t,Z):t=Math.max(Z,t),(e=g0(Z,u.left,t)-u.left)||M?(i.moveBy(e,M,["inbounds"]),!0):!1},Tr=function(e){return t=>{var i=e.getMetricsManager();if(i.hasFixedEdges()&&!e.isDragging()){var u;if(X4.includes((u=t.type)!=null?u:"")){u=i.getScrollMetrics(!0);const v=ai(e,t);v&&(i=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(t.group),gr(e,u,v)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(i))}else ft(t)&&t.scale&&t.oldScale&&t.scale>t.oldScale&&jr(e)}}},ai=function(e,t){let i=null;switch(t.type){case pt.BLOCK_CREATE:case pt.BLOCK_MOVE:(i=e.getBlockById(t.blockId))&&(i=i.getRootBlock());break;case pt.COMMENT_CREATE:case pt.COMMENT_MOVE:case pt.COMMENT_RESIZE:i=e.getCommentById(t.commentId)}return i},jr=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var i=e.getTopBoundedElements();for(let u=0,v;v=i[u];u++)gr(e,t,v)}},zi=function(e){return e&&typeof e.isDeletable=="function"&&typeof e.dispose=="function"&&typeof e.setDeleteStyle=="function"},gs=function(e,t){const i=e.getIcons();for(const u of e.inputList){if(!u.isVisible())continue;i.push(...u.fieldRow);let v;if((v=u.connection)!=null&&v.targetBlock())if(e=u.connection.targetBlock(),u.connection.type!==Tn.NEXT_STATEMENT||t)i.push(e);else{let M;(e=(M=e.lastConnectionInStack(!1))==null?void 0:M.getSourceBlock())&&i.push(e)}else{let M;((M=u.connection)==null?void 0:M.type)===Tn.INPUT_VALUE&&i.push(u.connection)}}return i},as=function(e,t){const i=e.workspace.getTopBoundedElements(!0).filter(v=>ee(v));e=i.indexOf(e instanceof Yi?e.getRootBlock():e)+t;let u=null;if(e>=0&&e<i.length?u=i[e]:e<0?u=i[i.length-1]:e>=i.length&&(u=i[0]),t<0&&u instanceof Yi){let v,M;return(M=(v=u.lastConnectionInStack(!1))==null?void 0:v.getSourceBlock())!=null?M:u}return u},$s=function(e,t){var i;let u;const v=e instanceof Yi?(u=(i=e.outputConnection)==null?void 0:i.targetBlock())!=null?u:e.getSurroundParent():e.getSourceBlock();return!(v instanceof Yi)||(i=gs(v,t>0),e=i.indexOf(e),e===-1)?null:(t=e+t,t>=0&&t<i.length?i[t]:null)},Or=function(e,t){a(Ft.ICON,e.toString(),t)},fi=function(e){m(Ft.ICON,e)},pi=function(e){return e&&typeof e.getRelativeToSurfaceXY=="function"&&typeof e.isMovable=="function"&&typeof e.startDrag=="function"&&typeof e.drag=="function"&&typeof e.endDrag=="function"&&typeof e.revertDrag=="function"},Mi=function(e){return e&&typeof e.autoHide=="function"},ui=function(e){return typeof e.getProcedureModel=="function"&&typeof e.doProcedureUpdate=="function"&&typeof e.isProcedureDef=="function"},qi=function(e){return e&&typeof e.startPublishing=="function"&&typeof e.stopPublishing=="function"},go=function(e){const t=e.getProcedureMap().getProcedures().filter(u=>!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(v=>v.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(u=>{!ui(u)&&gn(u)&&t.push(u.getProcedureDef())});const i=e.getProcedureMap().getProcedures().filter(u=>!!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(v=>v.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(u=>{!ui(u)&&gn(u)&&i.push(u.getProcedureDef())}),t.sort(K0),i.sort(K0),[t,i]},K0=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!uu(e,t.workspace,t);){const i=e.match(/^(.*?)(\d+)$/);e=i?i[1]+(parseInt(i[2])+1):e+"2"}return e},uu=function(e,t,i){return!dc(e,t,i)},dc=function(e,t,i){for(const u of t.getAllBlocks(!1))if(u!==i&&gn(u)&&n.Names$$module$build$src$core$names.equals(u.getProcedureDef()[0],e))return!0;i=i&&ui(i)?i?.getProcedureModel():void 0;for(const u of t.getProcedureMap().getProcedures())if(u!==i&&n.Names$$module$build$src$core$names.equals(u.getName(),e))return!0;return!1},n.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new Vs;e=e.trim();const i=n.findLegalName$$module$build$src$core$procedures(e,t);ui(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(i);const u=this.getValue();if(u!==e&&u!==i)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const v=e[t];v.renameProcedure&&v.renameProcedure(u,i)}return i},e1=function(e){function t(M,Z){for(let Lt=0;Lt<M.length;Lt++){var Ie=M[Lt][0];const zn=M[Lt][1],Ws=n.createElement$$module$build$src$core$utils$xml("block");Ws.setAttribute("type",Z),Ws.setAttribute("gap","16");const hs=n.createElement$$module$build$src$core$utils$xml("mutation");for(hs.setAttribute("name",Ie),Ws.appendChild(hs),Ie=0;Ie<zn.length;Ie++){const ll=n.createElement$$module$build$src$core$utils$xml("arg");ll.setAttribute("name",zn[Ie]),hs.appendChild(ll)}i.push(Ws)}}const i=[];if(bs.procedures_defnoreturn){var u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_defnoreturn"),u.setAttribute("gap","16");var v=n.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),u.appendChild(v),i.push(u)}return bs.procedures_defreturn&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_defreturn"),u.setAttribute("gap","16"),v=n.createElement$$module$build$src$core$utils$xml("field"),v.setAttribute("name","NAME"),v.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),u.appendChild(v),i.push(u)),bs.procedures_ifreturn&&(u=n.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_ifreturn"),u.setAttribute("gap","16"),i.push(u)),i.length&&i[i.length-1].setAttribute("gap","24"),e=go(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),i},x0=function(e){return nl(e,!1)},nl=function(e,t=!0){function i(v,M){for(const[Z,Ie]of v)u.push({kind:"block",type:M,gap:16,extraState:{name:Z,params:Ie}})}if(t)return Pn("The XML return value of Blockly.Procedures.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),e1(e);const u=[];return bs.procedures_defnoreturn&&u.push({kind:"block",type:"procedures_defnoreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE}}),bs.procedures_defreturn&&u.push({kind:"block",type:"procedures_defreturn",gap:16,fields:{NAME:n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE}}),bs.procedures_ifreturn&&u.push({kind:"block",type:"procedures_ifreturn",gap:16}),u.length&&(u[u.length-1].gap=24),e=go(e),i(e[0],"procedures_callnoreturn"),i(e[1],"procedures_callreturn"),u},fl=function(e){var t=[],i=e.getBlocksByType("procedures_mutatorarg",!1);for(let M=0,Z;Z=i[M];M++)t.push(Z.getFieldValue("NAME"));i=n.createElement$$module$build$src$core$utils$xml("xml");const u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_mutatorarg");const v=n.createElement$$module$build$src$core$utils$xml("field");v.setAttribute("name","NAME"),t=Ci(n.DEFAULT_ARG$$module$build$src$core$procedures,t),t=n.createTextNode$$module$build$src$core$utils$xml(t),v.appendChild(t),u.appendChild(v),i.appendChild(u),e.updateToolbox(i)},J0=function(e){if(vt(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=et(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),fl(e),e.addChangeListener(Qh))}},Qh=function(e){(It(e)||De(e)||Bt(e)||kt(e))&&(e=et(e.workspaceId),fl(e))},ed=function(e,t){return t.getAllBlocks(!1).filter(i=>La(i,e)||Pt(i)&&n.Names$$module$build$src$core$names.equals(i.getProcedureCall(),e))},La=function(e,t){return ui(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},n.mutateCallers$$module$build$src$core$procedures=function(e){const t=Ut();var i=e.getProcedureDef()[0];const u=e.mutationToDom(!0);e=ed(i,e.workspace);for(let M=0,Z;Z=e[M];M++){i=(i=Z.mutationToDom())&&it(i),Z.domToMutation&&Z.domToMutation(u);var v=Z.mutationToDom();v=v&&it(v),i!==v&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),le(new(an(pt.BLOCK_CHANGE))(Z,"mutation",null,i,v)),n.setRecordUndo$$module$build$src$core$events$utils(t))}},n.getDefinition$$module$build$src$core$procedures=function(e,t){for(const i of t.getAllBlocks(!1))if(ui(i)&&i.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(i.getProcedureModel().getName(),e)||gn(i)&&n.Names$$module$build$src$core$names.equals(i.getProcedureDef()[0],e))return i;return null},qo=function(e){return e.isDynamic},Us=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},lh=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},Hl=function(e,t){a(Ft.RENDERER,e,t)},Cr=function(e){m(Ft.RENDERER,e)},Ui=function(e,t,i){return e=new(x(Ft.RENDERER,e))(e),e.init(t,i),e},Os=function(e){Pi(e.getTargetWorkspace(),void 0,"String")},fc=function(e){Pi(e.getTargetWorkspace(),void 0,"Number")},Da=function(e){Pi(e.getTargetWorkspace(),void 0,"Colour")},Z0=function(e){return t1(e,!1)},t1=function(e,t=!0){return bs.variables_set_dynamic||bs.variables_get_dynamic||console.warn("There are no dynamic variable blocks, but there is a dynamic variable category."),t?(Pn("The XML return value of Blockly.VariablesDynamic.flyoutCategory()","v12","v13","the same method, but handle a return type of FlyoutItemInfo[] (JSON) instead."),n1(e)):(e.registerButtonCallback("CREATE_VARIABLE_STRING",Os),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",fc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Da),[{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE,callbackkey:"CREATE_VARIABLE_STRING"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE,callbackkey:"CREATE_VARIABLE_NUMBER"},{kind:"button",text:n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE,callbackkey:"CREATE_VARIABLE_COLOUR"},...ei(e,e.getVariableMap().getAllVariables(),!1,"variables_get_dynamic","variables_set_dynamic")])},n1=function(e){let t=[],i=document.createElement("button");return i.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(i),i=document.createElement("button"),i.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(i),i=document.createElement("button"),i.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(i),e.registerButtonCallback("CREATE_VARIABLE_STRING",Os),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",fc),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Da),e=cu(e),t=t.concat(e)},cu=function(e){e=e.getVariableMap().getAllVariables();const t=[];if(e.length>0){if(bs.variables_set_dynamic){var i=e[e.length-1];const u=n.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set_dynamic"),u.setAttribute("gap","24"),u.appendChild(ni(i)),t.push(u)}if(bs.variables_get_dynamic){e.sort(jt);for(let u=0,v;v=e[u];u++)i=n.createElement$$module$build$src$core$utils$xml("block"),i.setAttribute("type","variables_get_dynamic"),i.setAttribute("gap","8"),i.appendChild(ni(v)),t.push(i)}}return t},td=function(e,t){const i=e.toCopyData();return L2=i,D2=Ce(e)&&e.workspace instanceof Sl?e.workspace:null,z3=t,i},vs=function(){return L2},nd=function(e){L2=e},r1=function(){return D2},C4=function(e){D2=e},rd=function(){return z3},h3=function(e){z3=e},Q0=function(e,t,i){return e&&t?ah(e,t,i):L2&&D2?ah(L2,D2,z3):null},ah=function(e,t,i){let u;t=t.isMutator?t:(u=t.options.parentWorkspace)!=null?u:t;let v,M;return(M=(v=k(Ft.PASTER,e.paster,!1))==null?void 0:v.paste(e,t,i))!=null?M:null},pc=function(e){return e&&typeof e.toCopyData=="function"},Lo=function(){Hi.registry.register({name:Ru.ESCAPE,preconditionFn(e){return!e.isReadOnly()},callback(e){return e.hideChaff(),!0},keyCodes:[Li.ESC]})},Ns=function(){Hi.registry.register({name:Ru.DELETE,preconditionFn(e,t){return t=t.focusedNode,!e.isReadOnly()&&t!=null&&zi(t)&&t.isDeletable()&&!e.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(e,t,i,u){return t.preventDefault(),e=u.focusedNode,e instanceof Yi?e.checkAndDelete():zi(e)&&e.isDeletable()&&(n.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[Li.DELETE,Li.BACKSPACE]})},mc=function(e){return pc(e)&&zi(e)&&pi(e)?e.isCopyable?e.isCopyable():e instanceof Yi||e instanceof o0?e.isOwnDeletable()&&e.isOwnMovable():e.isDeletable()&&e.isMovable():!1},gc=function(e){return mc(e)&&zi(e)&&e.isDeletable()},i1=function(){const e=Hi.registry.createSerializedKey(Li.C,[Li.CTRL]),t=Hi.registry.createSerializedKey(Li.C,[Li.META]);Hi.registry.register({name:Ru.COPY,preconditionFn(i,u){return u=u.focusedNode,i=i.isFlyout?i.targetWorkspace:i,!!u&&!!i&&!i.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&mc(u)},callback(i,u,v,M){return u.preventDefault(),u=M.focusedNode,!u||!pc(u)||!mc(u)||(i=i.isFlyout?i.targetWorkspace:i,!i)?!1:(u.workspace.isFlyout||i.hideChaff(),i=pi(u)&&u.workspace==i?u.getRelativeToSurfaceXY():void 0,!!td(u,i))},keyCodes:[e,t]})},uh=function(){const e=Hi.registry.createSerializedKey(Li.X,[Li.CTRL]),t=Hi.registry.createSerializedKey(Li.X,[Li.META]);Hi.registry.register({name:Ru.CUT,preconditionFn(i,u){return u=u.focusedNode,!!u&&!i.isReadOnly()&&!i.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()&&gc(u)},callback(i,u,v,M){return i=M.focusedNode,!i||!gc(i)||!pc(i)?!1:(u=pi(i)?i.getRelativeToSurfaceXY():void 0,u=td(i,u),i instanceof Yi?i.checkAndDelete():zi(i)&&i.dispose(),!!u)},keyCodes:[e,t]})},C0=function(){const e=Hi.registry.createSerializedKey(Li.V,[Li.CTRL]),t=Hi.registry.createSerializedKey(Li.V,[Li.META]);Hi.registry.register({name:Ru.PASTE,preconditionFn(){var i=r1();return!i||!i.rendered?!1:(i=i.isFlyout?i.targetWorkspace:i,!!vs()&&!!i&&!i.isReadOnly()&&!i.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken())},callback(i,u){if(i=vs(),!i)return!1;var v=r1();if(!v||(v=v.isFlyout?v.targetWorkspace:v,!v||v.isReadOnly()))return!1;if(u instanceof PointerEvent)return u=Te(v,new Vt(u.clientX,u.clientY)),!!Q0(i,v,u);if(u=rd(),!u)return!!Q0(i,v);const{left:M,top:Z,width:Ie,height:Lt}=v.getMetricsManager().getViewMetrics(!0);return new $r(Z,Z+Lt,M,M+Ie).contains(u.x,u.y)?!!Q0(i,v):(u=new Vt(M+Ie/2,Z+Lt/2),!!Q0(i,v,u))},keyCodes:[e,t]})},s1=function(){const e=Hi.registry.createSerializedKey(Li.Z,[Li.CTRL]),t=Hi.registry.createSerializedKey(Li.Z,[Li.META]);Hi.registry.register({name:Ru.UNDO,preconditionFn(i){return!i.isReadOnly()&&!i.isDragging()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(i,u){return i.hideChaff(),i.undo(!1),u.preventDefault(),!0},keyCodes:[e,t]})},ch=function(){const e=Hi.registry.createSerializedKey(Li.Z,[Li.CTRL,Li.SHIFT]),t=Hi.registry.createSerializedKey(Li.Z,[Li.META,Li.SHIFT]),i=Hi.registry.createSerializedKey(Li.Y,[Li.CTRL]);Hi.registry.register({name:Ru.REDO,preconditionFn(u){return!u.isDragging()&&!u.isReadOnly()&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()},callback(u,v){return u.hideChaff(),u.undo(!0),v.preventDefault(),!0},keyCodes:[e,t,i]})},hh=function(){Lo(),Ns(),i1(),uh(),C0(),s1(),ch()},id=function(e){const t=e.saveState();return e.getParameters().length&&(t.parameters=e.getParameters().map(i=>i.saveState())),t},sd=function(e,t,i,u){if(e=e.loadState(i,u),!i.parameters)return e;for(const[v,M]of i.parameters.entries())e.insertParameter(t.loadState(M,u),v);return e},k4=function(e){const t=Object.create(null),i=E(Ft.SERIALIZER,!0);for(const u in i){let v;const M=(v=i[u])==null?void 0:v.save(e);M&&(t[u]=M)}return t},A4=function(e,t,{recordUndo:i=!1}={}){var u=E(Ft.SERIALIZER,!0);if(u){u=Object.entries(u).sort((M,Z)=>Z[1].priority-M[1].priority);var v=Ut();n.setRecordUndo$$module$build$src$core$events$utils(i),(i=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),Zn(),t instanceof Sl&&t.setResizesEnabled(!1);for(const[,M]of u.reverse()){let Z;(Z=M)==null||Z.clear(t)}for(const[M,Z]of u.reverse())if(e[M]){let Ie;(Ie=Z)==null||Ie.load(e[M],t)}t instanceof Sl&&t.setResizesEnabled(!0),ss(),le(new(an(pt.FINISHED_LOADING))(t)),n.setGroup$$module$build$src$core$events$utils(i),n.setRecordUndo$$module$build$src$core$events$utils(v)}},I4=function(e,t){let i=null;i=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var u;if(!document.contains(i)&&document!==((u=i)==null?void 0:u.ownerDocument))throw Error("Error: container is not in current document");e=new N0(t||{}),u=document.createElement("div"),tn(u,"injectionDiv"),t!=null&&t.rtl&&tn(u,"blocklyRTL"),i.appendChild(u),t=M4(u,e);const v=od(u,t,e);return R4(v),oe(v),ds(v),u.addEventListener("focusin",function(){oe(v)}),ie(u,"keydown",null,Qe),v},M4=function(e,t){e.setAttribute("dir","LTR"),Hn(t.hasCss,t.pathToMedia);const i=ht(ut.SVG,{xmlns:v1,"xmlns:html":Fa,"xmlns:xlink":rl,version:"1.1",class:"blocklySvg"},e),u=ht(ut.DEFS,{},i),v=String(Math.random()).substring(2);return t.gridPattern=U1.createDom(v,t.gridOptions,u,e),i},od=function(e,t,i){i.parentWorkspace=null,i=new Sl(i);const u=i.options;i.scale=u.zoomOptions.startScale,t.appendChild(i.createDom("blocklyMainBackground",e));var v=i.getRenderer().getClassName();return v&&tn(e,v),(v=i.getTheme().getClassName())&&tn(e,v),!u.hasCategories&&u.languageTree&&(e=i.addFlyout(ut.SVG),Ti(e,t)),u.hasTrashcan&&i.addTrashcan(),u.zoomOptions&&u.zoomOptions.controls&&i.addZoomControls(),i.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),i.translate(0,0),i.addChangeListener(Tr(i)),ds(i),Ll(),Sa(),Mr(),i},R4=function(e){const t=e.options;var i=e.getParentSvg();if(ie(i.parentNode,"contextmenu",null,function(u){Ke(u)||u.preventDefault()}),i=ie(window,"resize",null,function(){bi(),e.hideComponents(!0),lt(),W0(),ds(e),jr(e)}),e.setResizeHandlerWrapper(i),d3(),t.languageTree){i=e.getToolbox();const u=e.getFlyout(!0);i?i.init():u&&(u.init(e),u.show(t.languageTree),typeof u.scrollToStart=="function"&&u.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new ga(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&O4(t.pathToMedia,e)},d3=function(){xf||(ie(document,"scroll",null,function(){const e=Je();for(let t=0,i;i=e[t];t++)i instanceof Sl&&i.updateInverseScreenCTM()}),ke(document,"touchend",null,z),ke(document,"touchcancel",null,z)),xf=!0},O4=function(e,t){function i(){for(;v.length;){const M=v.pop();M&&Be(M)}u.preload()}const u=t.getAudioManager();u.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),u.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),u.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const v=[];v.push(ie(document,"pointermove",null,i,!0)),v.push(ie(document,"touchstart",null,i,!0))},N4=function(e){if(!e||!e.isSimpleReporter())return!1;let t;return(t=e.getFields().next().value)==null?void 0:t.isFullBlockField()},ld=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return e.workspace.getUndoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:wr.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},dh=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return e.workspace.getRedoStack().length>0?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:wr.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},ad=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?e.workspace.getTopBlocks(!1).length>1?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:wr.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},ud=function(e,t){function i(M){v--,M.setCollapsed(e),v===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let u=0,v=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let M=0;M<t.length;M++){let Z=t[M];for(;Z;)v++,setTimeout(i.bind(null,Z),u),Z=Z.getNextBlock(),u+=10}},cd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let i=e[t];for(;i;){if(!i.isCollapsed())return"enabled";i=i.getNextBlock()}}return"disabled"}return"hidden"},callback(e){ud(!0,e.workspace.getTopBlocks(!0))},scopeType:wr.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},hd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let i=e[t];for(;i;){if(i.isCollapsed())return"enabled";i=i.getNextBlock()}}return"disabled"}return"hidden"},callback(e){ud(!1,e.workspace.getTopBlocks(!0))},scopeType:wr.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},dd=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let i=0;i<e.length;i++)dd(e[i],t)}},fd=function(e){const t=[];e=e.getTopBlocks(!0);for(let i=0;i<e.length;i++)dd(e[i],t);return t},o1=function(e,t){t?n.setGroup$$module$build$src$core$events$utils(t):(n.setGroup$$module$build$src$core$events$utils(!0),t=n.getGroup$$module$build$src$core$events$utils());const i=e.shift();i&&(i.isDeadOrDying()?o1(e,t):(i.dispose(!1,!0),setTimeout(o1,10,e,t))),n.setGroup$$module$build$src$core$events$utils(!1)},hu=function(){wr.registry.register({displayText(e){return e.workspace?(e=fd(e.workspace).length,e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&fd(e.workspace).length>0?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=fd(e.workspace);t.length<2?o1(t):Ct(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(i){i&&o1(t)})}},scopeType:wr.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},L4=function(){ld(),dh(),ad(),cd(),hd(),hu()},l1=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&Q0(t,e.block.workspace)}},scopeType:wr.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},a1=function(){wr.registry.register({displayText(e){return e.block.hasIcon(Xl.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()||!e.hasIcon(Xl.TYPE)&&N4(e)?"hidden":"enabled"},callback(e){(e=e.block)&&e.hasIcon(Xl.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:wr.ScopeType.BLOCK,id:"blockComment",weight:2})},pd=function(){wr.registry.register({displayText(e){return e.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof G3||e.inputList[t]instanceof G3))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:wr.ScopeType.BLOCK,id:"blockInline",weight:3})},fh=function(){wr.registry.register({displayText(e){return e.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:wr.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},D4=function(){wr.registry.register({displayText(e){return e.block.hasDisabledReason(fr)?n.Msg$$module$build$src$core$msg.ENABLE_BLOCK:n.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var t=e.getDisabledReasons();return t=t.size>(t.has(fr)?1:0),e.getInheritedDisabled()||t?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(fr),fr),n.setGroup$$module$build$src$core$events$utils(t)},scopeType:wr.ScopeType.BLOCK,id:"blockDisable",weight:5})},md=function(){wr.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:wr.ScopeType.BLOCK,id:"blockDelete",weight:6})},gd=function(){wr.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:wr.ScopeType.BLOCK,id:"blockHelp",weight:7})},$d=function(){wr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isDeletable()?"enabled":"hidden"},callback(e){n.setGroup$$module$build$src$core$events$utils(!0);let t;(t=e.comment)==null||t.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)},scopeType:wr.ScopeType.COMMENT,id:"commentDelete",weight:6})},vd=function(){wr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var t=e.comment.toCopyData();t&&Q0(t,e.comment.workspace)}},scopeType:wr.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},bd=function(){wr.registry.register({displayText:()=>n.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>{let t;return(t=e.workspace)!=null&&t.isMutator?"hidden":"enabled"},callback:(e,t,i,u)=>{(e=e.workspace)&&(n.setGroup$$module$build$src$core$events$utils(!0),t=new o0(e),t.setPlaceholderText(n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),t.moveTo(Te(e,new Vt(u.x,u.y))),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t),n.setGroup$$module$build$src$core$events$utils(!1))},scopeType:wr.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},yd=function(){l1(),a1(),pd(),fh(),D4(),md(),gd()},B4=function(){vd(),$d(),bd()},Td=function(){L4(),yd()},_d=function(e){return e&&typeof e.paste=="function"},P4=function(e){return e&&typeof e.getSvgRoot=="function"},F4=function(e){return e.isSelectable()},f3=function(e){O().hideChaff(e)},yt=yt||{},yt.scope={},yt.ASSUME_ES5=!1,yt.ASSUME_ES6=!1,yt.ASSUME_ES2020=!1,yt.ASSUME_NO_NATIVE_MAP=!1,yt.ASSUME_NO_NATIVE_SET=!1,yt.ISOLATE_POLYFILLS=!1,yt.FORCE_POLYFILL_PROMISE=!1,yt.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,yt.INSTRUMENT_ASYNC_CONTEXT=!0,yt.objectCreate=yt.ASSUME_ES5||typeof Object.create=="function"?Object.create:function(e){var t=function(){};return t.prototype=e,new t},yt.defineProperty=yt.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e},yt.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof y8=="object"&&y8];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")},yt.global=yt.ASSUME_ES2020?globalThis:yt.getGlobal(this),yt.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",yt.TRUST_ES6_POLYFILLS=!yt.ISOLATE_POLYFILLS||yt.IS_SYMBOL_NATIVE,yt.polyfills={},yt.propertyToPolyfillSymbol={},yt.POLYFILL_PREFIX="$jscp$",yt.polyfill=function(e,t,i,u){t&&(yt.ISOLATE_POLYFILLS?yt.polyfillIsolated(e,t,i,u):yt.polyfillUnisolated(e,t,i,u))},yt.polyfillUnisolated=function(e,t,i,u){for(i=yt.global,e=e.split("."),u=0;u<e.length-1;u++){var v=e[u];if(!(v in i))return;i=i[v]}e=e[e.length-1],u=i[e],t=t(u),t!=u&&t!=null&&yt.defineProperty(i,e,{configurable:!0,writable:!0,value:t})},yt.polyfillIsolated=function(e,t,i,u){var v=e.split(".");e=v.length===1,u=v[0],u=!e&&u in yt.polyfills?yt.polyfills:yt.global;for(var M=0;M<v.length-1;M++){var Z=v[M];if(!(Z in u))return;u=u[Z]}v=v[v.length-1],i=yt.IS_SYMBOL_NATIVE&&i==="es6"?u[v]:null,t=t(i),t!=null&&(e?yt.defineProperty(yt.polyfills,v,{configurable:!0,writable:!0,value:t}):t!==i&&(yt.propertyToPolyfillSymbol[v]===void 0&&(i=Math.random()*1e9>>>0,yt.propertyToPolyfillSymbol[v]=yt.IS_SYMBOL_NATIVE?yt.global.Symbol(v):yt.POLYFILL_PREFIX+i+"$"+v),yt.defineProperty(u,yt.propertyToPolyfillSymbol[v],{configurable:!0,writable:!0,value:t})))},yt.getConstructImplementation=function(){function e(){function i(){}return Reflect.construct(i,[],function(){}),new i instanceof i}if(yt.TRUST_ES6_POLYFILLS&&typeof Reflect<"u"&&Reflect.construct){if(e())return Reflect.construct;var t=Reflect.construct;return function(i,u,v){return i=t(i,u),v&&Reflect.setPrototypeOf(i,v.prototype),i}}return function(i,u,v){return v===void 0&&(v=i),v=yt.objectCreate(v.prototype||Object.prototype),Function.prototype.apply.call(i,v,u)||v}},yt.construct={valueOf:yt.getConstructImplementation}.valueOf(),yt.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},yt.setPrototypeOf=yt.ASSUME_ES6||yt.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:yt.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,yt.inherits=function(e,t){if(e.prototype=yt.objectCreate(t.prototype),e.prototype.constructor=e,yt.ASSUME_ES6||yt.setPrototypeOf){var i=yt.setPrototypeOf;i(e,t)}else for(i in t)if(i!="prototype")if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(t,i);u&&Object.defineProperty(e,i,u)}else e[i]=t[i];e.superClass_=t.prototype},yt.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},yt.arrayIterator=function(e){return{next:yt.arrayIteratorImpl(e)}},yt.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return yt.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},yt.arrayFromIterator=function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i},yt.arrayFromIterable=function(e){return e instanceof Array?e:yt.arrayFromIterator(yt.makeIterator(e))},yt.generator={},yt.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},yt.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},yt.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},yt.generator.Context.prototype.stop_=function(){this.isRunning_=!1},yt.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},yt.generator.Context.prototype.next_=function(e){this.yieldResult=e},yt.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},yt.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},yt.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},yt.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},yt.generator.Context.prototype.yieldAll=function(e,t){e=yt.makeIterator(e);var i=e.next();if(yt.generator.ensureIteratorResultIsObject_(i),i.done)this.yieldResult=i.value,this.nextAddress=t;else return this.yieldAllIterator_=e,this.yield(i.value,t)},yt.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},yt.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},yt.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},yt.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},yt.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},yt.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},yt.generator.Context.prototype.enterFinallyBlock=function(e,t,i){i?this.finallyContexts_[i]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},yt.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();t.jumpTo!=null&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},yt.generator.Context.prototype.forIn=function(e){return new yt.generator.Context.PropertyIterator(e)},yt.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},yt.generator.Context.PropertyIterator.prototype.getNext=function(){for(;this.properties_.length>0;){var e=this.properties_.pop();if(e in this.object_)return e}return null},yt.generator.Engine_=function(e){this.context_=new yt.generator.Context,this.program_=e},yt.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},yt.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(i){return{value:i,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},yt.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},yt.generator.Engine_.prototype.yieldAllStep_=function(e,t,i){try{var u=e.call(this.context_.yieldAllIterator_,t);if(yt.generator.ensureIteratorResultIsObject_(u),!u.done)return this.context_.stop_(),u;var v=u.value}catch(M){return this.context_.yieldAllIterator_=null,this.context_.throw_(M),this.nextStep_()}return this.context_.yieldAllIterator_=null,i.call(this.context_,v),this.nextStep_()},yt.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},yt.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},yt.generator.createGenerator=function(e,t){return t=new yt.generator.Generator_(new yt.generator.Engine_(t)),yt.setPrototypeOf&&e.prototype&&yt.setPrototypeOf(t,e.prototype),t},yt.asyncExecutePromiseGenerator=function(e){function t(u){return e.next(u)}function i(u){return e.throw(u)}return new Promise(function(u,v){function M(Z){Z.done?u(Z.value):Promise.resolve(Z.value).then(t,i).then(M,v)}M(e.next())})},yt.asyncExecutePromiseGeneratorFunction=function(e){return yt.asyncExecutePromiseGenerator(e())},yt.asyncExecutePromiseGeneratorProgram=function(e){return yt.asyncExecutePromiseGenerator(new yt.generator.Generator_(new yt.generator.Engine_(e)))},yt.polyfill("globalThis",function(e){return e||yt.global},"es_2020","es3"),yt.polyfill("Array.prototype.includes",function(e){return e||function(t,i){var u=this;u instanceof String&&(u=String(u));var v=u.length;for(i=i||0,i<0&&(i=Math.max(i+v,0));i<v;i++){var M=u[i];if(M===t||Object.is(M,t))return!0}return!1}},"es7","es3"),yt.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new yt.global.Proxy(e,{get:function(i,u,v){return i==e&&u=="q"&&v==t}}));return t.q===!0}catch{return!1}},yt.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,yt.ES6_CONFORMANCE=yt.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&yt.checkEs6ConformanceViaProxy(),yt.initSymbol=function(){},yt.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},yt.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},yt.MapEntry=function(){},yt.polyfill("Set.prototype.difference",function(e){return e||function(t){yt.checkIsSetInstance(this),yt.checkIsSetLike(t);var i=yt.getSmallerAndLargerSets(this,t);t=new Set(this);var u=i.smallerSetIterator;i=i.largerSet;for(var v=u.next();!v.done;)i.has(v.value)&&t.delete(v.value),v=u.next();return t}},"es_next","es6"),yt.checkIsSetLike=function(e){if(typeof e!="object"||e===null||typeof e.size!="number"||e.size<0||typeof e.keys!="function"||typeof e.has!="function")throw new TypeError("Argument must be set-like")},yt.checkIsValidIterator=function(e){if(typeof e!="object"||e===null||typeof e.next!="function")throw new TypeError("Invalid iterator.");return e},yt.getSmallerAndLargerSets=function(e,t){return e.size<=t.size?{smallerSetIterator:e.keys(),largerSet:t}:{smallerSetIterator:yt.checkIsValidIterator(t.keys()),largerSet:e}},yt.checkIsSetInstance=function(e){if(!(e instanceof Set))throw new TypeError("Method must be called on an instance of Set.")},yt.iteratorFromArray=function(e,t){if(yt.ASSUME_ES6)return e[Symbol.iterator]();e instanceof String&&(e+="");var i=0,u=!1,v={next:function(){if(!u&&i<e.length){var M=i++;return{value:t(M,e[M]),done:!1}}return u=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v},yt.polyfill("Array.prototype.values",function(e){return e||function(){return yt.iteratorFromArray(this,function(t,i){return i})}},"es8","es3"),yt.polyfill("Array.prototype.flatMap",function(e){return e||function(t,i){var u=[];return Array.prototype.forEach.call(this,function(v,M){v=t.call(i,v,M,this),Array.isArray(v)?u.push.apply(u,v):u.push(v)}),u}},"es9","es5"),yt.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var i=[];return Array.prototype.forEach.call(this,function(u){Array.isArray(u)&&t>0?(u=Array.prototype.flat.call(u,t-1),i.push.apply(i,u)):i.push(u)}),i}},"es9","es5"),yt.polyfill("Object.entries",function(e){return e||function(t){var i=[],u;for(u in t)yt.owns(t,u)&&i.push([u,t[u]]);return i}},"es8","es3"),yt.polyfill("Object.values",function(e){return e||function(t){var i=[],u;for(u in t)yt.owns(t,u)&&i.push(t[u]);return i}},"es8","es3");var Ba=Object.create(null),p3={typeMap:Ba},u1=Object.create(null),pl="default",Ft=class{constructor(e){this.name=e}toString(){return this.name}};Ft.CONNECTION_CHECKER=new Ft("connectionChecker"),Ft.CONNECTION_PREVIEWER=new Ft("connectionPreviewer"),Ft.CURSOR=new Ft("cursor"),Ft.EVENT=new Ft("event"),Ft.FIELD=new Ft("field"),Ft.INPUT=new Ft("input"),Ft.RENDERER=new Ft("renderer"),Ft.TOOLBOX=new Ft("toolbox"),Ft.THEME=new Ft("theme"),Ft.TOOLBOX_ITEM=new Ft("toolboxItem"),Ft.FLYOUTS_VERTICAL_TOOLBOX=new Ft("flyoutsVerticalToolbox"),Ft.FLYOUTS_HORIZONTAL_TOOLBOX=new Ft("flyoutsHorizontalToolbox"),Ft.FLYOUT_INFLATER=new Ft("flyoutInflater"),Ft.METRICS_MANAGER=new Ft("metricsManager"),Ft.BLOCK_DRAGGER=new Ft("blockDragger"),Ft.SERIALIZER=new Ft("serializer"),Ft.ICON=new Ft("icon"),Ft.PASTER=new Ft("paster"),Ft.VARIABLE_MODEL=new Ft("variableModel"),Ft.VARIABLE_MAP=new Ft("variableMap");var Pa={DEFAULT:pl,TEST_ONLY:p3};Pa.Type=Ft,Pa.getAllItems=E,Pa.getClass=x,Pa.getClassFromOptions=R,Pa.getObject=k,Pa.hasItem=C,Pa.register=a,Pa.unregister=m;var bs=Object.create(null),m3=750,c1="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),h1=null,ea={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},ph=0,du={TOUCH_ENABLED:c1,TOUCH_MAP:ea};du.checkTouchIdentifier=re,du.clearTouchIdentifier=fe,du.getTouchIdentifierFromEvent=ge,du.longStart=q,du.longStop=z,du.shouldHandleEvent=ve;var $c,z4,Ed,U4,d1,f1,wd,H4,fu,G4;(function(e){function t(u){return i.includes(u.toUpperCase())}$c=e;const i=$c.toUpperCase();z4=t("JavaFX"),Ed=t("WebKit"),U4=t("Gecko")&&!Ed,d1=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,f1=t("iPad")||t("Macintosh")&&e>0,wd=t("iPhone")&&!f1,H4=t("Macintosh"),fu=f1||d1&&!t("Mobile")||t("Silk"),G4=!fu&&(wd||d1)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var g3=$c,V4=z4,mh=U4,Sd=d1,p1=f1,W4=wd,xd=H4,$3=G4,q4={ANDROID:Sd,GECKO:mh,IPAD:p1,IPHONE:W4,JavaFx:V4,MAC:xd,MOBILE:$3,raw:g3},Zs=40,wo=125,ta={};ta.bind=ke,ta.conditionalBind=ie,ta.getScrollDeltaPixels=st,ta.isRightButton=ye,ta.isTargetInput=Ke,ta.mouseToSvg=Ve,ta.unbind=Be;var pt;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.VAR_TYPE_CHANGE="var_type_change",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(pt||(pt={}));var X4=[pt.BLOCK_CREATE,pt.BLOCK_MOVE,pt.COMMENT_CREATE,pt.COMMENT_MOVE],j4="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m1={genUid:()=>{const e=j4.length,t=[];for(let i=0;i<20;i++)t[i]=j4.charAt(Math.random()*e);return t.join("")}},v3=0,g1={TEST_ONLY:m1};g1.genUid=Qt,g1.getNextUniqueId=Xe;var Y4="",gh=!0,$1=0,$h="ORPHANED_BLOCK",na=[],K4={FIRE_QUEUE:na,enqueueEvent:Se,fireNow:ct,fireInternal:ze,setGroupInternal:yn};n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils,n.setRecordUndo$$module$build$src$core$events$utils;var v1="http://www.w3.org/2000/svg",Fa="http://www.w3.org/1999/xhtml",rl="http://www.w3.org/1999/xlink",k0;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(k0||(k0={}));var s0=null,vh=0,pu=null,io={HTML_NS:Fa};io.NodeType=k0,io.SVG_NS=v1,io.XLINK_NS=rl,io.addClass=tn,io.createSvgElement=ht,io.getFastTextWidth=sr,io.getFastTextWidthWithSizeString=Vn,io.getTextWidth=vi,io.hasClass=pr,io.insertAfter=Ti,io.measureFontMetrics=F,io.removeClass=Jn,io.removeClasses=Wr,io.removeNode=on,io.setCssTransform=Bi,io.startTextWidthCache=Zn,io.stopTextWidthCache=ss;var $o=class{static findFocusedNode(e){var t=e.getRootFocusableNode();if(!t.canBeFocused())return null;var i=t.getFocusableElement();return pr(i,$o.ACTIVE_CLASS_NAME)||pr(i,$o.PASSIVE_CSS_CLASS_NAME)||(t=i.querySelector(this.ACTIVE_FOCUS_NODE_CSS_SELECTOR),(t instanceof HTMLElement||t instanceof SVGElement)&&(t=$o.findFocusableNodeFor(t,e)))?t:(i=i.querySelector(this.PASSIVE_FOCUS_NODE_CSS_SELECTOR),(i instanceof HTMLElement||i instanceof SVGElement)&&(e=$o.findFocusableNodeFor(i,e))?e:null)}static findFocusableNodeFor(e,t){if(!e.id||e.id==="null"||t.getNestedTrees().map(v=>$o.findFocusableNodeFor(e,v)).findIndex(v=>!!v)!==-1)return null;var i=t.getRootFocusableNode();if(i.canBeFocused()&&e===i.getFocusableElement())return i;var u;return(i=(u=t.lookUpFocusableNode(e.id))!=null?u:null)?i:(u=e.parentElement,!i&&u?$o.findFocusableNodeFor(u,t):null)}};$o.ACTIVE_CLASS_NAME="blocklyActiveFocus",$o.PASSIVE_CSS_CLASS_NAME="blocklyPassiveFocus",$o.ACTIVE_FOCUS_NODE_CSS_SELECTOR=`.${$o.ACTIVE_CLASS_NAME}`,$o.PASSIVE_FOCUS_NODE_CSS_SELECTOR=`.${$o.PASSIVE_CSS_CLASS_NAME}`;var J4=class{constructor(e,t){this.tree=e,this.rootShouldBeAutoTabbable=t}},So=class{constructor(e){this.previouslyFocusedNode=this.focusedNode=null,this.registeredTrees=[],this.isUpdatingFocusedNode=this.recentlyLostAllFocus=this.lockFocusStateChanges=this.currentlyHoldsEphemeralFocus=!1;const t=i=>{if(!this.isUpdatingFocusedNode){this.recentlyLostAllFocus=!i;var u=null;if(i instanceof HTMLElement||i instanceof SVGElement){for(var v of this.registeredTrees)if(u=$o.findFocusableNodeFor(i,v.tree))break}if(u&&u.canBeFocused()){i=u.getFocusableTree();let M;v=(M=this.focusedNode)==null?void 0:M.getFocusableTree(),u===i.getRootFocusableNode()&&i!==v?this.focusTree(i):this.focusNode(u)}else this.defocusCurrentFocusedNode()}};e("focusin",i=>{i instanceof FocusEvent&&t(document.activeElement)}),e("focusout",i=>{i instanceof FocusEvent&&t(i.relatedTarget)})}registerTree(e,t=!1){if(this.ensureManagerIsUnlocked(),this.isRegistered(e))throw Error(`Attempted to re-register already registered tree: ${e}.`);this.registeredTrees.push(new J4(e,t));const i=e.getRootFocusableNode().getFocusableElement();if(!i.id||i.id==="null")throw Error(`Attempting to register a tree with a root element that has an invalid ID: ${e}.`);t&&(i.tabIndex=0)}isRegistered(e){return!!this.lookUpRegistration(e)}lookUpRegistration(e){let t;return(t=this.registeredTrees.find(i=>i.tree===e))!=null?t:null}unregisterTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to unregister not registered tree: ${e}.`);var t=this.registeredTrees.findIndex(v=>v.tree===e);const i=this.registeredTrees[t];this.registeredTrees.splice(t,1),t=$o.findFocusedNode(e);const u=e.getRootFocusableNode();t&&this.removeHighlight(t),this.focusedNode!==t&&this.focusedNode!==u||this.updateFocusedNode(null),this.removeHighlight(u),i.rootShouldBeAutoTabbable&&e.getRootFocusableNode().getFocusableElement().removeAttribute("tabindex")}getFocusedTree(){let e,t;return(t=(e=this.focusedNode)==null?void 0:e.getFocusableTree())!=null?t:null}getFocusedNode(){return this.focusedNode}focusTree(e){if(this.ensureManagerIsUnlocked(),!this.isRegistered(e))throw Error(`Attempted to focus unregistered tree: ${e}.`);const t=$o.findFocusedNode(e),i=e.getRestoredFocusableNode(t);e=e.getRootFocusableNode();let u;this.focusNode((u=i??t)!=null?u:e)}focusNode(e){this.ensureManagerIsUnlocked();const t=!this.currentlyHoldsEphemeralFocus;t&&(this.isUpdatingFocusedNode=!0);var i,u=((i=this.focusedNode)==null?void 0:i.getFocusableElement())!==document.activeElement;if(this.focusedNode!==e||u)if(e.canBeFocused()){if(i=e.getFocusableTree(),!this.isRegistered(i))throw Error(`Attempted to focus unregistered node: ${e}.`);u=e.getFocusableElement(),u.id&&u.id!=="null"||console.warn("Trying to focus a node that has an invalid ID.");var v=$o.findFocusableNodeFor(u,i);u=$o.findFocusedNode(i);var M=e;if(v!==e){M=i.getRestoredFocusableNode(u),e=i.getRootFocusableNode();var Z;M=(Z=M??u)!=null?Z:e}e=this.focusedNode,Z=e?.getFocusableTree(),e&&this.passivelyFocusNode(e,i),i=i.getRootFocusableNode(),u&&this.removeHighlight(u),i!==M&&this.removeHighlight(i),this.currentlyHoldsEphemeralFocus||this.activelyFocusNode(M,Z??null),this.updateFocusedNode(M)}else console.warn("Trying to focus a node that can't be focused.");t&&(this.isUpdatingFocusedNode=!1)}takeEphemeralFocus(e){if(this.ensureManagerIsUnlocked(),this.currentlyHoldsEphemeralFocus)throw Error(`Attempted to take ephemeral focus when it's already held, with new element: ${e}.`);this.currentlyHoldsEphemeralFocus=!0,this.focusedNode&&this.passivelyFocusNode(this.focusedNode,null),e.focus({preventScroll:!0});let t=!1;return()=>{if(t)throw Error(`Attempted to finish ephemeral focus twice for element: ${e}.`);if(t=!0,this.currentlyHoldsEphemeralFocus=!1,this.focusedNode){this.activelyFocusNode(this.focusedNode,null);const i=this.focusedNode;setTimeout(()=>{!this.focusedNode&&this.previouslyFocusedNode===i&&this.recentlyLostAllFocus&&this.focusNode(i)},0)}}}ephemeralFocusTaken(){return this.currentlyHoldsEphemeralFocus}ensureManagerIsUnlocked(){if(this.lockFocusStateChanges)throw Error("FocusManager state changes cannot happen in a tree/node focus/blur callback.")}updateFocusedNode(e){this.previouslyFocusedNode=this.focusedNode,this.focusedNode=e}defocusCurrentFocusedNode(){this.focusedNode&&!this.currentlyHoldsEphemeralFocus&&(this.passivelyFocusNode(this.focusedNode,null),this.updateFocusedNode(null))}activelyFocusNode(e,t){this.lockFocusStateChanges=!0;const i=e.getFocusableTree(),u=e.getFocusableElement();let v;const M=(v=this.lookUpRegistration(i))==null?void 0:v.rootShouldBeAutoTabbable;i!==t&&(i.onTreeFocus(e,t),M&&(i.getRootFocusableNode().getFocusableElement().tabIndex=-1)),e.onNodeFocus(),this.lockFocusStateChanges=!1,M&&e===i.getRootFocusableNode()||u.hasAttribute("tabindex")||(u.tabIndex=-1),this.setNodeToVisualActiveFocus(e),u.focus({preventScroll:!0})}passivelyFocusNode(e,t){this.lockFocusStateChanges=!0;const i=e.getFocusableTree();if(i!==t){i.onTreeBlur(t);let u;(u=this.lookUpRegistration(i))!=null&&u.rootShouldBeAutoTabbable&&(i.getRootFocusableNode().getFocusableElement().tabIndex=0)}e.onNodeBlur(),this.lockFocusStateChanges=!1,i!==t&&this.setNodeToVisualPassiveFocus(e)}setNodeToVisualActiveFocus(e){e=e.getFocusableElement(),tn(e,So.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Jn(e,So.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}setNodeToVisualPassiveFocus(e){e=e.getFocusableElement(),Jn(e,So.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),tn(e,So.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}removeHighlight(e){e=e.getFocusableElement(),Jn(e,So.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Jn(e,So.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME)}static getFocusManager(){return So.focusManager||(So.focusManager=new So(document.addEventListener)),So.focusManager}};So.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyActiveFocus",So.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME="blocklyPassiveFocus",So.focusManager=null,n.getFocusManager$$module$build$src$core$focus_manager;var ra={};ra.deepMerge=Ne;var Hi=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),t=e.keyCodes,t!=null&&t.length)for(const i of t)this.addKeyMapping(i,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,i){e=`${e}`;const u=this.keyMap.get(e);if(u&&!i)throw Error(`Shortcut named "${t}" collides with shortcuts "${u}"`);u&&i?u.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,i){const u=this.keyMap.get(e);if(!u)return i||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const v=u.indexOf(t);return v>-1?(u.splice(v,1),u.length===0&&this.keyMap.delete(e),!0):(i||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,i]of this.keyMap)e[t]=i;return e}getRegistry(){const e=Object.create(null);for(const[t,i]of this.shortcuts)e[t]=i;return Ne(Object.create(null),e)}onKeyDown(e,t){var i=this.serializeKeyEvent(t);if(i=this.getShortcutNamesByKeyCode(i),!i)return!1;for(const u of i){i=this.shortcuts.get(u);let v;if(!i||i.preconditionFn&&!i.preconditionFn(e,{focusedNode:(v=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?v:void 0}))continue;let M,Z,Ie;if((Z=(M=i).callback)!=null&&Z.call(M,e,t,i,{focusedNode:(Ie=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode())!=null?Ie:void 0}))return!0}return!1}getShortcutNamesByKeyCode(e){let t;return((t=this.keyMap.get(e))==null?void 0:t.slice())||[]}getKeyCodesByShortcutName(e){const t=[];for(const[i,u]of this.keyMap)u.indexOf(e)>-1&&t.push(i);return t}serializeKeyEvent(e){let t="";for(const i in Hi.modifierKeys)e.getModifierState(i)&&(t!==""&&(t+="+"),t+=i);return t!==""&&e.keyCode?t+="+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers(e){for(const t of e)if(!(t in Hi.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let i="";if(t){this.checkModifiers(t);for(const u in Hi.modifierKeys)t.includes(Hi.modifierKeys[u])&&(i!==""&&(i+="+"),i+=u)}return i!==""&&e?i+="+"+e:e&&(i=`${e}`),i}};Hi.registry=new Hi,(function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"})(Hi||(Hi={}));var bh=Object.create(null),Z4,ia,vc=[],Q4={defineBlocksWithJsonArrayInternal:Pe},Hs={TEST_ONLY:Q4};Hs.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Hs.defineBlocks=n.defineBlocks$$module$build$src$core$common,Hs.defineBlocksWithJsonArray=me,Hs.draggingConnections=vc,Hs.fireSelectedEvent=Nt,Hs.getAllWorkspaces=Je,Hs.getBlockTypeCounts=fs,Hs.getMainWorkspace=O,Hs.getParentContainer=Cn,Hs.getSelected=Le,Hs.getWorkspaceById=et,Hs.globalShortcutHandler=Qe,Hs.registerWorkspace=xt,Hs.setMainWorkspace=oe,Hs.setParentContainer=Qr,Hs.setSelected=Me,Hs.svgResize=ds,Hs.unregisterWorkpace=St;var sa=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=Ut()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,i){return i.isBlank=!1,i.group=e.group||"",i.workspaceId=t.id,i}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=et(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},mi=class extends sa{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},e2=class extends mi{constructor(e,t,i){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=pt.CLICK,this.blockId=e?e.id:void 0,this.targetType=i}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new e2),t.targetType=e.targetType,t.blockId=e.blockId,t}},t2;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(t2||(t2={})),a(Ft.EVENT,pt.CLICK,e2);var n2={};n2.removeElem=Dt;var Gl=class{constructor(e){this.name=e}toString(){return this.name}};Gl.POSITIONABLE=new Gl("positionable"),Gl.DRAG_TARGET=new Gl("drag_target"),Gl.DELETE_AREA=new Gl("delete_area"),Gl.AUTOHIDEABLE=new Gl("autohideable");var Ei=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const i=e.component.id;if(!t&&this.componentData.has(i)){var u;throw Error('Plugin "'+i+'" with capabilities "'+((u=this.componentData.get(i))==null?void 0:u.capabilities)+'" already added.')}for(this.componentData.set(i,e),t=[],u=0;u<e.capabilities.length;u++){const v=String(e.capabilities[u]).toLowerCase();if(t.push(v),this.capabilityToComponentIds.has(v)){let M;(M=this.capabilityToComponentIds.get(v))==null||M.push(i)}else this.capabilityToComponentIds.set(v,[i])}this.componentData.get(i).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let i=0;i<t.capabilities.length;i++){const u=String(t.capabilities[i]).toLowerCase();Dt(this.capabilityToComponentIds.get(u),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var i;(i=this.componentData.get(e))==null||i.capabilities.push(t);var u;(u=this.capabilityToComponentIds.get(t))==null||u.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),Dt(this.componentData.get(e).capabilities,t),Dt(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(t)}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const i=[];if(t){const u=[];e.forEach(v=>{u.push(this.componentData.get(v))}),u.sort(function(v,M){return v.weight-M.weight}),u.forEach(function(v){i.push(v.component)})}else e.forEach(u=>{i.push(this.componentData.get(u).component)});return i}};Ei.Capability=Gl,(function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"})(Ei||(Ei={})),Ei.ComponentWeight;var Cd=!1,kd=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyEmboss {
  filter: var(--blocklyEmbossFilter);
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyHighlighted>.blocklyPath {
  filter: var(--blocklyEmbossFilter);
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete,
.blocklyDragging.blocklyDraggingDelete .blocklyField {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabledPattern>.blocklyPath {
  fill: var(--blocklyDisabledPattern);
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableField>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover):not(:focus),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
  pointer-events: none;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu:focus {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyMenuSeparator {
  background-color: #ccc;
  height: 1px;
  border: 0;
  margin-left: 4px;
  margin-right: 4px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}

.blocklyField {
  cursor: default;
}

.blocklyInputField {
  cursor: text;
}

.blocklyDragging .blocklyField,
.blocklyDragging .blocklyIconGroup {
  cursor: grabbing;
}

.blocklyActiveFocus:is(
  .blocklyFlyout,
  .blocklyWorkspace,
  .blocklyField,
  .blocklyPath,
  .blocklyHighlightedConnectionPath,
  .blocklyComment,
  .blocklyBubble,
  .blocklyIconGroup,
  .blocklyTextarea
) {
  outline: none;
}
`,bc={};bc.inject=Hn,bc.register=dn;var Vt=class{constructor(e,t){this.x=e,this.y=t}clone(){return new Vt(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const i=e.x-t.x;return e=e.y-t.y,Math.sqrt(i*i+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new Vt(e.x-t.x,e.y-t.y)}static sum(e,t){return new Vt(e.x+t.x,e.y+t.y)}},ut=class{constructor(e){this.tagName=e}toString(){return this.tagName}};ut.ANIMATE=new ut("animate"),ut.CIRCLE=new ut("circle"),ut.CLIPPATH=new ut("clipPath"),ut.DEFS=new ut("defs"),ut.FECOMPOSITE=new ut("feComposite"),ut.FECOMPONENTTRANSFER=new ut("feComponentTransfer"),ut.FEFLOOD=new ut("feFlood"),ut.FEFUNCA=new ut("feFuncA"),ut.FEGAUSSIANBLUR=new ut("feGaussianBlur"),ut.FEPOINTLIGHT=new ut("fePointLight"),ut.FESPECULARLIGHTING=new ut("feSpecularLighting"),ut.FILTER=new ut("filter"),ut.FOREIGNOBJECT=new ut("foreignObject"),ut.G=new ut("g"),ut.IMAGE=new ut("image"),ut.LINE=new ut("line"),ut.PATH=new ut("path"),ut.PATTERN=new ut("pattern"),ut.POLYGON=new ut("polygon"),ut.RECT=new ut("rect"),ut.SVG=new ut("svg"),ut.TEXT=new ut("text"),ut.TSPAN=new ut("tspan");var $r=class{constructor(e,t,i,u){this.top=e,this.bottom=t,this.left=i,this.right=u}static from(e){return new $r(e.y,e.y+e.height,e.x,e.x+e.width)}clone(){return new $r(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}getOrigin(){return new Vt(this.left,this.top)}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,t){return e===t?!0:e&&t?e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right:!1}static createFromPoint(e,t,i){const u=e.x;return e=e.y,new $r(e,e+i,u,u+t)}},_r=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}static max(e,t){return new _r(Math.max(e.width,t.width),Math.max(e.height,t.height))}static min(e,t){return new _r(Math.min(e.width,t.width),Math.min(e.height,t.height))}},Ad={getSizeInternal:Al},oa={TEST_ONLY:Ad};oa.getBorderBox=Kt,oa.getComputedStyle=br,oa.getContainerOffsetToScrollInto=B,oa.getPageOffset=L,oa.getSize=Sr,oa.getViewportPageOffset=V,oa.scrollIntoContainerView=_;var yh=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,r2=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,za={XY_REGEX:yh,XY_STYLE_REGEX:r2},us={TEST_ONLY:za};us.getDocumentScroll=J,us.getInjectionDivXY=j,us.getRelativeXY=Y,us.getViewportBBox=_e,us.screenToWsCoordinates=Te,us.wsToScreenCoordinates=He;var Cs=class{constructor(e,t,i,u,v){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new Vt(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Vt(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=i||!1,this.margin=v!==void 0?v:Cs.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),u&&(e+=" "+u),this.outerSvg=ht(ut.SVG,{class:e}),u=ht(ut.G,{},this.outerSvg),this.svgBackground=ht(ut.RECT,{class:"blocklyScrollbarBackground"},u),e=Math.floor((Cs.scrollbarThickness-5)/2),this.svgHandle=ht(ut.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},u),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),Ti(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=ie(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=ie(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Cs.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),Be(this.onMouseDownBarWrapper_),Be(this.onMouseDownHandleWrapper_),on(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=e<=0||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,Bi(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Cs.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-this.margin*2;this.pair&&(t-=Cs.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Cs.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Cs.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var i=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*i,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=i/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-this.margin*2;this.pair&&(t-=Cs.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Cs.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var i=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*i,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=i/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),fe(),this.cleanUp(),ye(e))e.stopPropagation();else{var t=Ve(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var i=j(this.svgHandle);i=this.horizontal?i.x:i.y;var u=this.handlePosition,v=this.handleLength*.95;t<=i?u-=v:t>=i+this.handleLength&&(u+=v),this.setHandlePosition(this.constrainHandlePosition(u)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),ye(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=ie(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=ie(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){fe(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(Be(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Be(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new Vt(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Cs.scrollbarThickness=c1?25:15,Cs.DEFAULT_SCROLLBAR_MARGIN=.5;var Th={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},so={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Id,DOMParser:b1,XMLSerializer:y1}=globalThis;b1&&(Th=new b1),y1&&(so=new y1);var ys="https://developers.google.com/blockly/xml",ml=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,gl={NAME_SPACE:ys};gl.createElement=n.createElement$$module$build$src$core$utils$xml,gl.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,gl.domToText=it,gl.injectDependencies=Ye,gl.textToDom=n.textToDom$$module$build$src$core$utils$xml;var Md="categoryToolbox",i2="flyoutToolbox",Er;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Er||(Er={}));var b3={hasCategoriesInternal:Nr},A0={};A0.Position=Er,A0.TEST_ONLY=b3,A0.convertFlyoutDefToJsonArray=wn,A0.convertToolboxDefToJson=Rt,A0.hasCategories=kn,A0.isCategoryCollapsible=cr,A0.parseToolboxTree=fn;var Gs;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(Gs||(Gs={}));var Xo;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Xo||(Xo={}));var Ua;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Ua||(Ua={}));var oo={};oo.bumpDirection=Ua,oo.bumpPositionRect=si,oo.getCornerOppositeToolbox=Ms,oo.getStartPositionRect=xr,oo.horizontalPosition=Xo,oo.verticalPosition=Gs;var jo={width:96,height:124,url:"sprites.png"},la=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=ht(ut.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:Ei.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[Ei.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&on(this.svgGroup);for(const e of this.boundEvents)Be(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new $r(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var i=Ms(this.workspace,e),u=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(u+=this.LARGE_SPACING+this.HEIGHT),e=xr(i,new _r(this.WIDTH,u),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),i=i.vertical,t=si(e,this.MARGIN_VERTICAL,i===Gs.TOP?Ua.DOWN:Ua.UP,t),i===Gs.TOP){var v=this.SMALL_SPACING+this.HEIGHT,M;(M=this.zoomInGroup)==null||M.setAttribute("transform","translate(0, "+v+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(v+this.LARGE_SPACING+this.HEIGHT)+")")}else{M=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let Ie;(Ie=this.zoomInGroup)==null||Ie.setAttribute("transform","translate(0, "+M+")"),M=M+this.SMALL_SPACING+this.HEIGHT,(v=this.zoomOutGroup)==null||v.setAttribute("transform","translate(0, "+M+")")}this.top=t.top,this.left=t.left;var Z;(Z=this.svgGroup)==null||Z.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=ht(ut.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=ht(ut.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);ht(ut.RECT,{width:32,height:32},t),ht(ut.IMAGE,{width:jo.width,height:jo.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(rl,"xlink:href",this.workspace.options.pathToMedia+jo.url),this.boundEvents.push(ie(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=ht(ut.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=ht(ut.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);ht(ut.RECT,{width:32,height:32},t),ht(ut.IMAGE,{width:jo.width,height:jo.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(rl,"xlink:href",this.workspace.options.pathToMedia+jo.url),this.boundEvents.push(ie(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),fe(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=ht(ut.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=ht(ut.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);ht(ut.RECT,{width:32,height:32},t),ht(ut.IMAGE,{width:jo.width,height:jo.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(rl,"xlink:href",this.workspace.options.pathToMedia+jo.url),this.boundEvents.push(ie(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),fe(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(an(pt.CLICK))(null,this.workspace.id,"zoom_controls");le(e)}};dn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var mu=100,aa=75,Rd=50,Od=25,I0={BLOCKS:Rd,PROCEDURES:aa,VARIABLES:mu,WORKSPACE_COMMENTS:Od},Nd={};Nd.register=Ir,Nd.unregister=Zt;var yc=class{constructor(){this.priority=Od}save(e){const t=[];for(const i of e.getTopComments())(e=ce(i,{addCoordinates:!0,saveIds:!0}))&&t.push(e);return t.length?t:null}load(e,t){for(const i of e)xi(i,t,{recordUndo:Ut()})}clear(e){for(const t of e.getTopComments())t.dispose()}};Ir("workspaceComments",new yc);var gu={};gu.WorkspaceCommentSerializer=yc,gu.append=xi,gu.save=ce;var Tc={};Tc.register=ps,Tc.unregister=dr;var Ha=class{paste(e,t,i){e=e.commentState,i&&(e.x=i.x,e.y=i.y),n.disable$$module$build$src$core$events$utils();let u;try{u=xi(e,t),Lr(u)}finally{n.enable$$module$build$src$core$events$utils()}return u?(sn()&&le(new(an(pt.COMMENT_CREATE))(u)),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(u),u):null}};Ha.TYPE="workspace-comment",ps(Ha.TYPE,new Ha);var Ld;Ld=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Ld,connectingSnapRadius:Ld,currentConnectionPreference:8,bumpDelay:250},n.config$$module$build$src$core$config;var y3="aria-",_h="role",$l;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem",e.SEPARATOR="separator",e.STATUS="status"})($l||($l={}));var Ts;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin",e.LIVE="live",e.HIDDEN="hidden"})(Ts||(Ts={}));var T1={};T1.Role=$l,T1.State=Ts,T1.setRole=er,T1.setState=Ur;var Dd=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=Xe(),this.element=e,e.className="blocklyMenuItem "+(this.enabled?"":"blocklyMenuItemDisabled ")+(this.checked?"blocklyMenuItemSelected ":"")+(this.highlight?"blocklyMenuItemHighlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent",this.checkable){var i=document.createElement("div");i.className="blocklyMenuItemCheckbox ",t.appendChild(i)}return i=this.content,typeof this.content=="string"&&(i=document.createTextNode(this.content)),t.appendChild(i),e.appendChild(t),this.roleName&&er(e,this.roleName),Ur(e,Ts.SELECTED,this.checkable&&this.checked||!1),Ur(e,Ts.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?tn(t,"blocklyMenuItemHighlight"):Jn(t,"blocklyMenuItemHighlight"))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(e){this.isEnabled()&&this.actionHandler&&this.actionHandler(this,e)}onAction(e,t){this.actionHandler=e.bind(t)}},s2=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.pointerLeaveHandler=this.pointerEnterHandler=this.clickHandler=this.pointerMoveHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu",t.tabIndex=0,this.roleName&&er(t,this.roleName),this.element=t;for(let i=0,u;u=this.menuItems[i];i++)t.appendChild(u.createDom());return this.pointerMoveHandler=ie(t,"pointermove",this,this.handlePointerMove,!0),this.clickHandler=ie(t,"pointerup",this,this.handleClick,!0),this.pointerEnterHandler=ie(t,"pointerenter",this,this.handlePointerEnter,!0),this.pointerLeaveHandler=ie(t,"pointerleave",this,this.handlePointerLeave,!0),this.onKeyDownHandler=ie(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&e.focus({preventScroll:!0})}blur(){const e=this.getElement();e&&e.blur()}setRole(e){this.roleName=e}dispose(){this.pointerMoveHandler&&(Be(this.pointerMoveHandler),this.pointerMoveHandler=null),this.clickHandler&&(Be(this.clickHandler),this.clickHandler=null),this.pointerEnterHandler&&(Be(this.pointerEnterHandler),this.pointerEnterHandler=null),this.pointerLeaveHandler&&(Be(this.pointerLeaveHandler),this.pointerLeaveHandler=null),this.onKeyDownHandler&&(Be(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){const i=this.getMenuItems();for(let u=0,v;v=i[u];u++)if(v.getElement()===e)return v}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;if(t&&(t.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement();const i=e.getElement();t&&i&&(_(i,t),Ur(t,Ts.ACTIVEDESCENDANT,e.getId()))}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e<0?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let i;const u=this.getMenuItems();for(;i=u[e];){if(i.isEnabled()){this.setHighlighted(i);break}e+=t}}handlePointerMove(e){Math.max(Math.abs(e.movementX),Math.abs(e.movementY))!==0&&(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){var t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const i=new Vt(e.clientX,e.clientY);if(Vt.distance(t,i)<1)return}(t=this.getMenuItem(e.target))&&t.performAction(e)}handlePointerEnter(e){this.focus()}handlePointerLeave(e){this.getElement()&&this.setHighlighted(null)}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction(e);break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=Sr(e);return t.height=e.scrollHeight,t}getMenuItems(){return this.menuItems.filter(e=>e instanceof Dd)}},wi=class{constructor(){this.element=null}createDom(){return this.element=document.createElement("hr"),this.element.className="blocklyMenuSeparator",er(this.element,$l.SEPARATOR),this.element}dispose(){let e;(e=this.element)==null||e.remove(),this.element=null}},Ri="_TEMP_COLLAPSED_INPUT",Fr="_TEMP_COLLAPSED_FIELD",fr="MANUALLY_DISABLED",Xi={COLLAPSED_FIELD_NAME:Fr,COLLAPSED_INPUT_NAME:Ri,MANUALLY_DISABLED:fr};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Yo=new Set,ua=new WeakSet,$u=new WeakMap,vu=null,M0=null,Ls=0,R0={};R0.finishQueuedRenders=jn,R0.queueRender=Xs,R0.triggerQueuedRenders=h;var Ga,Bd;n.Msg$$module$build$src$core$msg=Object.create(null),Ga=function(e){Object.keys(e).forEach(function(t){n.Msg$$module$build$src$core$msg[t]=e[t]})},Bd={Msg:n.Msg$$module$build$src$core$msg,setLocale:Ga};var Do="blocklyToast",_c="blocklyToastMessage",_1="blocklyToastCloseButton",lo=class{static show(e,t){if(t.oncePerSession&&t.id){if(this.shownIds.has(t.id))return;this.shownIds.add(t.id)}this.hide(e);const i=this.createDom(e,t);requestAnimationFrame(()=>{i.style.bottom="2rem"})}static createDom(e,t){const{message:i,duration:u=5,assertiveness:v=lo.Assertiveness.POLITE}=t,M=document.createElement("div");e.getInjectionDiv().appendChild(M),M.dataset.toastId=t.id,M.className=Do,er(M,$l.STATUS),Ur(M,Ts.LIVE,v),t=M.appendChild(document.createElement("div")),t.className=_c,t.innerText=i,t=M.appendChild(document.createElement("button")),t.className=_1,Ur(t,Ts.LABEL,n.Msg$$module$build$src$core$msg.CLOSE);var Z=ht(ut.SVG,{width:24,height:24,viewBox:"0 0 24 24",fill:"none"},t);Ur(Z,Ts.HIDDEN,!0),ht(ut.RECT,{x:19.7782,y:2.80762,width:2,height:24,transform:"rotate(45, 19.7782, 2.80762)",fill:"black"},Z),ht(ut.RECT,{x:2.80762,y:4.22183,width:2,height:24,transform:"rotate(-45, 2.80762, 4.22183)",fill:"black"},Z),t.addEventListener("click",()=>{M.remove(),e.markFocused()});let Ie;return t=()=>{Ie=setTimeout(()=>M.remove(),u*1e3)},Z=()=>clearTimeout(Ie),M.addEventListener("focusin",Z),M.addEventListener("focusout",t),M.addEventListener("mouseenter",Z),M.addEventListener("mousemove",Z),M.addEventListener("mouseleave",t),t(),M}static hide(e,t){e=e.getInjectionDiv().querySelector(`.${Do}`),e instanceof HTMLElement&&(!t||t===e.dataset.toastId)&&e.remove()}};lo.shownIds=new Set,(function(e){e=e.Assertiveness||(e.Assertiveness={}),e.ASSERTIVE="assertive",e.POLITE="polite"})(lo||(lo={})),dn(`
.${Do} {
  font-size: 1.2rem;
  position: absolute;
  bottom: -10rem;
  right: 2rem;
  padding: 1rem;
  color: black;
  background-color: white;
  border: 2px solid black;
  border-radius: 0.4rem;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  line-height: 1.5;
  transition: bottom 0.3s ease-out;
}

.${Do} .${_c} {
  maxWidth: 18rem;
}

.${Do} .${_1} {
  margin: 0;
  padding: 0.2rem;
  background-color: transparent;
  color: black;
  border: none;
  cursor: pointer;
}
`);var Pd=function(e,t){window.alert(e),t&&t()},Eh=Pd,o2=function(e,t){t(window.confirm(e))},wh=o2,Sh=function(e,t,i){i(window.prompt(e,t))},Va=Sh,ao=lo.show.bind(lo),Wa=ao,vl={};vl.alert=pe,vl.confirm=Ct,vl.prompt=hn,vl.setAlert=dt,vl.setConfirm=bt,vl.setPrompt=Wt,vl.setToast=Sn,vl.toast=nn;var ca=new Set,Fd={};Fd.warn=Pn;var xh="VARIABLE",zd="ijkmnopqrstuvwxyzabcdefgh",E1={generateUniqueNameInternal:oi},ks={CATEGORY_NAME:xh,TEST_ONLY:E1,VAR_LETTER_OPTIONS:zd};ks.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,ks.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,ks.compareByName=jt,ks.createVariableButtonHandler=Pi,ks.deleteVariable=n.deleteVariable$$module$build$src$core$variables,ks.flyoutCategory=Dr,ks.flyoutCategoryBlocks=rs,ks.generateUniqueName=Fn,ks.generateUniqueNameFromOptions=Ci,ks.generateVariableFieldDom=ni,ks.getAddedVariables=To,ks.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,ks.getVariable=n.getVariable$$module$build$src$core$variables,ks.getVariableUsesById=ki,ks.internalFlyoutCategory=Kn,ks.jsonFlyoutCategoryBlocks=ei,ks.nameUsedWithAnyType=Wn,ks.nameUsedWithConflictingParam=Yr,ks.promptName=Zi,ks.renameVariable=n.renameVariable$$module$build$src$core$variables;var xo=class extends Error{},l2=class extends xo{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Co=class extends xo{constructor(e,t,i){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=i}},a2=class extends xo{constructor(e,t,i,u){super(`The block ${i.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=i,this.childState=u}},u2=class extends xo{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},T3=class extends xo{constructor(e,t,i){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=i}},bl={};bl.BadConnectionCheck=a2,bl.DeserializationError=xo,bl.MissingBlockType=l2,bl.MissingConnection=Co,bl.RealChildOfShadow=u2,bl.UnregisteredIcon=T3;var Ch=class{constructor(){this.priority=Rd}save(e){const t=[];for(const i of e.getTopBlocks(!1))(e=Vi(i,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const i of e)Ml(i,t,{recordUndo:Ut()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Ir("blocks",new Ch);var Ec={};Ec.BlockSerializer=Ch,Ec.append=Ml,Ec.appendInternal=Rl,Ec.save=Vi;var _s=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};_s.MUTATOR=new _s("mutator"),_s.WARNING=new _s("warning"),_s.COMMENT=new _s("comment");var bu=class extends sa{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new bu),t.blockId=e.blockId,t}},yu=class extends bu{constructor(e,t,i,u,v){super(e),this.type=pt.BLOCK_CHANGE,e&&(this.element=t,this.name=i||void 0,this.oldValue=u,this.newValue=v)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new yu),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,e.disabledReason!==void 0&&(t.disabledReason=e.disabledReason),t}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const i=t.getIcon(_s.MUTATOR);switch(i&&p0(i)&&i.bubbleIsVisible()&&i.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":var u;t.setDisabledReason(!!e,(u=this.disabledReason)!=null?u:fr);break;case"inline":t.setInputsInline(!!e);break;case"mutation":u=yu.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(n.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),le(new yu(t,"mutation",null,u,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?es(e):""}};a(Ft.EVENT,pt.BLOCK_CHANGE,yu);var kh={};kh.clamp=g0,kh.toDegrees=Yc,kh.toRadians=m0;var Ah=16,Ih=1,Ud=12,c2=16,Hd=.25,h2=null,Tu=null,d2="",wc="",cs,w1,_u,Gd=null,qa=null,f2=null,Mh=null,Sc=null,Vd={getBoundsInfo:function(){const e=L(Gd),t=Sr(Gd);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,i,u){const v=Vd.getBoundsInfo(),M=Sr(cs);return t+M.height<v.bottom?ka(e,t,v,M):u-M.height>v.top?iu(i,u,v,M):t+M.height<document.documentElement.clientHeight?ka(e,t,v,M):u-M.height>document.documentElement.clientTop?iu(i,u,v,M):ul(e,v,M)}},Bo={ANIMATION_TIME:Hd,ARROW_HORIZONTAL_PADDING:Ud,ARROW_SIZE:Ah,BORDER_SIZE:Ih,PADDING_Y:c2,TEST_ONLY:Vd};Bo.clearContent=Ol,Bo.createDom=Sa,Bo.getContentDiv=$0,Bo.getOwner=Qu,Bo.getPositionX=y,Bo.hide=$e,Bo.hideIfOwner=ne,Bo.hideWithoutAnimation=Re,Bo.isVisible=I,Bo.repositionForWindowResize=lt,Bo.setBoundsElement=G0,Bo.setColour=ec,Bo.show=Nl,Bo.showPositionedByBlock=tc,Bo.showPositionedByField=ru;var gi={};gi.commonWordPrefix=Gt,gi.commonWordSuffix=qt,gi.isNumber=n.isNumber$$module$build$src$core$utils$string,gi.shortestStringLength=Et,gi.wrap=n.wrap$$module$build$src$core$utils$string;var S1=void 0,Rh=!1,xc=!1,_3=50,E3=0,Cc=0,x1=0,Eu=0,yl=null,wu=null,Oh=0,ha=10,O0=10,C1=750,Wd=5,Qs=null,Tl={HOVER_MS:C1,LIMIT:_3,MARGINS:Wd,OFFSET_X:Oh,OFFSET_Y:ha,RADIUS_OK:O0};Tl.bindMouseEvents=or,Tl.block=Pr,Tl.createDom=Mr,Tl.dispose=Jr,Tl.getCustomTooltip=Qn,Tl.getDiv=Br,Tl.getTooltipOfObject=en,Tl.hide=bi,Tl.isVisible=yr,Tl.setCustomTooltip=Gn,Tl.unbindMouseEvents=Xr,Tl.unblock=Fi;var qd=.45,Xd=.65,w3={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},_l={};_l.blend=no,_l.getHsvSaturation=fo,_l.getHsvValue=kr,_l.hexToRgb=Qi,_l.hsvToHex=cl,_l.hueToHex=po,_l.names=w3,_l.parse=ue,_l.rgbToHex=_i,_l.setHsvSaturation=xs,_l.setHsvValue=os;var k1={};k1.checkMessageReferences=Ks,k1.parseBlockColour=Ai,k1.replaceMessageReferences=lr,k1.tokenizeInterpolation=ls;var Oi=class{get size_(){return this.size}set size_(e){this.size=e}constructor(e,t,i){this.DEFAULT_VALUE=null,this.name=void 0,this.tooltip=this.validator_=null,this.size=new _r(0,0),this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.id_=null,this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new _r(0,0),e!==Oi.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(lr(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");if(this.sourceBlock_=e,e.id.includes("_field"))throw Error(`Field ID indicator is contained in block ID. This may cause problems with focus: ${e.id}.`);this.id_=`${e.id}_field_${Xe()}`}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){if(!this.fieldGroup_){var e=this.id_;if(!e)throw Error("Expected ID to be defined prior to init.");this.fieldGroup_=ht(ut.G,{id:e}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour()}}initView(){this.createBorderRect_(),this.createTextElement_(),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyField")}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=ht(ut.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=ht(ut.TEXT,{class:"blocklyText blocklyFieldText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");or(e),this.mouseDownWrapper=ie(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(Oi),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(Oi,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=n.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),it(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){ne(this),Dl(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||on(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(tn(e,"blocklyEditableField"),Jn(e,"blocklyNonEditableField")):(tn(e,"blocklyNonEditableField"),Jn(e,"blocklyEditableField")))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Oi.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let i=e*2,u=t.FIELD_TEXT_HEIGHT,v=0;this.textElement_&&(v=vi(this.textElement_),i+=v),this.isFullBlockField()||(u=Math.max(u,t.FIELD_BORDER_RECT_HEIGHT)),this.size_=new _r(i,u),this.positionTextElement_(e,v),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var i=this.getConstants(),u=this.size_.height/2,v;this.textElement_.setAttribute("x",String((v=this.getSourceBlock())!=null&&v.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(i.FIELD_TEXT_BASELINE_CENTER?u:u-i.FIELD_TEXT_HEIGHT/2+i.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_&&(this.render_(),this.isDirty_=!1),this.size_):new _r(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new Vs;if(this.isFullBlockField()){var i=this.sourceBlock_.getHeightWidth();const u=t.workspace.scale;e=this.getAbsoluteXY_(),t=(i.width+1)*u,i=(i.height+1)*u,mh?(e.x+=1.5*u,e.y+=1.5*u):(e.x-=.5*u,e.y-=.5*u)}else i=this.borderRect_.getBoundingClientRect(),e=L(this.borderRect_),t=i.width,i=i.height;return new $r(e.y,e.y+i,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,Oi.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,t=!0){if(e!==null){var i=n.getGroup$$module$build$src$core$events$utils();i||n.setGroup$$module$build$src$core$events$utils(!0);try{const Lt=this.doClassValidation_(e),zn=this.processValidation(e,Lt,t);if(!(zn instanceof Error)){var u,v=(u=this.getValidator())==null?void 0:u.call(this,zn),M=this.processValidation(zn,v,t);if(!(M instanceof Error)){var Z=this.sourceBlock_;if(!Z||!Z.disposed){var Ie=this.getValue();Ie===M?this.doValueUpdate_(M):(this.doValueUpdate_(M),t&&Z&&sn()&&le(new(an(pt.BLOCK_CHANGE))(Z,"field",this.name||null,Ie,M)),this.isDirty_&&this.forceRerender())}}}}finally{n.setGroup$$module$build$src$core$events$utils(i)}}}processValidation(e,t,i){return t===null?(this.doValueInvalid_(e,i),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,t){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return en(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return L(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new Vs;const i=t.inputList;for(let u=0;u<t.inputList.length;u++){const v=i[u],M=v.fieldRow;for(let Z=0;Z<M.length;Z++)if(M[Z]===this){e=v;break}}return e}getFlipRtl(){return!1}onShortcut(e){return!1}getFocusableElement(){if(!this.fieldGroup_)throw Error("This field currently has no representative DOM element.");return this.fieldGroup_}getFocusableTree(){const e=this.getSourceBlock();if(!e)throw new Vs;return e.workspace}onNodeFocus(){const e=this.getSourceBlock();e.workspace.scrollBoundsIntoView(e.getBoundingRectangleWithoutChildren())}onNodeBlur(){}canBeFocused(){return!0}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};Oi.NBSP="",Oi.SKIP_SETUP=Symbol("SKIP_SETUP");var Vs=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Su=null,jd=null,Yd=null,p2="blocklyWidgetDiv",da="",A1="",El,zr=null,Vl={};Vl.createDom=Ll,Vl.getDiv=mo,Vl.hide=Ko,Vl.hideIfOwner=Dl,Vl.hideIfOwnerIsInWorkspace=hl,Vl.isVisible=nc,Vl.positionWithAnchor=_o,Vl.repositionForWindowResize=W0,Vl.show=v0,Vl.testOnly_setDiv=e0;var kc=null,Kd={},Nh=null,Xa={};Xa.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,Xa.dispose=sc,Xa.getCurrentBlock=b0,Xa.hide=Pl,Xa.setCurrentBlock=su,Xa.show=q0;var wr=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let t;return(t=this.registeredItems.get(e))!=null?t:null}getContextMenuOptions(e,t){const i=[];for(const u of this.registeredItems.values()){if(u.scopeType&&(u.scopeType===I1.BLOCK&&!e.block||u.scopeType===I1.COMMENT&&!e.comment||u.scopeType===I1.WORKSPACE&&!e.workspace))continue;let v;if(v={scope:e,weight:u.weight},u.separator)v=Object.assign({},v,{separator:!0});else{const M=u.preconditionFn(e,t);if(M==="hidden")continue;const Z=typeof u.displayText=="function"?u.displayText(e):u.displayText;v=Object.assign({},v,{text:Z,callback:u.callback,enabled:M==="enabled"})}i.push(v)}return i.sort(function(u,v){return u.weight-v.weight}),i}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",t.COMMENT="comment",e.registry=new e})(wr||(wr={}));var I1=wr.ScopeType,xu=50,Lh=100,B5={BLOCK:xu,BUBBLE:Lh},S3=class{constructor(e){this.comment=e,this.startLoc=null,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.isReadOnly()}startDrag(){this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,xu),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0)}fireDragStartEvent(){const e=new(an(pt.COMMENT_DRAG))(this.comment,!0);le(e)}fireDragEndEvent(){const e=new(an(pt.COMMENT_DRAG))(this.comment,!1);le(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(an(pt.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),le(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},m2=new WeakMap,Dh=class{constructor(e,t,i,u){this.id=e,this.workspace=t,this.container=i,this.commentView=u}isVisible(){return this.icon.checkVisibility()}getCommentView(){return this.commentView}getSize(e=!1){var t=this.icon.getBBox();return t=$r.from(t),e&&(e=this.getMargin(),t.left-=e,t.top-=e,t.bottom+=e,t.right+=e),t}getMargin(){return(this.container.getBBox().height-this.icon.getBBox().height)/2}getFocusableElement(){return this.icon}getFocusableTree(){return this.workspace}onNodeFocus(){const e=this.getCommentView();var t=e.getRelativeToSurfaceXY();const i=e.getSize();t=new $r(t.y,t.y+i.height,t.x,t.x+i.width),e.workspace.scrollBoundsIntoView(t)}onNodeBlur(){}canBeFocused(){return this.isVisible()}},ji="_collapse_bar_button",Jd=class extends Dh{constructor(e,t,i,u){super(e,t,i,u),this.id=e,this.workspace=t,this.container=i,this.commentView=u,this.icon=ht(ut.IMAGE,{class:"blocklyFoldoutIcon",href:`${this.workspace.options.pathToMedia}foldout-icon.svg`,id:`${this.id}${ji}`},this.container),this.bindId=ie(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Be(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${e}`)}performAction(e){fe(),this.getCommentView().bringToFront(),e&&e instanceof PointerEvent&&ye(e)?e.stopPropagation():(this.getCommentView().setCollapsed(!this.getCommentView().isCollapsed()),this.workspace.hideChaff(),e?.stopPropagation())}},vo="_comment_textarea_",Zd=class{constructor(e,t,i){this.workspace=e,this.onFinishEditing=i,this.textChangeListeners=[],this.text="",this.foreignObject=ht(ut.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"}),e=document.createElementNS(Fa,"body"),e.setAttribute("xmlns",Fa),e.className="blocklyMinimalBody",this.textArea=document.createElementNS(Fa,"textarea"),this.textArea.setAttribute("tabindex","-1"),this.textArea.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),tn(this.textArea,"blocklyCommentText"),tn(this.textArea,"blocklyTextarea"),tn(this.textArea,"blocklyText"),e.appendChild(this.textArea),this.foreignObject.appendChild(e),t&&(this.id=t+vo,this.textArea.setAttribute("id",this.id)),ie(this.textArea,"change",this,this.onTextChange),ie(this.textArea,"pointerdown",this,u=>{u.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this),fe()}),ie(this.textArea,"wheel",this,u=>{u.stopPropagation()}),ie(this.textArea,"keydown",this,this.handleKeyDown)}getDom(){return this.foreignObject}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}onTextChange(){const e=this.text;this.text=this.textArea.value;for(let t=this.textChangeListeners.length-1;t>=0;t--)this.textChangeListeners[t](e,this.text)}handleKeyDown(e){(e.key==="Escape"||e.key==="Enter"&&(e.ctrlKey||e.metaKey))&&(this.onFinishEditing&&this.onFinishEditing(),e.stopPropagation())}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}setPlaceholderText(e){this.textArea.placeholder=e}setEditable(e){e?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","true")}updateSize(e,t){this.foreignObject.setAttribute("height",`${e.height-t.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${t.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}getFocusableElement(){return this.textArea}getFocusableTree(){return this.workspace}onNodeFocus(){const e=$r.from(this.foreignObject.getBoundingClientRect());this.workspace.scrollBoundsIntoView($r.createFromPoint(Te(this.workspace,e.getOrigin()),e.getWidth(),e.getHeight()))}onNodeBlur(){}canBeFocused(){return!!this.id}},g2="_delete_bar_button",x3=class extends Dh{constructor(e,t,i,u){super(e,t,i,u),this.id=e,this.workspace=t,this.container=i,this.commentView=u,this.icon=ht(ut.IMAGE,{class:"blocklyDeleteIcon",href:`${this.workspace.options.pathToMedia}delete-icon.svg`,id:`${this.id}${g2}`},i),this.bindId=ie(this.icon,"pointerdown",this,this.performAction.bind(this))}dispose(){Be(this.bindId)}reposition(){const e=this.getMargin();this.icon.setAttribute("x","0");const t=this.container.getBBox();this.icon.setAttribute("y",`${e}`),this.icon.setAttribute("x",`${t.width-this.getSize(!0).getWidth()}`)}performAction(e){fe(),e&&e instanceof PointerEvent&&ye(e)?e.stopPropagation():(this.getCommentView().dispose(),e?.stopPropagation(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.workspace))}},Ac=class{constructor(e,t){this.workspace=e,this.commentId=t,this.collapsed=!1,this.editable=!0,this.location=new Vt(0,0),this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=ht(ut.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteButton:this.deleteButton,foldoutButton:this.foldoutButton,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot),this.commentEditor=this.createTextArea(),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let i;(i=e.getLayerManager())==null||i.append(this,xu),this.size=Ac.defaultCommentSize,this.setSizeWithoutFiringEvents(this.size),this.moveTo(new Vt(0,0))}createHighlightRect(e){return ht(ut.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e){e=ht(ut.G,{class:"blocklyCommentTopbar"},e);const t=ht(ut.RECT,{class:"blocklyCommentTopbarBackground"},e),i=new x3(this.commentId,this.workspace,e,this),u=new Jd(this.commentId,this.workspace,e,this);this.addDisposeListener(()=>{i.dispose(),u.dispose()});const v=ht(ut.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),M=document.createTextNode("");return v.appendChild(M),{topBarGroup:e,topBarBackground:t,deleteButton:i,foldoutButton:u,textPreview:v,textPreviewNode:M}}createTextArea(){const e=new Zd(this.workspace,this.commentId,()=>this.svgRoot.focus());return this.svgRoot.appendChild(e.getDom()),e.addTextChangeListener((t,i)=>{this.updateTextPreview(i),this.setSize(this.size)}),e}getEditorFocusableNode(){return this.commentEditor}createResizeHandle(e,t){return e=ht(ut.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),ie(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const t=this.topBarBackground.getBBox(),i=this.textPreview.getBBox(),u=this.resizeHandle.getBBox();this.size=e=_r.max(e,this.calcMinSize(t)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.commentEditor.updateSize(e,t),this.deleteButton.reposition(),this.foldoutButton.reposition(),this.updateTextPreviewSize(e,t,i),this.updateResizeHandlePosition(e,u)}setSize(e){const t=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(t,this.size)}calcMinSize(e){var t;this.updateTextPreview((t=this.commentEditor.getText())!=null?t:"");let i=t=vi(this.textPreview);return this.foldoutButton.isVisible()?i+=this.foldoutButton.getSize(!0).getWidth():t&&(i+=4),this.deleteButton.isVisible()?i+=this.deleteButton.getSize(!0).getWidth():t&&(i+=4),new _r(i,e.height+20)}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextPreviewSize(e,t,i){t=(t.height-i.height)/2;const u=this.foldoutButton.getSize(!0),v=this.deleteButton.getSize(!0);e=e.width-u.getWidth()-v.getWidth(),this.textPreview.setAttribute("x",`${(this.workspace.RTL?-1:1)*u.getWidth()}`),this.textPreview.setAttribute("y",`${t+i.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,t){this.resizeHandle.setAttribute("y",`${e.height-t.height}`),this.resizeHandle.setAttribute("x",`${e.width-t.width}`)}onSizeChange(e,t){for(let i=this.sizeChangeListeners.length-1;i>=0;i--)this.sizeChangeListeners[i](e,t)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),ye(e)||(this.preResizeSize=this.getSize(),Eo(this.workspace,e,new Vt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ie(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ie(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){fe(),this.resizePointerUpListener&&(Be(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Be(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=Vo(this.workspace,e),this.setSizeWithoutFiringEvents(new _r(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?tn(this.svgRoot,"blocklyCollapsed"):Jn(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;e>=0;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(tn(this.svgRoot,"blocklyEditable"),Jn(this.svgRoot,"blocklyReadonly")):(Jn(this.svgRoot,"blocklyEditable"),tn(this.svgRoot,"blocklyReadonly")),this.commentEditor.setEditable(e)}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.commentEditor.getText()}setText(e){this.commentEditor.setText(e)}setPlaceholderText(e){this.commentEditor.setPlaceholderText(e)}addTextChangeListener(e){this.commentEditor.addTextChangeListener(e)}removeTextChangeListener(e){this.commentEditor.removeTextChangeListener(e)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return e.length>=12?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,t=e.childNodes;t[t.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){fe(),ye(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,on(this.svgRoot);for(let e=this.disposeListeners.length-1;e>=0;e--)this.disposeListeners[e]();this.disposeListeners.length=0,this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}getCommentBarButtons(){return[this.foldoutButton,this.deleteButton]}};Ac.defaultCommentSize=new _r(120,100),dn(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklyCommentText.blocklyActiveFocus {
  border-color: #fc3;
  border-width: 2px;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var M1=class{constructor(e,t){this.workspace=e,this.text="",this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new Vt(0,0),this.disposing=this.disposed=!1,this.id=t&&!e.getCommentById(t)?t:Qt(),this.size=Ac.defaultCommentSize,e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){sn()&&le(new(an(pt.COMMENT_CREATE))(this))}fireDeleteEvent(){sn()&&le(new(an(pt.COMMENT_DELETE))(this))}fireChangeEvent(e,t){sn()&&le(new(an(pt.COMMENT_CHANGE))(this,e,t))}fireCollapseEvent(e){sn()&&le(new(an(pt.COMMENT_COLLAPSE))(this,e))}setText(e){const t=this.text;this.text=e,this.fireChangeEvent(t,e)}getText(){return this.text}setSize(e){const t=new(an(pt.COMMENT_RESIZE))(this);this.size=e,t.recordCurrentSizeAsNewSize(),le(t)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.workspace.isFlyout}isOwnDeletable(){return this.deletable}moveTo(e,t){const i=new(an(pt.COMMENT_MOVE))(this);t&&i.setReason(t),this.location=e,i.recordNew(),le(i)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},o0=class extends M1{constructor(e,t){super(e,t),this.dragStrategy=new S3(this),this.workspace=e,this.view=new Ac(e,this.id),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.view.getSvgRoot().setAttribute("id",this.id),this.addModelUpdateBindings(),ie(this.view.getSvgRoot(),"pointerdown",this,this.startGesture)}addModelUpdateBindings(){this.view.addTextChangeListener((e,t)=>void super.setText(t)),this.view.addSizeChangeListener((e,t)=>void super.setSize(t)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setPlaceholderText(e){this.view.setPlaceholderText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var t,i;const u=(i=(t=this.view)==null?void 0:t.getSize())!=null?i:this.getSize();return this.workspace.RTL?(t=e.x-u.width,i=e.x):(t=e.x,i=e.x+u.width),new $r(e.y,e.y+u.height,t,i)}moveBy(e,t,i){const u=this.getRelativeToSurfaceXY();e=new Vt(u.x+e,u.y+t),this.moveTo(e,i)}moveTo(e,t){super.moveTo(e,t),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?tn(this.getSvgRoot(),"blocklyDragging"):Jn(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0;const e=n.getFocusManager$$module$build$src$core$focus_manager();e.getFocusedNode()===this&&setTimeout(()=>e.focusTree(this.workspace),0),this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const t=this.workspace.getGesture(e);t&&(t.handleCommentStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this))}setDeleteStyle(e){e?tn(this.getSvgRoot(),"blocklyDraggingDelete"):Jn(this.getSvgRoot(),"blocklyDraggingDelete")}isCopyable(){return this.isOwnMovable()&&this.isOwnDeletable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){tn(this.getSvgRoot(),"blocklySelected"),Nt(this)}unselect(){Jn(this.getSvgRoot(),"blocklySelected"),Nt(null)}toCopyData(){return{paster:Ha.TYPE,commentState:ce(this,{addCoordinates:!0,saveIds:!1})}}showContextMenu(e){const t=wr.registry.getContextMenuOptions({comment:this,focusedNode:this},e);let i;i=e instanceof PointerEvent?new Vt(e.clientX,e.clientY):He(this.workspace,this.getRelativeToSurfaceXY()).translate(10,10),q0(e,t,this.workspace.RTL,this.workspace,i)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getEditorFocusableNode(){return this.view.getEditorFocusableNode()}getFocusableElement(){return this.getSvgRoot()}getFocusableTree(){return this.workspace}onNodeFocus(){this.select();let e;(e=this.workspace.getLayerManager())==null||e.append(this,xu),this.workspace.scrollBoundsIntoView(this.getBoundingRectangle())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}},Po={};Po.appendDomToWorkspace=zs,Po.blockToDom=Fl,Po.blockToDomWithXY=No,Po.clearWorkspaceAndLoadFromXml=Hr,Po.deleteNext=Ul,Po.domToBlock=n.domToBlock$$module$build$src$core$xml,Po.domToBlockInternal=n0,Po.domToPrettyText=Wi,Po.domToText=es,Po.domToVariables=r0,Po.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,Po.loadWorkspaceComment=T0,Po.saveWorkspaceComment=Wo,Po.variablesToDom=Zo,Po.workspaceToDom=t0;var Qd=class extends bu{constructor(e){super(e),this.type=pt.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=No(e),this.ids=hr(e),this.json=Vi(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=es(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Qd),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!$2(t,this.ids))if(e)Ml(this.json,t);else for(e=0;e<this.ids.length;e++){const i=this.ids[e],u=t.getBlockById(i);u?u.dispose(!1):i===this.blockId&&console.warn("Can't uncreate non-existent block: "+i)}}},$2=function(e,t){return t.map(i=>e.getBlockById(i)).filter(i=>i&&i.isShadow()).length===t.length};a(Ft.EVENT,pt.BLOCK_CREATE,Qd);var Bh=class extends mi{constructor(e,t){super(t),this.type=pt.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Bh),t.themeName=e.themeName,t}};a(Ft.EVENT,pt.THEME_CHANGE,Bh);var v2=class extends mi{constructor(e,t,i,u,v){super(u),this.type=pt.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=t,this.scale=i,this.oldScale=v}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new v2),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};a(Ft.EVENT,pt.VIEWPORT_CHANGE,v2);var b2={fromJsonInternal:ou},e4={TEST_ONLY:b2};e4.fromJson=n.fromJson$$module$build$src$core$field_registry,e4.register=Qo,e4.unregister=E0;var ko=class extends Oi{constructor(e,t,i){super(Oi.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==Oi.SKIP_SETUP&&(this.setOptions(e),i&&this.configure_(i),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(ko,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=ht(ut.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&tn(this.borderRect_,"blocklyDropdownRect"),this.fieldGroup_&&(tn(this.fieldGroup_,"blocklyField"),tn(this.fieldGroup_,"blocklyDropdownField"))}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=ht(ut.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?ko.ARROW_CHAR+" ":" "+ko.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=ht(ut.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(rl,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new Vs;this.dropdownCreate(),this.menu_&&(this.menu_.openingCoords=e&&typeof e.clientX=="number"?new Vt(e.clientX,e.clientY):null,Ol(),e=this.menu_.render($0()),tn(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),e=this.sourceBlock_.getColourTertiary(),ec(t,e)),ru(this,this.dropdownDispose_.bind(this)),$0().style.height=`${this.menu_.getSize().height}px`,this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour())}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new Vs;const t=new s2;t.setRole($l.LISTBOX),this.menu_=t;const i=this.getOptions(!1);this.selectedMenuItem=null;for(let v=0;v<i.length;v++){var u=i[v];if(u===ko.SEPARATOR){t.addChild(new wi);continue}const[M,Z]=u;el(M)?(u=new Image(M.width,M.height),u.src=M.src,u.alt=M.alt):u=M,u=new Dd(u,Z),u.setRole($l.OPTION),u.setRightToLeft(e.RTL),u.setCheckable(!0),t.addChild(u),u.setChecked(Z===this.value_),Z===this.value_&&(this.selectedMenuItem=u),u.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){ne(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}setOptions(e){Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],this.setValue(this.selectedOption[1])}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,i;i=e[t];t++)i[1]===this.value_&&(this.selectedOption=i)}applyColour(){const e=this.sourceBlock_;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.getColourTertiary()),this.menu_?this.borderRect_.setAttribute("fill",e.getColourTertiary()):this.borderRect_.setAttribute("fill","transparent")),e&&this.arrow&&(e.isShadow()?this.arrow.style.fill=e.getColourSecondary():this.arrow.style.fill=e.getColour())}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];el(e)?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new Vs;this.imageElement.style.display="",this.imageElement.setAttributeNS(rl,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const i=Number(e.height);e=Number(e.width);var u=!!this.borderRect_;const v=Math.max(u?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,i+ko.IMAGE_Y_PADDING);u=u?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let M;M=this.svgArrow?this.positionSVGArrow(e+u,v/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):vi(this.arrow),this.size_=new _r(e+M+u*2,v);let Z=0;t.RTL?this.imageElement.setAttribute("x",`${u+M}`):(Z=e+M,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${u}`)),this.imageElement.setAttribute("y",String(v/2-i/2)),this.positionTextElement_(Z+u,e+M)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();tn(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const i=vi(this.getTextElement());t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let u=0;this.svgArrow&&(u=this.positionSVGArrow(i+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_=new _r(i+u+t*2,e),this.positionTextElement_(t,i)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const i=this.getSourceBlock();if(!i)throw new Vs;const u=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,v=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,M=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(i.RTL?u:e+v)+","+t+")"),M+v}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];if(el(e))return e.alt;if(typeof HTMLElement<"u"&&e instanceof HTMLElement){let t,i;return(i=(t=e.title)!=null?t:e.ariaLabel)!=null?i:e.innerText}return typeof e=="string"?e:(console.warn("Can't get text for existing dropdown option. If you're using HTMLElement dropdown options in node, ensure you're using jsdom-global or similar."),null)}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let t=!1;const i=e.map(Z=>{if(Z===ko.SEPARATOR)return t=!0,Z;const[Ie,Lt]=Z;return typeof Ie=="string"?[lr(Ie),Lt]:(t=!0,[el(Ie)?Object.assign({},Ie,{alt:lr(Ie.alt)}):Ie,Lt])});if(t||e.length<2)return{options:i};var u=i.map(([Z])=>Z),v=Et(u);e=Gt(u,v);const M=qt(u,v);return!e&&!M||v<=e+M?{options:i}:(v=e?u[0].substring(0,e-1):void 0,u=M?u[0].substr(1-M):void 0,{options:this.applyTrim(i,e,M),prefix:v,suffix:u})}applyTrim(e,t,i){return e.map(([u,v])=>[u.substring(t,u.length-i),v])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let i=0;i<e.length;i++){const u=e[i];Array.isArray(u)||u===ko.SEPARATOR?typeof u[1]!="string"?(t=!0,console.error(`Invalid option[${i}]: Each FieldDropdown option id must be a string.
          Found ${u[1]} in: ${u}`)):!u[0]||typeof u[0]=="string"||el(u[0])||typeof HTMLElement<"u"&&u[0]instanceof HTMLElement||(t=!0,console.error(`Invalid option[${i}]: Each FieldDropdown option must have a string
          label, image description, or HTML element. Found ${u[0]} in: ${u}`)):(t=!0,console.error(`Invalid option[${i}]: Each FieldDropdown option must be an array or
          the string literal 'separator'. Found: ${u}`))}if(t)throw TypeError("Found invalid FieldDropdown options.")}};ko.SEPARATOR="separator",ko.ARROW_CHAR="",ko.IMAGE_Y_OFFSET=5,ko.IMAGE_Y_PADDING=ko.IMAGE_Y_OFFSET*2,Qo("field_dropdown",ko);var Ic=class{constructor(e,t,i,u){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=i||Object.create(null),this.componentStyles=u||Object.create(null),this.fontStyle=Object.create(null),a(Ft.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const i=new Ic(e);let u=t.base;if(u){if(typeof u=="string"){let v;u=(v=k(Ft.THEME,u))!=null?v:void 0}u instanceof Ic&&(Ne(i,u),i.name=e)}return Ne(i.blockStyles,t.blockStyles),Ne(i.categoryStyles,t.categoryStyles),Ne(i.componentStyles,t.componentStyles),Ne(i.fontStyle,t.fontStyle),t.startHats!==null&&(i.startHats=t.startHats),i}},P5={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Cu={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Ph=new Ic("classic",P5,Cu),N0=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,i=!1;var u=!1,v=!1,M=!1,Z=!1,Ie=!1;const Lt=!!e.readOnly;if(!Lt){var zn;t=Rt((zn=e.toolbox)!=null?zn:null),i=kn(t),u=e.trashcan,u=u===void 0?i:u,v=e.collapse,v=v===void 0?i:v,M=e.comments,M=M===void 0?i:M,Z=e.disable,Z=Z===void 0?i:Z,Ie=e.sounds,Ie=Ie===void 0?!0:Ie}zn=e.maxTrashcanContents,u?zn===void 0&&(zn=32):zn=0;const Ws=!!e.rtl;let hs=e.horizontalLayout;hs===void 0&&(hs=!1);var ll=e.toolboxPosition!=="end";ll=hs?ll?Er.TOP:Er.BOTTOM:ll===Ws?Er.RIGHT:Er.LEFT;let Pc=e.css;Pc===void 0&&(Pc=!0);let Bu="https://blockly-demo.appspot.com/static/media/";e.media&&(Bu=e.media.endsWith("/")?e.media:e.media+"/");const g8=e.oneBasedIndex,Fg=e.renderer||"geras",zg=e.plugins||{};let m6=e.modalInputs;m6===void 0&&(m6=!0),this.RTL=Ws,this.oneBasedIndex=g8===void 0?!0:g8,this.collapse=v,this.comments=M,this.disable=Z,this.readOnly=Lt,this.maxBlocks=e.maxBlocks||1/0;let $8;this.maxInstances=($8=e.maxInstances)!=null?$8:null,this.modalInputs=m6,this.pathToMedia=Bu,this.hasCategories=i,this.moveOptions=N0.parseMoveOptions(e,i),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=u,this.maxTrashcanContents=zn,this.hasSounds=Ie,this.hasCss=Pc,this.horizontalLayout=hs,this.languageTree=t,this.gridOptions=N0.parseGridOptions(e),this.zoomOptions=N0.parseZoomOptions(e),this.toolboxPosition=ll,this.theme=N0.parseThemeOptions(e),this.renderer=Fg;let v8;this.rendererOverrides=(v8=e.rendererOverrides)!=null?v8:null;let b8;this.parentWorkspace=(b8=e.parentWorkspace)!=null?b8:null,this.plugins=zg}static parseMoveOptions(e,t){const i=e.move||{},u={};return i.scrollbars===void 0&&e.scrollbars===void 0?u.scrollbars=t:typeof i.scrollbars=="object"?(u.scrollbars={horizontal:!!i.scrollbars.horizontal,vertical:!!i.scrollbars.vertical},u.scrollbars.horizontal&&u.scrollbars.vertical?u.scrollbars=!0:u.scrollbars.horizontal||u.scrollbars.vertical||(u.scrollbars=!1)):u.scrollbars=!!i.scrollbars||!!e.scrollbars,u.wheel=u.scrollbars&&i.wheel!==void 0?!!i.wheel:typeof u.scrollbars=="object",u.drag=u.scrollbars?i.drag===void 0?!0:!!i.drag:!1,u}static parseZoomOptions(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=t.spacing>0&&!!e.snap,t}static parseThemeOptions(e){return e=e.theme||Ph,typeof e=="string"?k(Ft.THEME,e):e instanceof Ic?e:Ic.defineTheme(e.name||"builtin"+Xe(),e)}},t4=class{constructor(e,t){this.bubble=e,this.workspace=t,this.startLoc=null}isMovable(){return!0}startDrag(){this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Lh),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},Wl,Ni=class{constructor(e,t,i,u,v){this.workspace=e,this.anchor=t,this.ownerRect=i,this.owner=v,this.size=new _r(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new t4(this,this.workspace),this.id=Xe(),this.svgRoot=ht(ut.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=ht(ut.G,{class:"blocklyEmboss"},this.svgRoot),this.tail=ht(ut.PATH,{class:"blocklyBubbleTail"},e),this.background=ht(ut.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Wl.BORDER_WIDTH,ry:Wl.BORDER_WIDTH},e),this.contentContainer=ht(ut.G,{},this.svgRoot),this.focusableElement=u??this.svgRoot,this.focusableElement.setAttribute("id",this.id),ie(this.background,"pointerdown",this,this.onMouseDown),ie(this.focusableElement,"keydown",this,this.onKeyDown)}dispose(){on(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,Wl.MIN_SIZE),e.height=Math.max(e.height,Wl.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}onKeyDown(e){e.key==="Escape"&&this.owner&&(this.owner.setBubbleVisible(!1),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.owner))}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new $r(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),i=this.getOptimalRelativeLeft(t),u=this.getOptimalRelativeTop(t);const v={x:i,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},M={x:-this.size.width-30,y:u};u={x:e.getWidth(),y:u};var Z={x:i,y:e.getHeight()};i=e.getWidth()<e.getHeight()?u:Z,e=e.getWidth()<e.getHeight()?Z:u,u=this.getOverlap(v,t),Z=this.getOverlap(M,t);const Ie=this.getOverlap(i,t);t=this.getOverlap(e,t),t=Math.max(u,Z,Ie,t),u===t?(this.relativeLeft=v.x,this.relativeTop=v.y):Z===t?(this.relativeLeft=M.x,this.relativeTop=M.y):Ie===t?(this.relativeLeft=i.x,this.relativeTop=i.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var i=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(i+this.size.width,t.left+t.width)-Math.max(i,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var i=this.anchor.x-t;i-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):i>e.right&&(t=-(e.right-this.anchor.x))}else{i=t+this.anchor.x;const u=i+this.size.width;i<e.left?t=e.left-this.anchor.x:u>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const i=this.anchor.y+t,u=i+this.size.height;return e=this.getWorkspaceViewRect(e),i<e.top?t=e.top-this.anchor.y:u>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let i=e.top+e.height,u=e.left;return e=e.left+e.width,i-=this.getScrollbarThickness(),this.workspace.RTL?u-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new $r(t,i,u,e)}getScrollbarThickness(){return Cs.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,i=this.size.height/2,u=-this.relativeLeft,v=-this.relativeTop;if(t===u&&i===v)e.push("M "+t+","+i);else{v-=i,u-=t,this.workspace.RTL&&(u*=-1);var M=Math.sqrt(v*v+u*u),Z=Math.acos(u/M);v<0&&(Z=2*Math.PI-Z);var Ie=Z+Math.PI/2;Ie>Math.PI*2&&(Ie-=Math.PI*2);var Lt=Math.sin(Ie);const Ws=Math.cos(Ie);let hs=(this.size.width+this.size.height)/Wl.TAIL_THICKNESS;hs=Math.min(hs,this.size.width,this.size.height)/4,Ie=1-Wl.ANCHOR_RADIUS/M,u=t+Ie*u,v=i+Ie*v,Ie=t+hs*Ws;const ll=i+hs*Lt;t-=hs*Ws,i-=hs*Lt,Lt=m0(this.workspace.RTL?-Wl.TAIL_ANGLE:Wl.TAIL_ANGLE),Lt=Z+Lt,Lt>Math.PI*2&&(Lt-=Math.PI*2),Z=Math.sin(Lt)*M/Wl.TAIL_BEND,M=Math.cos(Lt)*M/Wl.TAIL_BEND,e.push("M"+Ie+","+ll),e.push("C"+(Ie+M)+","+(ll+Z)+" "+u+","+v+" "+u+","+v),e.push("C"+u+","+v+" "+(t+M)+","+(i+Z)+" "+t+","+i)}e.push("z");let zn;(zn=this.tail)==null||zn.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&t?.lastChild!==this.svgRoot?(t?.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Vt(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Nt(this)}unselect(){Nt(null)}getFocusableElement(){return this.focusableElement}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.bringToFront();var e=this.getRelativeToSurfaceXY();const t=this.getSize();e=new $r(e.y,e.y+t.height,e.x,e.x+t.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){this.unselect()}canBeFocused(){return!0}getOwner(){return this.owner}};Wl=Ni,Ni.BORDER_WIDTH=6,Ni.DOUBLE_BORDER=Wl.BORDER_WIDTH*2,Ni.MIN_SIZE=Wl.DOUBLE_BORDER,Ni.TAIL_THICKNESS=1,Ni.TAIL_ANGLE=20,Ni.TAIL_BEND=4,Ni.ANCHOR_RADIUS=8;var fa=class extends Ni{constructor(e,t,i,u){super(t,i,u),this.workspace=t,this.anchor=i,this.ownerRect=u,this.autoLayout=!0,t=new N0(e),this.validateWorkspaceOptions(t),this.svgDialog=ht(ut.SVG,{x:Ni.BORDER_WIDTH,y:Ni.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new N0(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(ut.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e?.init(this.miniWorkspace),e?.show(t.languageTree)),tn(this.svgRoot,"blocklyMiniWorkspaceBubble"),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let v,M;(v=this.miniWorkspace.getFlyout())==null||(M=v.getWorkspace())==null||M.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress)for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(t.y<20&&e.moveBy(0,20-t.y),e.RTL){let i=-20;const u=this.miniWorkspace.getFlyout();u&&(i-=u.getWidth()),t.x>i&&e.moveBy(i-t.x,0)}else t.x<20&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()||this.miniWorkspace.keyboardMoveInProgress){this.autoLayout&&(this.autoLayout=!this.miniWorkspace.keyboardMoveInProgress);var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<fa.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<fa.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new _r(t.width+Ni.DOUBLE_BORDER,t.height+Ni.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+fa.MARGIN;e=e.height+fa.MARGIN;const i=this.miniWorkspace.getFlyout();if(i){const u=i.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,u.height+20),t+=i.getWidth()}return new _r(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const i of e.getAllBlocks(!1))i.setStyle(i.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};fa.MINIMUM_VIEW_CHANGE=10,fa.MARGIN=Ni.DOUBLE_BORDER*3;var Mc=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new Vt(0,0),this.workspaceLocation=new Vt(0,0),this.svgRoot=null,this.tooltip=e,this.id=Xe()}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=ht(ut.G,{class:"blocklyIconGroup",id:this.id}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),ie(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,or(this.svgRoot)}}dispose(){Xr(this.svgRoot),on(this.svgRoot)}getWeight(){return-1}getSize(){return new _r(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",p0(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=Vt.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}getFocusableElement(){const e=this.svgRoot;if(!e)throw Error("Attempting to focus uninitialized icon.");return e}getFocusableTree(){return this.sourceBlock.workspace}onNodeFocus(){var e=this.sourceBlock.getBoundingRectangle();e=new $r(e.top+this.offsetInBlock.y,e.top+this.offsetInBlock.y+this.getSize().height,e.left+this.offsetInBlock.x,e.left+this.offsetInBlock.x+this.getSize().width),this.sourceBlock.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}getSourceBlock(){return this.sourceBlock}},R1,n4;R1=17,n4=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Mc{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),ht(ut.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),ht(ut.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),ht(ut.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),tn(this.svgRoot,"blocklyMutatorIcon"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new _r(R1,R1)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.getColour());let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const t=this;return(0,yt.asyncExecutePromiseGeneratorFunction)(function*(){if(t.bubbleIsVisible()!==e){if(yield jn(),e){t.miniWorkspaceBubble=new fa(t.getMiniWorkspaceConfig(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour(),t.createRootBlock(),t.addSaveConnectionsListener();let i;(i=t.miniWorkspaceBubble)==null||i.addWorkspaceChangeListener(t.createMiniWorkspaceChangeListener())}else{let i;(i=t.miniWorkspaceBubble)==null||i.dispose(),t.miniWorkspaceBubble=null,t.saveConnectionsListener&&t.sourceBlock.workspace.removeChangeListener(t.saveConnectionsListener),t.saveConnectionsListener=null}le(new(an(pt.BUBBLE_OPEN))(t.sourceBlock,e,"mutator"))}})}getBubble(){return this.miniWorkspaceBubble}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(i=>({kind:"block",type:i}))}),t}getAnchorLocation(){const e=R1/2;return Vt.sum(this.workspaceLocation,new Vt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new $r(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,i,u,v;e=(v=(t=this.miniWorkspaceBubble)==null||(i=t.getWorkspace())==null||(u=i.getFlyout())==null?void 0:u.getWidth())!=null?v:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+n4):n4,n4)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||It(e)||Bt(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=yu.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var i=yu.getExtraBlockState_(this.sourceBlock);t!==i&&le(new(an(pt.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,t,i)),n.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=_s.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var Fo=Object.create(null),y2={allExtensions:Fo};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",Qc);var l0={TEST_ONLY:y2};l0.apply=au,l0.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,l0.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,l0.isRegistered=lu,l0.register=n.register$$module$build$src$core$extensions,l0.registerMixin=n.registerMixin$$module$build$src$core$extensions,l0.registerMutator=n.registerMutator$$module$build$src$core$extensions,l0.runAfterPageLoad=Na,l0.unregister=Js;var Li;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(Li||(Li={}));var pa={};pa.arc=$,pa.curve=tl,pa.line=g,pa.lineOnAxis=f,pa.lineTo=dl,pa.moveBy=Ii,pa.moveTo=ro,pa.point=Ln;var ts={};ts.Coordinate=Vt,ts.KeyCodes=Li,ts.Rect=$r,ts.Size=_r,ts.Svg=ut,ts.aria=T1,ts.array=n2,ts.browserEvents=ta,ts.colour=_l,ts.deprecation=Fd,ts.dom=io,ts.extensions=l0,ts.idGenerator=g1,ts.math=kh,ts.object=ra,ts.parsing=k1,ts.string=gi,ts.style=oa,ts.svgMath=us,ts.svgPaths=pa,ts.toolbox=A0,ts.userAgent=q4,ts.xml=gl;var il=class extends Ni{constructor(e,t,i,u){super(e,t,i,void 0,u),this.workspace=e,this.anchor=t,this.ownerRect=i,this.owner=u,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.sizeChangeListeners=[],this.locationChangeListeners=[],this.DEFAULT_SIZE=new _r(160+Ni.DOUBLE_BORDER,80+Ni.DOUBLE_BORDER),this.MIN_SIZE=new _r(45+Ni.DOUBLE_BORDER,20+Ni.DOUBLE_BORDER),this.editable=!0,tn(this.svgRoot,"blocklyTextInputBubble"),this.editor=new Zd(e,this.id,()=>{n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this)}),this.contentContainer.appendChild(this.editor.getDom()),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.editor.getText()}setText(e){this.editor.setText(e)}setEditable(e){this.editable=e,this.editor.setEditable(e)}isEditable(){return this.editable}addTextChangeListener(e){this.editor.addTextChangeListener(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}addLocationChangeListener(e){this.locationChangeListeners.push(e)}createResizeHandle(e,t){return e=ht(ut.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),ie(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const i=e.width-Ni.DOUBLE_BORDER,u=e.height-Ni.DOUBLE_BORDER;this.editor.updateSize(new _r(i,u),new _r(0,0)),this.editor.getDom().setAttribute("x",`${Ni.DOUBLE_BORDER/2}`),this.editor.getDom().setAttribute("y",`${Ni.DOUBLE_BORDER/2}`),this.resizeGroup.setAttribute("y",`${u}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-Ni.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${i}`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}moveDuringDrag(e){super.moveDuringDrag(e),this.onLocationChange()}setPositionRelativeToAnchor(e,t){super.setPositionRelativeToAnchor(e,t),this.onLocationChange()}positionByRect(e=new $r(0,0,0,0)){super.positionByRect(e),this.onLocationChange()}onResizePointerDown(e){this.bringToFront(),ye(e)||(Eo(this.workspace,e,new Vt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ie(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ie(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){fe(),this.resizePointerUpListener&&(Be(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Be(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=Vo(this.workspace,e),this.setSize(new _r(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}onLocationChange(){for(const e of this.locationChangeListeners)e()}getEditor(){return this.editor}};dn(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var Tn;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Tn||(Tn={}));var ja=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const i=this.calculateIndexForYPos(t);if(i>=this.connections.length)return-1;t=e.y;let u=i;for(;u>=0&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u--}for(u=i;u<this.connections.length&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,i=this.connections.length;for(;t<i;){const u=Math.floor((t+i)/2);if(this.connections[u].y<e)t=u+1;else if(this.connections[u].y>e)i=u;else{t=u;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function i(zn){const Ws=v-u[zn].x,hs=M-u[zn].y;return Math.sqrt(Ws*Ws+hs*hs)<=t&&Lt.push(u[zn]),hs<t}const u=this.connections,v=e.x,M=e.y;e=0;let Z=u.length-2,Ie=Z;for(;e<Ie;)u[Ie].y<M?e=Ie:Z=Ie,Ie=Math.floor((e+Z)/2);const Lt=[];if(Z=e=Ie,u.length){for(;e>=0&&i(e);)e--;do Z++;while(Z<u.length&&i(Z))}return Lt}isInYRange(e,t,i){return Math.abs(this.connections[e].y-t)<=i}searchForClosest(e,t,i){if(!this.connections.length)return{connection:null,radius:t};const u=e.y,v=e.x;e.x=v+i.x,e.y=u+i.y;var M=this.calculateIndexForYPos(e.y);i=null;let Z=t,Ie,Lt=M-1;for(;Lt>=0&&this.isInYRange(Lt,e.y,t);)Ie=this.connections[Lt],this.connectionChecker.canConnect(e,Ie,!0,Z)&&(i=Ie,Z=Ie.distanceFrom(e)),Lt--;for(;M<this.connections.length&&this.isInYRange(M,e.y,t);)Ie=this.connections[M],this.connectionChecker.canConnect(e,Ie,!0,Z)&&(i=Ie,Z=Ie.distanceFrom(e)),M++;return e.x=v,e.y=u,{connection:i,radius:Z}}static init(e){const t=[];return t[Tn.INPUT_VALUE]=new ja(e),t[Tn.OUTPUT_VALUE]=new ja(e),t[Tn.NEXT_STATEMENT]=new ja(e),t[Tn.PREVIOUS_STATEMENT]=new ja(e),t}},L0=class extends mi{constructor(e,t,i){super(i),this.type=pt.SELECTED,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new L0),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};a(Ft.EVENT,pt.SELECTED,L0);var T2=class extends bu{constructor(e){if(super(e),this.type=pt.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=No(e),this.ids=hr(e),this.wasShadow=e.isShadow(),this.oldJson=Vi(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=es(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new T2),t.oldXml=n.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const i=this.ids[e],u=t.getBlockById(i);u?u.dispose(!1):i===this.blockId&&console.warn("Can't delete non-existent block: "+i)}else Ml(this.oldJson,t)}};a(Ft.EVENT,pt.BLOCK_DELETE,T2);var ci=class{constructor(e,t){if(this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e,e.id.includes("_connection"))throw Error(`Connection ID indicator is contained in block ID. This will cause problems with focus: ${e.id}.`);this.id=`${e.id}_connection_${Xe()}`}connect_(e){const t=Tn.INPUT_VALUE,i=this.getSourceBlock();var u=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let v;if(this.isConnected()){const Z=this.stashShadowState(),Ie=this.targetBlock();Ie.isShadow()?Ie.dispose(!1):(this.disconnectInternal(),v=Ie),this.applyShadowState(Z)}let M;sn()&&(M=new(an(pt.BLOCK_MOVE))(u),M.setReason(["connect"])),S(this,e),u.setParent(i),M&&(M.recordNew(),le(M)),v&&(e=this.type===t?v.outputConnection:v.previousConnection)&&((u=ci.getConnectionForOrphanedConnection(u,e))?e.connect(u):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Tn.INPUT_VALUE||this.type===Tn.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:i}=this.getParentAndChildConnections();if(!t||!i)throw Error("Source connection not connected.");const u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0);let v;sn()&&(v=new(an(pt.BLOCK_MOVE))(i.getSourceBlock()),v.setReason(["disconnect"]));const M=this.targetConnection;M&&(M.targetConnection=null),this.targetConnection=null,e&&i.getSourceBlock().setParent(null),v&&(v.recordNew(),le(v)),i.getSourceBlock().isShadow()||t.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(u)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var i;return t=(i=e.getInput(t))==null?void 0:i.connection,i=this.targetBlock(),i&&i!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Fl(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?Vi(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let i=0;i<t.length;i++)if(t[i].connection===this){e=t[i];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let i=0,u;u=e.inputList[i];i++)if(u.connection===this){t=u;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var t=this.getSourceBlock();const i=this.getShadowState(),u=this.getShadowDom();if(t.isDeadOrDying()||!i&&!u)return null;if(i)return t=Rl(i,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(u){if(t=n0(u,t.workspace),e)if(this.type===Tn.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Tn.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Fl(e),this.shadowState=Vi(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===Tn.OUTPUT_VALUE)return G(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const i=t.getConnectionChecker();return e&&i.canConnect(t,e,!1)?e:null}};ci.CAN_CONNECT=0,ci.REASON_SELF_CONNECTION=1,ci.REASON_WRONG_TYPE=2,ci.REASON_TARGET_NULL=3,ci.REASON_CHECKS_FAILED=4,ci.REASON_DIFFERENT_WORKSPACES=5,ci.REASON_SHADOW_PARENT=6,ci.REASON_DRAG_CHECKS_FAILED=7,ci.REASON_PREVIOUS_AND_OUTPUT=8;var Rc=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},_2={};_2.DuplicateIconType=Rc,(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Oc=class extends Oi{constructor(e,t,i){super(Oi.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==Oi.SKIP_SETUP&&(i?this.configure_(i):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&tn(this.getTextElement(),this.class),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyLabelField")}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&Jn(this.textElement_,this.class),e&&tn(this.textElement_,e)),this.class=e}static fromJson(e){return new this(lr(e.text),void 0,e)}};Qo("field_label",Oc),Oc.prototype.DEFAULT_VALUE="";var C3=30,Nc=[];Nc[Tn.INPUT_VALUE]=Tn.OUTPUT_VALUE,Nc[Tn.OUTPUT_VALUE]=Tn.INPUT_VALUE,Nc[Tn.NEXT_STATEMENT]=Tn.PREVIOUS_STATEMENT,Nc[Tn.PREVIOUS_STATEMENT]=Tn.NEXT_STATEMENT;var E2="RENAME_VARIABLE_ID",w2="DELETE_VARIABLE_ID",k3=10,Ao=class extends ci{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[Nc[t]],this.offsetInBlock=new Vt(0,0),this.trackedState=Ao.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Ao.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e,t=!1){if(!this.sourceBlock_.workspace.isDragging()){var i=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*k3),u=n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*k3),v=e.sourceBlock_.getRootBlock(),M=this.sourceBlock_.getRootBlock();if(!v.isInFlyout&&!M.isInFlyout){var Z=!0;if(M.isMovable())v.isMovable()&&t&&(u=-u);else if(v.isMovable())Z=!1,i=-i,u=-u;else return;t=Z?e:this,e=Z?this:e,v=Z?M:v,v.RTL&&(i=-i),v.moveBy(t.x+i-e.x,t.y+u-e.y,["bump"])}}}moveTo(e,t){let i=!1;return this.trackedState===Ao.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Ao.TrackedState.TRACKED,i=!0):this.trackedState===Ao.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),i=!0),this.x=e,this.y=t,i}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=Vt.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0;const e=this.findHighlightSvg();e&&(e.style.display="")}unhighlight(){this.highlighted=!1;const e=this.findHighlightSvg();e&&(e.style.display="none")}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Ao.TrackedState.TRACKED||!e&&this.trackedState===Ao.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Ao.TrackedState.TRACKED):(this.trackedState===Ao.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Ao.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const i=e[t],u=i.getConnections_(!0);for(let v=0;v<u.length;v++)u[v].setTracking(!1);for(const v of i.getIcons())p0(v)&&v.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Tn.INPUT_VALUE&&this.type!==Tn.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let i;t.isCollapsed()?(i=[],t.outputConnection&&i.push(t.outputConnection),t.nextConnection&&i.push(t.nextConnection),t.previousConnection&&i.push(t.previousConnection)):i=t.getConnections_(!0);for(let u=0;u<i.length;u++)e.push(...i[u].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(Ut()){const i=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(n.setGroup$$module$build$src$core$events$utils(i),this.bumpAwayFrom(e),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:i}=this.getParentAndChildConnections();if(t&&i){var u=n.getGroup$$module$build$src$core$events$utils();u||n.setGroup$$module$build$src$core$events$utils(!0);var v=t.getSourceBlock(),M=i.getSourceBlock();super.disconnectInternal(e),v.queueRender(),M.updateDisabled(),M.queueRender(),M.getSvgRoot().style.display="block",n.setGroup$$module$build$src$core$events$utils(u)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.updateDisabled(),e.updateDisabled(),e.queueRender(),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}showContextMenu(e){const t=wr.registry.getContextMenuOptions({focusedNode:this},e);if(t.length){var i=this.getSourceBlock(),u=i.workspace;if(e instanceof PointerEvent)var v=new Vt(e.clientX,e.clientY);else v=new Vt(this.x,this.y),v=He(u,v).translate(i.RTL?-5:5,5);q0(e,t,i.RTL,u,v)}}getFocusableElement(){const e=this.findHighlightSvg();if(e)return e;throw Error("No highlight SVG found corresponding to this connection.")}getFocusableTree(){return this.getSourceBlock().workspace}onNodeFocus(){this.highlight(),this.getSourceBlock().workspace.scrollBoundsIntoView(this.getSourceBlock().getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unhighlight()}canBeFocused(){return!0}findHighlightSvg(){return document.getElementById(this.id)}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Ao||(Ao={})),Ao.TrackedState;var Lc=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,i){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&i)&&(typeof t=="string"&&(t=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(t),t.name=i,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,t){for(let i=0,u;u=this.fieldRow[i];i++)if(u.name===e)return u.dispose(),this.fieldRow.splice(i,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let i=0,u;u=this.fieldRow[i];i++)u.setVisible(e);if(this.connection&&this.connection instanceof Ao){e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll();const i=this.connection.targetBlock();i&&(i.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},sl=class extends Lc{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},ql=class extends Lc{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},wl=class extends Lc{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Tn.NEXT_STATEMENT)}},A3;n.ValueInput$$module$build$src$core$inputs$value_input=class extends Lc{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Tn.INPUT_VALUE)}},A3={},A3.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var D0=class{constructor(e,t,i){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=i&&!e.getBlockById(i)?i:Qt(),e.setBlockById(this.id,this),this.xy=new Vt(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,i=bs[t],!i||typeof i!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,i)}e.addTopBlock(this),e.addTypedBlock(this),new.target===D0&&this.doInit_()}doInit_(){const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);const t=Ut();try{typeof this.init=="function"&&(n.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),n.setRecordUndo$$module$build$src$core$events$utils(t)),sn()&&le(new(an(pt.BLOCK_CREATE))(this))}finally{n.setGroup$$module$build$src$core$events$utils(e),n.setRecordUndo$$module$build$src$core$events$utils(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),sn()&&le(new(an(pt.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let t=null,i;(i=this.outputConnection)!=null&&i.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e?.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e?.onFailedConnect(t))}getOnlyValueConnection(){let e=null;for(let t=0;t<this.inputList.length;t++){const i=this.inputList[t].connection;if(i&&i.type===Tn.INPUT_VALUE&&i.targetConnection){if(e)return null;e=i}}return e}unplugFromStack(e){let t=null,i;if((i=this.previousConnection)!=null&&i.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),e){for(e=this.getNextBlock();e&&(e.isShadow()||!e.isMovable());)e=e.getNextBlock();if(e){var u,v,M,Z;e=(Z=(u=e.previousConnection)==null||(v=u.targetBlock())==null||(M=v.nextConnection)==null?void 0:M.targetConnection)!=null?Z:null,e?.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,i;i=this.inputList[t];t++)i.connection&&e.push(i.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const i=t.targetBlock();if(!i||e&&i.isShadow())return t;t=i.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,i;i=this.inputList[t];t++)if(i.connection&&i.connection.targetBlock()===e)return i;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let i=0,u;u=this.inputList[i];i++)if(u.connection){var t=u.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),i=!!t;if(i&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!i&&e)throw Error("Block not connected to new parent.");if(i&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Dt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],i=this.getChildren(e);for(let u,v=0;u=i[v];v++)t.push(...u.getDescendants(e));return t}isDeletable(){return this.deletable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.isInFlyout&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(fs(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.isReadOnly()}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(const t of this.getFields())t.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||e.fieldRow.length>1)return!1;return!0}getMatchingConnection(e,t){const i=this.getConnections_(!0);if(e=e.getConnections_(!0),i.length!==e.length)throw Error("Connection lists did not match in length.");for(let u=0;u<e.length;u++)if(e[u]===t)return i[u];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return en(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Ai(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(const t of this.getFields())if(t.name===e)return t;return null}*getFields(){for(const e of this.inputList)for(const t of e.fieldRow)yield t}getVars(){const e=[];for(const t of this.getFields())t.referencesVariables()&&e.push(t.getValue());return e}getVarModels(){const e=[];for(const t of this.getFields())if(t.referencesVariables()){const i=this.workspace.getVariableById(t.getValue());i&&e.push(i)}return e}updateVarName(e){for(const t of this.getFields())t.referencesVariables()&&e.getId()===t.getValue()&&t.refreshVariableName()}renameVarById(e,t){for(const i of this.getFields())i.referencesVariables()&&e===i.getValue()&&i.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const i=this.getField(t);if(!i)throw Error('Field "'+t+'" not found.');i.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Tn.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Tn.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Tn.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(le(new(an(pt.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof sl&&this.inputList[e]instanceof sl)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof sl)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof ql)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}setDisabledReason(e,t){e||this.workspace.options.disable||!this.hasDisabledReason(fr)||t==fr||this.setDisabledReason(!1,fr),this.disabledReasons.has(t)!==e&&(e?this.disabledReasons.add(t):this.disabledReasons.delete(t),e=new(an(pt.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(t),le(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(le(new(an(pt.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let u=2;u<t.length;u++)t[u-2]==="("&&t[u]===")"&&(t[u-2]=t[u-1],t.splice(u-1,2));let i="";return t=t.reduce((u,v)=>(u=u+(i==="("||v===")"?"":" ")+v,i=v[v.length-1],u),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const u of this.inputList)if(u.name!=Ri){for(const v of u.fieldRow)t.push(v.getText());if(u.connection){const v=u.connection.targetBlock();if(v){var i=u.connection;let M=i.getCheck();!M&&i.targetConnection&&(M=i.targetConnection.getCheck()),(i=!!M&&(M.includes("Boolean")||M.includes("Number")))&&t.push("("),t.push(...v.toTokens(e)),i&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new wl(e,this))}appendDummyInput(e=""){return this.appendInput(new sl(e,this))}appendEndRowInput(e=""){return this.appendInput(new ql(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=x(Ft.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var i=0;e["args"+i];){if(e["message"+i]===void 0)throw Error(t+`args${i} must have a corresponding message (message${i}).`);i++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,t):this.jsonInitColour(e,t),i=0;e["message"+i]!==void 0;)this.interpolate(e["message"+i],e["args"+i]||[],e["implicitAlign"+i]||e["lastDummyAlign"+i],t),i++;if(e.inputsInline!==void 0&&(n.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),n.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(i=lr(e.tooltip),this.setTooltip(i)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(i=lr(e.helpUrl),this.setHelpUrl(i)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&au(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)au(e[t],this,!1)}jsonInitColour(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const i in e)this[i]!==void 0&&t.push(i);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate(e,t,i,u){e=ls(e),this.validateTokens(e,t.length),t=this.interpolateArguments(e,t,i),i=[];for(let v=0,M;M=t[v];v++)if(this.isInputKeyword(M.type)){if(e=this.inputFromJson(M,u)){for(let Z=0,Ie;Ie=i[Z];Z++)e.appendField(Ie[0],Ie[1]);i.length=0}}else(e=this.fieldFromJson(M))&&i.push([e,M.name])}validateTokens(e,t){const i=[];let u=0;for(let v=0;v<e.length;v++){const M=e[v];if(typeof M=="number"){if(M<1||M>t)throw Error('Block "'+this.type+'": Message index %'+M+" out of range.");if(i[M])throw Error('Block "'+this.type+'": Message index %'+M+" duplicated.");i[M]=!0,u++}}if(u!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments(e,t,i){const u=[];for(let M=0;M<e.length;M++){var v=e[M];if(typeof v=="number"&&(v=t[v-1]),typeof v=="string"){if(v===`
`)v={type:"input_end_row"},i&&(v.align=i);else if(v=this.stringToFieldJson(v),!v)continue}u.push(v)}return(e=u.length)&&!this.isInputKeyword(u[e-1].type)&&(e={type:"input_dummy"},i&&(e.align=i),u.push(e)),u}fieldFromJson(e){const t=n.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):t}inputFromJson(e,t){var i={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let u;switch(e.type){case"input_value":u=this.appendValueInput(e.name);break;case"input_statement":u=this.appendStatementInput(e.name);break;case"input_dummy":u=this.appendDummyInput(e.name);break;case"input_end_row":u=this.appendEndRowInput(e.name);break;default:u=this.appendInputFromRegistry(e.type,e.name)}return u?(e.check&&u.setCheck(e.check),e.align&&(i=i[e.align.toUpperCase()],i===void 0?console.warn(t+"Illegal align value: ",e.align):u.setAlign(i)),u):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||C(Ft.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var i=-1,u=t?-1:this.inputList.length;for(let v=0,M;M=this.inputList[v];v++)if(M.name===e){if(i=v,u!==-1)break}else if(t&&M.name===t&&(u=v,i!==-1))break;if(i===-1)throw Error('Named input "'+e+'" not found.');if(u===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(i,u)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const i=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,i)}removeInput(e,t){for(let i=0,u;u=this.inputList[i];i++)if(u.name===e)return u instanceof wl&&this.statementInputCount--,u.dispose(),this.inputList.splice(i,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,i;i=this.inputList[t];t++)if(i.name===e)return i;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(_s.COMMENT))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let i;const u=(i=(t=this.getIcon(_s.COMMENT))==null?void 0:t.getText())!=null?i:null;if(u!==e){if(e!==null){if(t=this.getIcon(_s.COMMENT),!t){if(t=x(Ft.ICON,_s.COMMENT.toString(),!1),!t)throw Error("No comment icon class is registered, so a comment cannot be set");if(t=new t(this),!he(t))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");t=this.addIcon(t)}n.disable$$module$build$src$core$events$utils(),t.setText(e),n.enable$$module$build$src$core$events$utils()}else this.removeIcon(_s.COMMENT);le(new(an(pt.BLOCK_CHANGE))(this,"comment",null,u,e))}}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new Rc(e);return this.icons.push(e),this.icons.sort((t,i)=>t.getWeight()-i.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(i=>!i.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof _s?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,t,i){if(this.parentBlock_)throw Error("Block has parent");const u=new(an(pt.BLOCK_MOVE))(this);i&&u.setReason(i),this.xy.translate(e,t),u.recordNew(),le(u)}makeConnection_(e){return new ci(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let i=0,u;u=this.inputList[i];i++)if(u.connection){var t=u.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};D0.COLLAPSED_INPUT_NAME=Ri,D0.COLLAPSED_FIELD_NAME=Fr;var ku=null,O1=null,Au={};Au.connectionUiEffect=rt,Au.disconnectUiEffect=at,Au.disconnectUiStop=Yt,Au.disposeUiEffect=we;var Dc=class{paste(e,t,i){if(!t.isCapacityAvailable(e.typeCounts))return null;i&&(e.blockState.x=i.x,e.blockState.y=i.y),i=i||new Vt(e.blockState.x||0,e.blockState.y||0),n.disable$$module$build$src$core$events$utils();let u;try{u=Ml(e.blockState,t),bn(u,i)}finally{n.enable$$module$build$src$core$events$utils()}if(!u)return u;sn()&&!u.isShadow()&&le(new(an(pt.BLOCK_CREATE))(u));const v=u;return jn().then(()=>n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)),u}};Dc.TYPE="block",ps(Dc.TYPE,new Dc);var N1={};N1.bumpIntoBounds=gr,N1.bumpIntoBoundsHandler=Tr,N1.bumpTopObjectsIntoBounds=jr;var Fh=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new Vt(0,0),this.originalEventGroup="",this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,t;return(t=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?t:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.isReadOnly()&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(R(Ft.CONNECTION_PREVIEWER,this.workspace.options))(this.block),Zn(),this.workspace.setResizesEnabled(!1),Yt(),e=this.shouldHealStack(e),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var t;(t=this.workspace.getLayerManager())==null||t.moveToDragLayer(this.block)}}shouldHealStack(e){return!!e&&(e.altKey||e.ctrlKey||e.metaKey)}startDraggingShadow(e){const t=this.block.getParent();if(!t)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=Vt.difference(t.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),t.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let t,i,u;if(this.startParentConn=(u=(t=this.block.outputConnection)==null?void 0:t.targetConnection)!=null?u:(i=this.block.previousConnection)==null?void 0:i.targetConnection,e){let v;this.startChildConn=(v=this.block.nextConnection)==null?void 0:v.targetConnection}this.block.unplug(e),at(this.block)}fireDragStartEvent(){const e=new(an(pt.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));le(e)}fireDragEndEvent(){const e=new(an(pt.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));le(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(an(pt.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),le(e)}}drag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.drag(Vt.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,Vt.difference(e,this.startLoc))}updateConnectionPreview(e,t){var i=this.connectionCandidate;const u=this.getConnectionCandidate(e,t);if(u){this.connectionCandidate=t=i&&this.currCandidateIsBetter(i,t,u)?i:u;var{local:v,neighbour:M}=t;t=v.type===Tn.OUTPUT_VALUE||v.type===Tn.PREVIOUS_STATEMENT;var Z;if(i=M.isConnected()&&!((Z=M.targetBlock())!=null&&Z.isInsertionMarker()),t&&i&&!this.orphanCanConnectAtEnd(e,M.targetBlock(),v.type)){let Lt;(Lt=this.connectionPreviewer)==null||Lt.previewReplacement(v,M,M.targetBlock())}else{var Ie;(Ie=this.connectionPreviewer)==null||Ie.previewConnection(v,M)}}else{let Lt;(Lt=this.connectionPreviewer)==null||Lt.hidePreview(),this.connectionCandidate=null}}orphanCanConnectAtEnd(e,t,i){return!!ci.getConnectionForOrphanedConnection(e,i===Tn.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,i){const{local:u,neighbour:v}=e;e=new Vt(u.x,u.y);const M=new Vt(v.x,v.y);return t=Vt.distance(Vt.sum(e,t),M),i.distance>t-n.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let i=this.getSearchRadius(),u=null;for(const v of e){const{connection:M,radius:Z}=v.closest(i,t);M&&(u={local:v,neighbour:M,distance:Z},i=Z)}return u}getSearchRadius(){return this.connectionCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}getLocalConnections(e){const t=e.getConnections_(!1),i=e.lastConnectionInStack(!0);return i&&i!==e.nextConnection&&t.push(i),t}endDrag(e){if(this.block.isShadow()){let i;(i=this.block.getParent())==null||i.endDrag(e)}else{this.originalEventGroup=n.getGroup$$module$build$src$core$events$utils(),this.fireDragEndEvent(),this.fireMoveEvent(),ss(),Yt();var t;if((t=this.connectionPreviewer)==null||t.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let i;(i=this.workspace.getLayerManager())==null||i.moveOffDragLayer(this.block,xu),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep())}}disposeStep(){const e=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(this.originalEventGroup),this.block.snapToGrid();let t;(t=this.connectionPreviewer)==null||t.dispose(),this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(e)}applyConnections(e){const{local:t,neighbour:i}=e;t.connect(i);const u=t.isSuperior()?i:t,v=this.block.getRootBlock();jn().then(()=>{rt(u.getSourceBlock()),setTimeout(()=>{v.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let i;(i=this.block.getParent())==null||i.revertDrag()}else{var e;(e=this.connectionPreviewer)==null||e.hidePreview(),this.connectionCandidate=null;var t;if((t=this.startChildConn)==null||t.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case Tn.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case Tn.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let i;(i=this.workspace.getLayerManager())==null||i.moveOffDragLayer(this.block,xu),gr(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.block.setDragging(!1),this.dragging=!1}}},S2=class extends Ni{constructor(e,t,i,u){super(t,i,u),this.text=e,this.workspace=t,this.anchor=i,this.ownerRect=u,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize(),tn(this.svgRoot,"blocklyTextBubble")}getText(){return this.text}setText(e){this.text=e,on(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createTextFragments(t,e),this.workspace.RTL&&this.rightAlignTextFragments(t.getBBox().width,e),t}createParagraph(e){return ht(ut.G,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",transform:`translate(0,${Ni.BORDER_WIDTH})`,style:`direction: ${this.workspace.RTL?"rtl":"ltr"}`},e)}createTextFragments(e,t){let i=1;return t.split(`
`).map(u=>{const v=ht(ut.TEXT,{y:`${i}em`,x:Ni.BORDER_WIDTH},e);return u=document.createTextNode(u),v.appendChild(u),i+=1,v})}rightAlignTextFragments(e,t){for(const i of t)i.setAttribute("text-anchor","start"),i.setAttribute("x",`${e+Ni.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new _r(e.width+Ni.BORDER_WIDTH*2,e.height+Ni.BORDER_WIDTH*2),!0)}},r4=17,ma=class extends Mc{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return ma.TYPE}initView(e){this.svgRoot||(super.initView(e),ht(ut.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),ht(ut.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),ht(ut.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),tn(this.svgRoot,"blocklyWarningIcon"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return ma.WEIGHT}getSize(){return new _r(r4,r4)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.getColour())}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let i;return(i=this.textBubble)==null||i.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const t=this;return(0,yt.asyncExecutePromiseGeneratorFunction)(function*(){if(t.bubbleIsVisible()!==e){if(yield jn(),e)t.textBubble=new S2(t.getText(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour();else{let i;(i=t.textBubble)==null||i.dispose(),t.textBubble=null}le(new(an(pt.BUBBLE_OPEN))(t.sourceBlock,e,"warning"))}})}getBubble(){return this.textBubble}getAnchorLocation(){const e=r4/2;return Vt.sum(this.workspaceLocation,new Vt(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new $r(e.y,e.y+e.height,e.x,e.x+e.width)}};ma.TYPE=_s.WARNING,ma.WEIGHT=2;var Yi=class extends D0{constructor(e,t,i){if(super(e,t,i),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new Vt(0,0),this.dragStrategy=new Fh(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=ht(ut.G,{}),t&&tn(this.svgGroup,t),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,or(e),this.svgGroup.setAttribute("data-id",this.id),e.id=Xe(),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const t of this.getIcons())t.initView(this.createIconPointerDownListener(t)),t.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),(e=this.getSvgRoot())&&ie(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){this.addSelect(),Nt(this)}unselect(){this.removeSelect(),Nt(null)}setParent(e){var t=this.parentBlock_;if(e!==t){Zn(),super.setParent(e),ss();var i=this.getSvgRoot();if(!this.workspace.isClearing&&i){var u=this.getRelativeToSurfaceXY(),v=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode(),M,Z=this.getSvgRoot().contains((M=v?.getFocusableElement())!=null?M:null);e?(e.getSvgRoot().appendChild(i),Z&&v&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)):t&&(e=this.workspace.getCanvas().querySelector(".blocklyDragging"),t=e?.parentElement,M=this.workspace.getCanvas(),t===M?M.insertBefore(i,e):(M.appendChild(i),Z&&v&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(v)),this.translate(u.x,u.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,i=0,u=this.getSvgRoot();if(u)do{const v=Y(u);t+=v.x,i+=v.y,u=u.parentNode}while(u&&!e.hasLayer(u));return new Vt(t,i)}moveBy(e,t,i){if(this.parentBlock_)throw Error("Block has parent");const u=sn();let v=null;u&&(v=new(an(pt.BLOCK_MOVE))(this),i&&v.setReason(i)),e=new Vt(e,t),t=this.getRelativeToSurfaceXY(),e=Vt.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),u&&v&&(v.recordNew(),le(v)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new Vt(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const i=this.getRelativeToSurfaceXY();this.moveBy(e.x-i.x,e.y-i.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const t=this.getRelativeToSurfaceXY();let i,u;return this.RTL?(i=t.x-e.width,u=t.x):(i=t.x,u=t.x+e.width),new $r(t.y,t.y+e.height,i,u)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}childHasWarning(){const e=this.getChildren(!1);for(const t of e)if(t.getIcon(ma.TYPE)||t.childHasWarning())return!0;return!1}updateCollapsed(){var e=this.isCollapsed();const t=Ri,i=Fr;for(let v=0,M;M=this.inputList[v];v++)M.name!==t&&M.setVisible(!e);for(var u of this.getIcons())u.updateCollapsed();e?(tn(this.svgGroup,"blocklyCollapsed"),this.childHasWarning()&&this.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Yi.COLLAPSED_WARNING_ID),e=this.toString(C3),(u=this.getField(i))?u.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Oc(e),i)):(this.updateDisabled(),this.removeInput(t),Jn(this.svgGroup,"blocklyCollapsed"),this.setWarningText(null,Yi.COLLAPSED_WARNING_ID))}onMouseDown(e){if(!this.workspace.isReadOnly()){var t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(e){return this.workspace.isReadOnly()||!this.contextMenu?null:(e=wr.registry.getContextMenuOptions({block:this,focusedNode:this},e),this.customContextMenu&&this.customContextMenu(e),e)}calculateContextMenuLocation(e){if(e instanceof PointerEvent)return new Vt(e.clientX,e.clientY);e=He(this.workspace,this.getRelativeToSurfaceXY());let t,i;const u=(t=this.inputList.filter(v=>v.isVisible()).flatMap(v=>v.fieldRow).find(v=>v.isVisible()))==null||(i=t.getSvgRoot())==null?void 0:i.getBoundingClientRect();return new Vt(this.RTL?e.x-5:e.x+5,(u&&u.height?u.y+u.height:e.y+this.height)+5)}showContextMenu(e){const t=this.generateContextMenu(e),i=this.calculateContextMenuLocation(e);t&&t.length&&(q0(e,t,this.RTL,this.workspace,i),su(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(Vt.sum(e,t.relativeCoords))}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const i of t.fieldRow)i.onLocationChange(e)}addClass(e){tn(this.svgGroup,e)}removeClass(e){Jn(this.svgGroup,e)}setDragging(e){(this.dragging=e)?(this.translation="",vc.push(...this.getConnections_(!0)),this.addClass("blocklyDragging")):(vc.length=0,this.removeClass("blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e?Jn(this.svgGroup,"blocklyNotEditable"):tn(this.svgGroup,"blocklyNotEditable"),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,t){this.disposing=!0,Jr(),Pl();const i=n.getFocusManager$$module$build$src$core$focus_manager();var u,v;if(this.getSvgRoot().contains((v=(u=i.getFocusedNode())==null?void 0:u.getFocusableElement())!=null?v:null)){if(u=this.getParent(),!u){let M;if(v=(M=this.outputConnection)!=null?M:this.previousConnection){let Z;u=(Z=v.closest(0,new Vt(0,0)).connection)==null?void 0:Z.getSourceBlock()}}u?i.focusNode(u):setTimeout(()=>i.focusTree(this.workspace),0)}t&&(this.unplug(e),we(this)),super.dispose(!!e),on(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===this&&this.workspace.cancelCurrentGesture(),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(e=!1){return this.isInsertionMarker_?null:{paster:Dc.TYPE,blockState:Vi(this,{addCoordinates:!0,addNextBlocks:e,saveIds:!1}),typeCounts:fs(this,!0)}}applyColour(){var e,t;for((t=(e=this.pathObject).applyColour)==null||t.call(e,this),e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(const i of this.getFields())i.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var i of this.warningTextDb.values())clearTimeout(i);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),i=this.getIcon(ma.TYPE),e){let u=this.getSurroundParent(),v=null;for(;u;)u.isCollapsed()&&(v=u),u=u.getSurroundParent();v&&v.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Yi.COLLAPSED_WARNING_ID),i?i.addMessage(e,t):this.addIcon(new ma(this).addMessage(e,t))}else i&&(t?(i.addMessage("",t),i.getText()||this.removeIcon(ma.TYPE)):this.removeIcon(ma.TYPE))}setMutator(e){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),t}setDisabledReason(e,t){const i=this.isEnabled();super.setDisabledReason(e,t),this.isEnabled()===i||this.getInheritedDisabled()||this.updateDisabled()}setDeletable(e){super.setDeletable(e),e?Jn(this.svgGroup,"blocklyNotDeletable"):tn(this.svgGroup,"blocklyNotDeletable")}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);let t,i;(i=(t=this.pathObject).setStyle)==null||i.call(t,e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_&&Jn(this.svgGroup,this.styleName_),t){this.hat=t.hat;let i,u;(u=(i=this.pathObject).setStyle)==null||u.call(i,t),this.colour_=t.colourPrimary,this.style=t,this.applyColour(),tn(this.svgGroup,e),this.styleName_=e}else throw Error("Invalid style name: "+e)}getStyle(){return this.style}bringToFront(e=!1){const t=n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode();let i=this;if(!i.isDeadOrDying()){do{const u=i.getSvgRoot(),v=u.parentNode,M=v.childNodes;if(M[M.length-1]!==u&&v.appendChild(u),e)break;i=i.getParent()}while(i);t&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t)}}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.queueRender()}setNextStatement(e,t){super.setNextStatement(e,t),this.queueRender()}setOutput(e,t){super.setOutput(e,t),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,t){return e=super.removeInput(e,t),this.queueRender(),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var i=this.inputList[t].connection;i&&(i.setTracking(e),(i=i.targetBlock())&&i.setConnectionTracking(e))}}getConnections_(e){const t=[];if(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)for(let i=0,u;u=this.inputList[i];i++)u.connection&&t.push(u.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Ao(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let i;(i=t.targetBlock())==null||i.bumpNeighbours()}for(const i of t.neighbours(n.config$$module$build$src$core$config.snapRadius))i.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&i.isConnected()||(t.isSuperior()?i.bumpAwayFrom(t,!1):t.bumpAwayFrom(i,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,t,i){if(e.type===Tn.NEXT_STATEMENT||e.type===Tn.INPUT_VALUE){let u=t.x;t=t.y,u+=i.x-e.getOffsetInBlock().x,t+=i.y-e.getOffsetInBlock().y,this.moveBy(u,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return Xs(this)}render(){this.queueRender(),h()}renderEfficiently(){Zn(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),ss()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}getHeightWidth(){let e=this.height,t=this.width;var i=this.getNextBlock();if(i){i=i.getHeightWidth();const u=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=i.height-u,t=Math.max(t,i.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}getDragStrategy(){return this.dragStrategy}setDragStrategy(e){this.dragStrategy=e}isCopyable(){return this.isOwnDeletable()&&this.isOwnMovable()}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,t){this.dragStrategy.drag(e,t)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},Vi(this)),t=new Set(["id","height","width","pinned","enabled"]),i=function(u){for(const v in u)t.has(v)?delete u[v]:typeof u[v]=="object"&&i(u[v])};return i(e),[e]}jsonInit(e){super.jsonInit(e),e.classes&&this.addClass(Array.isArray(e.classes)?e.classes.join(" "):e.classes)}getFocusableElement(){return this.pathObject.svgPath}getFocusableTree(){return this.workspace}onNodeFocus(){this.select(),this.workspace.scrollBoundsIntoView(this.getBoundingRectangleWithoutChildren())}onNodeBlur(){this.unselect()}canBeFocused(){return!0}};Yi.INLINE=-1,Yi.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var I3=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},L1=class extends I3{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof Yi?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(zi(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},D1=class{constructor(e,t){this.element=e,this.type=t}getElement(){return this.element}getType(){return this.type}},B1=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,i=0;return e&&(t=e.getWidth(),i=e.getHeight()),new _r(t,i)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const i=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var M;const Z=!((M=this.workspace_.getFlyout())!=null&&M.autoClose);M=v?i.position:u.position;const Ie=M===Er.TOP;return M===Er.LEFT&&(v&&(e+=i.width),Z&&(e+=u.width)),Ie&&(v&&(t+=i.height),Z&&(t+=u.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),i=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),v=!!this.workspace_.getToolbox();var M;const Z=!((M=this.workspace_.getFlyout())!=null&&M.autoClose);M=v?i.position:u.position;const Ie=M===Er.LEFT||M===Er.RIGHT;return(M===Er.TOP||M===Er.BOTTOM)&&(v&&(t.height-=i.height),Z&&(t.height-=u.height)),Ie&&(v&&(t.width-=i.width),Z&&(t.width-=u.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),i=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const u={};return i||(u.top=e.top,u.bottom=e.top+e.height),t||(u.left=e.left,u.right=e.left+e.width),u}getPaddedContent_(e,t){const i=t.top+t.height,u=t.left+t.width,v=e.width;e=e.height;const M=v/2,Z=e/2;return{top:Math.min(t.top-Z,i-e),bottom:Math.max(i+Z,t.top+e),left:Math.min(t.left-M,u-v),right:Math.max(u+M,t.left+v)}}getScrollMetrics(e,t,i){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var u=i||this.getContentMetrics();i=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,u),u=i.top!==void 0?i.top:t.top;const v=i.left!==void 0?i.left:t.left;return{top:u/e,left:v/e,width:((i.right!==void 0?i.right:t.right)-v)/e,height:((i.bottom!==void 0?i.bottom:t.bottom)-u)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),i=this.getSvgMetrics(),u=this.getAbsoluteMetrics(),v=this.getViewMetrics(),M=this.getContentMetrics(),Z=this.getScrollMetrics(!1,v,M);return{contentHeight:M.height,contentWidth:M.width,contentTop:M.top,contentLeft:M.left,scrollHeight:Z.height,scrollWidth:Z.width,scrollTop:Z.top,scrollLeft:Z.left,viewHeight:v.height,viewWidth:v.width,viewTop:v.top,viewLeft:v.left,absoluteTop:u.top,absoluteLeft:u.left,svgHeight:i.height,svgWidth:i.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};a(Ft.METRICS_MANAGER,pl,B1);var zh=class extends B1{constructor(e,t){super(e),this.flyout_=t}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,i){return t=i||this.getContentMetrics(),i=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*i)/e,width:(t.width+t.left+i)/e,top:0,left:0}}},Io=class{constructor(e,t,i,u){this.workspace=e,this.targetWorkspace=t,this.isFlyoutLabel=u,this.height=this.width=0,this.cursorSvg=this.svgText=null,this.text=i.text,this.position=new Vt(0,0),this.callbackKey=i.callbackKey||i.callbackkey,this.cssClass=i["web-class"]||null,this.info=i,e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton",this.cssClass&&(e+=" "+this.cssClass),this.id=Xe(),this.svgGroup=ht(ut.G,{id:this.id,class:e},this.workspace.getCanvas());let v;this.isFlyoutLabel||(v=ht(ut.RECT,{class:"blocklyFlyoutButtonShadow",rx:Io.BORDER_RADIUS,ry:Io.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=ht(ut.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Io.BORDER_RADIUS,ry:Io.BORDER_RADIUS},this.svgGroup),t=ht(ut.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),i=lr(this.text),this.workspace.RTL&&(i+=""),t.textContent=i,this.isFlyoutLabel&&(this.svgText=t,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill")),u=br(t,"fontSize");const M=br(t,"fontWeight"),Z=br(t,"fontFamily");if(this.width=Vn(t,u,M,Z),i=F(i,u,M,Z),this.height=this.height||i.height,!this.isFlyoutLabel){this.width+=2*Io.TEXT_MARGIN_X,this.height+=2*Io.TEXT_MARGIN_Y;let Ie;(Ie=v)==null||Ie.setAttribute("width",String(this.width));let Lt;(Lt=v)==null||Lt.setAttribute("height",String(this.height))}e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),t.setAttribute("x",String(this.width/2)),t.setAttribute("y",String(this.height/2-i.height/2+i.baseline)),this.updateTransform(),this.onMouseDownWrapper=ie(this.svgGroup,"pointerdown",this,this.onMouseDown),this.onMouseUpWrapper=ie(this.svgGroup,"pointerup",this,this.onMouseUp)}createDom(){return this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}moveBy(e,t,i){this.moveTo(this.position.x+e,this.position.y+t)}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getBoundingRectangle(){return new $r(this.position.y,this.position.y+this.height,this.position.x,this.position.x+this.width)}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){Be(this.onMouseDownWrapper),Be(this.onMouseUpWrapper),this.svgGroup&&on(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}onMouseDown(e){const t=this.targetWorkspace.getGesture(e),i=this.targetWorkspace.getFlyout();t&&i&&t.handleFlyoutStart(e,i)}getSvgRoot(){return this.svgGroup}getFocusableElement(){return this.svgGroup}getFocusableTree(){return this.workspace}onNodeFocus(){var e=this.getPosition();e=new $r(e.y,e.y+this.height,e.x,e.x+this.width),this.workspace.scrollBoundsIntoView(e)}onNodeBlur(){}canBeFocused(){return!0}};Io.TEXT_MARGIN_X=5,Io.TEXT_MARGIN_Y=2,Io.BORDER_RADIUS=4,dn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var M3=class{getFirstChild(e){return null}getParent(e){return e.getWorkspace()}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Io}},P1=class{constructor(e,t){this.policy=e,this.flyout=t}getFirstChild(e){return null}getParent(e){return this.policy.getParent(e)}getNextSibling(e){const t=this.flyout.getContents();if(!t)return null;let i=t.findIndex(u=>u.getElement()===e);return i===-1?null:(i++,i>=t.length&&(i=0),t[i].getElement())}getPreviousSibling(e){const t=this.flyout.getContents();if(!t)return null;let i=t.findIndex(u=>u.getElement()===e);return i===-1?null:(i--,i<0&&(i=t.length-1),t[i].getElement())}isNavigable(e){return this.policy.isNavigable(e)}isApplicable(e){return this.policy.isApplicable(e)}},i4=class{constructor(e,t){this.gap=e,this.axis=t,this.y=this.x=0}getBoundingRectangle(){switch(this.axis){case"x":return new $r(this.y,this.y,this.x,this.x+this.gap);case"y":return new $r(this.y,this.y+this.gap,this.x,this.x)}}moveBy(e,t,i){this.x+=e,this.y+=t}isNavigable(){return!1}getFocusableElement(){throw Error("Cannot be focused")}getFocusableTree(){throw Error("Cannot be focused")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}},x2=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return!1}isApplicable(e){return e instanceof i4}},R3=class{getFirstChild(e){return e.getEditor()}getParent(e){let t;return(t=e.getOwner())!=null?t:null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof il}},C2=class{getFirstChild(e){return gs(e,!0)[0]}getParent(e){var t;if((t=e.previousConnection)!=null&&t.targetBlock()){if(t=e.getSurroundParent())return t}else{let i;if((i=e.outputConnection)!=null&&i.targetBlock())return e.outputConnection.targetBlock()}return e.workspace}getNextSibling(e){let t;if((t=e.nextConnection)!=null&&t.targetBlock()){let u;return(u=e.nextConnection)==null?void 0:u.targetBlock()}let i;return(i=e.outputConnection)!=null&&i.targetBlock()?$s(e,1):e.getSurroundParent()?$s(e.getTopStackBlock(),1):this.getParent(e)instanceof Sl?as(e,1):null}getPreviousSibling(e){let t;if((t=e.previousConnection)!=null&&t.targetBlock()){let u;return(u=e.previousConnection)==null?void 0:u.targetBlock()}let i;return(i=e.outputConnection)!=null&&i.targetBlock()?$s(e,-1):this.getParent(e)instanceof Sl?as(e,-1):null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Yi}},O3=class{getFirstChild(e){return null}getParent(e){return e.getCommentView().workspace.getCommentById(e.getCommentView().commentId)}getNextSibling(e){const t=e.getCommentView().getCommentBarButtons();return e=t.indexOf(e),e>=0&&e+1<t.length?t[e+1]:null}getPreviousSibling(e){const t=e.getCommentView().getCommentBarButtons();return e=t.indexOf(e),e>0?t[e-1]:null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Dh}},k2=class{getFirstChild(e){return null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Zd}},A2=class{getFirstChild(e){return e.getParentInput()?e.targetConnection:null}getParent(e){return e.getSourceBlock()}getNextSibling(e){if(e.getParentInput())return $s(e,1);if(e.type===Tn.NEXT_STATEMENT){const i=e.targetConnection;var t=e.getSourceBlock();if(!i&&t.getRootBlock().lastConnectionInStack(!1)===e){e=t.workspace.getTopBlocks(!0),t=e.indexOf(t.getRootBlock())+1,t>=e.length&&(t=0),t=e[t];let u;return(u=this.getParentConnection(t))!=null?u:t}return i}return e.getSourceBlock()}getPreviousSibling(e){if(e.getParentInput())return $s(e,-1);if(e.type===Tn.PREVIOUS_STATEMENT||e.type===Tn.OUTPUT_VALUE){const i=e.targetConnection&&!e.targetConnection.getParentInput()?e.targetConnection:null;var t=e.getSourceBlock();if(!i&&this.getParentConnection(t.getRootBlock())===e){e=t.workspace.getTopBlocks(!0),t=e.indexOf(t.getRootBlock())-1,t<0&&(t=e.length-1),t=e[t];let u;return(u=t.lastConnectionInStack(!1))!=null?u:t}return i}return e.type===Tn.NEXT_STATEMENT?e.getSourceBlock():null}getParentConnection(e){let t;return!e.outputConnection||(t=e.previousConnection)!=null&&t.isConnected()?e.previousConnection:e.outputConnection}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Ao}},I2=class{getFirstChild(e){return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return $s(e,1)}getPreviousSibling(e){return $s(e,-1)}isNavigable(e){let t;return e.canBeFocused()&&e.isVisible()&&(e.isClickable()||e.isCurrentlyEditable())&&!((t=e.getSourceBlock())!=null&&t.isSimpleReporter()&&e.isFullBlockField())&&e.getParentInput().isVisible()}isApplicable(e){return e instanceof Oi}},F1={};F1.register=Or,F1.unregister=fi;var M2=17,N3=160,s4=80,Xl=class extends Mc{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new _r(N3,s4),this.bubbleVisiblity=!1}getType(){return Xl.TYPE}initView(e){this.svgRoot||(super.initView(e),ht(ut.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),ht(ut.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),ht(ut.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),tn(this.svgRoot,"blocklyCommentIcon"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return Xl.WEIGHT}getSize(){return new _r(M2,M2)}applyColour(){super.applyColour();const e=this.sourceBlock.getColour();let t;(t=this.textInputBubble)==null||t.setColour(e)}updateEditable(){const e=this,t=()=>super.updateEditable;return(0,yt.asyncExecutePromiseGeneratorFunction)(function*(){t().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){const t=this.workspaceLocation;super.onLocationChange(e),this.bubbleLocation&&(e=Vt.difference(this.workspaceLocation,t),this.bubbleLocation=Vt.sum(this.bubbleLocation,e)),e=this.getAnchorLocation();let i;(i=this.textInputBubble)==null||i.setAnchorLocation(e)}setText(e){const t=this.text;le(new(an(pt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,t,e)),this.text=e;let i;(i=this.textInputBubble)==null||i.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}setBubbleLocation(e){this.bubbleLocation=e;let t;(t=this.textInputBubble)==null||t.moveDuringDrag(e)}getBubbleLocation(){return this.bubbleLocation}saveState(){if(this.text){const e={text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width},t=this.getBubbleLocation();return t&&(e.x=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(t.x+this.bubbleSize.width):t.x,e.y=t.y),e}return null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let i,u;this.bubbleSize=new _r((i=e.width)!=null?i:N3,(u=e.height)!=null?u:s4);let v;this.bubbleVisiblity=(v=e.pinned)!=null?v:!1,this.setBubbleVisible(this.bubbleVisiblity);let M=e.x;const Z=e.y;jn().then(()=>{M&&Z&&(M=this.sourceBlock.workspace.RTL?this.sourceBlock.workspace.getWidth()-(M+this.bubbleSize.width):M,this.setBubbleLocation(new Vt(M,Z)))})}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(le(new(an(pt.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}onBubbleLocationChange(){this.textInputBubble&&(this.bubbleLocation=this.textInputBubble.getRelativeToSurfaceXY())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const t=this;return(0,yt.asyncExecutePromiseGeneratorFunction)(function*(){t.bubbleVisiblity!==e&&(t.bubbleVisiblity=e,yield jn(),!t.sourceBlock.rendered||t.sourceBlock.isInFlyout||t.sourceBlock.isInsertionMarker()||(e?(t.sourceBlock.isEditable()?t.showEditableBubble():t.showNonEditableBubble(),t.applyColour()):t.hideBubble(),le(new(an(pt.BUBBLE_OPEN))(t.sourceBlock,e,"comment"))))})}getBubble(){return this.textInputBubble}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let t;(t=this.textInputBubble)==null||t.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new il(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect(),this),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.bubbleLocation&&this.textInputBubble.moveDuringDrag(this.bubbleLocation),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange()),this.textInputBubble.addLocationChangeListener(()=>this.onBubbleLocationChange())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=M2/2;return Vt.sum(this.workspaceLocation,new Vt(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};Xl.TYPE=_s.COMMENT,Xl.WEIGHT=3,Or(Xl.TYPE,Xl);var o4=class{getFirstChild(e){if(e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let t,i;return(i=(t=e.getBubble())==null?void 0:t.getWorkspace())!=null?i:null}if(e instanceof Xl&&e.bubbleIsVisible()&&n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()===e){let t,i;return(i=(t=e.getBubble())==null?void 0:t.getEditor())!=null?i:null}return null}getParent(e){return e.getSourceBlock()}getNextSibling(e){return $s(e,1)}getPreviousSibling(e){return $s(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof Mc}},R2=class{getFirstChild(e){return e.view.getCommentBarButtons()[0]}getParent(e){return e.workspace}getNextSibling(e){return as(e,1)}getPreviousSibling(e){return as(e,-1)}isNavigable(e){return e.canBeFocused()}isApplicable(e){return e instanceof o0}},O2=class{getFirstChild(e){return e=e.getTopBlocks(!0),e.length?e[0]:null}getParent(e){return null}getNextSibling(e){return null}getPreviousSibling(e){return null}isNavigable(e){return e.canBeFocused()&&!e.isMutator}isApplicable(e){return e instanceof Sl}},Uh=class{constructor(){this.rules=[new C2,new I2,new A2,new O2,new o4,new R2,new O3,new R3,new k2]}addNavigationPolicy(e){this.rules.push(e)}get(e){return this.rules.find(t=>t.isApplicable(e))}getFirstChild(e){let t;const i=(t=this.get(e))==null?void 0:t.getFirstChild(e);if(!i)return null;let u;return(u=this.get(i))!=null&&u.isNavigable(i)?i:this.getFirstChild(i)||this.getNextSibling(i)}getParent(e){let t;const i=(t=this.get(e))==null?void 0:t.getParent(e);if(!i)return null;let u;return(u=this.get(i))!=null&&u.isNavigable(i)?i:this.getParent(i)}getNextSibling(e){let t;const i=(t=this.get(e))==null?void 0:t.getNextSibling(e);if(!i)return null;let u;return(u=this.get(i))!=null&&u.isNavigable(i)?i:this.getNextSibling(i)}getPreviousSibling(e){let t;const i=(t=this.get(e))==null?void 0:t.getPreviousSibling(e);if(!i)return null;let u;return(u=this.get(i))!=null&&u.isNavigable(i)?i:this.getPreviousSibling(i)}},Ya=class extends Uh{constructor(e){super(),this.rules.push(new M3,new x2),this.rules=this.rules.map(t=>new P1(t,e))}},ga=class{constructor(e,t,i,u,v){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,i=i===void 0?!0:i;const M=t&&i;t&&(this.hScroll=new Cs(e,!0,M,u,v)),i&&(this.vScroll=new Cs(e,!1,M,u,v)),M&&(this.corner_=ht(ut.RECT,{height:Cs.scrollbarThickness,width:Cs.scrollbarThickness,class:"blocklyScrollbarBackground"}),Ti(this.corner_,e.getBubbleCanvas()))}dispose(){on(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,i=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(i=!0)):i=t=!0,t||i){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&i&&this.vScroll.resize(e)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let u;(u=this.corner_)==null||u.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let u;(u=this.corner_)==null||u.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,i){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(i||i===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},jl="sep",z1=class{load(e,t){return e=new i4(0,t.horizontalLayout?"x":"y"),new D1(e,jl)}gapForItem(e,t){let i;return(i=parseInt(String(e.gap)))!=null?i:t}disposeItem(e){}getType(){return jl}};a(Ft.FLYOUT_INFLATER,jl,z1);var Iu=class extends L1{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.reflowWrapper=null,this.contents=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,this.inflaters=new Map,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Sl(e),this.workspace_.setMetricsManager(new zh(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.workspace_.setNavigator(new Ya(this)),this.id=Qt(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=this.MARGIN*3,this.GAP_Y=this.MARGIN*3}createDom(e){return this.svgGroup_=ht(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=ht(ut.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new ga(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(ie(this.svgGroup_,"wheel",this,this.wheel_)),this.boundEvents.push(ie(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:Ei.ComponentWeight.FLYOUT_WEIGHT,capabilities:[Ei.Capability.AUTOHIDEABLE,Ei.Capability.DELETE_AREA,Ei.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)Be(e);this.boundEvents.length=0,this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&on(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const t=e!==this.isVisible();this.visible=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,i,u){let v;(v=this.svgGroup_)==null||v.setAttribute("width",`${e}`);let M;(M=this.svgGroup_)==null||M.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&Bi(this.svgGroup_,"translate("+i+"px,"+u+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(i,u),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){this.isVisible()&&(this.setVisible(!1),this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null))}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=wn(e),e=this.createFlyoutInfo(e),h(this.workspace_),this.setContents(e),this.layout_(e),this.horizontalLayout?this.height_=0:this.width_=0,this.reflow(),this.workspace_.setResizesEnabled(!0),this.reflowWrapper=t=>{t.type!==pt.BLOCK_CHANGE&&t.type!==pt.BLOCK_FIELD_INTERMEDIATE_CHANGE||this.reflow()},this.workspace_.addChangeListener(this.reflowWrapper)}createFlyoutInfo(e){const t=[],i=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const u of e)"custom"in u&&(e=this.getDynamicCategoryContents(u.custom),e=wn(e),t.push(...this.createFlyoutInfo(e))),e=u.kind.toLowerCase(),(e=this.getInflaterForType(e))&&(t.push(e.load(u,this)),(e=e.gapForItem(u,i))&&t.push(new D1(new i4(e,this.horizontalLayout?"x":"y"),jl)));return this.normalizeSeparators(t)}normalizeSeparators(e){for(let t=e.length-1;t>0;t--){const i=e[t].getType().toLowerCase(),u=e[t-1].getType().toLowerCase();i===jl&&u===jl&&e.splice(t-1,1)}return e}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}clearOldBlocks(){this.getContents().forEach(t=>{let i;(i=this.getInflaterForType(t.getType()))==null||i.disposeItem(t)});let e;(e=this.workspace_.getPotentialVariableMap())==null||e.clear()}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()&&!this.getTargetWorkspace().isReadOnly()}createBlock(e){let t=null;n.disable$$module$build$src$core$events$utils();var i=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=To(this.targetWorkspace,i),sn()){for(n.setGroup$$module$build$src$core$events$utils(!0),i=0;i<e.length;i++){const u=e[i];le(new(an(pt.VAR_CREATE))(u))}le(new(an(pt.BLOCK_CREATE))(t))}return this.autoClose&&this.hide(),t}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const i=this.serializeBlock(e);return t.setResizesEnabled(!1),t=Ml(i,t),this.positionNewBlock(e,t),t}serializeBlock(e){return Vi(e)}positionNewBlock(e,t){const i=this.targetWorkspace;var u=i.getOriginOffsetInPixels(),v=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),v=Vt.sum(v,e),u=Vt.difference(v,u),u.scale(1/i.scale),t.moveTo(new Vt(u.x,u.y))}getInflaterForType(e){if(this.inflaters.has(e)){var t;return(t=this.inflaters.get(e))!=null?t:null}return(t=x(Ft.FLYOUT_INFLATER,e))?(t=new t,this.inflaters.set(e,t),t):null}getFocusableElement(){throw Error("Flyouts are not directly focusable.")}getFocusableTree(){throw Error("Flyouts are not directly focusable.")}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!1}getRootFocusableNode(){throw Error("Flyouts are not directly focusable.")}getRestoredFocusableNode(e){throw Error("Flyouts are not directly focusable.")}getNestedTrees(){throw Error("Flyouts are not directly focusable.")}lookUpFocusableNode(e){throw Error("Flyouts are not directly focusable.")}onTreeFocus(e,t){}onTreeBlur(e){throw Error("Flyouts are not directly focusable.")}},Ka=class{constructor(){this.isActive=!1,this.activeClassName="blocklyKeyboardNavigation"}setIsActive(e=!0){this.isActive=e,this.updateActiveVisualization()}getIsActive(){return this.isActive}updateActiveVisualization(){this.isActive?document.body.classList.add(this.activeClassName):document.body.classList.remove(this.activeClassName)}},l4=new Ka,N2=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new Vt(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){}endDrag(e){this.drag(e)}drag(e){if(e=Vt.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Hh=5,F5=6,Gh=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new Vt(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new Vt(0,0)}dispose(){fe(),Fi(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)Be(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new Vt(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(e),z()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=Vt.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Vt.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new N2(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const t=Le();t&&pi(t)&&t.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(t,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,t){return new(R(Ft.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,t)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Ke(e)?this.cancel():(this.gestureHasStarted=!0,Yt(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Qu(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,Pr(),ye(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&q(e,this),this.mouseDownXY=new Vt(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(ie(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(ie(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(ie(document,"pointerup",null,this.handleUp.bind(this),!0)),this.boundEvents.push(ie(document,"pointercancel",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&z())}handleMove(e){this.isDragging()&&ve(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),z())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ve(e))return;if(this.updateFromEvent(e),z(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?(l4.setIsActive(!1),this.dragger.onDragEnd(e,this.currentDragDeltaXY)):this.workspaceDragger?(l4.setIsActive(!1),this.workspaceDragger.endDrag(this.currentDragDeltaXY)):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=ge(e);this.cachedPoints.set(t,this.getTouchPoint(e));var i=Array.from(this.cachedPoints.keys());i.length===2&&(t=this.cachedPoints.get(i[0]),i=this.cachedPoints.get(i[1]),this.startDistance=Vt.distance(t,i),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const t=ge(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),i=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),i=Vt.distance(i,t)/this.startDistance,this.previousScale>0&&this.previousScale<1/0){if(t=i-this.previousScale,t=t>0?t*Hh:t*F5,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const u=this.startWorkspace_,v=Ve(e,u.getParentSvg(),u.getInverseScreenCTM());u.zoom(v.x,v.y,t)}this.previousScale=i,e.preventDefault()}handleTouchEnd(e){e=ge(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),this.cachedPoints.size<2&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new Vt(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(z(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startWorkspace_),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),l4.setIsActive(!1),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment?this.startBlock&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.startBlock):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(t),this.doStart(e)}fireWorkspaceClick(e){le(new(an(pt.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}handleCommentStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(t),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.bringBlockToFront(),this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent)}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.flyout.isBlockCreatable(this.targetBlock)){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours(),n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(an(pt.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),le(e)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){this.fireWorkspaceClick(this.startWorkspace_||this.creatorWorkspace)}bringBlockToFront(){this.targetBlock&&!this.flyout&&(n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.targetBlock),this.targetBlock.bringToFront())}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):(this.targetBlock=e,n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e))}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,t;return(t=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?t:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=Je();for(let t=0,i;i=e[t];t++)if(i.currentGesture_)return!0;return!1}},U1=class{constructor(e,t){this.pattern=e,this.scale=1;let i;this.spacing=(i=t.spacing)!=null?i:0;let u;this.length=(u=t.length)!=null?u:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let v;this.snapToGrid=(v=t.snap)!=null?v:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let i=t-this.length/2,u=t+this.length/2;t*=e,i*=e,u*=e,this.setLineAttributes(this.line1,e,i,u,t,t),this.setLineAttributes(this.line2,e,t,t,i,u)}setLineAttributes(e,t,i,u,v,M){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${i}`),e.setAttribute("y1",`${v}`),e.setAttribute("x2",`${u}`),e.setAttribute("y2",`${M}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}alignXY(e){var t=this.getSpacing();const i=t/2,u=Math.round(Math.round((e.x-i)/t)*t+i);return t=Math.round(Math.round((e.y-i)/t)*t+i),u===e.x&&t===e.y?e:new Vt(u,t)}static createDom(e,t,i,u){e=ht(ut.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},i);let v,M;if(((v=t.length)!=null?v:1)>0&&((M=t.spacing)!=null?M:0)>0){ht(ut.LINE,{stroke:t.colour},e);let Z;(Z=t.length)!=null&&Z&&ht(ut.LINE,{stroke:t.colour},e)}else ht(ut.LINE,{},e);return u&&u.style.setProperty("--blocklyGridPattern",`url(#${e.id})`),e}},L3=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(xu),tn(e,"blocklyBlockCanvas"),e=this.createLayer(Lh),tn(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=ht(ut.SVG,{class:"blocklyBlockDragSurface",xmlns:v1,"xmlns:html":Fa,"xmlns:xlink":rl,version:"1.1"});return e.append(t),ht(ut.G,{},t)}createAnimationLayer(e){const t=ht(ut.SVG,{class:"blocklyAnimationLayer",xmlns:v1,"xmlns:html":Fa,"xmlns:xlink":rl,version:"1.1"});return e.append(t),ht(ut.G,{},t)}appendToAnimationLayer(e){let t;const i=(t=this.dragLayer)==null?void 0:t.getAttribute("transform");if(i){let v;(v=this.animationLayer)==null||v.setAttribute("transform",i)}let u;(u=this.animationLayer)==null||u.appendChild(e.getSvgRoot())}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let i;(i=this.dragLayer)==null||i.setAttribute("transform",e);for(const[,u]of this.layers)u.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot()),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}moveOffDragLayer(e,t){this.append(e,t),e.canBeFocused()&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}append(e,t){this.layers.has(t)||this.createLayer(t),e=e.getSvgRoot();let i;if(((i=this.layers.get(t))==null?void 0:i.lastChild)!==e){let u;(u=this.layers.get(t))==null||u.appendChild(e)}}createLayer(e){const t=this.workspace.getSvgGroup(),i=ht(ut.G,{});let u=!1;const v=[...this.layers].sort((M,Z)=>M[0]-Z[0]);for(const[M,Z]of v)if(e<M){t.insertBefore(i,Z),u=!0;break}return u||t.appendChild(i),this.layers.set(e,i),i}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(xu)}getBubbleLayer(){return this.layers.get(Lh)}},D3=class{constructor(){this.curNode=this.colour=null,this.type="marker"}getCurNode(){return this.curNode}setCurNode(e){this.curNode=e}dispose(){this.curNode=null}getSourceBlockFromNode(e){return e instanceof Yi?e:e instanceof Oi||e instanceof Ao?e.getSourceBlock():null}getSourceBlock(){return this.getSourceBlockFromNode(this.getCurNode())}},H1=class extends D3{constructor(e){super(),this.workspace=e,this.type="cursor",this.potentialNodes=null}next(){var e=this.getCurNode();return e?((e=this.getNextNode(e,t=>{let i;return t instanceof Yi&&!((i=t.outputConnection)!=null&&i.targetBlock())||t instanceof o0},!0))&&this.setCurNode(e),e):null}in(){var e=this.getCurNode();return e?((e=this.getNextNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,t=>{let i;return t instanceof Yi&&!((i=t.outputConnection)!=null&&i.targetBlock())||t instanceof o0},!0))&&this.setCurNode(e),e):null}out(){var e=this.getCurNode();return e?((e=this.getPreviousNode(e,()=>!0,!0))&&this.setCurNode(e),e):null}atEndOfLine(){var e=this.getCurNode();if(!e)return!1;const t=this.getNextNode(e,()=>!0,!0);return e=this.getNextNode(e,i=>{let u;return i instanceof Yi&&!((u=i.outputConnection)!=null&&u.targetBlock())},!0),t===e}getNextNodeImpl(e,t,i=new Set){if(!e||i.has(e))return null;let u=this.workspace.getNavigator().getFirstChild(e)||this.workspace.getNavigator().getNextSibling(e);for(var v=e;v&&!u&&(v=this.workspace.getNavigator().getParent(v),!!v);)u=this.workspace.getNavigator().getNextSibling(v);return t(u)?u:u?(i.add(e),this.getNextNodeImpl(u,t,i)):null}getNextNode(e,t,i){return!e||!i&&this.getLastNode()===e?null:this.getNextNodeImpl(e,t)}getPreviousNodeImpl(e,t,i=new Set){if(!e||i.has(e))return null;const u=this.getRightMostChild(this.workspace.getNavigator().getPreviousSibling(e),e)||this.workspace.getNavigator().getParent(e);return t(u)?u:u?(i.add(e),this.getPreviousNodeImpl(u,t,i)):null}getPreviousNode(e,t,i){return!e||!i&&this.getFirstNode()===e?null:this.getPreviousNodeImpl(e,t)}getRightMostChild(e,t){if(!e)return e;let i=this.workspace.getNavigator().getFirstChild(e);if(!i||i===t)return e;for(e=i;e&&e!==t;e=this.workspace.getNavigator().getNextSibling(i))i=e;return this.getRightMostChild(i,t)}preDelete(e){var t=this.getCurNode();t=t?[t]:[];var i;let u,v;const M=(v=(i=e.previousConnection)==null?void 0:i.targetConnection)!=null?v:(u=e.outputConnection)==null?void 0:u.targetConnection;M&&t.push(M),(i=e.getNextBlock())&&t.push(i),(e=e.getParent())&&t.push(e),t.push(this.workspace),this.potentialNodes=t}postDelete(){const e=this.potentialNodes;if(this.potentialNodes=null,!e)throw Error("must call preDelete first");for(const t of e){let i;if((i=this.getSourceBlockFromNode(t))==null||!i.disposed){this.setCurNode(t);return}}throw Error("no valid nodes in this.potentialNodes")}getCurNode(){return n.getFocusManager$$module$build$src$core$focus_manager().getFocusedNode()}setCurNode(e){n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e)}getFirstNode(){return this.workspace.getNavigator().getFirstChild(this.workspace)}getLastNode(){const e=this.getFirstNode();return this.getPreviousNode(e,()=>!0,!0)}};a(Ft.CURSOR,pl,H1);var G1=class{constructor(e){this.workspace=e,this.markers=new Map,this.cursor=new H1(this.workspace)}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor=e}dispose(){const e=Object.keys(this.markers);for(let t=0,i;i=e[t];t++)this.unregisterMarker(i);this.markers.clear(),this.cursor.dispose()}};G1.LOCAL_MARKER="local_marker_1";var Ja={};Ja.CommentIcon=Xl,Ja.Icon=Mc,Ja.IconType=_s,Ja.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,Ja.WarningIcon=ma,Ja.exceptions=_2,Ja.registry=F1,n.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.getName():null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=n.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let i=e;t===n.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(i=e),e=i.toLowerCase();const u=t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const v=this.db.get(t);return v.has(e)?u+v.get(e):(t=this.getDistinctName(i,t),v.set(e,t.substr(u.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let i=null,u,v;for(;this.dbReverse.has(e+((u=i)!=null?u:""))||this.reservedWords.has(e+((v=i)!=null?v:""));)i=i?i+1:2;let M;return e+=(M=i)!=null?M:"",this.dbReverse.add(e),(t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var Bc=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),qi(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(qi(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Vh,Mo;Vh="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",Mo={CATEGORY_NAME:Vh,DEFAULT_ARG:n.DEFAULT_ARG$$module$build$src$core$procedures},Mo.ObservableProcedureMap=Bc,Mo.allProcedures=go,Mo.findLegalName=n.findLegalName$$module$build$src$core$procedures,Mo.flyoutCategory=nl,Mo.getCallers=ed,Mo.getDefinition=n.getDefinition$$module$build$src$core$procedures,Mo.internalFlyoutCategory=x0,Mo.isNameUsed=dc,Mo.isProcedureBlock=ui,Mo.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,Mo.mutatorOpenListener=J0,Mo.rename=n.rename$$module$build$src$core$procedures;var a4=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return(e.type&this.FIELD)>=1}isHat(e){return(e.type&this.HAT)>=1}isIcon(e){return(e.type&this.ICON)>=1}isSpacer(e){return(e.type&this.SPACER)>=1}isInRowSpacer(e){return(e.type&this.IN_ROW_SPACER)>=1}isSpacerRow(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isInput(e){return(e.type&this.INPUT)>=1}isExternalInput(e){return(e.type&this.EXTERNAL_VALUE_INPUT)>=1}isInlineInput(e){return(e.type&this.INLINE_INPUT)>=1}isStatementInput(e){return(e.type&this.STATEMENT_INPUT)>=1}isPreviousConnection(e){return(e.type&this.PREVIOUS_CONNECTION)>=1}isNextConnection(e){return(e.type&this.NEXT_CONNECTION)>=1}isPreviousOrNextConnection(e){return this.isPreviousConnection(e)||this.isNextConnection(e)}isRoundCorner(e){return(e.type&this.LEFT_ROUND_CORNER)>=1||(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.LEFT_ROUND_CORNER)>=1}isRightRoundedCorner(e){return this.isRoundCorner(e)&&(e.type&this.RIGHT_ROUND_CORNER)>=1}isLeftSquareCorner(e){return(e.type&this.LEFT_SQUARE_CORNER)>=1}isRightSquareCorner(e){return(e.type&this.RIGHT_SQUARE_CORNER)>=1}isCorner(e){return(e.type&this.CORNER)>=1}isJaggedEdge(e){return(e.type&this.JAGGED_EDGE)>=1}isRow(e){return(e.type&this.ROW)>=1}isBetweenRowSpacer(e){return(e.type&this.BETWEEN_ROW_SPACER)>=1}isTopRow(e){return(e.type&this.TOP_ROW)>=1}isBottomRow(e){return(e.type&this.BOTTOM_ROW)>=1}isTopOrBottomRow(e){return this.isTopRow(e)||this.isBottomRow(e)}isInputRow(e){return(e.type&this.INPUT_ROW)>=1}},We=new a4,$a=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=We.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Mu=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=We.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;e>=0;e--){const t=this.elements[e];if(We.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(We.isInRowSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;e>=0;e--){const t=this.elements[e];if(We.isInRowSpacer(t))return t}return null}},r=class extends Mu{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=We.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,i=0;for(let u=0;u<this.elements.length;u++){const v=this.elements[u];t+=v.width,We.isSpacer(v)||(We.isNextConnection(v)?i=Math.max(i,v.height):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},l=class extends $a{constructor(e,t){super(e),this.connectionModel=t,this.type|=We.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},c=class extends l{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=We.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},p=class extends c{constructor(e,t){super(e,t),this.height=0,this.type|=We.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},T=class extends $a{constructor(e,t,i){super(e),this.field=t,this.parentInput=i,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=We.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},A=class extends $a{constructor(e){super(e),this.type|=We.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},X=class extends $a{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.type|=We.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},de=class extends $a{constructor(e,t){super(e),this.type|=We.SPACER|We.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Ge=class extends c{constructor(e,t){super(e,t),this.type|=We.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},gt=class extends Mu{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=We.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const i=this.elements[t];this.width+=i.width,We.isInput(i)&&(We.isStatementInput(i)?e+=i.connectedBlockWidth:We.isExternalInput(i)&&i.connectedBlockWidth!==0&&(e+=i.connectedBlockWidth-i.connectionWidth)),We.isSpacer(i)||(this.height=Math.max(this.height,i.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},zt=class extends $a{constructor(e){super(e),this.type|=We.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},Xt=class extends l{constructor(e,t){super(e,t),this.type|=We.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},wt=class extends l{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=We.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},Mt=class extends l{constructor(e,t){super(e,t),this.type|=We.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},xn=class extends $a{constructor(e,t){super(e),this.type=(t&&t!=="left"?We.RIGHT_ROUND_CORNER:We.LEFT_ROUND_CORNER)|We.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},nr=class extends Mu{constructor(e,t,i){super(e),this.height=t,this.width=i,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type|=We.SPACER|We.BETWEEN_ROW_SPACER,this.elements=[new de(this.constants_,i)]}measure(){}},Si=class extends $a{constructor(e,t){super(e),this.type=(t&&t!=="left"?We.RIGHT_SQUARE_CORNER:We.LEFT_SQUARE_CORNER)|We.CORNER,this.width=this.height=this.constants_.NO_PADDING}},ot=class extends c{constructor(e,t){super(e,t),this.type|=We.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},je=class extends Mu{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=We.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,i=e.getPreviousBlock();return!!e.outputConnection||t||(i?i.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,i=0;for(let u=0;u<this.elements.length;u++){const v=this.elements[u];t+=v.width,We.isSpacer(v)||(We.isHat(v)?i=Math.max(i,v.ascenderHeight):e=Math.max(e,v.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},mt=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Ii(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const i in t)this.blockStyles[i]=this.validatedBlockStyle_(t[i]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=F("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=Ai(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Ai(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Ai(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return no("#fff",e,.6)||e}generateTertiaryColour_(e){return no("#fff",e,.3)||e}dispose(){this.embossFilter&&on(this.embossFilter),this.disabledPattern&&on(this.disabledPattern),this.debugFilter&&on(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,i=g([Ln(t,e/4),Ln(-t*2,e/2),Ln(t,e/4)]);return{height:e,width:t,path:i}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,i=tl("c",[Ln(30,-e),Ln(70,-e),Ln(t,0)]);return{height:e*.75,width:t,path:i}}makePuzzleTab(){function e(M){M=M?-1:1;const Z=-M;var Ie=i/2;const Lt=Ie+2.5,zn=Ie+.5,Ws=Ln(-t,M*Ie);return Ie=Ln(t,M*Ie),tl("c",[Ln(0,M*Lt),Ln(-t,Z*zn),Ws])+tl("s",[Ln(t,Z*2.5),Ie])}const t=this.TAB_WIDTH,i=this.TAB_HEIGHT,u=e(!0),v=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:i,pathDown:v,pathUp:u}}makeNotch(){function e(Z){return g([Ln(Z*u,i),Ln(Z*3,0),Ln(Z*u,-i)])}const t=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,u=(t-3)/2,v=e(1),M=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:i,pathLeft:v,pathRight:M}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=$("a","0 0,0",e,Ln(-e,e)),i=$("a","0 0,0",e,Ln(e,e));return{width:e,height:e,pathTop:t,pathBottom:i}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=Ii(0,e)+$("a","0 0,1",e,Ln(e,-e)),i=$("a","0 0,1",e,Ln(e,e)),u=$("a","0 0,1",e,Ln(-e,-e)),v=$("a","0 0,1",e,Ln(-e,e));return{topLeft:t,topRight:i,bottomRight:v,bottomLeft:u,rightHeight:e}}shapeFor(e){switch(e.type){case Tn.INPUT_VALUE:case Tn.OUTPUT_VALUE:return this.PUZZLE_TAB;case Tn.PREVIOUS_STATEMENT:case Tn.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,i,u){this.injectCSS_(t,i),this.defs=ht(ut.DEFS,{},e),e=ht(ut.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),ht(ut.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=ht(ut.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),ht(ut.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),ht(ut.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),ht(ut.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=ht(ut.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),ht(ut.RECT,{width:10,height:10,fill:"#aaa"},e),ht(ut.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter(),u&&(u.style.setProperty("--blocklyEmbossFilter",`url(#${this.embossFilterId})`),u.style.setProperty("--blocklyDisabledPattern",`url(#${this.disabledPatternId})`),u.style.setProperty("--blocklyDebugFilter",`url(#${this.debugFilterId})`))}createDebugFilter(){if(!this.debugFilter){const e=ht(ut.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=ht(ut.FECOMPONENTTRANSFER,{result:"outBlur"},e);ht(ut.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),ht(ut.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),ht(ut.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const i=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=i:(t=document.createElement("style"),t.id=e,e=document.createTextNode(i),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect,`,`${e} .blocklyEditableField>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableField:not(.blocklyEditing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Ht=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Ii(e.xPos,this.info_.startY);for(let i=0,u;u=t[i];i++)We.isLeftRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:We.isRightRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:We.isPreviousConnection(u)?this.outlinePath_+=u.shape.pathLeft:We.isHat(u)?this.outlinePath_+=this.constants_.START_HAT.path:We.isSpacer(u)&&(this.outlinePath_+=f("h",u.width));this.outlinePath_+=f("v",e.height-e.ascenderHeight)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+f("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const i=qo(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=f("H",t.xPos+t.width)+i+f("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var i=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+f("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var u=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=f("H",i)+t+f("v",u)+this.constants_.INSIDE_CORNERS.pathBottom+f("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=f("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let i=0,u="";for(let v=t.length-1,M;M=t[v];v--)We.isNextConnection(M)?u+=M.shape.pathRight:We.isLeftSquareCorner(M)?u+=f("H",e.xPos):We.isLeftRoundedCorner(M)?u+=this.constants_.OUTSIDE_CORNERS.bottomLeft:We.isRightRoundedCorner(M)?(u+=this.constants_.OUTSIDE_CORNERS.bottomRight,i=this.constants_.OUTSIDE_CORNERS.rightHeight):We.isSpacer(M)&&(u+=f("h",M.width*-1));this.outlinePath_+=f("V",e.baseline-i),this.outlinePath_+=u}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=qo(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=f("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let i=0,u;u=t.elements[i];i++)We.isInlineInput(u)?this.drawInlineInput_(u):(We.isIcon(u)||We.isField(u))&&this.layoutField_(u)}layoutField_(e){const t=e.centerline-e.height/2;let i=e.xPos;var u="";this.info_.RTL&&(i=-(i+e.width),e.flipRtl&&(i+=e.width,u="scale(-1 1)")),We.isIcon(e)?(u=e.icon,u.setOffsetInBlock(new Vt(i,t)),this.info_.isInsertionMarker&&u.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+i+","+t+")"+u),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,i=e.height,u=e.connectionOffsetY,v=e.connectionHeight+u;this.inlinePath_+=ro(e.xPos+e.connectionWidth,e.centerline-i/2)+f("v",u)+e.shape.pathDown+f("v",i-v)+f("h",t-e.connectionWidth)+f("v",-i)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let i=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(i*=-1),e.connectionModel.setOffsetInBlock(i,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let i=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(i*=-1),t.connectionModel.setOffsetInBlock(i,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let i=e.xPos+e.width;this.info_.RTL&&(i*=-1),t.connectionModel.setOffsetInBlock(i,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,i=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-i:i,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements){if(!(t instanceof l))continue;const i=this.drawConnectionHighlightPath(t);i&&(i.style.display=t.highlighted?"":"none")}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===Tn.INPUT_VALUE||t.type===Tn.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const i=t.getSourceBlock();let u,v;return(v=(u=i.pathObject).addConnectionHighlight)==null?void 0:v.call(u,t,e,t.getOffsetInBlock(),i.RTL)}getExpressionConnectionHighlightPath(e){let t="";return qo(e.shape)?t=e.shape.pathDown(e.height):Us(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Ii(0,-e)+f("v",e)+t+f("v",e)}getStatementConnectionHighlightPath(e){if(!lh(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Ii(-t,0)+f("h",t)+e.shape.pathLeft+f("h",t)}},qn=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new wt(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new je(this.constants_),this.bottomRow=new r(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new gt(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let i=0,u;u=t[i];i++){const v=new X(this.constants_,u);this.isCollapsed&&!u.isShownWhenCollapsed()||e.elements.push(v)}t=void 0;for(let i=0,u;u=this.block_.inputList[i];i++)if(u.isVisible()){this.shouldStartNewRow_(u,t)&&(this.rows.push(e),e=new gt(this.constants_),this.inputRows.push(e));for(let v=0,M;M=u.fieldRow[v];v++)e.elements.push(new T(this.constants_,M,u));this.addInput_(u,e),t=u}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new zt(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let i=this.topRow.hasLeftSquareCorner(this.block_)?Si:xn;this.topRow.elements.push(new i(this.constants_)),t?(e=new A(this.constants_),this.topRow.elements.push(e)):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Mt(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof wl&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,i=this.topRow.hasRightSquareCorner(this.block_)?Si:xn,this.topRow.elements.push(new i(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof wl?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Si(this.constants_)):this.bottomRow.elements.push(new xn(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new Xt(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Si(this.constants_,"right")):this.bottomRow.elements.push(new xn(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Ge(this.constants_,e)),t.hasInlineInput=!0):e instanceof wl?(t.elements.push(new ot(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new p(this.constants_,e)),t.hasExternalInput=!0):(e instanceof sl||e instanceof ql)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof ql||e instanceof wl||t instanceof wl?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof sl||t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const i=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new de(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(let u=0;u<i.length-1;u++){t.elements.push(i[u]);const v=this.getInRowSpacing_(i[u],i[u+1]);t.elements.push(new de(this.constants_,v))}t.elements.push(i[i.length-1]),t.endsWithElemSpacer()&&t.elements.push(new de(this.constants_,this.getInRowSpacing_(i[i.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&We.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&We.isInput(e)&&!t){if(We.isExternalInput(e))return this.constants_.NO_PADDING;if(We.isInlineInput(e))return this.constants_.LARGE_PADDING;if(We.isStatementInput(e))return this.constants_.NO_PADDING}return e&&We.isLeftSquareCorner(e)&&t&&(We.isPreviousConnection(t)||We.isNextConnection(t))?t.notchOffset:e&&We.isLeftRoundedCorner(e)&&t&&(We.isPreviousConnection(t)||We.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&We.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,i=0;for(let v=0,M;M=this.rows[v];v++){if(M.measure(),t=Math.max(t,M.width),M.hasStatement){var u=M.getLastInput();let Z,Ie;u=M.width-((Ie=(Z=u)==null?void 0:Z.width)!=null?Ie:0),e=Math.max(e,u)}i=Math.max(i,M.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let v=0,M;M=this.rows[v];v++)M.hasStatement&&(M.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,i),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,i;i=this.rows[t];t++)if(i.hasStatement)this.alignStatementRow_(i);else{var e=i.width;e=this.getDesiredRowWidth_(i)-e,e>0&&this.addAlignmentPadding_(i,e),We.isTopOrBottomRow(i)&&(i.widthWithConnectedBlocks=i.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const i=e.getFirstSpacer(),u=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===n.Align$$module$build$src$core$inputs$align.LEFT&&u)u.width+=t;else if(e.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&i&&u)i.width+=t/2,u.width+=t/2;else if(e.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&i)i.width+=t;else if(u)u.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var i=e.width-t.width,u=this.statementEdge;i=u-i,i>0&&this.addAlignmentPadding_(e,i),i=e.width,u=this.getDesiredRowWidth_(e),t.width+=u-i,t.height=Math.max(t.height,e.height),e.width+=u-i,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var i=this.getSpacerRowHeight_(e,t);const u=this.getSpacerRowWidth_(e,t);return i=new nr(this.constants_,i,u),e.hasStatement&&(i.followsStatement=!0),t.hasStatement&&(i.precedesStatement=!0),i}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return We.isSpacer(t)?e.yPos+t.height/2:We.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,We.isNextConnection(t)?e+t.height/2:e-t.height/2):We.isTopRow(e)?We.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let i=0,u;u=e.elements[i];i++)We.isSpacer(u)&&(u.height=e.height),u.xPos=t,u.centerline=this.getElemCenterline_(e,u),t+=u.width}finalize_(){let e=0,t=0;for(let i=0,u;u=this.rows[i];i++)u.yPos=t,u.xPos=this.startX,t+=u.height,e=Math.max(e,u.widthWithConnectedBlocks),this.recordElemPositions_(u);if(this.outputConnection&&this.block_.nextConnection){const i=this.block_.nextConnection.targetBlock();i&&(e=Math.max(e,i.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const i of this.rows)for(const u of i.elements)if(u instanceof l&&u.connectionModel===e)return u;return null}},hi=class{constructor(e,t,i){this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=i,this.style=t,this.svgRoot=e,this.svgPath=ht(ut.PATH,{class:"blocklyPath"},this.svgRoot),this.setClass_("blocklyBlock",!0)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?tn(this.svgRoot,e):Jn(this.svgRoot,e))}updateHighlighted(e){e?this.setClass_("blocklyHighlighted",!0):this.setClass_("blocklyHighlighted",!1)}updateShadow_(e){e?(this.setClass_("blocklyShadow",!0),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)):this.setClass_("blocklyShadow",!1)}updateDisabled_(e){this.setClass_("blocklyDisabled",e),this.setClass_("blocklyDisabledPattern",e)}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,i,u){return i=`translate(${i.x}, ${i.y})`+(u?" scale(-1 1)":""),(u=this.connectionHighlights.get(e))?(u.setAttribute("d",t),u.setAttribute("transform",i),u):(t=ht(ut.PATH,{id:e.id,class:"blocklyHighlightedConnectionPath",style:"display: none;",d:t,transform:i},this.svgRoot),this.connectionHighlights.set(e,t),t)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(on(t),this.connectionHighlights.delete(e))}},Bn=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t,i){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName(),i)}refreshDom(e,t,i){const u=this.getConstants();u.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=u.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t,i)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new mt}makeRenderInfo_(e){return new qn(this,e)}makeDrawer_(e,t){return new Ht(e,t)}makePathObject(e,t){return new hi(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,i){return!!ci.getConnectionForOrphanedConnection(e,i===Tn.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},_n={};_n.BottomRow=r,_n.Connection=l,_n.ConstantProvider=mt,_n.Drawer=Ht,_n.ExternalValueInput=p,_n.Field=T,_n.Hat=A,_n.Icon=X,_n.InRowSpacer=de,_n.InlineInput=Ge,_n.InputConnection=c,_n.InputRow=gt,_n.JaggedEdge=zt,_n.Measurable=$a,_n.NextConnection=Xt,_n.OutputConnection=wt,_n.PathObject=hi,_n.PreviousConnection=Mt,_n.RenderInfo=qn,_n.Renderer=Bn,_n.RoundCorner=xn,_n.Row=Mu,_n.SpacerRow=nr,_n.SquareCorner=Si,_n.StatementInput=ot,_n.TopRow=je,_n.Types=We,_n.init=Ui,_n.register=Hl,_n.unregister=Cr;var Zr=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&Jn(e,t),(t=this.theme.getClassName())&&tn(e,t));for(let i=0,u;u=this.subscribedWorkspaces[i];i++)u.refreshTheme();for(const[i,u]of this.componentDB)for(const v of u){e=v.element,t=v.propertyName;const M=this.theme&&this.theme.getComponentStyle(i);e.style.setProperty(t,M||"")}for(const i of this.subscribedWorkspaces)i.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!Dt(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,i){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:i}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(i,t||"")}unsubscribe(e){if(e)for(const[t,i]of this.componentDB){for(let u=i.length-1;u>=0;u--)i[u].element===e&&i.splice(u,1);i.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},$i="VARIABLE_DYNAMIC",ol={CATEGORY_NAME:$i};ol.flyoutCategory=t1,ol.flyoutCategoryBlocks=cu,ol.internalFlyoutCategory=Z0,ol.onCreateVariableButtonClick_Colour=Da,ol.onCreateVariableButtonClick_Number=fc,ol.onCreateVariableButtonClick_String=Os;var B3=class{canConnect(e,t,i,u){return this.canConnectWithReason(e,t,i,u)===ci.CAN_CONNECT}canConnectWithReason(e,t,i,u){const v=this.doSafetyChecks(e,t);return v!==ci.CAN_CONNECT?v:this.doTypeChecks(e,t)?i&&!this.doDragChecks(e,t,u||0)?ci.REASON_DRAG_CHECKS_FAILED:ci.CAN_CONNECT:ci.REASON_CHECKS_FAILED}getErrorMessage(e,t,i){switch(e){case ci.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case ci.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case ci.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case ci.REASON_TARGET_NULL:return"Target connection is null.";case ci.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+i.getCheck());case ci.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case ci.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case ci.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return ci.REASON_TARGET_NULL;let i,u,v;return e.isSuperior()?(i=e.getSourceBlock(),u=t.getSourceBlock(),v=t):(u=e.getSourceBlock(),i=t.getSourceBlock(),v=e,e=t),i===u?ci.REASON_SELF_CONNECTION:v.type!==Nc[e.type]?ci.REASON_WRONG_TYPE:i.workspace!==u.workspace?ci.REASON_DIFFERENT_WORKSPACES:i.isShadow()&&!u.isShadow()?ci.REASON_SHADOW_PARENT:v.type===Tn.OUTPUT_VALUE&&u.previousConnection&&u.previousConnection.isConnected()||v.type===Tn.PREVIOUS_STATEMENT&&u.outputConnection&&u.outputConnection.isConnected()?ci.REASON_PREVIOUS_AND_OUTPUT:ci.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let i=0;i<e.length;i++)if(t.includes(e[i]))return!0;return!1}doDragChecks(e,t,i){if(e.distanceFrom(t)>i||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case Tn.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case Tn.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Tn.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Tn.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return!vc.includes(t)}canConnectToPrevious_(e,t){return e.targetConnection||vc.includes(t)?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};a(Ft.CONNECTION_CHECKER,pl,B3);var u4=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new Bc,this.readOnly=!1,this.potentialVariableMap=null,this.id=Qt(),xt(this),this.options=e||new N0({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(R(Ft.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new(this.getVariableMapClass())(this),this.setIsReadOnly(this.options.readOnly)}dispose(){this.listeners.length=0,this.clear(),St(this)}sortObjects(e,t){const i=u=>({getBoundingRectangle:()=>{const v=u.getRelativeToSurfaceXY();return new $r(v.y,v.y,v.x,v.x)},moveBy:()=>{}});return this.sortByOrigin(i(e),i(t))}sortByOrigin(e,t){const i=Math.sin(m0(u4.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getBoundingRectangle().getOrigin(),t=t.getBoundingRectangle().getOrigin(),e.y+i*e.x-(t.y+i*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Dt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&t.length>1&&t.sort(this.sortObjects.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Dt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&e.length>1&&e.sort(this.sortObjects.bind(this)),e.filter(i=>!i.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Dt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&t.length>1&&t.sort(this.sortObjects.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let i=0;i<t.length;i++)e.push(...t[i].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(i=>!i.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=n.getGroup$$module$build$src$core$events$utils();for(e||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(e),this.isFlyout||this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){Pn("Blockly.Workspace.renameVariableById","v12","v13","Blockly.Workspace.getVariableMap().renameVariable"),(e=this.variableMap.getVariableById(e))&&this.variableMap.renameVariable(e,t)}createVariable(e,t,i){return Pn("Blockly.Workspace.createVariable","v12","v13","Blockly.Workspace.getVariableMap().createVariable"),this.variableMap.createVariable(e,t??void 0,i??void 0)}getVariableUsesById(e){return Pn("Blockly.Workspace.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),ki(this,e)}deleteVariableById(e){Pn("Blockly.Workspace.deleteVariableById","v12","v13","Blockly.Workspace.getVariableMap().deleteVariable");const t=this.variableMap.getVariableById(e);t?n.deleteVariable$$module$build$src$core$variables(this,t):console.warn(`Can't delete non-existent variable: ${e}`)}getVariable(e,t){return Pn("Blockly.Workspace.getVariable","v12","v13","Blockly.Workspace.getVariableMap().getVariable"),this.variableMap.getVariable(e,t)}getVariableById(e){return Pn("Blockly.Workspace.getVariableById","v12","v13","Blockly.Workspace.getVariableMap().getVariableById"),this.variableMap.getVariableById(e)}getVariablesOfType(e){return Pn("Blockly.Workspace.getVariablesOfType","v12","v13","Blockly.Workspace.getVariableMap().getVariablesOfType"),this.variableMap.getVariablesOfType(e??"")}getAllVariables(){return Pn("Blockly.Workspace.getAllVariables","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables()}getAllVariableNames(){return Pn("Blockly.Workspace.getAllVariableNames","v12","v13","Blockly.Workspace.getVariableMap().getAllVariables"),this.variableMap.getAllVariables().map(e=>e.getName())}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const i in e){if(e[i]>this.remainingCapacityOfType(i))return!1;t+=e[i]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,i=e?this.undoStack_:this.redoStack_;const u=t.pop();if(u){for(var v=[u];t.length&&u.group&&u.group===t[t.length-1].group;){const M=t.pop();M&&v.push(M)}for(t=0;t<v.length;t++)i.push(v[t]);n.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(i=0;i<v.length;i++)v[i].run(e)}finally{n.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Ot()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Dt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&this.MAX_UNDO>=0;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let i=0;i<t.length;i++)if(!t[i].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new(this.getVariableMapClass())(this,!0)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return et(e)}static getAll(){return Je()}getVariableMapClass(){const e=R(Ft.VARIABLE_MAP,this.options,!0);if(!e)throw Error("No variable map is registered.");return e}isReadOnly(){return this.readOnly}setIsReadOnly(e){this.readOnly=e,this.options.readOnly=e}};u4.SCAN_ANGLE=3;var gg=100,af=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var i=new globalThis.Audio}catch{return}for(let v=0;v<e.length;v++){const M=e[v],Z=M.match(/\.(\w+)$/);if(Z&&i.canPlayType("audio/"+Z[1])){var u=new globalThis.Audio(M);break}}u&&this.sounds.set(t,u)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),p1||W4)break}}play(e,t){if(!this.muted){var i=this.sounds.get(e);i?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<gg||(this.lastSound=e,i=p1||Sd?i:i.cloneNode(),i.volume=t===void 0?1:t,i.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},$g=20,Sl=class extends u4{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardMoveInProgress=this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.navigator=new Uh,this.metricsManager=new(R(Ft.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Sl.setTopLevelWorkspaceMetrics,this.componentManager=new Ei,this.connectionDBList=ja.init(this.connectionChecker),this.audioManager=new af(e.parentWorkspace),this.grid=this.options.gridPattern?new U1(this.options.gridPattern,e.gridOptions):null,this.markerManager=new G1(this),ks&&Kn&&this.registerToolboxCategoryCallback(xh,Kn),ol&&Z0&&this.registerToolboxCategoryCallback($i,Z0),Mo&&x0&&(this.registerToolboxCategoryCallback(Vh,x0),this.addChangeListener(J0)),this.addChangeListener(this.variableChangeCallback.bind(this)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new Zr(this,this.options.theme||Ph),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Ui(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new _r(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}getMarker(e){return this.markerManager.getMarker(e)}getCursor(){return this.markerManager.getCursor()}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Ph),this.themeManager_.setTheme(e)}refreshTheme(){if(this.svgGroup_){var e=this.options.parentWorkspace===null;this.renderer.refreshDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0)}this.updateBlockStyles(this.getAllBlocks(!1).filter(t=>!!t.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0),e=new(an(pt.THEME_CHANGE))(this.getTheme().name,this.id),le(e)}updateBlockStyles(e){for(let t=0,i;i=e[t];t++){const u=i.getStyleName();u&&i.setStyle(u)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let t=0,i=0,u=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(u=this.scale);do{const v=Y(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(u=1),t+=v.x*u,i+=v.y*u,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Vt(t,i)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new _r(e.width,e.height)}getOriginOffsetInPixels(){return j(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=ht(ut.G,{class:"blocklyWorkspace",id:this.id}),t&&Ur(this.svgGroup_,Ts.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),e&&(this.svgBackground_=ht(ut.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="var(--blocklyGridPattern)":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new L3(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(ie(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),ie(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(R(Ft.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=R(Ft.CURSOR,this.options))&&this.markerManager.setCursor(new e(this)),e=this.options.parentWorkspace===null,this.renderer.createDom(this.svgGroup_,this.getTheme(),e?this.getInjectionDiv():void 0),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!!this.injectionDiv||this.isFlyout),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&on(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&on(e.parentNode)}this.resizeHandlerWrapper&&(Be(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null),n.getFocusManager$$module$build$src$core$focus_manager().isRegistered(this)&&n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}addTrashcan(){this.trashcan=Sl.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new la(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}copyOptionsForFlyout(){return new N0({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,plugins:this.options.plugins,modalInputs:this.options.modalInputs,move:{scrollbars:!0}})}addFlyout(e){const t=this.copyOptionsForFlyout();return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(R(Ft.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(R(Ft.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox?this.toolbox.position():this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(Ei.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),i=[];for(let u=0,v;v=e[u];u++){v.position(t,i);const M=v.getBoundingRectangle();M&&i.push(M)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=J();Vt.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const i=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,i.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,i.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(sn()){var e=this.scale,t=-this.scrollY,i=-this.scrollX;if(!(e===this.oldScale&&Math.abs(t-this.oldTop)<1&&Math.abs(i-this.oldLeft)<1)){var u=new(an(pt.VIEWPORT_CHANGE))(t,i,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=i,le(u)}}}translate(e,t){let i;(i=this.layerManager)==null||i.translateLayers(new Vt(e,t),this.scale);let u;(u=this.grid)==null||u.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let t=e.length-1;t>=0;t--)e[t].queueRender();this.getTopBlocks().flatMap(t=>t.getDescendants(!1)).filter(t=>t.isInsertionMarker()).forEach(t=>t.queueRender())}highlightBlock(e,t){if(t===void 0){for(let i=0,u;u=this.highlightedBlocks[i];i++)u.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):Dt(this.highlightedBlocks,e),e.setHighlighted(t))}variableChangeCallback(e){switch(e.type){case pt.VAR_CREATE:case pt.VAR_DELETE:case pt.VAR_RENAME:case pt.VAR_TYPE_CHANGE:this.refreshToolboxSelection()}}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}recordDragTargets(){const e=this.componentManager.getComponents(Ei.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,i;i=e[t];t++){const u=i.getClientRect();u&&this.dragTargetAreas.push({component:i,clientRect:u})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,i;i=this.dragTargetAreas[t];t++)if(i.clientRect.contains(e.clientX,e.clientY))return i.component;return null}onMouseDown(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){Eo(this,e,t)}moveDrag(e){return Vo(this,e)}setKeyboardMoveInProgress(e){this.keyboardMoveInProgress=e}isDragging(){return this.keyboardMoveInProgress||this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(Gh.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,i=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||i){var u=st(e);if(xd)var v=e.metaKey;t&&(e.ctrlKey||v||!i)?(u=-u.y/50,t=Ve(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,u)):(t=this.scrollX-u.x,i=this.scrollY-u.y,e.shiftKey&&!u.x&&(t=this.scrollX-u.y,i=this.scrollY),this.scroll(t,i)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new $r(0,0,0,0);const t=e[0].getBoundingRectangle();for(let u=1;u<e.length;u++){var i=e[u];i.isInsertionMarker&&i.isInsertionMarker()||(i=i.getBoundingRectangle(),i.top<t.top&&(t.top=i.top),i.bottom>t.bottom&&(t.bottom=i.bottom),i.left<t.left&&(t.left=i.left),i.right>t.right&&(t.right=i.right))}return t}cleanUp(){this.setResizesEnabled(!1);const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=this.getTopBlocks(!0),i=t.filter(Z=>Z.isMovable());const u=t.filter(Z=>!Z.isMovable()).map(Z=>Z.getBoundingRectangle());t=function(Z){for(const Ie of u)if(Z.intersects(Ie))return Ie;return null};var v=0;const M=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const Z of i){for(i=Z.getBoundingRectangle(),Z.moveBy(-i.left,v-i.top,["cleanup"]),Z.snapToGrid(),i=Z.getBoundingRectangle(),v=t(i);v!=null;)v=v.top+v.getHeight()+M,Z.moveBy(0,v-i.top,["cleanup"]),Z.snapToGrid(),i=Z.getBoundingRectangle(),v=t(i);v=Z.getRelativeToSurfaceXY().y+Z.getHeightWidth().height+M}n.setGroup$$module$build$src$core$events$utils(e),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.isReadOnly()&&!this.isFlyout){var t=wr.registry.getContextMenuOptions({workspace:this,focusedNode:this},e);this.configureContextMenu&&this.configureContextMenu(t,e);var i=e instanceof PointerEvent?new Vt(e.clientX,e.clientY):He(this,new Vt(5,5));q0(e,t,this.RTL,this,i)}}updateToolbox(e){if(e=Rt(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(kn(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(oe(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,i){i=Math.pow(this.options.zoomOptions.scaleSpeed,i);const u=this.scale*i;if(this.scale!==u){u>this.options.zoomOptions.maxScale?i=this.options.zoomOptions.maxScale/this.scale:u<this.options.zoomOptions.minScale&&(i=this.options.zoomOptions.minScale/this.scale);var v=this.getCanvas().getCTM(),M=this.getParentSvg().createSVGPoint();M.x=e,M.y=t,M=M.matrixTransform(v.inverse()),e=M.x,t=M.y,v=v.translate(e*(1-i),t*(1-i)).scale(i),this.scrollX=v.e,this.scrollY=v.f,this.setScale(u)}}zoomCenter(e){var t=this.getMetrics();let i;this.flyout?(i=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(i=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(i,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var i=this.getBlocksBoundingBox(),u=$g*2,v=i.right-i.left+u;if(i=i.bottom-i.top+u,v){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),i+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),v+=this.flyout.getWidth()/this.scale)),t/=v,e/=i,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){tn(this.getCanvas(),"blocklyCanvasTransitioning"),tn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){Jn(this.getCanvas(),"blocklyCanvasTransitioning"),Jn(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,i=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,i=-i-e.scrollTop,this.scroll(t,i)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var i=e?this.getBlockById(e):null;if(i){e=i.getRelativeToSurfaceXY(),i=t?{height:i.height,width:i.width}:i.getHeightWidth();var u=this.scale;t=(e.x+(this.RTL?-1:1)*i.width/2)*u,e=(e.y+i.height/2)*u,i=this.getMetrics(),this.scroll(-(t-i.viewWidth/2),-(e-i.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.scale}getAbsoluteScale(){const e=i=>{if(i.isFlyout){let u;const v=(u=i.targetWorkspace)==null?void 0:u.getFlyout();if(v instanceof Iu)return v.getFlyoutScale()}return i.getScale()},t=(i,u)=>i.options.parentWorkspace&&i.options.parentWorkspace.getSvgGroup().contains(i.getSvgGroup())?t(i.options.parentWorkspace,u*e(i)):u*e(i);return t(this,1)}scroll(e,t){this.hideChaff(!0);const i=this.getMetrics();e=Math.min(e,-i.scrollLeft),t=Math.min(t,-i.scrollTop);const u=i.scrollTop+Math.max(0,i.scrollHeight-i.viewHeight);e=Math.max(e,-(i.scrollLeft+Math.max(0,i.scrollWidth-i.viewWidth))),t=Math.max(t,-u),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+i.scrollLeft),-(t+i.scrollTop),!1),e+=i.absoluteLeft,t+=i.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getTopComments(e=!1){return super.getTopComments(e)}getCommentById(e){return super.getCommentById(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Dt(this.topBoundedElements,e)}getTopBoundedElements(e=!1){const t=[].concat(this.topBoundedElements);return e&&t.sort(this.sortByOrigin.bind(this)),t}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){if(this.keyboardMoveInProgress)return e.preventDefault(),e.stopPropagation(),null;const t=e.type==="pointerdown";let i;return t&&((i=this.currentGesture_)!=null&&i.hasStarted())&&(console.warn("Tried to start the same gesture twice."),this.currentGesture_.cancel()),!this.currentGesture_&&t&&(this.currentGesture_=new Gh(e,this)),this.currentGesture_}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){bi(),hl(this),Re(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(Ei.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}addClass(e){this.injectionDiv&&tn(this.injectionDiv,e)}removeClass(e){this.injectionDiv&&Jn(this.injectionDiv,e)}setIsReadOnly(e){super.setIsReadOnly(e),e?this.addClass("blocklyReadOnly"):this.removeClass("blocklyReadOnly")}scrollBoundsIntoView(e,t=10){if(!Gh.inProgress()){var i=this.getScale(),u=this.getMetricsManager().getViewMetrics(!0);if(u=new $r(u.top,u.top+u.height,u.left,u.left+u.width),!(e.left>=u.left&&e.top>=u.top&&e.right<=u.right&&e.bottom<=u.bottom)){e=e.clone(),e.top-=t,e.bottom+=t,e.left-=t,e.right+=t;var v=t=0;e.left<u.left?t=this.RTL?Math.min(u.left-e.left,u.right-e.right):u.left-e.left:e.right>u.right&&(t=this.RTL?u.right-e.right:Math.max(u.right-e.right,u.left-e.left)),e.top<u.top?v=u.top-e.top:e.bottom>u.bottom&&(v=Math.max(u.bottom-e.bottom,u.top-e.top)),this.scroll(this.scrollX+t*i,this.scrollY+v*i)}}}getFocusableElement(){return this.svgGroup_}getFocusableTree(){return this.isMutator&&this.options.parentWorkspace||this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(e)return null;let t;if(e=(t=this.targetWorkspace)==null?void 0:t.getFlyout(),this.isFlyout&&e){let u,v;return(v=(u=e.getContents().find(M=>(M=M.getElement(),ee(M)&&M.canBeFocused())))==null?void 0:u.getElement())!=null?v:null}let i;return(i=this.getTopBlocks(!0)[0])!=null?i:null}getNestedTrees(){const e=this.getAllBlocks().map(i=>i.getIcons()).flat().filter(i=>i instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&i.bubbleIsVisible()).map(i=>{let u;return(u=i.getBubble())==null?void 0:u.getWorkspace()}).filter(i=>!!i),t=this.getFlyout(!0);return t&&e.push(t.getWorkspace()),e}searchForWorkspaceComment(e){for(const t of this.getTopComments())if(t instanceof o0&&t.canBeFocused()&&t.getFocusableElement().id===e)return t}lookUpFocusableNode(e){var t;const i=(t=this.targetWorkspace)==null?void 0:t.getFlyout();if(this.isFlyout&&i){for(var u of i.getContents())if(t=u.getElement(),ee(t)&&t.canBeFocused()&&t.getFocusableElement().id===e)return t}if(u=e.indexOf("_field_"),t=e.indexOf("_connection_"),u!==-1){var v=e.substring(0,u);if(v=this.getBlockById(v)){for(var M of v.getFields())if(M.canBeFocused()&&M.getFocusableElement().id===e)return M}return null}if(t!==-1){if(v=e.substring(0,t),v=this.getBlockById(v)){for(const Ie of v.getConnections_(!0))if(Ie.id===e)return Ie}return null}if(M=Math.max(e.indexOf(vo),e.indexOf(ji),e.indexOf(g2)),M!==-1&&(M=e.substring(0,M),M=this.searchForWorkspaceComment(M))){if(e.indexOf(vo)>-1)return M.getEditorFocusableNode();var Z;return(Z=M.view.getCommentBarButtons().find(Ie=>Ie.getFocusableElement().id.includes(e)))!=null?Z:null}if((Z=this.getAllBlocks(!1).find(Ie=>Ie.getFocusableElement().id===e))||(Z=this.searchForWorkspaceComment(e)))return Z;Z=this.getAllBlocks().map(Ie=>Ie.getIcons()).flat();for(v of Z){if(v.canBeFocused()&&v.getFocusableElement().id===e)return v;if(p0(v)){if((Z=v.getBubble())&&Z.canBeFocused()&&Z.getFocusableElement().id===e)return Z;if(Z instanceof il&&Z.getEditor().getFocusableElement().id===e)return Z.getEditor()}}return null}onTreeFocus(e,t){}onTreeBlur(e){if(this.isFlyout&&this.targetWorkspace&&!n.getFocusManager$$module$build$src$core$focus_manager().ephemeralFocusTaken()){var t=this.targetWorkspace.getToolbox();t&&e===t||Mi(t)&&t.autoHide(!1)}}getNavigator(){return this.navigator}setNavigator(e){this.navigator=e}},c4=class extends sa{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.getWorkspace().id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new c4),t.varId=e.varId,t}},z5=class extends c4{constructor(e){super(e),this.type=pt.VAR_CREATE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new z5),t.varType=e.varType,t.varName=e.varName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t=t.getVariableMap(),e?t.createVariable(this.varName,this.varType,this.varId):(e=t.getVariableById(this.varId))&&t.deleteVariable(e)}};a(Ft.EVENT,pt.VAR_CREATE,z5);var uf=class{constructor(e,t,i,u){this.workspace=e,this.name=t,this.type=i||"",this.id=u||Qt()}getId(){return this.id}getName(){return this.name}setName(e){return this.name=e,this}getType(){return this.type}setType(e){return this.type=e,this}getWorkspace(){return this.workspace}save(){const e={name:this.getName(),id:this.getId()},t=this.getType();return t&&(e.type=t),e}static load(e,t){e=new this(t,e.name,e.type,e.id),t.getVariableMap().addVariable(e),le(new(an(pt.VAR_CREATE))(e))}};a(Ft.VARIABLE_MODEL,pl,uf);var U5=class extends c4{constructor(e){super(e),this.type=pt.VAR_DELETE,e&&(this.varType=e.getType(),this.varName=e.getName())}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new U5),t.varType=e.varType,t.varName=e.varName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t=t.getVariableMap(),e?(e=t.getVariableById(this.varId))&&t.deleteVariable(e):t.createVariable(this.varName,this.varType,this.varId)}};a(Ft.EVENT,pt.VAR_DELETE,U5);var H5=class extends c4{constructor(e,t){super(e),this.type=pt.VAR_RENAME,e&&(this.oldName=e.getName(),this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new H5),t.oldName=e.oldName,t.newName=e.newName,t}run(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");t=t.getVariableMap();const i=t.getVariableById(this.varId);e?i&&t.renameVariable(i,this.newName):i&&t.renameVariable(i,this.oldName)}};a(Ft.EVENT,pt.VAR_RENAME,H5);var cf=class{constructor(e,t=!1){this.workspace=e,this.potentialMap=t,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(const t of e.values())this.deleteVariable(t);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.getName()===t)return e;var i=e.getType();i=this.getVariable(t,i);const u=this.workspace.getAllBlocks(!1);let v="";this.potentialMap||(v=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{i&&i.getId()!==e.getId()?this.renameVariableWithConflict(e,t,i,u):this.renameVariableAndUses(e,t,u)}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(v)}return e}changeVariableType(e,t){const i=e.getType();if(i===t)return e;var u=this.variableMap.get(i);u?.delete(e.getId()),u?.size===0&&this.variableMap.delete(i),e.setType(t);let v;return u=(v=this.variableMap.get(t))!=null?v:new Map,u.set(e.getId(),e),this.variableMap.has(t)||this.variableMap.set(t,u),le(new(an(pt.VAR_TYPE_CHANGE))(e,i,t)),e}renameVariableById(e,t){Pn("VariableMap.renameVariableById","v12","v13","VariableMap.renameVariable");const i=this.getVariableById(e);if(!i)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(i,t)}renameVariableAndUses(e,t,i){for(this.potentialMap||le(new(an(pt.VAR_RENAME))(e,t)),e.setName(t),t=0;t<i.length;t++)i[t].updateVarName(e)}renameVariableWithConflict(e,t,i,u){const v=e.getType(),M=i.getName();for(t!==M&&this.renameVariableAndUses(i,t,u),t=0;t<u.length;t++)u[t].renameVarById(e.getId(),i.getId());this.potentialMap||le(new(an(pt.VAR_DELETE))(e));let Z;(Z=this.variableMap.get(v))==null||Z.delete(e.getId())}createVariable(e,t,i){var u=this.getVariable(e,t);if(u){if(i&&u.getId()!==i)throw Error('Variable "'+e+'" is already in use and its id is "'+u.getId()+'" which conflicts with the passed in id, "'+i+'".');return u}if(i&&this.getVariableById(i))throw Error('Variable id, "'+i+'", is already in use.');if(u=i||Qt(),t=t||"",i=R(Ft.VARIABLE_MODEL,this.workspace.options,!0),!i)throw Error("No variable model is registered.");u=new i(this.workspace,e,t,u);let v;return e=(v=this.variableMap.get(t))!=null?v:new Map,e.set(u.getId(),u),this.variableMap.has(t)||this.variableMap.set(t,e),this.potentialMap||le(new(an(pt.VAR_CREATE))(u)),u}addVariable(e){const t=e.getType();this.variableMap.has(t)||this.variableMap.set(t,new Map);let i;(i=this.variableMap.get(t))==null||i.set(e.getId(),e)}deleteVariable(e){const t=ki(this.workspace,e.getId());let i="";this.potentialMap||(i=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let v=0;v<t.length;v++)t[v].dispose(!0);const u=this.variableMap.get(e.getType());u&&u.has(e.getId())&&(u.delete(e.getId()),this.potentialMap||le(new(an(pt.VAR_DELETE))(e)),u.size===0&&this.variableMap.delete(e.getType()))}finally{this.potentialMap||n.setGroup$$module$build$src$core$events$utils(i)}}deleteVariableById(e){Pn("VariableMap.deleteVariableById","v12","v13","Blockly.Variables.deleteVariable"),(e=this.getVariableById(e))&&n.deleteVariable$$module$build$src$core$variables(this.workspace,e)}getVariable(e,t){if(t=this.variableMap.get(t||""),!t)return null;let i;return(i=[...t.values()].find(u=>n.Names$$module$build$src$core$names.equals(u.getName(),e)))!=null?i:null}getVariableById(e){for(const t of this.variableMap.values())if(t.has(e)){let i;return(i=t.get(e))!=null?i:null}return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?[...e.values()]:[]}getTypes(){return[...this.variableMap.keys()]}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(...t.values());return e}getAllVariableNames(){Pn("VariableMap.getAllVariableNames","v12","v13","Blockly.Variables.getAllVariables");const e=[];for(const t of this.variableMap.values())for(const i of t.values())e.push(i.getName());return e}getVariableUsesById(e){return Pn("VariableMap.getVariableUsesById","v12","v13","Blockly.Variables.getVariableUsesById"),ki(this.workspace,e)}};a(Ft.VARIABLE_MAP,pl,cf);var G5=class extends mi{constructor(e,t){super(t),this.type=pt.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new G5),t.isOpen=e.isOpen,t}};a(Ft.EVENT,pt.TRASHCAN_OPEN,G5);var hf=class extends L1{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,this.workspace.options.maxTrashcanContents<=0||(e=this.workspace.copyOptionsForFlyout(),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Er.TOP?Er.BOTTOM:Er.TOP,this.flyout=new(R(Ft.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Er.RIGHT?Er.LEFT:Er.RIGHT,this.flyout=new(R(Ft.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=ht(ut.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=ht(ut.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),ht(ut.RECT,{width:h4,height:P3,y:d4},e);const i=ht(ut.IMAGE,{width:jo.width,x:-V5,height:jo.height,y:-W5,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return i.setAttributeNS(rl,"xlink:href",this.workspace.options.pathToMedia+jo.url),e=ht(ut.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),ht(ut.RECT,{width:h4,height:d4},e),this.svgLid=ht(ut.IMAGE,{width:jo.width,x:-V5,height:jo.height,y:-W5,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(rl,"xlink:href",this.workspace.options.pathToMedia+jo.url),ke(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),ke(this.svgGroup,"pointerup",this,this.click),ke(i,"pointerover",this,this.mouseOver),ke(i,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){if(this.workspace.options.maxTrashcanContents>0){const e=this.flyout.createDom(ut.SVG);tn(e,"blocklyTrashcanFlyout"),Ti(e,this.workspace.getParentSvg()),this.flyout.init(this.workspace)}this.workspace.getComponentManager().addComponent({component:this,weight:Ei.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[Ei.Capability.AUTOHIDEABLE,Ei.Capability.DELETE_AREA,Ei.Capability.DRAG_TARGET,Ei.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&on(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(i){return JSON.parse(i)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let i;(i=this.flyout)==null||i.show(e),t.cursor="";let u;(u=this.workspace.scrollbar)==null||u.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var i=Ms(this.workspace,e);e=xr(i,new _r(h4,P3+d4),vg,df,e,this.workspace),t=si(e,df,i.vertical===Gs.TOP?Ua.DOWN:Ua.UP,t),this.top=t.top,this.left=t.left;var u;(u=this.svgGroup)==null||u.setAttribute("transform","translate("+this.left+","+this.top+")");var v;(v=this.flyout)==null||v.position()}}getBoundingRectangle(){return new $r(this.top,this.top+P3+d4,this.left,this.left+h4)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+W5-F3;return e=e.left+V5-F3,new $r(t,t+d4+P3+2*F3,e,e+h4+2*F3)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=Tg;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*pf),t=ff+this.lidOpen*(_g-ff),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&this.lidOpen<1&&(this.lidTask=setTimeout(this.animateLid.bind(this),yg/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===Er.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let i;(i=this.svgLid)==null||i.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:h4-4)+","+(d4-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*pf)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(an(pt.TRASHCAN_OPEN))(e,this.workspace.id),le(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(this.workspace.options.maxTrashcanContents<=0||!De(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(bg)}}}cleanBlockJson(e){function t(i){if(i){if(delete i.id,delete i.x,delete i.y,delete i.enabled,delete i.disabledReasons,i.icons&&i.icons.comment){var u=i.icons.comment;delete u.height,delete u.width,delete u.pinned}u=i.inputs;for(var v in u){var M=u[v];const Z=M.block;M=M.shadow,Z&&t(Z),M&&t(M)}i.next&&(v=i.next,i=v.block,v=v.shadow,i&&t(i),v&&t(v))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},h4=47,P3=44,d4=16,df=20,vg=20,F3=10,V5=0,W5=32,bg=.1,yg=80,Tg=4,ff=.4,_g=.8,pf=45,L2=null,D2=null,z3=void 0,Za={};Za.BlockPaster=Dc,Za.copy=td,Za.getLastCopiedData=vs,Za.getLastCopiedLocation=rd,Za.getLastCopiedWorkspace=r1,Za.paste=Q0,Za.registry=Tc,Za.setLastCopiedData=nd,Za.setLastCopiedLocation=h3,Za.setLastCopiedWorkspace=C4;var V1={};V1.CollapseCommentBarButton=Jd,V1.CommentBarButton=Dh,V1.CommentEditor=Zd,V1.CommentView=Ac,V1.DeleteCommentBarButton=x3,V1.RenderedWorkspaceComment=o0,V1.WorkspaceComment=M1;var Ru;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Ru||(Ru={})),hh();var Ou={};Ou.names=Ru,Ou.registerCopy=i1,Ou.registerCut=uh,Ou.registerDefaultShortcuts=hh,Ou.registerDelete=Ns,Ou.registerEscape=Lo,Ou.registerPaste=C0,Ou.registerRedo=ch,Ou.registerUndo=s1;var Eg=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=aa}save(e){return e=e.getProcedureMap().getProcedures().map(t=>id(t)),e.length?e:null}load(e,t){const i=t.getProcedureMap();for(const u of e)i.add(sd(this.procedureModelClass,this.parameterModelClass,u,t))}clear(e){e.getProcedureMap().clear()}},U3={};U3.ProcedureSerializer=Eg,U3.loadProcedure=sd,U3.saveProcedure=id;var mf=class{constructor(){this.priority=mu}save(e){return e=e.getAllVariables().map(t=>t.save()),e.length?e:null}load(e,t){const i=k(Ft.VARIABLE_MODEL,pl);e.forEach(u=>{i?.load(u,t)})}clear(e){e.getVariableMap().clear()}};Ir("variables",new mf);var gf={};gf.VariableSerializer=mf;var q5={};q5.load=A4,q5.save=k4;var wg={blocks:Ec,exceptions:bl,priorities:I0,procedures:U3,registry:Nd,variables:gf,workspaceComments:gu,workspaces:q5};"Blockly"in globalThis||(globalThis.Blockly={Msg:Bd});var X5="label",$f=class{load(e,t){return e=new Io(t.getWorkspace(),t.targetWorkspace,e,!0),e.show(),new D1(e,X5)}gapForItem(e,t){return t}disposeItem(e){e=e.getElement(),e instanceof Io&&e.dispose()}getType(){return X5}};a(Ft.FLYOUT_INFLATER,X5,$f);var vf=class extends mt{constructor(e){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,e&&(this.GRID_UNIT=e),this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+this.FIELD_BORDER_RECT_Y_PADDING*2}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&on(this.selectedGlowFilter),this.replacementGlowFilter&&on(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,i=tl("c",[Ln(25,-e),Ln(71,-e),Ln(t,0)]);return{height:e*.75,width:t,path:i}}makeHexagonal(){function e(i,u,v){var M=i/2;return M=M>t?t:M,v=v?-1:1,i=(u?-1:1)*i/2,dl(-v*M,i)+dl(v*M,i)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(i){return i/=2,i>t?t:i},height(i){return i},connectionOffsetY(i){return i/2},connectionOffsetX(i){return-i},pathDown(i){return e(i,!1,!1)},pathUp(i){return e(i,!0,!1)},pathRightDown(i){return e(i,!1,!0)},pathRightUp(i){return e(i,!1,!0)}}}makeRounded(){function e(u,v,M){const Z=u>i?u-i:0;u=(u>i?i:u)/2;const Ie=M===v?"0":"1";return $("a","0 0,"+Ie,u,Ln((M?1:-1)*u,(v?-1:1)*u))+f("v",(v?-1:1)*Z)+$("a","0 0,"+Ie,u,Ln((M?-1:1)*u,(v?-1:1)*u))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=t*2;return{type:this.SHAPES.ROUND,isDynamic:!0,width(u){return u/=2,u>t?t:u},height(u){return u},connectionOffsetY(u){return u/2},connectionOffsetX(u){return-u},pathDown(u){return e(u,!1,!1)},pathUp(u){return e(u,!0,!1)},pathRightDown(u){return e(u,!1,!0)},pathRightUp(u){return e(u,!1,!0)}}}makeSquared(){function e(i,u,v){i-=t*2;const M=v===u?"0":"1";return $("a","0 0,"+M,t,Ln((v?1:-1)*t,(u?-1:1)*t))+f("v",(u?-1:1)*i)+$("a","0 0,"+M,t,Ln((v?-1:1)*t,(u?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(i){return t},height(i){return i},connectionOffsetY(i){return i/2},connectionOffsetX(i){return-i},pathDown(i){return e(i,!1,!1)},pathUp(i){return e(i,!0,!1)},pathRightDown(i){return e(i,!1,!0)},pathRightUp(i){return e(i,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case Tn.INPUT_VALUE:case Tn.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.includes("Boolean")?this.HEXAGONAL:t&&t.includes("Number")?this.ROUNDED:(t&&t.includes("String"),this.ROUNDED);case Tn.PREVIOUS_STATEMENT:case Tn.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(zn){return tl("c",[Ln(zn*v/2,0),Ln(zn*v*3/4,Z/2),Ln(zn*v,Z)])+g([Ln(zn*v,M)])+tl("c",[Ln(zn*v/4,Z/2),Ln(zn*v/2,Z),Ln(zn*v,Z)])+f("h",zn*u)+tl("c",[Ln(zn*v/2,0),Ln(zn*v*3/4,-(Z/2)),Ln(zn*v,-Z)])+g([Ln(zn*v,-M)])+tl("c",[Ln(zn*v/4,-(Z/2)),Ln(zn*v/2,-Z),Ln(zn*v,-Z)])}const t=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,u=t/3,v=u/3,M=i/2,Z=M/2,Ie=e(1),Lt=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:i,pathLeft:Ie,pathRight:Lt}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=$("a","0 0,0",e,Ln(-e,e)),i=$("a","0 0,1",e,Ln(-e,e)),u=$("a","0 0,0",e,Ln(e,e)),v=$("a","0 0,1",e,Ln(e,e));return{width:e,height:e,pathTop:t,pathBottom:u,rightWidth:e,rightHeight:e,pathTopRight:i,pathBottomRight:v}}generateSecondaryColour_(e){return no("#000",e,.15)||e}generateTertiaryColour_(e){return no("#000",e,.25)||e}createDom(e,t,i,u){super.createDom(e,t,i,u),e=ht(ut.DEFS,{},e),t=ht(ut.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ht(ut.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),i=ht(ut.FECOMPONENTTRANSFER,{result:"outBlur"},t),ht(ut.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),ht(ut.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),ht(ut.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=ht(ut.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ht(ut.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=ht(ut.FECOMPONENTTRANSFER,{result:"outBlur"},e),ht(ut.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),ht(ut.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),ht(ut.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),ht(ut.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e,u&&(u.style.setProperty("--blocklySelectedGlowFilter",`url(#${this.selectedGlowFilterId})`),u.style.setProperty("--blocklyReplacementGlowFilter",`url(#${this.replacementGlowFilterId})`))}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableField>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableField>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableField>text,`,`${e} .blocklyEditableField>text,`,`${e} .blocklyNonEditableField>g>text,`,`${e} .blocklyEditableField>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableField:not(.blocklyEditing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .blocklyMenuItem,`,`${e}.blocklyDropDownDiv .blocklyMenuItem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .blocklyMenuItemContent {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabledPattern > .blocklyOutlinePath {`,"fill: var(--blocklyDisabledPattern)","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}",`${e} .blocklySelected>.blocklyPath.blocklyPathSelected {`,"fill: none;","filter: var(--blocklySelectedGlowFilter);","}",`${e} .blocklyReplaceable>.blocklyPath {`,"filter: var(--blocklyReplacementGlowFilter);","}"]}},bf=class extends Ht{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(e.height<=0)){if(We.isSpacer(e)){const u=e.precedesStatement;var t=e.followsStatement;if(u||t){const v=this.constants_.INSIDE_CORNERS;var i=v.rightHeight;i=e.height-(u?i:0),t=t?v.pathBottomRight:"",e=i>0?f("V",e.yPos+i):"",this.outlinePath_+=t+e+(u?v.pathTopRight:"");return}}this.outlinePath_+=f("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Ii(e.xPos,this.info_.startY),this.outlinePath_+=f("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=f("V",e.baseline),this.outlinePath_+=f("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=ro(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-e.connectionWidth*2,i=e.height;return f("h",t)+e.shape.pathRightDown(i)+f("h",-t)+e.shape.pathUp(i)+"z"}drawStatementInput_(e){var t=e.getLastInput();const i=t.xPos+t.notchOffset+t.shape.width,u=this.constants_.INSIDE_CORNERS,v=t.shape.pathRight+f("h",-(t.notchOffset-u.width))+u.pathTop,M=e.height-2*u.height;t=u.pathBottom+f("h",t.notchOffset-u.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=f("H",i)+v+f("v",M)+t+f("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===Tn.NEXT_STATEMENT||t.type===Tn.PREVIOUS_STATEMENT||t.type===Tn.OUTPUT_VALUE&&!e.isDynamicShape)return super.drawConnectionHighlightPath(e);e=t.type===Tn.INPUT_VALUE?ro(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):ro(e.width,-e.height/2)+e.shape.pathDown(e.height);const i=t.getSourceBlock();let u,v;return(v=(u=i.pathObject).addConnectionHighlight)==null?void 0:v.call(u,t,e,t.getOffsetInBlock(),i.RTL)}},Wh=class extends Oi{constructor(e,t,i,u,v,M,Z){if(super(Oi.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",i=Number(lr(i)),t=Number(lr(t)),isNaN(i)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(i<=0||t<=0)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new _r(t,i+Wh.Y_PADDING),this.imageHeight=i,typeof v=="function"&&(this.clickHandler=v),e!==Oi.SKIP_SETUP&&(Z?this.configure_(Z):(this.flipRtl=!!M,this.altText=lr(u)||""),this.setValue(lr(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=lr(e.alt))}initView(){this.imageElement=ht(ut.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(rl,"xlink:href",this.value_),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyImageField"),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(rl,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}isClickable(){return super.isClickable()&&!!this.clickHandler}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Wh.Y_PADDING=1,Qo("field_image",Wh),Wh.prototype.DEFAULT_VALUE="";var H3=14,f4=class extends Oi{set size_(e){super.size_=e}get size_(){const e=super.size_;return e.width<H3&&(e.width=H3),e}constructor(e,t,i){super(Oi.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,e!==Oi.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new Vs;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyInputField")}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new Vs;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,t=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&sn()&&this.value_!==e&&t&&le(new(an(pt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new Vs;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.getColourTertiary())):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(Jn(e,"blocklyInvalidInput"),Ur(e,Ts.INVALID,!1)):(tn(e,"blocklyInvalidInput"),Ur(e,Ts.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new Vs;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1,i=!0){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&($3||Sd||p1)?this.showPromptEditor():this.showInlineEditor(t,i)}showPromptEditor(){hn(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e,t){const i=this.getSourceBlock();if(!i)throw new Vs;v0(this,i.RTL,this.widgetDispose_.bind(this),this.workspace_,t),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new Vs;n.setGroup$$module$build$src$core$events$utils(!0);const t=mo();var i=this.getClickTarget_();if(!i)throw Error("A click target has not been set.");tn(i,"blocklyEditing"),i=document.createElement("input"),i.className="blocklyHtmlInput",i.setAttribute("spellcheck",this.spellcheck_);const u=this.workspace_.getAbsoluteScale();var v=this.getConstants().FIELD_TEXT_FONTSIZE*u+"pt";return t.style.fontSize=v,i.style.fontSize=v,v=f4.BORDERRADIUS*u+"px",this.isFullBlockField()&&(v=this.getScaledBBox(),v=(v.bottom-v.top)/2+"px",e=e.getParent()?e.getParent().getColourTertiary():this.sourceBlock_.getColourTertiary(),i.style.border=1*u+"px solid "+e,t.style.borderRadius=v,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*u+"px")),i.style.borderRadius=v,t.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(i),i}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&sn()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(le(new(an(pt.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=mo().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");Jn(e,"blocklyEditing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=ie(e,"keydown",this,this.onHtmlInputKeyDown_),this.onInputWrapper=ie(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(Be(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onInputWrapper&&(Be(this.onInputWrapper),this.onInputWrapper=null)}onHtmlInputKeyDown_(e){if(e.key==="Enter")Dl(this),Re();else if(e.key==="Escape")this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Dl(this),Re();else if(e.key==="Tab"){e.preventDefault();var t,i=(t=this.workspace_)==null?void 0:t.getCursor();t=u=>(u instanceof f4||u instanceof Yi&&u.isSimpleReporter())&&u!==this.getSourceBlock(),e=e.shiftKey?i?.getPreviousNode(this,t,!1):i?.getNextNode(this,t,!1),e=e instanceof Yi&&e.isSimpleReporter()?e.getFields().next().value:e,e instanceof f4&&(Dl(this),Re(),i=e.getSourceBlock(),e.isFullBlockField()&&i&&i instanceof Yi?n.getFocusManager$$module$build$src$core$focus_manager().focusNode(i):n.getFocusManager$$module$build$src$core$focus_manager().focusNode(e),e.showEditor())}}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&sn()&&this.value_!==e&&le(new(an(pt.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){jn().then(()=>{const e=this.getSourceBlock();if(!e)throw new Vs;const t=mo(),i=this.getScaledBBox();t.style.width=i.right-i.left+"px",t.style.height=i.bottom-i.top+"px";const u=i.top;t.style.left=`${e.RTL?i.right-t.offsetWidth:i.left}px`,t.style.top=`${u}px`})}repositionForWindowResize(){let e;const t=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return t instanceof Yi?(gr(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t)||this.resizeEditor_(),!0):!1}positionTextElement_(e,t){const i=e*2+t;super.positionTextElement_(e+(i<H3?(H3-i)/2:0),t)}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};f4.BORDERRADIUS=4,n.FieldTextInput$$module$build$src$core$field_textinput=class extends f4{constructor(e,t,i){super(e,t,i)}initView(){super.initView(),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyTextInputField")}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(lr(e.text),void 0,e)}},Qo("field_input",n.FieldTextInput$$module$build$src$core$field_textinput),n.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="",n.FieldTextInput$$module$build$src$core$field_textinput;var yf=class extends r{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},G3=class extends ot{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},Tf=class extends $a{constructor(e){super(e),this.width=this.height=0,this.type|=We.getType("RIGHT_CONNECTION")}},_f=class extends je{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Ef=class extends qn{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new _f(this.constants_),this.bottomRow=new yf(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=t.statementInputCount>0,this.rightSide=this.outputConnection?new Tf(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof ql||e instanceof wl||t instanceof wl?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof sl||e instanceof ql?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&We.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&We.isLeftRoundedCorner(e)&&t&&(We.isPreviousConnection(t)||We.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&We.isLeftSquareCorner(e)&&t&&We.isHat(t)||e&&We.isField(e)&&e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(We.isTopRow(e)&&We.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const i=We.isInputRow(e)&&e.hasStatement,u=We.isInputRow(t)&&t.hasStatement;return u||i?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),u&&i?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):We.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):We.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const i=this.width-this.startX;return We.isInputRow(e)&&e.hasStatement||We.isInputRow(t)&&t.hasStatement?Math.max(i,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):i}getElemCenterline_(e,t){if(e.hasStatement&&!We.isSpacer(t)&&!We.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(We.isInlineInput(t)){const i=t.connectedBlock;if(i&&i.outputConnection&&i.nextConnection)return e.yPos+i.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof sl||e instanceof ql)&&t.hasDummyInput&&t.align===n.Align$$module$build$src$core$inputs$align.LEFT&&e.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof wl){t.elements.push(new G3(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let i;for(let u=0;u<e.elements.length;u++){const v=e.elements[u];if(We.isSpacer(v)&&(i=v),We.isField(v)&&v.parentInput===this.rightAlignedDummyInputs.get(e))break}if(i){i.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let v=2;v<this.rows.length-1;v+=2){var i=this.rows[v-1];const M=this.rows[v];var u=this.rows[v+1];if(i=v===2?!!this.topRow.hasPreviousConnection:!!i.followsStatement,u=v+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!u.precedesStatement,We.isInputRow(M)&&M.hasStatement){M.measure();let Z,Ie;t=M.width-((Ie=(Z=M.getLastInput())==null?void 0:Z.width)!=null?Ie:0)+e}else if(i&&(v===2||u)&&We.isInputRow(M)&&!M.hasStatement){u=M.xPos,i=null;for(let Z=0;Z<M.elements.length;Z++){const Ie=M.elements[Z];We.isSpacer(Ie)&&(i=Ie),!(i&&(We.isField(Ie)||We.isInput(Ie))&&u<t)||We.isField(Ie)&&(Ie.field instanceof Oc||Ie.field instanceof Wh)||(i.width+=t-u),u+=Ie.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,i=0;i<this.rows.length;i++){const u=this.rows[i];u.yPos=t,t+=u.height}this.height=t,i=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(i),i=e.width(i),this.outputConnection.height=t,this.outputConnection.width=i,this.outputConnection.startX=i,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(i),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=i,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=i,this.width+=i+e,this.widthWithChildren+=i+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var i=this.rows[t];if(!We.isInputRow(i))continue;e=i.elements[i.elements.length-2];let u=this.getNegativeSpacing_(i.elements[1]),v=this.getNegativeSpacing_(e);e=u+v;const M=this.constants_.MIN_BLOCK_WIDTH+this.outputConnection.width*2;this.width-e<M&&(e=this.width-M,u=e/2,v=e/2),i.elements.unshift(new de(this.constants_,-u)),i.elements.push(new de(this.constants_,-v))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)i=this.rows[t],We.isTopOrBottomRow(i)&&(i.elements[1].width-=e),i.width-=e,i.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var i=this.outputConnection.shape.type;const u=this.constants_;if(this.inputRows.length>1)switch(i){case u.SHAPES.ROUND:return i=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=this.height/2>i?i:this.height/2,t-i*(1-Math.sin(Math.acos((i-this.constants_.SMALL_PADDING)/i)));default:return 0}if(We.isInlineInput(e)){const v=e.connectedBlock;return e=v?v.pathObject.outputShapeType:e.shape.type,e==null||v&&v.outputConnection&&(v.statementInputCount||v.nextConnection)||i===u.SHAPES.HEXAGONAL&&i!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[i][e]}return We.isField(e)?i===u.SHAPES.ROUND&&e.field instanceof n.FieldTextInput$$module$build$src$core$field_textinput?t-2.75*u.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[i][0]:We.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let u=2;u<this.rows.length-1;u+=2){const v=this.rows[u-1],M=this.rows[u],Z=this.rows[u+1];var e=u===2,t=u+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!Z.precedesStatement;if(e?this.topRow.hasPreviousConnection:v.followsStatement){var i=M.elements[1];if(i=M.elements.length===3&&i instanceof T&&(i.field instanceof Oc||i.field instanceof Wh),!e&&i)v.height-=this.constants_.SMALL_PADDING,Z.height-=this.constants_.SMALL_PADDING,M.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)v.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<M.elements.length;t++)if(i=M.elements[t],We.isInlineInput(i)&&i.connectedBlock&&!i.connectedBlock.isShadow()&&i.connectedBlock.getHeightWidth().height>=40){e=!0;break}e&&(v.height-=this.constants_.SMALL_PADDING,Z.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},wf=class extends hi{constructor(e,t,i){super(e,t,i),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=i}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.getColourTertiary());for(const i of this.outlines.values())i.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.classList.add("blocklyPathSelected"),Jn(this.svgPathSelected,So.ACTIVE_FOCUS_NODE_CSS_CLASS_NAME),Jn(this.svgPathSelected,So.PASSIVE_FOCUS_NODE_CSS_CLASS_NAME),this.svgPathSelected.removeAttribute("tabindex"),this.svgPathSelected.removeAttribute("id"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,ht(ut.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,i;(t=this.outlines.get(e))==null||(i=t.parentNode)==null||i.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},j5=class extends Bn{constructor(e){super(e)}makeConstants_(){return new vf}makeRenderInfo_(e){return new Ef(this,e)}makeDrawer_(e,t){return new bf(e,t)}makePathObject(e,t){return new wf(e,t,this.getConstants())}getConstants(){return this.constants_}};Hl("zelos",j5);var Sf=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,i){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=i,i.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{n.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{n.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===Tn.PREVIOUS_STATEMENT||t.type===Tn.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof j5)}previewMarker(e,t){const i=e.getSourceBlock(),u=this.createInsertionMarker(i),v=this.getMatchingConnection(i,u,e);if(!v)return null;u.queueRender(),h(),v.connect(t);const M={x:t.x-v.x,y:t.y-v.y},Z=v.getOffsetInBlock().clone();return jn().then(()=>{if(!u.isDeadOrDying()){n.disable$$module$build$src$core$events$utils();try{u?.positionNearConnection(v,M,Z),u?.getSvgRoot().setAttribute("visibility","visible")}finally{n.enable$$module$build$src$core$events$utils()}}}),v}serializeBlockToInsertionMarker(e){const t=Vi(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!t)throw Error(`Failed to serialize source block. ${e.toDevString()}`);return t}createInsertionMarker(e){e=this.serializeBlockToInsertionMarker(e),e=Ml(e,this.workspace);for(const t of e.getDescendants(!1))t.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,t,i){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let u=0;u<e.length;u++)if(e[u]===i)return t[u];return null}hidePreview(){n.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{n.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),i=t.outputConnection;let u;if((u=t.previousConnection)!=null&&u.targetConnection||i!=null&&i.targetConnection)t.unplug(!0);else{let v;(v=e.targetBlock())==null||v.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};a(Ft.CONNECTION_PREVIEWER,pl,Sf);var W1={};W1.Align=n.Align$$module$build$src$core$inputs$align,W1.DummyInput=sl,W1.EndRowInput=ql,W1.Input=Lc,W1.StatementInput=wl,W1.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,W1.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var xf=!1,Cf;n.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=O());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let i=0,u;u=e[i];i++){let v=this.blockToCode(u);Array.isArray(v)&&(v=v[0]),v&&(u.outputConnection&&(v=this.scrubNakedValue(v),this.STATEMENT_PREFIX&&!u.suppressPrefixSuffix&&(v=this.injectId(this.STATEMENT_PREFIX,u)+v),this.STATEMENT_SUFFIX&&!u.suppressPrefixSuffix&&(v+=this.injectId(this.STATEMENT_SUFFIX,u))),t.push(v))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let i=0;i<e.length;i++){const u=e[i].getCommentText();u&&t.push(u)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var i=this.forBlock[e.type];if(typeof i!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(i=i.call(e,e,this),Array.isArray(i)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,i[0],t),i[1]]}if(typeof i=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(i=this.injectId(this.STATEMENT_PREFIX,e)+i),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(i+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,i,t);if(i===null)return"";throw SyntaxError("Invalid code generated: "+i)}valueToCode(e,t,i){if(isNaN(i))throw TypeError("Expecting valid order from block: "+e.type);var u=e.getInputTargetBlock(t);if(!u&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(!u||(t=this.blockToCode(u),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${u.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+u.type);if(!e)return"";u=!1;var v=Math.floor(i);const M=Math.floor(t);if(v<=M&&(v!==M||v!==0&&v!==99)){for(u=!0,v=0;v<this.ORDER_OVERRIDES.length;v++)if(this.ORDER_OVERRIDES[v][0]===i&&this.ORDER_OVERRIDES[v][1]===t){u=!1;break}}return u&&(e="("+e+")"),e}statementToCode(e,t){const i=e.getInputTargetBlock(t);if(!i&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(i),typeof e!="string")throw TypeError("Expecting code from statement block: "+(i&&i.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const i=this.nameDB_.getDistinctName(e,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=i,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);let u;for(;u!==t;)u=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,n.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,n.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,i){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Cf={},Cf.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var Y5=class extends Iu{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),i=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(i.top+(i.height-u.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),i=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Er.LEFT?e.width:i.width-this.getWidth():this.toolboxPosition_===Er.LEFT?0:i.width:this.toolboxPosition_===Er.LEFT?0:i.width+t.left-this.getWidth()}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height;var t=this.getWidth()-this.CORNER_RADIUS;this.setBackgroundPath(t,e.height-2*this.CORNER_RADIUS),e=this.getX(),t=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,t)}}setBackgroundPath(e,t){const i=this.toolboxPosition_===Er.RIGHT;var u=e+this.CORNER_RADIUS;u=["M "+(i?u:0)+",0"],u.push("h",i?-e:e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,i?0:1,i?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",Math.max(0,t)),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,i?0:1,i?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",i?e:-e),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=st(e);if(t.y){const i=this.workspace_.getMetricsManager(),u=i.getScrollMetrics();t=i.getViewMetrics().top-u.top+t.y;let v;(v=this.workspace_.scrollbar)==null||v.setY(t),hl(this.workspace_),Re()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;var t=this.MARGIN;const i=this.RTL?t:t+this.tabWidth_;for(const u of e)u.getElement().moveBy(i,t),t+=u.getElement().getBoundingRectangle().getHeight()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Er.LEFT?new $r(-1e9,1e9,-1e9,t+e.width):new $r(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((t,i)=>Math.max(t,i.getElement().getBoundingRectangle().getWidth()),0);if(e+=this.MARGIN*1.5+this.tabWidth_,e*=this.workspace_.scale,e+=Cs.scrollbarThickness,this.getWidth()!==e){if(this.RTL)for(const t of this.getContents()){const i=t.getElement().getBoundingRectangle().left,u=e/this.workspace_.scale-t.getElement().getBoundingRectangle().getWidth()-this.MARGIN-this.tabWidth_;t.getElement().moveBy(u-i,0)}this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Er.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};Y5.registryName="verticalFlyout",a(Ft.FLYOUTS_VERTICAL_TOOLBOX,pl,Y5);var kf=class extends Iu{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),i=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(i.left+(i.width-u.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),i=e.getViewMetrics();e=e.getToolboxMetrics();const u=this.toolboxPosition_===Er.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?u?e.height:i.height-this.getHeight():u?0:i.height:u?0:i.height+t.top-this.getHeight()}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,e=e.width-2*this.CORNER_RADIUS;var t=this.getHeight()-this.CORNER_RADIUS;this.setBackgroundPath(e,t),e=this.getX(),t=this.getY(),this.positionAt_(this.getWidth(),this.getHeight(),e,t)}}setBackgroundPath(e,t){const i=this.toolboxPosition_===Er.TOP,u=["M 0,"+(i?0:this.CORNER_RADIUS)];i?(u.push("h",e+2*this.CORNER_RADIUS),u.push("v",t),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",-e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),u.push("h",e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",t),u.push("h",-e-2*this.CORNER_RADIUS)),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=st(e);if(t=t.x||t.y){const i=this.workspace_.getMetricsManager(),u=i.getScrollMetrics();t=i.getViewMetrics().left-u.left+t;let v;(v=this.workspace_.scrollbar)==null||v.setX(t),hl(this.workspace_),Re()}e.preventDefault(),e.stopPropagation()}layout_(e){this.workspace_.scale=this.targetWorkspace.scale;const t=this.MARGIN;let i=t+this.tabWidth_;this.RTL&&(e=e.reverse());for(const u of e)e=u.getElement().getBoundingRectangle(),e=this.RTL?i+e.getWidth():i,u.getElement().moveBy(e,t),i+=u.getElement().getBoundingRectangle().getWidth()}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Er.TOP?new $r(-1e9,t+e.height,-1e9,1e9):new $r(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=this.getContents().reduce((t,i)=>Math.max(t,i.getElement().getBoundingRectangle().getHeight()),0);e+=this.MARGIN*1.5,e*=this.workspace_.scale,e+=Cs.scrollbarThickness,this.getHeight()!==e&&(this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Er.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets())}};a(Ft.FLYOUTS_HORIZONTAL_TOOLBOX,pl,kf);var B2=class extends ko{constructor(e,t,i,u,v){super(Oi.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=B2.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new _r(0,0),e!==Oi.SKIP_SETUP&&(v?this.configure_(v):this.setTypes(i,u),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new Vs;this.variable||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}initView(){super.initView(),tn(this.fieldGroup_,"blocklyVariableField")}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new Vs;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new Vs;const i=e.getAttribute("id"),u=e.textContent,v=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,i,u,v),v!==null&&v!==t.getType())throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.getType()+", and does not match variable field that references it: "+es(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.getName(),this.variable.getType()&&e.setAttribute("variabletype",this.variable.getType()),e}saveState(e){var t=this.saveLegacyState(B2);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.getName(),t.type=this.variable.getType())),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new Vs;this.loadLegacyState(B2,e)||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.getName():""}getVariable(){return this.variable}getDefaultType(){return this.defaultType}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new Vs;return t=n.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.getType(),this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new Vs;this.variable=n.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let i=0;i<t.length;i++)if(e===t[i])return!0;return!1}getVariableTypes(){if(this.variableTypes)return this.variableTypes;if(!this.sourceBlock_||this.sourceBlock_.isDeadOrDying())return[""];let e=this.sourceBlock_.workspace.getVariableMap().getTypes();if(this.sourceBlock_.isInFlyout){const t=this.sourceBlock_.workspace.getPotentialVariableMap();if(!t)return e;e=Array.from(new Set([...e,...t.getTypes()]))}return e}setTypes(e=null,t=""){var i=this.getText();if(Array.isArray(e)){if(e.length===0)throw Error(`'variableTypes' of field variable ${i} was an empty list. If you want to include all variable types, pass 'null' instead.`);i=!1;for(let u=0;u<e.length;u++)e[u]===t&&(i=!0);if(!i)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error(`'variableTypes' was not an array or null in the definition of FieldVariable ${i}`);this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===E2&&this.variable){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===w2&&this.variable){e=this.variable.getWorkspace(),n.deleteVariable$$module$build$src$core$variables(e,this.variable,this.sourceBlock_);return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(lr(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];var i=this.getSourceBlock();if(i&&!i.isDeadOrDying()){i=i.workspace;const M=this.getVariableTypes();for(let Z=0;Z<M.length;Z++){const Ie=M[Z],Lt=i.getVariableMap().getVariablesOfType(Ie);if(t=t.concat(Lt),i.isFlyout){var u=void 0,v=void 0;t=t.concat((v=(u=i.getPotentialVariableMap())==null?void 0:u.getVariablesOfType(Ie))!=null?v:[])}}}for(t.sort(jt),u=[],v=0;v<t.length;v++)u[v]=[t[v].getName(),t[v].getId()];return u.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,E2]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&u.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),w2]),u}};Qo("field_variable",B2);var K5=class extends f4{constructor(e,t,i,u,v,M){super(Oi.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==Oi.SKIP_SETUP&&(M?this.configure_(M):this.setConstraints(t,i,u),this.setValue(e),v&&this.setValidator(v))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,i){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(i),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.includes("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const i=t.indexOf(".");this.decimalPlaces=i===-1?e?0:null:t.length-i-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return this.min_>-1/0&&(e.min=`${this.min_}`,Ur(e,Ts.VALUEMIN,this.min_)),this.max_<1/0&&(e.max=`${this.max_}`,Ur(e,Ts.VALUEMAX,this.max_)),e}initView(){super.initView(),this.fieldGroup_&&tn(this.fieldGroup_,"blocklyNumberField")}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Qo("field_number",K5),K5.prototype.DEFAULT_VALUE=0;var Af=class extends Oc{constructor(e,t,i){super(String(e??""),t,i),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(lr(e.text),void 0,e)}};Qo("field_label_serializable",Af);var qh=class extends Oi{constructor(e,t,i){super(Oi.SKIP_SETUP),this.SERIALIZABLE=!0,this.value_=this.value_,this.checkChar=qh.CHECK_CHAR,e!==Oi.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(qh);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();tn(this.fieldGroup_,"blocklyCheckboxField"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||qh.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};qh.CHECK_CHAR="",Qo("field_checkbox",qh),qh.prototype.DEFAULT_VALUE=!1;var If=class{constructor(e,t){this.draggable=e,this.workspace=t,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.draggable.startDrag(e)}onDrag(e,t){this.moveDraggable(e,t),t=this.getRoot(this.draggable),zi(t)&&t.setDeleteStyle(this.wouldDeleteDraggable(e,t)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const t=this.getRoot(this.draggable);if(this.dragTarget!==e){let i;(i=this.dragTarget)==null||i.onDragExit(t),e?.onDragEnter(t)}e?.onDragOver(t),this.dragTarget=e}moveDraggable(e,t){t=this.pixelsToWorkspaceUnits(t),t=Vt.sum(this.startLoc,t),this.draggable.drag(t,e)}wouldDeleteDraggable(e,t){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,Ei.Capability.DELETE_AREA)?e.wouldDelete(t):!1}onDragEnd(e){const t=n.getGroup$$module$build$src$core$events$utils();var i=this.workspace.getDragTarget(e);const u=this.getRoot(this.draggable);if(i){let v;(v=this.dragTarget)==null||v.onDrop(u)}this.shouldReturnToStart(e,u)&&this.draggable.revertDrag(),(i=zi(u)&&this.wouldDeleteDraggable(e,u))&&this.draggable instanceof Yi&&we(this.draggable.getRootBlock()),this.draggable.endDrag(e),i&&zi(u)&&(n.setGroup$$module$build$src$core$events$utils(t),u.dispose()),n.setGroup$$module$build$src$core$events$utils(!1),!i&&ee(this.draggable)&&n.getFocusManager$$module$build$src$core$focus_manager().focusNode(this.draggable)}getRoot(e){return e instanceof Yi?e.getRootBlock():e}shouldReturnToStart(e,t){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(t):!1}pixelsToWorkspaceUnits(e){return e=new Vt(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};a(Ft.BLOCK_DRAGGER,pl,If);var P2={};P2.BlockDragStrategy=Fh,P2.BubbleDragStrategy=t4,P2.CommentDragStrategy=S3,P2.Dragger=If;var J5=class extends mi{constructor(e,t,i){super(e?e.workspace.id:void 0),this.type=pt.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=t,this.blocks=i)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new J5),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};a(Ft.EVENT,pt.BLOCK_DRAG,J5);var Z5=class extends bu{constructor(e,t,i,u){super(e),this.type=pt.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=t,this.oldValue=i,this.newValue=u)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Z5),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};a(Ft.EVENT,pt.BLOCK_FIELD_INTERMEDIATE_CHANGE,Z5);var Q5=class extends bu{constructor(e){super(e),this.type=pt.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Q5),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(i=e.oldCoordinate.split(","),t.oldCoordinate=new Vt(Number(i[0]),Number(i[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(i=e.newCoordinate.split(","),t.newCoordinate=new Vt(Number(i[0]),Number(i[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const i=t.getParent();return i?(e.parentId=i.id,(t=i.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Vt.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var i=t.getBlockById(this.blockId);if(i){var u=e?this.newParentId:this.oldParentId,v=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,u){var M=t.getBlockById(u);if(!M){console.warn("Can't connect to non-existent block: "+u);return}}if(i.getParent()&&i.unplug(),e)v=i.getRelativeToSurfaceXY(),i.moveBy(e.x-v.x,e.y-v.y,this.reason);else{t=i.outputConnection,(!t||i.previousConnection&&i.previousConnection.isConnected())&&(t=i.previousConnection);let Z,Ie;i=(Ie=t)==null?void 0:Ie.type,v?(i=M.getInput(v))&&(Z=i.connection):i===Tn.PREVIOUS_STATEMENT&&(Z=M.nextConnection),Z&&t?t.connect(Z):console.warn("Can't connect to non-existent input: "+v)}}else console.warn("Can't move non-existent block: "+this.blockId)}};a(Ft.EVENT,pt.BLOCK_MOVE,Q5);var e6=class extends mi{constructor(e,t,i){super(e?e.workspace.id:void 0),this.type=pt.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=i)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new e6),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},t6;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(t6||(t6={})),a(Ft.EVENT,pt.BUBBLE_OPEN,e6);var Nu=class extends sa{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=Ut())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new Nu),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){const i=e.getEventWorkspace_();if(t){if(!e.json)throw Error("Encountered a comment event without proper json");xi(e.json,i)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=i.getCommentById(e.commentId))?t.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},n6=class extends Nu{constructor(e,t,i){super(e),this.type=pt.COMMENT_CHANGE,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof i>"u"?"":i)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new n6),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var i=e?this.newContents_:this.oldContents_;if(i===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setText(i)}else console.warn("Can't change non-existent comment: "+this.commentId)}};a(Ft.EVENT,pt.COMMENT_CHANGE,n6);var r6=class extends Nu{constructor(e,t){super(e),this.newCollapsed=t,this.type=pt.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new r6),t.newCollapsed=e.newCollapsed,t}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=t.getCommentById(this.commentId))?t.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};a(Ft.EVENT,pt.COMMENT_COLLAPSE,r6);var i6=class extends Nu{constructor(e){super(e),this.type=pt.COMMENT_CREATE,e&&(this.xml=Wo(e),this.json=ce(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=es(this.xml),e.json=this.json,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new i6),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}run(e){Nu.CommentCreateDeleteHelper(this,e)}};a(Ft.EVENT,pt.COMMENT_CREATE,i6);var s6=class extends Nu{constructor(e){super(e),this.type=pt.COMMENT_DELETE,e&&(this.xml=Wo(e),this.json=ce(e,{addCoordinates:!0}))}run(e){Nu.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=es(this.xml),e.json=this.json,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new s6),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}};a(Ft.EVENT,pt.COMMENT_DELETE,s6);var o6=class extends mi{constructor(e,t){super(e?e.workspace.id:void 0),this.type=pt.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=t)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new o6),t.isStart=e.isStart,t.commentId=e.commentId,t}};a(Ft.EVENT,pt.COMMENT_DRAG,o6);var l6=class extends Nu{constructor(e){super(e),this.type=pt.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new l6),i=e.oldCoordinate.split(","),t.oldCoordinate_=new Vt(Number(i[0]),Number(i[1])),i=e.newCoordinate.split(","),t.newCoordinate_=new Vt(Number(i[0]),Number(i[1])),t}isNull(){return Vt.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");t.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};a(Ft.EVENT,pt.COMMENT_MOVE,l6);var a6=class extends Nu{constructor(e){super(e),this.type=pt.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new a6),t.oldSize=new _r(e.oldWidth,e.oldHeight),t.newSize=new _r(e.newWidth,e.newHeight),t}isNull(){return _r.equals(this.oldSize,this.newSize)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");t.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};a(Ft.EVENT,pt.COMMENT_RESIZE,a6);var u6=class extends mi{constructor(e,t,i){super(i),this.type=pt.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new u6),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};a(Ft.EVENT,pt.TOOLBOX_ITEM_SELECT,u6);var c6=class extends c4{constructor(e,t,i){super(e),this.oldType=t,this.newType=i,this.type=pt.VAR_TYPE_CHANGE}toJson(){const e=super.toJson();if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");return e.oldType=this.oldType,e.newType=this.newType,e}static fromJson(e,t,i){return t=super.fromJson(e,t,i??new c6),t.oldType=e.oldType,t.newType=e.newType,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldType||!this.newType)throw Error("The variable's types are undefined. Either pass them to the constructor, or call fromJson");const i=t.getVariableMap().getVariableById(this.varId);i&&(e?t.getVariableMap().changeVariableType(i,this.newType):t.getVariableMap().changeVariableType(i,this.oldType))}};a(Ft.EVENT,pt.VAR_TYPE_CHANGE,c6);var Mf=class extends sa{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=pt.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};a(Ft.EVENT,pt.FINISHED_LOADING,Mf);var Rf,Of,Nf,Lf,Df,Bf,Pf,Ff,zf,Uf,Hf,Gf,Vf,Wf,qf,Xf,jf,Yf,Kf,Jf,Zf,Qf,e8,t8,vn;n.BLOCK_CHANGE$$module$build$src$core$events$events=pt.BLOCK_CHANGE,n.BLOCK_CREATE$$module$build$src$core$events$events=pt.BLOCK_CREATE,n.BLOCK_DELETE$$module$build$src$core$events$events=pt.BLOCK_DELETE,Rf=pt.BLOCK_DRAG,n.BLOCK_MOVE$$module$build$src$core$events$events=pt.BLOCK_MOVE,Of=pt.BLOCK_FIELD_INTERMEDIATE_CHANGE,Nf=pt.BUBBLE_OPEN,Lf=pt.BLOCK_CHANGE,Df=pt.CLICK,Bf=pt.COMMENT_CHANGE,Pf=pt.COMMENT_CREATE,Ff=pt.COMMENT_DELETE,zf=pt.COMMENT_MOVE,Uf=pt.COMMENT_RESIZE,Hf=pt.COMMENT_DRAG,Gf=pt.BLOCK_CREATE,Vf=pt.BLOCK_DELETE,Wf=pt.FINISHED_LOADING,qf=pt.BLOCK_MOVE,Xf=pt.SELECTED,jf=pt.THEME_CHANGE,Yf=pt.TOOLBOX_ITEM_SELECT,Kf=pt.TRASHCAN_OPEN,Jf=pt.UI,Zf=pt.VAR_CREATE,Qf=pt.VAR_DELETE,e8=pt.VAR_RENAME,t8=pt.VIEWPORT_CHANGE,vn={},vn.Abstract=sa,vn.BLOCK_CHANGE=n.BLOCK_CHANGE$$module$build$src$core$events$events,vn.BLOCK_CREATE=n.BLOCK_CREATE$$module$build$src$core$events$events,vn.BLOCK_DELETE=n.BLOCK_DELETE$$module$build$src$core$events$events,vn.BLOCK_DRAG=Rf,vn.BLOCK_FIELD_INTERMEDIATE_CHANGE=Of,vn.BLOCK_MOVE=n.BLOCK_MOVE$$module$build$src$core$events$events,vn.BUBBLE_OPEN=Nf,vn.BUMP_EVENTS=X4,vn.BlockBase=bu,vn.BlockChange=yu,vn.BlockCreate=Qd,vn.BlockDelete=T2,vn.BlockDrag=J5,vn.BlockFieldIntermediateChange=Z5,vn.BlockMove=Q5,vn.BubbleOpen=e6,vn.BubbleType=t6,vn.CHANGE=Lf,vn.CLICK=Df,vn.COMMENT_CHANGE=Bf,vn.COMMENT_CREATE=Pf,vn.COMMENT_DELETE=Ff,vn.COMMENT_DRAG=Hf,vn.COMMENT_MOVE=zf,vn.COMMENT_RESIZE=Uf,vn.CREATE=Gf,vn.Click=e2,vn.ClickTarget=t2,vn.CommentBase=Nu,vn.CommentChange=n6,vn.CommentCollapse=r6,vn.CommentCreate=i6,vn.CommentDelete=s6,vn.CommentDrag=o6,vn.CommentMove=l6,vn.CommentResize=a6,vn.DELETE=Vf,vn.FINISHED_LOADING=Wf,vn.FinishedLoading=Mf,vn.MOVE=qf,vn.SELECTED=Xf,vn.Selected=L0,vn.THEME_CHANGE=jf,vn.TOOLBOX_ITEM_SELECT=Yf,vn.TRASHCAN_OPEN=Kf,vn.ThemeChange=Bh,vn.ToolboxItemSelect=u6,vn.TrashcanOpen=G5,vn.UI=Jf,vn.UiBase=mi,vn.VAR_CREATE=Zf,vn.VAR_DELETE=Qf,vn.VAR_RENAME=e8,vn.VIEWPORT_CHANGE=t8,vn.VarBase=c4,vn.VarCreate=z5,vn.VarDelete=U5,vn.VarRename=H5,vn.VarTypeChange=c6,vn.ViewportChange=v2,vn.clearPendingUndo=Ot,vn.disable=n.disable$$module$build$src$core$events$utils,vn.disableOrphans=Xn,vn.enable=n.enable$$module$build$src$core$events$utils,vn.filter=Jt,vn.fire=le,vn.fromJson=Yn,vn.get=an,vn.getDescendantIds=hr,vn.getGroup=n.getGroup$$module$build$src$core$events$utils,vn.getRecordUndo=Ut,vn.isEnabled=sn,vn.setGroup=n.setGroup$$module$build$src$core$events$utils,vn.setRecordUndo=n.setRecordUndo$$module$build$src$core$events$utils;var Lu={};Lu.BottomRow=yf,Lu.ConstantProvider=vf,Lu.Drawer=bf,Lu.PathObject=wf,Lu.RenderInfo=Ef,Lu.Renderer=j5,Lu.RightConnectionShape=Tf,Lu.StatementInput=G3,Lu.TopRow=_f,Td();var zo={};zo.registerCleanup=ad,zo.registerCollapse=cd,zo.registerCollapseExpandBlock=fh,zo.registerComment=a1,zo.registerCommentCreate=bd,zo.registerCommentDelete=$d,zo.registerCommentDuplicate=vd,zo.registerCommentOptions=B4,zo.registerDefaultOptions=Td,zo.registerDelete=md,zo.registerDeleteAll=hu,zo.registerDisable=D4,zo.registerDuplicate=l1,zo.registerExpand=hd,zo.registerHelp=gd,zo.registerInline=pd,zo.registerRedo=dh,zo.registerUndo=ld;var h6="button",n8=class{load(e,t){return e=new Io(t.getWorkspace(),t.targetWorkspace,e,!1),e.show(),new D1(e,h6)}gapForItem(e,t){return t}disposeItem(e){e=e.getElement(),e instanceof Io&&e.dispose()}getType(){return h6}};a(Ft.FLYOUT_INFLATER,h6,n8);var F2={};F2.Bubble=Ni,F2.MiniWorkspaceBubble=fa,F2.TextBubble=S2,F2.TextInputBubble=il;var Sg="WORKSPACE_AT_BLOCK_CAPACITY",d6="block",r8=class{constructor(){this.permanentlyDisabledBlocks=new Set,this.listeners=new Map,this.capacityWrapper=this.filterFlyoutBasedOnCapacity.bind(this)}load(e,t){return this.setFlyout(t),e=this.createBlock(e,t.getWorkspace()),e.isEnabled()?this.updateStateBasedOnCapacity(e):this.permanentlyDisabledBlocks.add(e),e.getDescendants(!1).forEach(i=>i.isInFlyout=!0),this.addBlockListeners(e),new D1(e,d6)}createBlock(e,t){return e.blockxml?(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,t=n0(e,t)):(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[fr]),"x"in e&&delete e.x,"y"in e&&delete e.y,t=Rl(e,t)),t}gapForItem(e,t){let i;return e.gap?i=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,i=parseInt(e.getAttribute("gap"))),!i||isNaN(i)?t:i}disposeItem(e){e=e.getElement(),e instanceof Yi&&(this.removeListeners(e.id),e.dispose(!1,!1))}removeListeners(e){let t;((t=this.listeners.get(e))!=null?t:[]).forEach(i=>Be(i)),this.listeners.delete(e)}setFlyout(e){if(this.flyout!==e){if(this.flyout){let i;(i=this.flyout.targetWorkspace)==null||i.removeChangeListener(this.capacityWrapper)}this.flyout=e;var t;(t=this.flyout.targetWorkspace)==null||t.addChangeListener(this.capacityWrapper)}}updateStateBasedOnCapacity(e){let t,i;const u=(t=this.flyout)==null||(i=t.targetWorkspace)==null?void 0:i.isCapacityAvailable(fs(e));for(;e;)e.setDisabledReason(!u,Sg),e=e.getNextBlock()}addBlockListeners(e){const t=[];t.push(ie(e.getSvgRoot(),"pointerdown",e,i=>{let u,v;const M=(u=this.flyout)==null||(v=u.targetWorkspace)==null?void 0:v.getGesture(i);M&&this.flyout&&(M.setStartBlock(e),M.handleFlyoutStart(i,this.flyout))})),t.push(ke(e.getSvgRoot(),"pointermove",null,()=>{let i,u;!((i=this.flyout)==null||(u=i.targetWorkspace)==null)&&u.isDragging()||e.addSelect()})),t.push(ke(e.getSvgRoot(),"pointerleave",null,()=>{let i,u;!((i=this.flyout)==null||(u=i.targetWorkspace)==null)&&u.isDragging()||e.removeSelect()})),this.listeners.set(e.id,t)}filterFlyoutBasedOnCapacity(e){!this.flyout||e&&e.type!==pt.BLOCK_CREATE&&e.type!==pt.BLOCK_DELETE||this.flyout.getWorkspace().getTopBlocks(!1).forEach(t=>{this.permanentlyDisabledBlocks.has(t)||this.updateStateBasedOnCapacity(t)})}getType(){return d6}};a(Ft.FLYOUT_INFLATER,d6,r8);var i8=class extends mt{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},s8=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Ii(e.xPos,this.info_.startY);for(let t=0,i;i=e.elements[t];t++)We.isLeftSquareCorner(i)?this.steps_+=this.highlightConstants_.START_POINT:We.isLeftRoundedCorner(i)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):We.isPreviousConnection(i)?this.steps_+=this.notchPaths_.pathLeft:We.isHat(i)?this.steps_+=this.startPaths_.path(this.RTL_):We.isSpacer(i)&&i.width!==0&&(this.steps_+=f("H",i.xPos+i.width-this.highlightOffset));this.steps_+=f("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+f("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const i=e.height-t.connectionHeight;this.steps_+=ro(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+f("v",i)}else this.steps_+=ro(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const i=e.height-2*this.insideCornerPaths_.height;this.steps_+=ro(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+f("v",i)+this.insideCornerPaths_.pathBottom(this.RTL_)+dl(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=ro(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+dl(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof nr&&e.followsStatement&&(this.steps_+=f("H",t)),this.RTL_&&(this.steps_+=f("H",t),e.height>this.highlightOffset&&(this.steps_+=f("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=f("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];We.isLeftSquareCorner(t)?this.steps_+=ro(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):We.isLeftRoundedCorner(t)&&(this.steps_+=ro(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=ro(this.info_.startX,e):(this.steps_+=ro(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=f("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,We.isLeftRoundedCorner(e.elements[0])?this.steps_+=f("V",this.outsideCornerPaths_.height):this.steps_+=f("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,i=e.xPos+e.connectionWidth;var u=e.centerline-e.height/2;const v=e.width-e.connectionWidth,M=u+t;this.RTL_?(u=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=ro(i-t,M)+f("v",u)+this.puzzleTabPaths_.pathDown(this.RTL_)+f("v",e)+f("h",v)):this.inlineSteps_+=ro(e.xPos+e.width+t,M)+f("v",e.height)+f("h",-v)+ro(i,u+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},o8=class extends Ht{constructor(e,t){super(e,t),this.highlighter_=new s8(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=f("H",e.xPos+e.width)+f("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let i=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(i*=-1),e.connectionModel.setOffsetInBlock(i,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let i=e.xPos+e.statementEdge+t.notchOffset;i=this.info_.RTL?i*-1:i+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(i,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let i=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(i*=-1),t.connectionModel.setOffsetInBlock(i,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,i=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-i:i)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},l8=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Ii(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,i=(1-Math.SQRT1_2)*(e+t)-t,u=Ii(i,i)+$("a","0 0,0",e,Ln(-i-t,e-i)),v=$("a","0 0,0",e+t,Ln(e+t,e+t)),M=Ii(i,-i)+$("a","0 0,0",e+t,Ln(e-i,i+t));return{width:e+t,height:e,pathTop(Z){return Z?u:""},pathBottom(Z){return Z?v:M}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,i=(1-Math.SQRT1_2)*(e-t)+t,u=Ii(i,i)+$("a","0 0,1",e-t,Ln(e-i,-i+t)),v=Ii(t,e)+$("a","0 0,1",e-t,Ln(e,-e+t)),M=-i,Z=Ii(i,M)+$("a","0 0,1",e-t,Ln(-i+t,-M-e));return{height:e,topLeft(Ie){return Ie?u:v},bottomLeft(){return Z}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,i=Ii(-2,-t+2.5+.9)+dl(e*-.45,-2.1),u=f("v",2.5)+Ii(-e*.97,2.5)+tl("q",[Ln(-e*.05,10),Ln(e*.3,9.5)])+Ii(e*.67,-1.9)+f("v",2.5),v=f("v",-1.5)+Ii(e*-.92,-.5)+tl("q",[Ln(e*-.19,-5.5),Ln(0,-11)])+Ii(e*.92,1),M=Ii(-5,t-.7)+dl(e*.46,-2.1);return{width:e,height:t,pathUp(Z){return Z?i:v},pathDown(Z){return Z?u:M}}}makeNotch(){return{pathLeft:f("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:dl(5.1,2.6)+Ii(-10.2,6.8)+dl(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=Ii(25,-8.7)+tl("c",[Ln(29.7,-6.2),Ln(57.2,-.5),Ln(75,8.7)]),i=tl("c",[Ln(17.8,-9.2),Ln(45.3,-14.9),Ln(75,-8.7)])+ro(100.5,e+.5);return{path(u){return u?t:i}}}},a8=class extends Ge{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},u8=class extends ot{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},c8=class extends qn{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof wl||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new a8(this.constants_,e)),t.hasInlineInput=!0):e instanceof wl?(t.elements.push(new u8(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new p(this.constants_,e)),t.hasExternalInput=!0):(e instanceof sl||e instanceof ql)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let i=0,u;u=this.rows[i];i++)u.hasExternalInput&&(e=!0);for(let i=0,u;u=this.rows[i];i++){var t=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new de(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let v=0;v<t.length-1;v++){u.elements.push(t[v]);const M=this.getInRowSpacing_(t[v],t[v+1]);u.elements.push(new de(this.constants_,M))}u.elements.push(t[t.length-1]),u.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&u.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),u.elements.push(new de(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&We.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&We.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&We.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!We.isInput(e)&&(!t||We.isStatementInput(t)))return We.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:We.isIcon(e)?this.constants_.LARGE_PADDING*2+1:We.isHat(e)?this.constants_.NO_PADDING:We.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:We.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:We.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(We.isInput(e)&&!t){if(We.isExternalInput(e))return this.constants_.NO_PADDING;if(We.isInlineInput(e))return this.constants_.LARGE_PADDING;if(We.isStatementInput(e))return this.constants_.NO_PADDING}if(!We.isInput(e)&&t&&We.isInput(t)){if(We.isField(e)&&e.isEditable){if(We.isInlineInput(t)||We.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(We.isInlineInput(t)||We.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(We.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(We.isIcon(e)&&t&&!We.isInput(t))return this.constants_.LARGE_PADDING;if(We.isInlineInput(e)&&t&&We.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(We.isLeftSquareCorner(e)&&t){if(We.isHat(t))return this.constants_.NO_PADDING;if(We.isPreviousConnection(t))return t.notchOffset;if(We.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(We.isLeftRoundedCorner(e)&&t){if(We.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(We.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return We.isField(e)&&t&&We.isField(t)&&e.isEditable===t.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:t&&We.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return We.isTopRow(e)&&We.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:We.isTopRow(e)||We.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(We.isSpacer(t))return e.yPos+t.height/2;if(We.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,We.isNextConnection(t)?e+t.height/2:e-t.height/2;if(We.isTopRow(e))return We.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let i=e.yPos;return We.isField(t)||We.isIcon(t)?(i+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(i+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):i=We.isInlineInput(t)?i+t.height/2:i+e.height/2,i}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,i=null;for(let u=this.rows.length-1,v;v=this.rows[u];u--)t.set(v,e),We.isInputRow(v)&&(v.hasStatement&&this.alignStatementRow_(v),i&&i.hasStatement&&v.width<i.width?t.set(v,i.width):e=v.hasStatement?v.width:Math.max(e,v.width),i=v);e=0;for(let u=0,v;v=this.rows[u];u++)v.hasStatement?e=this.getDesiredRowWidth_(v):We.isSpacer(v)?v.width=Math.max(e,t.get(v)):(i=v.width,e=Math.max(e,t.get(v))-i,e>0&&this.addAlignmentPadding_(v,e),e=v.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let u=0,v;v=this.rows[u];u++){v.yPos=t,v.xPos=this.startX,t+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var i=t-this.topRow.ascenderHeight;v===this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,t+=i),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(i=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,i.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},h8=class extends hi{constructor(e,t,i){super(e,t,i),this.constants=i,this.colourDark="#000000",this.svgPathDark=ht(ut.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=ht(ut.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=no("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){super.updateHighlighted(e),this.svgPathLight.style.display=e?"none":"inline"}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},d8=class extends Bn{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t,i){super.refreshDom(e,t,i),this.getHighlightConstants().init()}makeConstants_(){return new i8}makeRenderInfo_(e){return new c8(this,e)}makeDrawer_(e,t){return new o8(e,t)}makePathObject(e,t){return new h8(e,t,this.getConstants())}makeHighlightConstants_(){return new l8(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Hl("geras",d8);var Du={};Du.ConstantProvider=i8,Du.Drawer=o8,Du.HighlightConstantProvider=l8,Du.Highlighter=s8,Du.InlineInput=a8,Du.PathObject=h8,Du.RenderInfo=c8,Du.Renderer=d8,Du.StatementInput=u8;var f8=class extends qn{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const u=this.rows[t];var i=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new de(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(let v=0;v<i.length-1;v++){u.elements.push(i[v]);const M=this.getInRowSpacing_(i[v],i[v+1]);u.elements.push(new de(this.constants_,M))}u.elements.push(i[i.length-1]),u.endsWithElemSpacer()&&(i=this.getInRowSpacing_(i[i.length-1],null),e&&u.hasDummyInput&&(i+=this.constants_.TAB_WIDTH),u.elements.push(new de(this.constants_,i)))}}}getInRowSpacing_(e,t){if(!e)return t&&We.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&We.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&We.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!We.isInput(e)&&!t)return We.isField(e)&&e.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:We.isIcon(e)?this.constants_.LARGE_PADDING*2+1:We.isHat(e)?this.constants_.NO_PADDING:We.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:We.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:We.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(We.isInput(e)&&!t){if(We.isExternalInput(e))return this.constants_.NO_PADDING;if(We.isInlineInput(e))return this.constants_.LARGE_PADDING;if(We.isStatementInput(e))return this.constants_.NO_PADDING}if(!We.isInput(e)&&t&&We.isInput(t)){if(We.isField(e)&&e.isEditable){if(We.isInlineInput(t)||We.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(We.isInlineInput(t)||We.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(We.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(We.isIcon(e)&&t&&!We.isInput(t))return this.constants_.LARGE_PADDING;if(We.isInlineInput(e)&&t&&We.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(We.isLeftSquareCorner(e)&&t){if(We.isHat(t))return this.constants_.NO_PADDING;if(We.isPreviousConnection(t)||We.isNextConnection(t))return t.notchOffset}return We.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:We.isField(e)&&t&&We.isField(t)&&e.isEditable===t.isEditable?e.width===0?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING:t&&We.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return We.isTopRow(e)&&We.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:We.isTopRow(e)||We.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(We.isSpacer(t))return e.yPos+t.height/2;if(We.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,We.isNextConnection(t)?e+t.height/2:e-t.height/2;if(We.isTopRow(e))return We.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let i=e.yPos;return i=We.isField(t)&&e.hasStatement?i+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):i+e.height/2}finalize_(){let e=0,t=0;for(var i=0;i<this.rows.length;i++){const v=this.rows[i];v.yPos=t,v.xPos=this.startX,t+=v.height,e=Math.max(e,v.widthWithConnectedBlocks);var u=t-this.topRow.ascenderHeight;v===this.bottomRow&&u<this.constants_.MIN_BLOCK_HEIGHT&&(u=this.constants_.MIN_BLOCK_HEIGHT-u,this.bottomRow.height+=u,t+=u),this.recordElemPositions_(v)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(i=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,i.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},p8=class extends Bn{constructor(e){super(e)}makeRenderInfo_(e){return new f8(this,e)}};Hl("thrasos",p8);var f6={};f6.RenderInfo=f8,f6.Renderer=p8;var xg={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},Cg={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},kg=new Ic("zelos",xg,Cg),Ag={Classic:Ph,Zelos:kg},p6=class{constructor(e,t,i){this.id_=e.toolboxitemid||Xe(),this.level_=(this.parent_=i||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}getFocusableElement(){const e=this.getDiv();if(!e)throw Error("Trying to access toolbox item before DOM is initialized.");if(!(e instanceof HTMLElement))throw Error("Toolbox item div is unexpectedly not an HTML element.");return e}getFocusableTree(){return this.parentToolbox_}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}},Qa=class extends p6{constructor(e,t,i){super(e,t,i),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategoryContainer",row:"blocklyToolboxCategory",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyToolboxCategoryIcon",label:"blocklyToolboxCategoryLabel",contents:"blocklyToolboxCategoryGroup",selected:"blocklyToolboxSelected",openicon:"blocklyToolboxCategoryIconOpen",closedicon:"blocklyToolboxCategoryIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const i=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(i)}}parseCategoryDef_(e){this.name_="name"in e?lr(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),er(this.htmlDiv_,$l.TREEITEM),Ur(this.htmlDiv_,Ts.SELECTED,!1),Ur(this.htmlDiv_,Ts.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),er(this.iconDom_,$l.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Ur(this.htmlDiv_,Ts.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const t=this.cssConfig_.container;return t&&tn(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&tn(e,t),t=`${Qa.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&tn(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&tn(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&tn(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=Qa.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle(t);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=lr(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=ue(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):po(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&Wr(e,t),(t=this.cssConfig_.openicon)&&tn(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&Wr(e,t),(t=this.cssConfig_.closedicon)&&tn(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const i=this.parseColour(Qa.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||i,t&&tn(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&Jn(this.rowDiv_,t);Ur(this.htmlDiv_,Ts.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:wn(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){on(this.htmlDiv_)}};Qa.registrationName="category",Qa.nestedPadding=19,Qa.borderWidth=8,Qa.defaultBackgroundColour="#57e",dn(`
.blocklyToolboxCategory:not(.blocklyToolboxSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolbox[layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 5px 1px 0;
}

.blocklyToolbox[dir="RTL"][layout="h"] .blocklyToolboxCategoryContainer {
  margin: 1px 0 1px 5px;
}

.blocklyToolboxCategory {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategory {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyToolboxCategoryIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyToolboxCategoryIconClosed {
  background-position: -32px -1px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxCategoryIconClosed {
  background-position: 0 -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: -32px -17px;
}

.blocklyToolbox[dir="RTL"] .blocklyToolboxSelected>.blocklyToolboxCategoryIconClosed {
  background-position: 0 -17px;
}

.blocklyToolboxCategoryIconOpen {
  background-position: -16px -1px;
}

.blocklyToolboxSelected>.blocklyToolboxCategoryIconOpen {
  background-position: -16px -17px;
}

.blocklyToolboxCategoryLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyToolboxCategoryLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxSelected .blocklyToolboxCategoryLabel {
  color: #fff;
}
`),a(Ft.TOOLBOX_ITEM,Qa.registrationName,Qa);var z2=class extends p6{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div");e.tabIndex=-1,e.id=this.getId();const t=this.cssConfig_.container;return t&&tn(e,t),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){on(this.htmlDiv)}};z2.registrationName="sep",dn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolbox[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),a(Ft.TOOLBOX_ITEM,z2.registrationName,z2);var p4=class extends Qa{constructor(e,t,i){super(e,t,i),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxCategoryGroup",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let i=0;i<t.length;i++){const u=t[i];!C(Ft.TOOLBOX_ITEM,u.kind)||u.kind.toLowerCase()===z2.registrationName&&e?(this.flyoutItems_.push(u),e=!0):(this.createToolboxItem(u),e=!1)}}}}createToolboxItem(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&cr(e)&&(t=p4.registrationName),e=new(x(Ft.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),er(this.subcategoriesDiv_,$l.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),Ur(this.htmlDiv_,Ts.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&tn(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var i=this.cssConfig_.contents;for(i&&tn(t,i),i=0;i<e.length;i++){const u=e[i];u.init();const v=u.getDiv();if(t.appendChild(v),u.getClickTarget){let M;(M=u.getClickTarget())==null||M.setAttribute("id",u.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}Ur(this.htmlDiv_,Ts.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let i=0;i<t.length;i++)t[i].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};p4.registrationName="collapsibleCategory",a(Ft.TOOLBOX_ITEM,p4.registrationName,p4);var m8=class extends L1{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.height_=this.width_=0,this.flyout=null,this.contents=new Map,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_);const i=this.flyout.createDom("svg");tn(i,"blocklyToolboxFlyout"),Ti(i,t),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:Ei.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[Ei.Capability.AUTOHIDEABLE,Ei.Capability.DELETE_AREA,Ei.Capability.DRAG_TARGET]}),n.getFocusManager$$module$build$src$core$focus_manager().registerTree(this,!0)}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return t.id=Xe(),this.contentsDiv_=this.createContentsContainer_(),er(this.contentsDiv_,$l.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),tn(e,"blocklyToolbox"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return tn(e,"blocklyToolboxCategoryGroup"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=ie(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=ie(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(ye(e)||e.target===this.HtmlDiv)O().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),O().hideChaff(!0)}fe()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext();break;case"ArrowUp":t=this.selectPrevious();break;case"ArrowLeft":t=this.selectParent();break;case"ArrowRight":t=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=e.copyOptionsForFlyout();return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?R(Ft.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):R(Ft.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e,this.contents.forEach(t=>t.dispose()),this.contents.clear(),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let i=0;i<e.length;i++)this.createToolboxItem(e[i],t);this.contentsDiv_.appendChild(t)}createToolboxItem(e,t){var i=e.kind;i.toUpperCase()==="CATEGORY"&&cr(e)&&(i=p4.registrationName),(i=x(Ft.TOOLBOX_ITEM,i.toLowerCase()))&&(e=new i(e,this),e.init(),this.addToolboxItem_(e),(i=e.getDiv())&&t.appendChild(i),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents.set(e.getId(),e),e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return[...this.contents.values()]}addStyle(e){e&&this.HtmlDiv&&tn(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&Jn(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,i=t+e.height,u=e.left;return e=u+e.width,this.toolboxPosition===Er.TOP?new $r(-1e7,i,-1e7,1e7):this.toolboxPosition===Er.BOTTOM?new $r(t,1e7,-1e7,1e7):this.toolboxPosition===Er.LEFT?new $r(-1e7,1e7,-1e7,e):new $r(-1e7,1e7,u,1e7)}wouldDelete(e){return e instanceof Yi?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(zi(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contents.get(e)||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Er.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Er.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_;var t=this.HtmlDiv.getBoundingClientRect();const i=this.getFlyout(),u=this.toolboxPosition===Er.LEFT?e.scrollX+t.width+(i!=null&&i.isVisible()?i.getWidth():0):e.scrollX;t=this.toolboxPosition===Er.TOP?e.scrollY+t.height+(i!=null&&i.isVisible()?i.getHeight():0):e.scrollY,e.translate(u,t),ds(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){this.contents.forEach(e=>{e.refreshTheme&&e.refreshTheme()})}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!F4(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Ur(this.contentsDiv_,Ts.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Ur(this.contentsDiv_,Ts.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){(e=this.getToolboxItems()[e])&&this.setSelectedItem(e)}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout.show(t.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,t){const i=e&&e.getName();let u=t&&t.getName();e===t&&(u=null),e=new(an(pt.TOOLBOX_ITEM_SELECT))(i,u,this.workspace_.id),le(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let t=e.indexOf(this.selectedItem_)+1;if(t>-1&&t<e.length){let i=e[t];for(;i&&!i.isSelectable();)i=e[++t];if(i&&i.isSelectable())return this.setSelectedItem(i),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;const e=[...this.contents.values()];let t=e.indexOf(this.selectedItem_)-1;if(t>-1&&t<e.length){let i=e[t];for(;i&&!i.isSelectable();)i=e[--t];if(i&&i.isSelectable())return this.setSelectedItem(i),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose(),this.contents.forEach(e=>e.dispose());for(let e=0;e<this.boundEvents_.length;e++)Be(this.boundEvents_[e]);this.boundEvents_=[],this.contents.clear(),this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),on(this.HtmlDiv)),n.getFocusManager$$module$build$src$core$focus_manager().unregisterTree(this)}getFocusableElement(){if(!this.HtmlDiv)throw Error("Toolbox DOM has not yet been created.");return this.HtmlDiv}getFocusableTree(){return this}onNodeFocus(){}onNodeBlur(){}canBeFocused(){return!0}getRootFocusableNode(){return this}getRestoredFocusableNode(e){if(!e||e===this){let t;return(t=this.getToolboxItems().find(i=>i.isSelectable()))!=null?t:null}return null}getNestedTrees(){return[]}lookUpFocusableNode(e){return this.getToolboxItemById(e)}onTreeFocus(e,t){e!==this?this.getSelectedItem()!==e&&this.setSelectedItem(e):this.clearSelection()}onTreeBlur(e){let t;e&&e===((t=this.flyout)==null?void 0:t.getWorkspace())||this.autoHide(!1)}};dn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolbox {
  box-sizing: border-box;
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxCategoryGroup {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxCategoryGroup:focus {
  outline: none;
}
`),a(Ft.TOOLBOX,pl,m8);var Ig="12.3.1",Mg=Tn.INPUT_VALUE,Rg=Tn.OUTPUT_VALUE,Og=Tn.NEXT_STATEMENT,Ng=Tn.PREVIOUS_STATEMENT,Lg=Er.TOP,Dg=Er.BOTTOM,Bg=Er.LEFT,Pg=Er.RIGHT;u4.prototype.newBlock=function(e,t){return new D0(this,e,t)},Sl.prototype.newBlock=function(e,t){return new Yi(this,e,t)},u4.prototype.newComment=function(e){return new M1(this,e)},Sl.prototype.newComment=function(e){return new o0(this,e)},Sl.newTrashcan=function(e){return new hf(e)},fa.prototype.newWorkspaceSvg=function(e){return new Sl(e)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=go(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var $t={};return $t.Block=D0,$t.BlockFlyoutInflater=r8,$t.BlockNavigationPolicy=C2,$t.BlockSvg=Yi,$t.Blocks=bs,$t.ButtonFlyoutInflater=n8,$t.COLLAPSED_FIELD_NAME=Fr,$t.COLLAPSED_INPUT_NAME=Ri,$t.COLLAPSE_CHARS=C3,$t.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,$t.CollapsibleToolboxCategory=p4,$t.ComponentManager=Ei,$t.Connection=ci,$t.ConnectionChecker=B3,$t.ConnectionDB=ja,$t.ConnectionNavigationPolicy=A2,$t.ConnectionType=Tn,$t.ContextMenu=Xa,$t.ContextMenuItems=zo,$t.ContextMenuRegistry=wr,$t.Css=bc,$t.DELETE_VARIABLE_ID=w2,$t.DeleteArea=L1,$t.DragTarget=I3,$t.DropDownDiv=Bo,$t.Events=vn,$t.Extensions=l0,$t.Field=Oi,$t.FieldCheckbox=qh,$t.FieldDropdown=ko,$t.FieldImage=Wh,$t.FieldLabel=Oc,$t.FieldLabelSerializable=Af,$t.FieldNavigationPolicy=I2,$t.FieldNumber=K5,$t.FieldTextInput=n.FieldTextInput$$module$build$src$core$field_textinput,$t.FieldVariable=B2,$t.Flyout=Iu,$t.FlyoutButton=Io,$t.FlyoutButtonNavigationPolicy=M3,$t.FlyoutItem=D1,$t.FlyoutMetricsManager=zh,$t.FlyoutNavigationPolicy=P1,$t.FlyoutNavigator=Ya,$t.FlyoutSeparator=i4,$t.FlyoutSeparatorNavigationPolicy=x2,$t.FocusManager=So,$t.FocusableTreeTraverser=$o,$t.Generator=n.CodeGenerator$$module$build$src$core$generator,$t.Gesture=Gh,$t.Grid=U1,$t.HorizontalFlyout=kf,$t.INPUT_VALUE=Mg,$t.Input=Lc,$t.InsertionMarkerPreviewer=Sf,$t.KeyboardNavigationController=Ka,$t.LabelFlyoutInflater=$f,$t.LineCursor=H1,$t.Marker=D3,$t.MarkerManager=G1,$t.Menu=s2,$t.MenuItem=Dd,$t.MetricsManager=B1,$t.Msg=n.Msg$$module$build$src$core$msg,$t.NEXT_STATEMENT=Og,$t.Names=n.Names$$module$build$src$core$names,$t.Navigator=Uh,$t.OPPOSITE_TYPE=Nc,$t.OUTPUT_VALUE=Rg,$t.Options=N0,$t.PREVIOUS_STATEMENT=Ng,$t.PROCEDURE_CATEGORY_NAME=Vh,$t.Procedures=Mo,$t.RENAME_VARIABLE_ID=E2,$t.RenderedConnection=Ao,$t.Scrollbar=Cs,$t.ScrollbarPair=ga,$t.SeparatorFlyoutInflater=z1,$t.ShortcutItems=Ou,$t.ShortcutRegistry=Hi,$t.TOOLBOX_AT_BOTTOM=Dg,$t.TOOLBOX_AT_LEFT=Bg,$t.TOOLBOX_AT_RIGHT=Pg,$t.TOOLBOX_AT_TOP=Lg,$t.Theme=Ic,$t.ThemeManager=Zr,$t.Themes=Ag,$t.Toast=lo,$t.Toolbox=m8,$t.ToolboxCategory=Qa,$t.ToolboxItem=p6,$t.ToolboxSeparator=z2,$t.Tooltip=Tl,$t.Touch=du,$t.Trashcan=hf,$t.UnattachedFieldError=Vs,$t.VARIABLE_CATEGORY_NAME=xh,$t.VARIABLE_DYNAMIC_CATEGORY_NAME=$i,$t.VERSION=Ig,$t.VariableMap=cf,$t.VariableModel=uf,$t.Variables=ks,$t.VariablesDynamic=ol,$t.VerticalFlyout=Y5,$t.WidgetDiv=Vl,$t.Workspace=u4,$t.WorkspaceAudio=af,$t.WorkspaceDragger=N2,$t.WorkspaceNavigationPolicy=O2,$t.WorkspaceSvg=Sl,$t.Xml=Po,$t.ZoomControls=la,$t.blockAnimations=Au,$t.blockRendering=_n,$t.browserEvents=ta,$t.bubbles=F2,$t.bumpObjects=N1,$t.clipboard=Za,$t.comments=V1,$t.common=Hs,$t.config=n.config$$module$build$src$core$config,$t.constants=Xi,$t.defineBlocksWithJsonArray=me,$t.dialog=vl,$t.dragging=P2,$t.fieldRegistry=e4,$t.geras=Du,$t.getFocusManager=n.getFocusManager$$module$build$src$core$focus_manager,$t.getMainWorkspace=O,$t.getSelected=Le,$t.hasBubble=p0,$t.hideChaff=f3,$t.icons=Ja,$t.inject=I4,$t.inputs=W1,$t.isCopyable=pc,$t.isDeletable=zi,$t.isDraggable=pi,$t.isIcon=K,$t.isObservable=qi,$t.isPaster=_d,$t.isRenderedElement=P4,$t.isSelectable=Ce,$t.isSerializable=Ea,$t.isVariableBackedParameterModel=tr,$t.keyboardNavigationController=l4,$t.layers=B5,$t.navigateBlock=$s,$t.navigateStacks=as,$t.procedures=Mo,$t.registry=Pa,$t.renderManagement=R0,$t.serialization=wg,$t.setLocale=Ga,$t.setParentContainer=Qr,$t.svgResize=ds,$t.thrasos=f6,$t.uiPosition=oo,$t.utils=ts,$t.zelos=Lu,$t.__namespace__=n,$t})})(o5)),o5.exports}var i$=S5();const s$=Xu(i$),{Block:pS,BlockFlyoutInflater:mS,BlockNavigationPolicy:gS,BlockSvg:$S,Blocks:vS,ButtonFlyoutInflater:bS,COLLAPSED_FIELD_NAME:yS,COLLAPSED_INPUT_NAME:TS,COLLAPSE_CHARS:_S,CodeGenerator:ES,CollapsibleToolboxCategory:wS,ComponentManager:SS,Connection:xS,ConnectionChecker:CS,ConnectionDB:kS,ConnectionNavigationPolicy:AS,ConnectionType:IS,ContextMenu:MS,ContextMenuItems:RS,ContextMenuRegistry:OS,Css:NS,DELETE_VARIABLE_ID:LS,DeleteArea:DS,DragTarget:BS,DropDownDiv:PS,Events:FS,Extensions:zS,Field:US,FieldCheckbox:HS,FieldDropdown:GS,FieldImage:VS,FieldLabel:WS,FieldLabelSerializable:qS,FieldNavigationPolicy:XS,FieldNumber:jS,FieldTextInput:YS,FieldVariable:KS,Flyout:JS,FlyoutButton:ZS,FlyoutButtonNavigationPolicy:QS,FlyoutItem:ex,FlyoutMetricsManager:tx,FlyoutNavigationPolicy:nx,FlyoutNavigator:rx,FlyoutSeparator:ix,FlyoutSeparatorNavigationPolicy:sx,FocusManager:ox,FocusableTreeTraverser:lx,Generator:ax,Gesture:ux,Grid:cx,HorizontalFlyout:hx,INPUT_VALUE:dx,Input:fx,InsertionMarkerPreviewer:px,KeyboardNavigationController:mx,LabelFlyoutInflater:gx,LineCursor:$x,Marker:vx,MarkerManager:bx,Menu:yx,MenuItem:Tx,MetricsManager:_x,Msg:Ex,NEXT_STATEMENT:wx,Names:Sx,Navigator:xx,OPPOSITE_TYPE:Cx,OUTPUT_VALUE:kx,Options:Ax,PREVIOUS_STATEMENT:Ix,PROCEDURE_CATEGORY_NAME:Mx,Procedures:Rx,RENAME_VARIABLE_ID:Ox,RenderedConnection:Nx,Scrollbar:Lx,ScrollbarPair:Dx,SeparatorFlyoutInflater:Bx,ShortcutItems:Px,ShortcutRegistry:Fx,TOOLBOX_AT_BOTTOM:zx,TOOLBOX_AT_LEFT:Ux,TOOLBOX_AT_RIGHT:Hx,TOOLBOX_AT_TOP:Gx,Theme:Vx,ThemeManager:Wx,Themes:qx,Toast:Xx,Toolbox:jx,ToolboxCategory:Yx,ToolboxItem:Kx,ToolboxSeparator:Jx,Tooltip:Zx,Touch:Qx,Trashcan:eC,UnattachedFieldError:tC,VARIABLE_CATEGORY_NAME:nC,VARIABLE_DYNAMIC_CATEGORY_NAME:rC,VERSION:iC,VariableMap:sC,VariableModel:oC,Variables:lC,VariablesDynamic:aC,VerticalFlyout:uC,WidgetDiv:cC,Workspace:hC,WorkspaceAudio:dC,WorkspaceDragger:fC,WorkspaceNavigationPolicy:pC,WorkspaceSvg:mC,Xml:X2,ZoomControls:gC,blockAnimations:$C,blockRendering:vC,browserEvents:bC,bubbles:yC,bumpObjects:TC,clipboard:_C,comments:EC,common:wC,config:SC,constants:xC,defineBlocksWithJsonArray:CC,dialog:kC,dragging:AC,fieldRegistry:IC,geras:MC,getFocusManager:RC,getMainWorkspace:OC,getSelected:NC,hasBubble:LC,hideChaff:DC,icons:BC,inject:o$,inputs:PC,isCopyable:FC,isDeletable:zC,isDraggable:UC,isIcon:HC,isObservable:GC,isPaster:VC,isRenderedElement:WC,isSelectable:qC,isSerializable:XC,isVariableBackedParameterModel:jC,keyboardNavigationController:YC,layers:KC,navigateBlock:JC,navigateStacks:ZC,procedures:QC,registry:ek,renderManagement:tk,serialization:Em,setLocale:nk,setParentContainer:rk,svgResize:ik,thrasos:sk,uiPosition:ok,utils:l$,zelos:lk}=s$;function a$(o,s){var n=null,a=null,d=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];a=function(){n=null,o.apply(void 0,b)},n!=null&&clearTimeout(n),n=window.setTimeout(a,s)},m=function(){n!=null&&(clearTimeout(n),a&&a())};return[d,m]}var g5=function(){return g5=Object.assign||function(o){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},g5.apply(this,arguments)};function u$(o,s,n){try{return s.getAllBlocks(!1).length>0?void 0:(X2.domToWorkspace(l$.xml.textToDom(o),s),!0)}catch(a){return n&&n(a),!1}}function c$(o,s,n){try{return Em.workspaces.load(o,s),!0}catch(a){return n&&n(a),!1}}var h$=function(o){var s=o.ref,n=o.initialXml,a=o.initialJson,d=o.toolboxConfiguration,m=o.workspaceConfiguration,b=o.onWorkspaceChange,C=o.onImportXmlError,x=o.onImportError,k=o.onInject,E=o.onDispose;x=x??C;var R=Ds.useState(null),q=R[0],z=R[1],fe=Ds.useState(n||null),ve=fe[0],ge=fe[1],re=Ds.useState(a||null),ie=re[0],ke=re[1],Be=Ds.useState(!1),Ke=Be[0],ye=Be[1],Ve=Ds.useState(!1),st=Ve[0],Xe=Ve[1],Qt=Ds.useRef(m);Ds.useEffect(function(){Qt.current=m},[m]);var It=Ds.useRef(d);Ds.useEffect(function(){It.current=d,d&&q&&!m?.readOnly&&q.updateToolbox(d)},[d,q,m]);var De=Ds.useRef(k),Bt=Ds.useRef(E);Ds.useEffect(function(){De.current=k},[k]),Ds.useEffect(function(){Bt.current=E},[E]);var kt=Ds.useCallback(function(nt){b&&b(nt)},[b]);return Ds.useEffect(function(){if(s.current){var nt=o$(s.current,g5(g5({},Qt.current),{toolbox:It.current}));z(nt),ye(!1),Xe(!1),De.current&&De.current(nt);var Ze=Bt.current;return function(){nt.dispose(),Ze&&Ze(nt)}}},[s]),Ds.useEffect(function(){q&&!st&&kt(q)},[kt,st,q]),Ds.useEffect(function(){if(q!=null){var nt=function(){kt(q)};return q.addChangeListener(nt),function(){q.removeChangeListener(nt)}}},[q,kt]),Ds.useEffect(function(){if(q!=null){var nt=a$(function(){var ft=X2.domToText(X2.workspaceToDom(q));if(ft!==ve){var Ut=Em.workspaces.save(q);ke(Ut),ge(ft)}},200),Ze=nt[0],vt=nt[1];return q.addChangeListener(Ze),function(){q.removeChangeListener(Ze),vt()}}},[q,ve]),Ds.useEffect(function(){if(ve&&q&&!Ke){var nt=u$(ve,q,x);nt||ge(null),ye(!0)}else if(ie&&q&&!Ke){var nt=c$(ie,q,x);nt||ke(null);var Ze=X2.domToText(X2.workspaceToDom(q));ge(Ze),ye(!0)}},[ie,ve,q,Ke,x]),{workspace:q,xml:ve,json:ie}},E6={exports:{}},w6,O8;function d$(){if(O8)return w6;O8=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w6=o,w6}var S6,N8;function f$(){if(N8)return S6;N8=1;var o=d$();function s(){}function n(){}return n.resetWarningCache=s,S6=function(){function a(b,C,x,k,E,R){if(R!==o){var q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw q.name="Invariant Violation",q}}a.isRequired=a;function d(){return a}var m={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:d,element:a,elementType:a,instanceOf:d,node:a,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:n,resetWarningCache:s};return m.PropTypes=m,m},S6}var L8;function wm(){return L8||(L8=1,E6.exports=f$()()),E6.exports}var p$=wm();const va=Xu(p$);var m$={initialXml:va.string,initialJson:va.object,toolboxConfiguration:va.object,workspaceConfiguration:va.object,className:va.string,onWorkspaceChange:va.func,onImportXmlError:va.func,onImportError:va.func,onXmlChange:va.func,onJsonChange:va.func,onInject:va.func,onDispose:va.func};function w7(o){var s=o.initialXml,n=o.initialJson,a=o.toolboxConfiguration,d=o.workspaceConfiguration,m=o.className,b=o.onWorkspaceChange,C=o.onXmlChange,x=o.onJsonChange,k=o.onImportXmlError,E=o.onImportError,R=o.onInject,q=o.onDispose,z=Ds.useRef(null),fe=h$({ref:z,initialXml:s,initialJson:n,toolboxConfiguration:a,workspaceConfiguration:d,onWorkspaceChange:b,onImportXmlError:k,onImportError:E,onInject:R,onDispose:q}),ve=fe.xml,ge=fe.json,re=Ds.useRef(C);Ds.useEffect(function(){re.current=C},[C]);var ie=Ds.useRef(x);return Ds.useEffect(function(){ie.current=x},[x]),Ds.useEffect(function(){re.current&&ve&&re.current(ve),ie.current&&ge&&ie.current(ge)},[ve,ge]),xe.jsx("div",{className:m,ref:z})}w7.propTypes=m$;var l5={exports:{}},a5={exports:{}},g$=a5.exports,D8;function $$(){return D8||(D8=1,(function(o,s){(function(n,a){o.exports=a()})(g$,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.ALT_KEY="Alt",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CHROME_OS="ChromeOS",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.CLOSE="Close",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.COMMAND_KEY=" Command",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.CONTROL_KEY="Ctrl",n.Msg.COPY_SHORTCUT="Copy",n.Msg.CUT_SHORTCUT="Cut",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.EDIT_BLOCK_CONTENTS="Edit Block contents",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.HELP_PROMPT="Press %1 for help on keyboard controls",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.KEYBOARD_NAV_CONSTRAINED_MOVE_HINT="Use the arrow keys to move, then %1 to accept the position",n.Msg.KEYBOARD_NAV_COPIED_HINT="Copied. Press %1 to paste.",n.Msg.KEYBOARD_NAV_CUT_HINT="Cut. Press %1 to paste.",n.Msg.KEYBOARD_NAV_UNCONSTRAINED_MOVE_HINT="Hold %1 and use arrow keys to move freely, then %2 to accept the position",n.Msg.LINUX="Linux",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MAC_OS="macOS",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1  %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.MOVE_BLOCK="Move Block",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.OPTION_KEY=" Option",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PASTE_SHORTCUT="Paste",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.SHORTCUTS_CODE_NAVIGATION="Code navigation",n.Msg.SHORTCUTS_EDITING="Editing",n.Msg.SHORTCUTS_GENERAL="General",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNKNOWN="Unknown",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WINDOWS="Windows",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.COLOUR_HUE="20",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.PROCEDURES_HUE="290",n.Msg.TEXTS_HUE="160",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.VARIABLES_HUE="330",n.Msg})})(a5)),a5.exports}var u5={exports:{}},v$=u5.exports,B8;function b$(){return B8||(B8=1,(function(o,s){(function(n,a){o.exports=a(S5())})(v$,function(n){var a=n.__namespace__,d=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),m={customContextMenu:function(O){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(Le={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:b(this)},Me=this.getField("VAR").getText(),Me={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Me),enabled:!0,callback:C(this)},O.unshift(Le),O.unshift(Me));else{if(this.type==="variables_get_dynamic")var oe="variables_set_dynamic",Le=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else oe="variables_get_dynamic",Le=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Me=this.getField("VAR");oe={type:oe,fields:{VAR:Me.saveState(!0)}},O.push({enabled:this.workspace.remainingCapacity()>0,text:Le.replace("%1",Me.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,oe)})}},onchange:function(O){O=this.getFieldValue("VAR"),O=a.getVariable$$module$build$src$core$variables(this.workspace,O),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(O.getType()):this.getInput("VALUE").connection.setCheck(O.getType())}},b=function(O){return function(){const oe=O.workspace,Le=O.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(oe,Le)}},C=function(O){return function(){const oe=O.getField("VAR").getVariable();oe&&a.deleteVariable$$module$build$src$core$variables(oe.getWorkspace(),oe,O)}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",m),a.defineBlocks$$module$build$src$core$common(d);var x={blocks:d},k=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),E={customContextMenu:function(O){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(Le={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:R(this)},Me=this.getField("VAR").getText(),Me={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Me),enabled:!0,callback:q(this)},O.unshift(Le),O.unshift(Me));else{if(this.type==="variables_get")var oe="variables_set",Le=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else oe="variables_get",Le=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var Me=this.getField("VAR");oe={type:oe,fields:{VAR:Me.saveState(!0)}},O.push({enabled:this.workspace.remainingCapacity()>0,text:Le.replace("%1",Me.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,oe)})}}},R=function(O){return function(){const oe=O.workspace,Le=O.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(oe,Le)}},q=function(O){return function(){const oe=O.getField("VAR").getVariable();oe&&a.deleteVariable$$module$build$src$core$variables(oe.getWorkspace(),oe,O)}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",E),a.defineBlocks$$module$build$src$core$common(k);var z={blocks:k},fe=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),ve={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const O=oe=>{const Le=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+oe]});return Le.setValidator(function(Me){const Nt=this.getValue();Me=Me==="FROM_START"||Me==="FROM_END",Me!==(Nt==="FROM_START"||Nt==="FROM_END")&&this.getSourceBlock().updateAt_(oe,Me)}),Le};this.appendDummyInput("WHERE1_INPUT").appendField(O(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(O(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");var oe=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return O.setAttribute("at1",`${oe}`),oe=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,O.setAttribute("at2",`${oe}`),O},domToMutation:function(O){const oe=O.getAttribute("at1")==="true";O=O.getAttribute("at2")==="true",this.updateAt_(1,oe),this.updateAt_(2,O)},updateAt_:function(O,oe){this.removeInput("AT"+O),this.removeInput("ORDINAL"+O,!0),oe?(this.appendValueInput("AT"+O).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+O).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+O),O===2&&a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),O===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};fe.text_getSubstring=ve,fe.text_changeCase={init:function(){const O=[[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},fe.text_trim={init:function(){const O=[[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},fe.text_print={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var ge={updateType_:function(O){this.outputConnection.setCheck(O==="NUMBER"?"Number":"String")},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("type",this.getFieldValue("TYPE")),O},domToMutation:function(O){this.updateType_(O.getAttribute("type"))}};fe.text_prompt_ext=Object.assign({},ge,{init:function(){var O=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),O.setValidator(oe=>{this.updateType_(oe)}),this.appendValueInput("TEXT").appendField(O,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),fe.text_prompt=Object.assign({},ge,{init:function(){this.mixin(re);var O=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),O.setValidator(oe=>{this.updateType_(oe)}),this.appendDummyInput().appendField(O,"TYPE").appendField(this.newQuote_(!0)).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),fe.text_count={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},fe.text_replace={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},fe.text_reverse={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var re={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(O){for(let oe=0,Le;Le=this.inputList[oe];oe++)for(let Me=0,Nt;Nt=Le.fieldRow[Me];Me++)if(O===Nt.name){Le.insertFieldAt(Me,this.newQuote_(!0)),Le.insertFieldAt(Me+2,this.newQuote_(!1));return}console.warn('field named "'+O+'" not found in '+this.toDevString())},newQuote_:function(O){return O=this.RTL?!O:O,a.fromJson$$module$build$src$core$field_registry({type:"field_image",src:O?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:O?"":""})}},ie=function(){this.mixin(re),this.quoteField_("TEXT")},ke={itemCount_:0,mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("items",`${this.itemCount_}`),O},domToMutation:function(O){this.itemCount_=parseInt(O.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(O){this.itemCount_=O.itemCount,this.updateShape_()},decompose:function(O){const oe=O.newBlock("text_create_join_container");oe.initSvg();let Le=oe.getInput("STACK").connection;for(let Me=0;Me<this.itemCount_;Me++){const Nt=O.newBlock("text_create_join_item");Nt.initSvg(),Le.connect(Nt.previousConnection),Le=Nt.nextConnection}return oe},compose:function(O){var oe=O.getInputTargetBlock("STACK");for(O=[];oe;)oe.isInsertionMarker()||O.push(oe.valueConnection_),oe=oe.getNextBlock();for(oe=0;oe<this.itemCount_;oe++){const Le=this.getInput("ADD"+oe).connection.targetConnection;Le&&!O.includes(Le)&&Le.disconnect()}for(this.itemCount_=O.length,this.updateShape_(),oe=0;oe<this.itemCount_;oe++){let Le;(Le=O[oe])==null||Le.reconnect(this,"ADD"+oe)}},saveConnections:function(O){O=O.getInputTargetBlock("STACK");let oe=0;for(;O;){if(O.isInsertionMarker()){O=O.getNextBlock();continue}const Le=this.getInput("ADD"+oe);O.valueConnection_=Le&&Le.connection.targetConnection,O=O.getNextBlock(),oe++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var O=0;O<this.itemCount_;O++)if(!this.getInput("ADD"+O)){const oe=this.appendValueInput("ADD"+O).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);O===0&&oe.appendField(a.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(O=this.itemCount_;this.getInput("ADD"+O);O++)this.removeInput("ADD"+O)}},Be=function(){this.mixin(re),this.itemCount_=2,this.updateShape_(),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};a.register$$module$build$src$core$extensions("text_append_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var Ke=function(){this.setTooltip(()=>a.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},ye={isAt_:!1,mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("at",`${this.isAt_}`),O},domToMutation:function(O){O=O.getAttribute("at")!=="false",this.updateAt_(O)},updateAt_:function(O){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),O&&(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=O}},Ve=function(){this.getField("WHERE").setValidator(function(O){O=O==="FROM_START"||O==="FROM_END";const oe=this.getSourceBlock();O!==oe.isAt_&&oe.updateAt_(O)}),this.updateAt_(!0),this.setTooltip(()=>{var O=this.getFieldValue("WHERE");let oe=a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(O==="FROM_START"||O==="FROM_END")&&(O=O==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(oe+="  "+O.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),oe})};a.register$$module$build$src$core$extensions("text_indexOf_tooltip",Ke),a.register$$module$build$src$core$extensions("text_quotes",ie),a.registerMixin$$module$build$src$core$extensions("quote_image_mixin",re),a.registerMutator$$module$build$src$core$extensions("text_join_mutator",ke,Be),a.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",ye,Ve),a.defineBlocks$$module$build$src$core$common(fe);var st={blocks:fe},Xe={},Qt={setStatements_:function(O){this.hasStatements_!==O&&(O?(this.appendStatementInput("STACK").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=O)},updateParams_:function(){let O="";this.arguments_.length&&(O=a.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),a.disable$$module$build$src$core$events$utils();try{this.setFieldValue(O,"PARAMS")}finally{a.enable$$module$build$src$core$events$utils()}},mutationToDom:function(O){const oe=a.createElement$$module$build$src$core$utils$xml("mutation");O&&oe.setAttribute("name",this.getFieldValue("NAME"));for(let Le=0;Le<this.argumentVarModels_.length;Le++){const Me=a.createElement$$module$build$src$core$utils$xml("arg"),Nt=this.argumentVarModels_[Le];Me.setAttribute("name",Nt.getName()),Me.setAttribute("varid",Nt.getId()),O&&this.paramIds_&&Me.setAttribute("paramId",this.paramIds_[Le]),oe.appendChild(Me)}return this.hasStatements_||oe.setAttribute("statements","false"),oe},domToMutation:function(O){this.arguments_=[],this.argumentVarModels_=[];for(let Le=0,Me;Me=O.childNodes[Le];Le++)if(Me.nodeName.toLowerCase()==="arg"){var oe=Me;const Nt=oe.getAttribute("name");oe=oe.getAttribute("varid")||oe.getAttribute("varId"),this.arguments_.push(Nt),oe=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,oe,Nt,""),oe!==null?this.argumentVarModels_.push(oe):console.log(`Failed to create a variable named "${Nt}", ignoring.`)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(O.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const O=Object.create(null);if(this.argumentVarModels_.length){O.params=[];for(let oe=0;oe<this.argumentVarModels_.length;oe++)O.params.push({name:this.argumentVarModels_[oe].getName(),id:this.argumentVarModels_[oe].getId()})}return this.hasStatements_||(O.hasStatements=!1),O},loadExtraState:function(O){if(this.arguments_=[],this.argumentVarModels_=[],O.params)for(let Le=0;Le<O.params.length;Le++){var oe=O.params[Le];oe=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,oe.id,oe.name,""),this.arguments_.push(oe.getName()),this.argumentVarModels_.push(oe)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(O.hasStatements!==!1)},decompose:function(O){const oe=a.createElement$$module$build$src$core$utils$xml("block");oe.setAttribute("type","procedures_mutatorcontainer");var Le=a.createElement$$module$build$src$core$utils$xml("statement");Le.setAttribute("name","STACK"),oe.appendChild(Le);for(let Nt=0;Nt<this.arguments_.length;Nt++){const Cn=a.createElement$$module$build$src$core$utils$xml("block");Cn.setAttribute("type","procedures_mutatorarg");var Me=a.createElement$$module$build$src$core$utils$xml("field");Me.setAttribute("name","NAME");const Qr=a.createTextNode$$module$build$src$core$utils$xml(this.arguments_[Nt]);Me.appendChild(Qr),Cn.appendChild(Me),Me=a.createElement$$module$build$src$core$utils$xml("next"),Cn.appendChild(Me),Le.appendChild(Cn),Le=Me}return O=a.domToBlock$$module$build$src$core$xml(oe,O),this.type==="procedures_defreturn"?O.setFieldValue(this.hasStatements_,"STATEMENTS"):O.removeInput("STATEMENT_INPUT"),a.mutateCallers$$module$build$src$core$procedures(this),O},compose:function(O){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let oe=O.getInputTargetBlock("STACK");for(;oe&&!oe.isInsertionMarker();){var Le=oe.getFieldValue("NAME");this.arguments_.push(Le),Le=this.workspace.getVariable(Le,""),this.argumentVarModels_.push(Le),this.paramIds_.push(oe.id),oe=oe.nextConnection&&oe.nextConnection.targetBlock()}if(this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),O=O.getFieldValue("STATEMENTS"),O!==null&&(O=O==="TRUE",this.hasStatements_!==O))if(O){this.setStatements_(!0);var Me;(Me=this.statementConnection_)==null||Me.reconnect(this,"STACK"),this.statementConnection_=null}else Me=this.getInput("STACK").connection,(this.statementConnection_=Me.targetConnection)&&(Me=Me.targetBlock(),Me.unplug(),Me.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(O,oe){var Le=this.workspace.getVariableById(O);if(Le.getType()===""){Le=Le.getName(),oe=this.workspace.getVariableById(oe);var Me=!1;for(let Nt=0;Nt<this.argumentVarModels_.length;Nt++)this.argumentVarModels_[Nt].getId()===O&&(this.arguments_[Nt]=oe.getName(),this.argumentVarModels_[Nt]=oe,Me=!0);Me&&(this.displayRenamedVar_(Le,oe.getName()),a.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(O){const oe=O.getName();let Le=!1,Me;for(let Nt=0;Nt<this.argumentVarModels_.length;Nt++)this.argumentVarModels_[Nt].getId()===O.getId()&&(Me=this.arguments_[Nt],this.arguments_[Nt]=oe,Le=!0);Le&&(this.displayRenamedVar_(Me,oe),a.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(O,oe){this.updateParams_();var Le=this.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(Le&&Le.bubbleIsVisible()){Le=Le.getWorkspace().getAllBlocks(!1);for(let Me=0,Nt;Nt=Le[Me];Me++)Nt.type==="procedures_mutatorarg"&&a.Names$$module$build$src$core$names.equals(O,Nt.getFieldValue("NAME"))&&Nt.setFieldValue(oe,"NAME")}},customContextMenu:function(O){if(!this.isInFlyout){var oe=this.getFieldValue("NAME"),Le={type:this.callType_,extraState:{name:oe,params:this.arguments_}};if(O.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",oe),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,Le)}),!this.isCollapsed())for(oe=0;oe<this.argumentVarModels_.length;oe++){Le=this.argumentVarModels_[oe];const Me={type:"variables_get",fields:{VAR:{name:Le.getName(),id:Le.getId(),type:Le.getType()}}};O.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Le.getName()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,Me)})}}}};Xe.procedures_defnoreturn=Object.assign({},Qt,{init:function(){var O=a.findLegalName$$module$build$src$core$procedures("",this);O=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:O}),O.setValidator(a.rename$$module$build$src$core$procedures),O.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(O,"NAME").appendField("","PARAMS"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Xe.procedures_defreturn=Object.assign({},Qt,{init:function(){var O=a.findLegalName$$module$build$src$core$procedures("",this);O=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:O}),O.setValidator(a.rename$$module$build$src$core$procedures),O.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(O,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var It={init:function(){this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};Xe.procedures_mutatorcontainer=It;var De=class extends a.FieldTextInput$$module$build$src$core$field_textinput{constructor(){super(...arguments),this.editingInteractively=!1}showEditor_(O){super.showEditor_(O),this.editingInteractively=!0,this.editingVariable=void 0}onFinishEditing_(O){super.onFinishEditing_(O),this.editingInteractively=!1}},Bt={init:function(){const O=new De(a.DEFAULT_ARG$$module$build$src$core$procedures,this.validator_);this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(O,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(O){var oe=this.getSourceBlock();const Le=oe.workspace.getRootWorkspace();if(O=O.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!O)return null;const Me=(oe.workspace.targetWorkspace||oe.workspace).getAllBlocks(!1),Nt=O.toLowerCase();for(let Cn=0;Cn<Me.length;Cn++){if(Me[Cn].id===this.getSourceBlock().id)continue;const Qr=Me[Cn].getFieldValue("NAME");if(Qr&&Qr.toLowerCase()===Nt)return null}return oe.isInFlyout||((oe=Le.getVariable(O,""))&&oe.getName()!==O&&Le.renameVariableById(oe.getId(),O),oe||(this.editingInteractively?this.editingVariable?Le.renameVariableById(this.editingVariable.getId(),O):this.editingVariable=Le.createVariable(O,""):Le.createVariable(O,""))),O}};Xe.procedures_mutatorarg=Bt;var kt="DISABLED_PROCEDURE_DEFINITION",nt={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(O,oe){a.Names$$module$build$src$core$names.equals(O,this.getProcedureCall())&&(this.setFieldValue(oe,"NAME"),this.setTooltip((this.outputConnection?a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",oe)))},setProcedureParameters_:function(O,oe){var Le=a.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((Le=(Le=Le&&Le.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&Le.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),O.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=oe;else{if(oe.length!==O.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let Nt=0;Nt<this.arguments_.length;Nt++){var Me=this.getInput("ARG"+Nt);Me&&(Me=Me.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Nt]]=Me,Le&&Me&&!oe.includes(this.quarkIds_[Nt])&&(Me.disconnect(),Me.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(O),this.argumentVarModels_=[],O=0;O<this.arguments_.length;O++)Le=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[O],""),this.argumentVarModels_.push(Le);if(this.updateShape_(),this.quarkIds_=oe){for(oe=0;oe<this.arguments_.length;oe++)if(O=this.quarkIds_[oe],O in this.quarkConnections_){let Nt;(Nt=this.quarkConnections_[O])!=null&&Nt.reconnect(this,"ARG"+oe)||delete this.quarkConnections_[O]}}}},updateShape_:function(){for(var O=0;O<this.arguments_.length;O++){var oe=this.getField("ARGNAME"+O);if(oe){a.disable$$module$build$src$core$events$utils();try{oe.setValue(this.arguments_[O])}finally{a.enable$$module$build$src$core$events$utils()}}else oe=a.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[O]}),this.appendValueInput("ARG"+O).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(oe,"ARGNAME"+O)}for(O=this.arguments_.length;this.getInput("ARG"+O);O++)this.removeInput("ARG"+O);(O=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||O.appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&O.removeField("WITH"))},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");O.setAttribute("name",this.getProcedureCall());for(let oe=0;oe<this.arguments_.length;oe++){const Le=a.createElement$$module$build$src$core$utils$xml("arg");Le.setAttribute("name",this.arguments_[oe]),O.appendChild(Le)}return O},domToMutation:function(O){var oe=O.getAttribute("name");this.renameProcedure(this.getProcedureCall(),oe),oe=[];const Le=[];for(let Me=0,Nt;Nt=O.childNodes[Me];Me++)Nt.nodeName.toLowerCase()==="arg"&&(oe.push(Nt.getAttribute("name")),Le.push(Nt.getAttribute("paramId")));this.setProcedureParameters_(oe,Le)},saveExtraState:function(){const O=Object.create(null);return O.name=this.getProcedureCall(),this.arguments_.length&&(O.params=this.arguments_),O},loadExtraState:function(O){if(this.renameProcedure(this.getProcedureCall(),O.name),O=O.params){const oe=[];oe.length=O.length,oe.fill(null),this.setProcedureParameters_(O,oe)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(O){if(this.workspace&&!this.workspace.isFlyout&&O.recordUndo)if(O.type===a.BLOCK_CREATE$$module$build$src$core$events$events&&O.ids.includes(this.id)){var oe=this.getProcedureCall(),Le=a.getDefinition$$module$build$src$core$procedures(oe,this.workspace);if(!Le||Le.type===this.defType_&&JSON.stringify(Le.getVars())===JSON.stringify(this.arguments_)||(Le=null),Le)Le.isEnabled()||(this.setDisabledReason(!0,kt),this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",oe)));else{a.setGroup$$module$build$src$core$events$utils(O.group),O=a.createElement$$module$build$src$core$utils$xml("xml"),oe=a.createElement$$module$build$src$core$utils$xml("block"),oe.setAttribute("type",this.defType_),Le=this.getRelativeToSurfaceXY();var Me=Le.y+a.config$$module$build$src$core$config.snapRadius*2;oe.setAttribute("x",`${Le.x+a.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),oe.setAttribute("y",`${Me}`),Le=this.mutationToDom(),oe.appendChild(Le),Le=a.createElement$$module$build$src$core$utils$xml("field"),Le.setAttribute("name","NAME"),Me=this.getProcedureCall();const Nt=a.findLegalName$$module$build$src$core$procedures(Me,this);Me!==Nt&&this.renameProcedure(Me,Nt),Le.appendChild(a.createTextNode$$module$build$src$core$utils$xml(Me)),oe.appendChild(Le),O.appendChild(oe),a.domToWorkspace$$module$build$src$core$xml(O,this.workspace),a.setGroup$$module$build$src$core$events$utils(!1)}}else O.type===a.BLOCK_DELETE$$module$build$src$core$events$events?(oe=this.getProcedureCall(),a.getDefinition$$module$build$src$core$procedures(oe,this.workspace)||(a.setGroup$$module$build$src$core$events$utils(O.group),this.dispose(!0),a.setGroup$$module$build$src$core$events$utils(!1))):O.type===a.BLOCK_CHANGE$$module$build$src$core$events$events&&O.element==="disabled"&&(oe=this.getProcedureCall(),(Me=a.getDefinition$$module$build$src$core$procedures(oe,this.workspace))&&Me.id===O.blockId&&((Le=a.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),a.setGroup$$module$build$src$core$events$utils(O.group),O=Me.isEnabled(),this.setDisabledReason(!O,kt),this.setWarningText(O?null:a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",oe)),a.setGroup$$module$build$src$core$events$utils(Le)))},customContextMenu:function(O){if(this.workspace.isMovable()){var oe=this.getProcedureCall(),Le=this.workspace;O.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const Me=a.getDefinition$$module$build$src$core$procedures(oe,Le);Me&&(Le.centerOnBlock(Me.id),a.getFocusManager$$module$build$src$core$focus_manager().focusNode(Me))}})}}};Xe.procedures_callnoreturn=Object.assign({},nt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),Xe.procedures_callreturn=Object.assign({},nt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var Ze="UNPARENTED_IFRETURN",vt={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("value",String(Number(this.hasReturnValue_))),O},domToMutation:function(O){this.hasReturnValue_=O.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(O){if(!(this.workspace.isDragging&&this.workspace.isDragging()||O.type!==a.BLOCK_MOVE$$module$build$src$core$events$events&&O.type!==a.BLOCK_CREATE$$module$build$src$core$events$events)){O=!1;var oe=this;do{if(this.FUNCTION_TYPES.includes(oe.type)){O=!0;break}oe=oe.getSurroundParent()}while(oe);if(O?(oe.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):oe.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!O,Ze)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Xe.procedures_ifreturn=vt,a.defineBlocks$$module$build$src$core$common(Xe);var ft={blocks:Xe},Ut=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),le={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};a.register$$module$build$src$core$extensions("math_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",le));var ze={mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation"),oe=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return O.setAttribute("divisor_input",String(oe)),O},domToMutation:function(O){O=O.getAttribute("divisor_input")==="true",this.updateShape_(O)},updateShape_:function(O){const oe=this.getInput("DIVISOR");O?oe||this.appendValueInput("DIVISOR").setCheck("Number"):oe&&this.removeInput("DIVISOR")}},ct=function(){this.getField("PROPERTY").setValidator(function(O){O=O==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(O)})};a.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",ze,ct),a.register$$module$build$src$core$extensions("math_change_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Se={updateType_:function(O){O==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("op",this.getFieldValue("OP")),O},domToMutation:function(O){if(O=O.getAttribute("op"),O===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(O)}},Jt=function(){this.getField("OP").setValidator((function(O){this.updateType_(O)}).bind(this))};a.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",Se,Jt),a.defineBlocks$$module$build$src$core$common(Ut);var Ot={blocks:Ut},sn=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),yn={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};a.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",yn));var hr={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};a.register$$module$build$src$core$extensions("controls_flow_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",hr));var Yn={customContextMenu:function(O){if(!this.isInFlyout){var oe=this.getField("VAR"),Le=oe.getVariable().getName();this.isCollapsed()||Le===null||(oe={type:"variables_get",fields:{VAR:oe.saveState(!0)}},O.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Le),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,oe)}))}}};a.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Yn),a.register$$module$build$src$core$extensions("controls_for_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),a.register$$module$build$src$core$extensions("controls_forEach_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var an=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Xn="CONTROL_FLOW_NOT_IN_LOOP",ht={getSurroundLoop:function(){let O=this;do{if(an.has(O.type))return O;O=O.getSurroundParent()}while(O);return null},onchange:function(O){const oe=this.workspace;if(oe.isDragging&&!oe.isDragging()&&(O.type===a.BLOCK_MOVE$$module$build$src$core$events$events||O.type===a.BLOCK_CREATE$$module$build$src$core$events$events)&&(O=!!this.getSurroundLoop(),this.setWarningText(O?null:a.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!O,Xn)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}};a.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",ht),a.defineBlocks$$module$build$src$core$common(sn);var tn={blocks:sn,loopTypes:an},Wr=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Jn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};a.register$$module$build$src$core$extensions("logic_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Jn));var pr={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const O=a.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&O.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&O.setAttribute("else","1"),O},domToMutation:function(O){this.elseifCount_=parseInt(O.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(O.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const O=Object.create(null);return this.elseifCount_&&(O.elseIfCount=this.elseifCount_),this.elseCount_&&(O.hasElse=!0),O},loadExtraState:function(O){this.elseifCount_=O.elseIfCount||0,this.elseCount_=O.hasElse?1:0,this.updateShape_()},decompose:function(O){const oe=O.newBlock("controls_if_if");oe.initSvg();let Le=oe.nextConnection;for(let Me=1;Me<=this.elseifCount_;Me++){const Nt=O.newBlock("controls_if_elseif");Nt.initSvg(),Le.connect(Nt.previousConnection),Le=Nt.nextConnection}return this.elseCount_&&(O=O.newBlock("controls_if_else"),O.initSvg(),Le.connect(O.previousConnection)),oe},compose:function(O){O=O.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const oe=[null],Le=[null];let Me=null;for(;O;){if(!O.isInsertionMarker())switch(O.type){case"controls_if_elseif":this.elseifCount_++,oe.push(O.valueConnection_),Le.push(O.statementConnection_);break;case"controls_if_else":this.elseCount_++,Me=O.statementConnection_;break;default:throw TypeError("Unknown block type: "+O.type)}O=O.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(oe,Le,Me)},saveConnections:function(O){O=O.nextConnection.targetBlock();let oe=1;for(;O;){if(!O.isInsertionMarker())switch(O.type){case"controls_if_elseif":var Le=this.getInput("IF"+oe);const Me=this.getInput("DO"+oe);O.valueConnection_=Le&&Le.connection.targetConnection,O.statementConnection_=Me&&Me.connection.targetConnection,oe++;break;case"controls_if_else":Le=this.getInput("ELSE"),O.statementConnection_=Le&&Le.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+O.type)}O=O.getNextBlock()}},rebuildShape_:function(){const O=[null],oe=[null];let Le=null;this.getInput("ELSE")&&(Le=this.getInput("ELSE").connection.targetConnection);for(let Me=1;this.getInput("IF"+Me);Me++){const Nt=this.getInput("IF"+Me),Cn=this.getInput("DO"+Me);O.push(Nt.connection.targetConnection),oe.push(Cn.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(O,oe,Le)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var O=1;this.getInput("IF"+O);O++)this.removeInput("IF"+O),this.removeInput("DO"+O);for(O=1;O<=this.elseifCount_;O++)this.appendValueInput("IF"+O).setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+O).appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(O,oe,Le){for(let Me=1;Me<=this.elseifCount_;Me++){let Nt;(Nt=O[Me])==null||Nt.reconnect(this,"IF"+Me);let Cn;(Cn=oe[Me])==null||Cn.reconnect(this,"DO"+Me)}Le?.reconnect(this,"ELSE")}};a.registerMutator$$module$build$src$core$extensions("controls_if_mutator",pr,null,["controls_if_elseif","controls_if_else"]);var on=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};a.register$$module$build$src$core$extensions("controls_if_tooltip",on);var Ti={onchange:function(O){this.prevBlocks_||(this.prevBlocks_=[null,null]);var oe=this.getInputTargetBlock("A");const Le=this.getInputTargetBlock("B");oe&&Le&&!this.workspace.connectionChecker.doTypeChecks(oe.outputConnection,Le.outputConnection)&&(a.setGroup$$module$build$src$core$events$utils(O.group),O=this.prevBlocks_[0],O!==oe&&(oe.unplug(),!O||O.isDisposed()||O.isShadow()||this.getInput("A").connection.connect(O.outputConnection)),oe=this.prevBlocks_[1],oe!==Le&&(Le.unplug(),!oe||oe.isDisposed()||oe.isShadow()||this.getInput("B").connection.connect(oe.outputConnection)),this.bumpNeighbours(),a.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Bi=function(){this.mixin(Ti)};a.register$$module$build$src$core$extensions("logic_compare",Bi);var Zn={prevParentConnection_:null,onchange:function(O){const oe=this.getInputTargetBlock("THEN"),Le=this.getInputTargetBlock("ELSE"),Me=this.outputConnection.targetConnection;if((oe||Le)&&Me)for(let Nt=0;Nt<2;Nt++){const Cn=Nt===1?oe:Le;Cn&&!Cn.workspace.connectionChecker.doTypeChecks(Cn.outputConnection,Me)&&(a.setGroup$$module$build$src$core$events$utils(O.group),Me===this.prevParentConnection_?(this.unplug(),Me.getSourceBlock().bumpNeighbours()):(Cn.unplug(),Cn.bumpNeighbours()),a.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=Me}};a.registerMixin$$module$build$src$core$extensions("logic_ternary",Zn),a.defineBlocks$$module$build$src$core$common(Wr);var ss={blocks:Wr},vi=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),sr={init:function(){this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("items",String(this.itemCount_)),O},domToMutation:function(O){if(O=O.getAttribute("items"),!O)throw new TypeError("element did not have items");this.itemCount_=parseInt(O,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(O){this.itemCount_=O.itemCount,this.updateShape_()},decompose:function(O){const oe=O.newBlock("lists_create_with_container");oe.initSvg();let Le=oe.getInput("STACK").connection;for(let Me=0;Me<this.itemCount_;Me++){const Nt=O.newBlock("lists_create_with_item");if(Nt.initSvg(),!Nt.previousConnection)throw Error("itemBlock has no previousConnection");Le.connect(Nt.previousConnection),Le=Nt.nextConnection}return oe},compose:function(O){var oe=O.getInputTargetBlock("STACK");for(O=[];oe;)oe.isInsertionMarker()||O.push(oe.valueConnection_),oe=oe.getNextBlock();for(oe=0;oe<this.itemCount_;oe++){const Le=this.getInput("ADD"+oe).connection.targetConnection;Le&&!O.includes(Le)&&Le.disconnect()}for(this.itemCount_=O.length,this.updateShape_(),oe=0;oe<this.itemCount_;oe++){let Le;(Le=O[oe])==null||Le.reconnect(this,"ADD"+oe)}},saveConnections:function(O){O=O.getInputTargetBlock("STACK");let oe=0;for(;O;){if(O.isInsertionMarker()){O=O.getNextBlock();continue}const Le=this.getInput("ADD"+oe);let Me;O.valueConnection_=(Me=Le)==null?void 0:Me.connection.targetConnection,O=O.getNextBlock(),oe++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var O=0;O<this.itemCount_;O++)if(!this.getInput("ADD"+O)){const oe=this.appendValueInput("ADD"+O).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);O===0&&oe.appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(O=this.itemCount_;this.getInput("ADD"+O);O++)this.removeInput("ADD"+O)}};vi.lists_create_with=sr;var Vn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};vi.lists_create_with_container=Vn;var F={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};vi.lists_create_with_item=F;var ee={init:function(){var O=[[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),!O)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(O,"END"),this.setInputsInline(!0),this.setTooltip(()=>a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};vi.lists_indexOf=ee;var Ce={init:function(){var O=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),O.setValidator(function(oe){oe=oe==="REMOVE",this.getSourceBlock().updateStatement_(oe)}),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(O,"MODE").appendField("","SPACE"),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),O.setValidator(function(oe){const Le=this.getValue();oe=oe==="FROM_START"||oe==="FROM_END",oe!==(Le==="FROM_START"||Le==="FROM_END")&&this.getSourceBlock().updateAt_(oe)}),this.appendDummyInput().appendField(O,"WHERE"),this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const oe=this.getFieldValue("MODE"),Le=this.getFieldValue("WHERE");let Me="";switch(oe+" "+Le){case"GET FROM_START":case"GET FROM_END":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":Me=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(Le==="FROM_START"||Le==="FROM_END")&&(Me+="  "+(Le==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Me})},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");O.setAttribute("statement",String(!this.outputConnection));const oe=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return O.setAttribute("at",String(oe)),O},domToMutation:function(O){const oe=O.getAttribute("statement")==="true";this.updateStatement_(oe),O=O.getAttribute("at")!=="false",this.updateAt_(O)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(O){O.isStatement?this.updateStatement_(!0):typeof O=="string"&&this.domToMutation(a.textToDom$$module$build$src$core$utils$xml(O))},updateStatement_:function(O){O!==!this.outputConnection&&(this.unplug(!0,!0),O?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(O){this.removeInput("AT"),this.removeInput("ORDINAL",!0),O?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};vi.lists_getIndex=Ce;var Ne={init:function(){var O=[[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:O}),this.appendDummyInput().appendField(O,"MODE").appendField("","SPACE"),O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),O.setValidator(function(oe){const Le=this.getValue();oe=oe==="FROM_START"||oe==="FROM_END",oe!==(Le==="FROM_START"||Le==="FROM_END")&&this.getSourceBlock().updateAt_(oe)}),this.appendDummyInput().appendField(O,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const oe=this.getFieldValue("MODE"),Le=this.getFieldValue("WHERE");let Me="";switch(oe+" "+Le){case"SET FROM_START":case"SET FROM_END":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":Me=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(Le==="FROM_START"||Le==="FROM_END")&&(Me+="  "+a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Me})},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation"),oe=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return O.setAttribute("at",String(oe)),O},domToMutation:function(O){O=O.getAttribute("at")!=="false",this.updateAt_(O)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(O){this.removeInput("AT"),this.removeInput("ORDINAL",!0),O?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};vi.lists_setIndex=Ne;var et={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const O=oe=>{const Le=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+oe]});return Le.setValidator(function(Me){const Nt=this.getValue();Me=Me==="FROM_START"||Me==="FROM_END",Me!==(Nt==="FROM_START"||Nt==="FROM_END")&&this.getSourceBlock().updateAt_(oe,Me)}),Le};this.appendDummyInput("WHERE1_INPUT").appendField(O(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(O(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");var oe=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return O.setAttribute("at1",String(oe)),oe=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,O.setAttribute("at2",String(oe)),O},domToMutation:function(O){const oe=O.getAttribute("at1")==="true";O=O.getAttribute("at2")==="true",this.updateAt_(1,oe),this.updateAt_(2,O)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(O,oe){this.removeInput("AT"+O),this.removeInput("ORDINAL"+O,!0),oe?(this.appendValueInput("AT"+O).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+O).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+O),O===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};vi.lists_getSublist=et,vi.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},vi.lists_split={init:function(){const O=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!O)throw Error("field_dropdown not found");O.setValidator(oe=>{this.updateType_(oe)}),this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(O,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const oe=this.getFieldValue("MODE");if(oe==="SPLIT")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(oe==="JOIN")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+oe)})},updateType_:function(O){if(this.getFieldValue("MODE")!==O){const oe=this.getInput("INPUT").connection;oe.setShadowDom(null);const Le=oe.targetBlock();Le&&(oe.disconnect(),Le.isShadow()?Le.dispose(!1):this.bumpNeighbours())}O==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const O=a.createElement$$module$build$src$core$utils$xml("mutation");return O.setAttribute("mode",this.getFieldValue("MODE")),O},domToMutation:function(O){this.updateType_(O.getAttribute("mode"))},saveExtraState:function(){return{mode:this.getFieldValue("MODE")}},loadExtraState:function(O){this.updateType_(O.mode)}},a.defineBlocks$$module$build$src$core$common(vi);var Je={blocks:vi},xt=Object.assign({},vi,Wr,sn,Ut,Xe,fe,k,d),St={blocks:xt,lists:Je,logic:ss,loops:tn,math:Ot,procedures:ft,texts:st,variables:z,variablesDynamic:x};return St.__namespace__=a,St})})(u5)),u5.exports}var y$=l5.exports,P8;function T$(){return P8||(P8=1,(function(o,s){(function(n,a){o.exports=a(S5(),$$(),b$())})(y$,function(n,a,d){return n.setLocale(a),n})})(l5)),l5.exports}var _$=T$();const E$=Xu(_$),{Block:ak,BlockFlyoutInflater:uk,BlockNavigationPolicy:ck,BlockSvg:hk,Blocks:x6,ButtonFlyoutInflater:dk,COLLAPSED_FIELD_NAME:fk,COLLAPSED_INPUT_NAME:pk,COLLAPSE_CHARS:mk,CodeGenerator:gk,CollapsibleToolboxCategory:$k,ComponentManager:vk,Connection:bk,ConnectionChecker:yk,ConnectionDB:Tk,ConnectionNavigationPolicy:_k,ConnectionType:Ek,ContextMenu:wk,ContextMenuItems:Sk,ContextMenuRegistry:xk,Css:Ck,DELETE_VARIABLE_ID:kk,DeleteArea:Ak,DragTarget:Ik,DropDownDiv:Mk,Events:Rk,Extensions:Ok,Field:Nk,FieldCheckbox:Lk,FieldDropdown:Dk,FieldImage:Bk,FieldLabel:Pk,FieldLabelSerializable:Fk,FieldNavigationPolicy:zk,FieldNumber:Uk,FieldTextInput:Hk,FieldVariable:Gk,Flyout:Vk,FlyoutButton:Wk,FlyoutButtonNavigationPolicy:qk,FlyoutItem:Xk,FlyoutMetricsManager:jk,FlyoutNavigationPolicy:Yk,FlyoutNavigator:Kk,FlyoutSeparator:Jk,FlyoutSeparatorNavigationPolicy:Zk,FocusManager:Qk,FocusableTreeTraverser:eA,Generator:tA,Gesture:nA,Grid:rA,HorizontalFlyout:iA,INPUT_VALUE:sA,Input:oA,InsertionMarkerPreviewer:lA,KeyboardNavigationController:aA,LabelFlyoutInflater:uA,LineCursor:cA,Marker:hA,MarkerManager:dA,Menu:fA,MenuItem:pA,MetricsManager:mA,Msg:gA,NEXT_STATEMENT:$A,Names:vA,Navigator:bA,OPPOSITE_TYPE:yA,OUTPUT_VALUE:TA,Options:_A,PREVIOUS_STATEMENT:EA,PROCEDURE_CATEGORY_NAME:wA,Procedures:SA,RENAME_VARIABLE_ID:xA,RenderedConnection:CA,Scrollbar:kA,ScrollbarPair:AA,SeparatorFlyoutInflater:IA,ShortcutItems:MA,ShortcutRegistry:RA,TOOLBOX_AT_BOTTOM:OA,TOOLBOX_AT_LEFT:NA,TOOLBOX_AT_RIGHT:LA,TOOLBOX_AT_TOP:DA,Theme:BA,ThemeManager:PA,Themes:FA,Toast:zA,Toolbox:UA,ToolboxCategory:HA,ToolboxItem:GA,ToolboxSeparator:VA,Tooltip:WA,Touch:qA,Trashcan:XA,UnattachedFieldError:jA,VARIABLE_CATEGORY_NAME:YA,VARIABLE_DYNAMIC_CATEGORY_NAME:KA,VERSION:JA,VariableMap:ZA,VariableModel:QA,Variables:eI,VariablesDynamic:tI,VerticalFlyout:nI,WidgetDiv:rI,Workspace:w$,WorkspaceAudio:iI,WorkspaceDragger:sI,WorkspaceNavigationPolicy:oI,WorkspaceSvg:lI,Xml:Sm,ZoomControls:aI,blockAnimations:uI,blockRendering:cI,browserEvents:hI,bubbles:dI,bumpObjects:fI,clipboard:pI,comments:mI,common:gI,config:$I,constants:vI,defineBlocksWithJsonArray:V3,dialog:bI,dragging:yI,fieldRegistry:TI,geras:_I,getFocusManager:EI,getMainWorkspace:wI,getSelected:SI,hasBubble:xI,hideChaff:CI,icons:kI,inject:AI,inputs:II,isCopyable:MI,isDeletable:RI,isDraggable:OI,isIcon:NI,isObservable:LI,isPaster:DI,isRenderedElement:BI,isSelectable:PI,isSerializable:FI,isVariableBackedParameterModel:zI,keyboardNavigationController:UI,layers:HI,navigateBlock:GI,navigateStacks:VI,procedures:WI,registry:qI,renderManagement:XI,serialization:jI,setLocale:YI,setParentContainer:KI,svgResize:r7,thrasos:JI,uiPosition:ZI,utils:xm,zelos:QI}=E$,S$={position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(46, 204, 113, 0.5)",borderRadius:"50%",animation:"radarPing 0.5s ease-out forwards",zIndex:5},x$=`
@keyframes radarPing {
  0% { transform: scale(0.2); opacity: 0.8; }
  100% { transform: scale(1.5); opacity: 0; }
}
`;function C$({grid:o,playerPos:s,playerDir:n,lastAction:a}){const d=n*90+90,m=o.length,b=o[0].length,C=a&&a.type==="SCAN";let x=null;const k=E=>(E%4+4)%4;if(C)if(a.dir==="SELF")x={x:s.x,y:s.y};else{const E=k(n);let R=E;a.dir==="LEFT"&&(R=(E+3)%4),a.dir==="RIGHT"&&(R=(E+1)%4);let q=0,z=0;R===0&&(q=1),R===1&&(z=1),R===2&&(q=-1),R===3&&(z=-1),x={x:s.x+q,y:s.y+z}}return xe.jsxs("div",{style:W3.container,children:[xe.jsx("style",{children:x$}),xe.jsx("div",{style:{...W3.grid,gridTemplateColumns:`repeat(${b}, 1fr)`,aspectRatio:`${b} / ${m}`},children:o.map((E,R)=>E.map((q,z)=>{const fe=s.x===z&&s.y===R,ve=x&&x.x===z&&x.y===R,ge=`min(40px, ${60/Math.max(m,b)}vmin)`;return xe.jsxs("div",{style:W3.cell,children:[xe.jsx("span",{style:{zIndex:1,fontSize:ge},children:Uo.THEME[q]||""}),fe&&xe.jsx("div",{style:{...W3.player,transform:`rotate(${d}deg)`,fontSize:ge},children:Uo.THEME.PLAYER}),ve&&xe.jsx("div",{style:S$},a._uid)]},`${R}-${z}`)}))})]})}const W3={container:{display:"flex",justifyContent:"center",alignItems:"center",background:"#2c3e50",padding:"10px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.3)",width:"100%",height:"100%",overflow:"hidden"},grid:{display:"grid",gap:"1px",backgroundColor:"#34495e",border:"4px solid #34495e",width:"auto",height:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},cell:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",background:"#ecf0f1",overflow:"visible"},player:{position:"absolute",zIndex:10,transition:"transform 0.2s ease, top 0.2s ease, left 0.2s ease",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}},q3={maze_move_forward:'<block type="maze_move_forward"></block>',maze_forever:'<block type="maze_forever"></block>',maze_if:'<block type="maze_if"></block>',maze_if_else:'<block type="maze_if_else"></block>',maze_turn:`
    <block type="maze_turn"><field name="DIR">LEFT</field></block>
    <block type="maze_turn"><field name="DIR">RIGHT</field></block>
  `,turtle_move:`
    <block type="turtle_move">
      <value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value>
    </block>
  `,turtle_turn:`
    <block type="turtle_turn">
      <value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value>
    </block>
  `,turtle_pen:`
    <block type="turtle_pen"><field name="STATE">UP</field></block>
    <block type="turtle_pen"><field name="STATE">DOWN</field></block>
  `,turtle_color:`
    <block type="turtle_color"><field name="COLOR">#ff0000</field></block>
  `,equation_op_both:`
  <block type="equation_op_both">
    <value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
  </block>
`,equation_op_both:`
    <block type="equation_op_both">
      <value name="VAL">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
    </block>
  `,Algbre:["equation_op_both","math_number"],EQUATION:["Algbre","Logique"],controls_repeat_ext:`
    <block type="controls_repeat_ext">
      <value name="TIMES">
        <shadow type="math_number"><field name="NUM">5</field></shadow>
      </value>
    </block>
  `,controls_if:'<block type="controls_if"></block>',logic_compare:'<block type="logic_compare"></block>',logic_operation:'<block type="logic_operation"></block>',controls_whileUntil:'<block type="controls_whileUntil"></block>',math_number:'<block type="math_number"></block>',math_arithmetic:`
    <block type="math_arithmetic">
      <value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
      <value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
    </block>
  `,math_modulo:`
    <block type="math_modulo">
      <value name="DIVIDEND"><shadow type="math_number"><field name="NUM">10</field></shadow></value>
      <value name="DIVISOR"><shadow type="math_number"><field name="NUM">2</field></shadow></value>
    </block>
  `,math_random_int:`
    <block type="math_random_int">
      <value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value>
      <value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value>
    </block>
  `,lists_create_with:'<block type="lists_create_with"><mutation items="3"></mutation></block>',lists_getIndex:'<block type="lists_getIndex"></block>',lists_setIndex:'<block type="lists_setIndex"></block>',lists_length:'<block type="lists_length"></block>',text_print:'<block type="text_print"></block>',text_prompt_ext:'<block type="text_prompt_ext"><value name="TEXT"><shadow type="text"><field name="TEXT">?</field></shadow></value></block>'},k$={maze_move_forward:"Avancer ",maze_turn:"Pivoter ",maze_if:"Si chemin... ",maze_if_else:"Si... Sinon... ",maze_forever:"Rpter jusqu' Arrive ",turtle_move:"Avancer ",turtle_turn:"Pivoter ",turtle_pen:"Stylo ",turtle_color:"Couleur ",controls_repeat_ext:"Rpter N fois",controls_whileUntil:"Rpter tant que",controls_if:"Si... Alors",logic_compare:"Comparaison (= < >)",logic_operation:"Oprateur (ET / OU)",math_number:"Nombre",math_arithmetic:"Calcul (+ - * /)",math_modulo:"Reste (Modulo)",math_random_int:"Alatoire",lists_create_with:"Crer liste",lists_getIndex:"Lire lment",lists_setIndex:"Modifier lment",lists_length:"Longueur liste",variables_set:"Dfinir variable",text_print:"Afficher message",text_prompt_ext:"Demander saisie"},Cm={MAZE:["Mouvements","Capteurs","Logique"],TURTLE:["Tortue","Logique","Mathmatiques","Variables"],MATH:["Mathmatiques","Listes","Variables","Interactions","Logique"],EQUATION:["Algbre"]},e3={Mouvements:["maze_move_forward","maze_turn"],Capteurs:["maze_if","maze_if_else","maze_forever"],Tortue:["turtle_move","turtle_turn","turtle_pen","turtle_color"],Logique:["controls_repeat_ext","controls_whileUntil","controls_if","logic_compare","logic_operation"],Mathmatiques:["math_number","math_arithmetic","math_modulo","math_random_int"],Listes:["lists_create_with","lists_getIndex","lists_setIndex","lists_length"],Variables:["variables_set"],Interactions:["text_print","text_prompt_ext"],Algbre:["equation_op_both","math_number"]},s3=(o,s,n=[],a=[])=>km(o,s,n,a),A$=(o,s,n=[],a=[])=>{const d=Cm[o]||[];let m=[];return d.forEach(b=>{e3[b]&&(m=[...m,...e3[b]])}),km(m,s,n,a,!0)},km=(o,s,n,a,d=!1)=>{let m="",b=new Set(o||[]),C=!1,x="";if(s&&Object.keys(s).length>0){const E=Object.keys(s).filter(R=>!n.includes(R));E.length>0&&(E.forEach(R=>{a.includes(R)?x+=`<block type="system_var_get"><field name="VAR_NAME">${R}</field></block>`:(x+=`<block type="variables_get"><field name="VAR">${R}</field></block>`,b.has("variables_set")&&(x+=`<block type="variables_set"><field name="VAR">${R}</field></block>`))}),(b.has("variables_set")||d&&x)&&(m+=`<category name="Variables" colour="330">${x}</category>`,C=!0,x="")),b.delete("variables_set"),b.delete("variables_get")}Object.entries(e3).forEach(([E,R])=>{const q=R.filter(fe=>b.has(fe));if(q.length===0&&!d)return;if((d||q.length===R.length)&&(d||q.length>0)){let fe="0";E==="Mouvements"&&(fe="120"),E==="Tortue"&&(fe="160"),E==="Logique"&&(fe="210"),E==="Mathmatiques"&&(fe="230"),E==="Listes"&&(fe="260"),E==="Interactions"&&(fe="160"),E==="Algbre"&&(fe="290"),m+=`<category name="${E}" colour="${fe}">`,(d?R:Array.from(q)).forEach(ge=>{q3[ge]&&(m+=q3[ge],b.delete(ge))}),m+="</category>",C=!0}});let k=x;return b.forEach(E=>{q3[E]&&(k+=q3[E])}),C?k&&(m+=`<category name=" Divers" colour="0">${k}</category>`):m+=k,{xml:`<xml id="toolbox" style="display: none">${m}</xml>`,hasCategories:C}},Am={id:"MAZE",RenderComponent:C$,registerBlocks:(o,s)=>{},getToolboxXML:(o,s,n,a)=>s3(o,s,n,a),executeStep:(o,s,n)=>{const a=o||{x:n.startPos?.x||0,y:n.startPos?.y||1,dir:n.startPos?.dir!==void 0?n.startPos.dir:0};let{x:d,y:m,dir:b}=a,C="RUNNING";const x=typeof s=="object"&&s.type?s.type:s,k=E=>(E%4+4)%4;if(x==="MOVE"){let E=d,R=m;const q=k(b);q===0?E++:q===1?R++:q===2?E--:q===3&&R--;const z=Uo.checkMove(n.grid||Uo.defaultGrid,E,R);z==="OK"||z==="WIN"?(d=E,m=R,z==="WIN"&&(C="WIN")):C="LOST"}else x&&x.startsWith("TURN_")&&(b=x.split("_")[1]==="LEFT"?b-1:b+1);return{newState:{x:d,y:m,dir:b},status:C}}};function I$({state:o,history:s,hiddenVars:n}){const a=o?.variables||{},d=s||[],m=n||[],b=Object.entries(a).filter(([x])=>!m.includes(x)),C=({value:x})=>Array.isArray(x)?xe.jsxs("div",{style:{display:"flex",gap:"2px",marginTop:"5px"},children:[x.map((k,E)=>xe.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[xe.jsx("div",{style:{border:"1px solid #2c3e50",padding:"4px 8px",minWidth:"20px",textAlign:"center",background:"#fff",fontSize:"1.2rem",fontWeight:"bold"},children:k}),xe.jsx("div",{style:{fontSize:"0.6rem",color:"#7f8c8d"},children:E})]},E)),x.length===0&&xe.jsx("span",{style:{fontStyle:"italic",color:"#aaa"},children:"Vide []"})]}):xe.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2c3e50"},children:x});return xe.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",padding:"10px",boxSizing:"border-box",gap:"15px",background:"#2c3e50"},children:[xe.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start",minHeight:"130px"},children:[b.map(([x,k])=>{const E=Array.isArray(k);return xe.jsxs("div",{style:{background:"white",borderRadius:"8px",minWidth:E?"160px":"100px",height:"auto",minHeight:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"10px",boxShadow:"0 4px 0 #bdc3c7",animation:"popIn 0.3s"},children:[xe.jsx("div",{style:{fontWeight:"bold",color:"#7f8c8d",borderBottom:"2px solid #eee",width:"100%",textAlign:"center",marginBottom:"5px"},children:x}),xe.jsx(C,{value:k}),xe.jsx("div",{style:{fontSize:"0.6rem",color:"#ccc",textTransform:"uppercase",marginTop:"5px"},children:E?`LISTE (${k.length})`:typeof k})]},x)}),b.length===0&&xe.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontStyle:"italic",marginTop:"20px"},children:Object.keys(a).length>0?"Mmoire masque ":"Mmoire vide"})]}),xe.jsxs("div",{style:{flex:1,background:"#ecf0f1",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[xe.jsx("div",{style:{padding:"8px 15px",background:"#bdc3c7",fontWeight:"bold",color:"#2c3e50",fontSize:"0.9rem",borderBottom:"1px solid #95a5a6"},children:">_ Terminal / Historique"}),xe.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",fontFamily:"monospace",fontSize:"0.9rem",background:"#222",color:"#2ecc71"},children:[d.map((x,k)=>xe.jsxs("div",{style:{marginBottom:"4px"},children:[xe.jsxs("span",{style:{color:"#555",marginRight:"10px"},children:[k+1,"."]}),x]},k)),xe.jsx("div",{style:{animation:"blink 1s infinite",display:"inline-block"},children:""})]})]}),xe.jsx("style",{children:"@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } } @keyframes blink { 50% { opacity: 0; } }"})]})}const M$=(o,s)=>{if(Array.isArray(o)||Array.isArray(s))return JSON.stringify(o)===JSON.stringify(s);const n=String(o).replace(",",".").trim(),a=String(s).replace(",",".").trim(),d=parseFloat(n),m=parseFloat(a);return!isNaN(d)&&!isNaN(m)&&n!==""&&a!==""?Math.abs(d-m)<1e-6:n===a},R$={id:"MATH",RenderComponent:I$,registerBlocks:()=>{},getToolboxXML:(o,s,n,a)=>s3(o,s,n,a),executeStep:(o,s,n)=>{const a=o||{variables:{...n.inputs},logs:[]},d={...a.variables},m=[...a.logs],b=n.hiddenVars||[],C=n.lockedVars||[];if(s.type==="SET")if(b.includes(s.var)||C.includes(s.var))m.push(` ERREUR : ${s.var} est protge.`),console.warn(`[MathPlugin] Tentative d'criture sur variable protge : ${s.var}`);else{console.log(`[MathPlugin] SET ${s.var} =`,s.val,`(Type: ${typeof s.val})`),d[s.var]=s.val;let x=s.val;Array.isArray(s.val)&&(x=JSON.stringify(s.val)),m.push(` ${s.var} <- ${x}`)}else s.type==="PRINT"&&m.push(` ${s.msg}`);return{newState:{variables:d,logs:m},status:"RUNNING"}},checkVictory:(o,s)=>{const n=s.targets||{},a=Object.keys(n),d=o?.variables||{};if(console.group(" DEBUG VALIDATION MATHS"),console.log("1 Variables en fin de jeu :",JSON.parse(JSON.stringify(d))),console.log("2 Objectifs (Targets) dfinis :",JSON.parse(JSON.stringify(n))),a.length===0)return console.log(" Aucun objectif dfini -> Pas de victoire auto."),console.groupEnd(),!1;const b=a.map(C=>{const x=d[C];let k=n[C];if(typeof k=="string"&&k.startsWith("@")){const R=k.substring(1);s.inputs&&s.inputs[R]!==void 0?(k=s.inputs[R],console.log(`    Rfrence ${n[C]} rsolue en :`,k)):console.warn(`    Rfrence ${n[C]} introuvable dans les inputs !`)}const E=M$(x,k);return console.log(` Test Variable '${C}' :`),console.log("   - Attendu :",k,`(Type: ${typeof k})`),console.log("   - Reu    :",x,`(Type: ${typeof x})`),console.log(`   - Rsultat: ${E?" OK":" CHEC"}`),E}).every(C=>C===!0);return console.log(" RSULTAT FINAL :",b?"VICTOIRE":"CHEC (Essaye encore)"),console.groupEnd(),b}},q1=400,X1=400;function O$({state:o,playerPos:s,playerDir:n,modelLines:a}){const d=Dn.useRef(null),m=Dn.useRef(null),b=o?.x!==void 0?o.x:s?.x,C=o?.y!==void 0?o.y:s?.y,x=o?.dir!==void 0?o.dir:n,k=Number.isFinite(Number(b))?Number(b):0,E=Number.isFinite(Number(C))?Number(C):0,R=Number.isFinite(Number(x))?Number(x):0,q=o?.lines||[],z=re=>q1/2+re,fe=re=>X1/2-re,ve=(re,ie,ke=null)=>{re.clearRect(0,0,q1,X1),re.lineCap="round",re.lineJoin="round",ie&&ie.forEach(Be=>{re.beginPath(),re.strokeStyle=ke||Be.color||"#2c3e50",re.lineWidth=ke?4:Be.width||2,ke&&(re.globalAlpha=.3),re.moveTo(z(Be.x1),fe(Be.y1)),re.lineTo(z(Be.x2),fe(Be.y2)),re.stroke(),ke&&(re.globalAlpha=1)})};Dn.useEffect(()=>{if(m.current&&a){const re=m.current.getContext("2d");ve(re,a,"#95a5a6")}},[a]),Dn.useEffect(()=>{if(d.current){const re=d.current.getContext("2d");ve(re,q)}},[q]);const ge=R;return xe.jsxs("div",{style:{position:"relative",width:q1,height:X1,background:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[xe.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,zIndex:1},children:[xe.jsx("defs",{children:xe.jsx("pattern",{id:"grid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:xe.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#f4f4f4",strokeWidth:"1"})})}),xe.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),xe.jsx("line",{x1:q1/2,y1:"0",x2:q1/2,y2:X1,stroke:"#ddd",strokeWidth:"1"}),xe.jsx("line",{x1:"0",y1:X1/2,x2:q1,y2:X1/2,stroke:"#ddd",strokeWidth:"1"})]}),xe.jsx("canvas",{ref:m,width:q1,height:X1,style:{position:"absolute",top:0,left:0,zIndex:2,pointerEvents:"none"}}),xe.jsx("canvas",{ref:d,width:q1,height:X1,style:{position:"absolute",top:0,left:0,zIndex:3}}),xe.jsx("div",{style:{position:"absolute",left:z(k),top:fe(E),width:"40px",height:"40px",marginLeft:"-20px",marginTop:"-20px",transform:`rotate(${ge}deg)`,transformOrigin:"center center",zIndex:4,transition:"all 0.1s linear",pointerEvents:"none"},children:xe.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[xe.jsx("circle",{cx:"20",cy:"20",r:"12",stroke:"#2c3e50",strokeWidth:"3",fill:"rgba(255,255,255,0.8)"}),xe.jsx("path",{d:"M 34 20 L 26 15 L 26 25 Z",fill:"#2c3e50"})]})})]})}const N$={id:"TURTLE",RenderComponent:O$,registerBlocks:()=>{},getToolboxXML:o=>s3(o,null,[],[]),executeStep:(o,s,n)=>{const a=o||{x:n.startPos?.x||0,y:n.startPos?.y||0,dir:n.startPos?.dir!==void 0?n.startPos.dir:0,penDown:!0,color:"#2c3e50",lines:[]};let{x:d,y:m,dir:b,penDown:C,color:x,lines:k}=a;const E=[...k];if(s.type==="MOVE"){const R=parseFloat(s.dist),q=b*(Math.PI/180),z=d+R*Math.cos(q),fe=m-R*Math.sin(q);C&&E.push({x1:d,y1:m,x2:z,y2:fe,color:x}),d=z,m=fe}else s.type==="TURN"?b+=parseFloat(s.angle):s.type==="PEN"?C=s.state==="DOWN":s.type==="COLOR"&&(x=s.color);return{newState:{x:d,y:m,dir:b,penDown:C,color:x,lines:E},status:"RUNNING"}},checkVictory:(o,s,n)=>{if(!n||n.length===0)return!1;const a=o?.lines||[],d=400,m=400,b=document.createElement("canvas");b.width=d,b.height=m;const C=b.getContext("2d"),x=document.createElement("canvas");x.width=d,x.height=m;const k=x.getContext("2d"),E=(ge,re)=>{ge.lineWidth=6,ge.lineCap="round",ge.strokeStyle="#000",re.forEach(ie=>{ge.beginPath();const ke=Ke=>d/2+Ke,Be=Ke=>m/2-Ke;ge.moveTo(ke(ie.x1),Be(ie.y1)),ge.lineTo(ke(ie.x2),Be(ie.y2)),ge.stroke()})};E(C,n),E(k,a);const R=C.getImageData(0,0,d,m).data,q=k.getImageData(0,0,d,m).data;let z=0,fe=0;for(let ge=3;ge<R.length;ge+=4)R[ge]>50&&(fe++,q[ge]<50&&z++);return 1-z/(fe||1)>.85}};var c5={exports:{}},L$=c5.exports,F8;function D$(){return F8||(F8=1,(function(o,s){(function(n,a){o.exports=a(S5())})(L$,function(n){var a=n.__namespace__,d=function(H,me){return["[]",F.ATOMIC]},m=function(H,me){const Pe=Array(H.itemCount_);for(let Qe=0;Qe<H.itemCount_;Qe++)Pe[Qe]=me.valueToCode(H,"ADD"+Qe,F.NONE)||"null";return["["+Pe.join(", ")+"]",F.ATOMIC]},b=function(H,me){const Pe=me.provideFunction_("listsRepeat",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),Qe=me.valueToCode(H,"ITEM",F.NONE)||"null";return H=me.valueToCode(H,"NUM",F.NONE)||"0",[Pe+"("+Qe+", "+H+")",F.FUNCTION_CALL]},C=function(H,me){return[(me.valueToCode(H,"VALUE",F.MEMBER)||"[]")+".length",F.MEMBER]},x=function(H,me){return["!"+(me.valueToCode(H,"VALUE",F.MEMBER)||"[]")+".length",F.LOGICAL_NOT]},k=function(H,me){const Pe=H.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",Qe=me.valueToCode(H,"FIND",F.NONE)||"''";return me=(me.valueToCode(H,"VALUE",F.MEMBER)||"[]")+"."+Pe+"("+Qe+")",H.workspace.options.oneBasedIndex?[me+" + 1",F.ADDITION]:[me,F.FUNCTION_CALL]},E=function(H,me){const Pe=H.getFieldValue("MODE")||"GET",Qe=H.getFieldValue("WHERE")||"FROM_START";var Dt=me.valueToCode(H,"VALUE",Qe==="RANDOM"?F.NONE:F.MEMBER)||"[]";switch(Qe){case"FIRST":if(Pe==="GET")return[Dt+"[0]",F.MEMBER];if(Pe==="GET_REMOVE")return[Dt+".shift()",F.MEMBER];if(Pe==="REMOVE")return Dt+`.shift();
`;break;case"LAST":if(Pe==="GET")return[Dt+".slice(-1)[0]",F.MEMBER];if(Pe==="GET_REMOVE")return[Dt+".pop()",F.MEMBER];if(Pe==="REMOVE")return Dt+`.pop();
`;break;case"FROM_START":if(H=me.getAdjusted(H,"AT"),Pe==="GET")return[Dt+"["+H+"]",F.MEMBER];if(Pe==="GET_REMOVE")return[Dt+".splice("+H+", 1)[0]",F.FUNCTION_CALL];if(Pe==="REMOVE")return Dt+".splice("+H+`, 1);
`;break;case"FROM_END":if(H=me.getAdjusted(H,"AT",1,!0),Pe==="GET")return[Dt+".slice("+H+")[0]",F.FUNCTION_CALL];if(Pe==="GET_REMOVE")return[Dt+".splice("+H+", 1)[0]",F.FUNCTION_CALL];if(Pe==="REMOVE")return Dt+".splice("+H+", 1);";break;case"RANDOM":if(Dt=me.provideFunction_("listsGetRandomItem",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+Dt+", "+(Pe!=="GET")+")",Pe==="GET"||Pe==="GET_REMOVE")return[Dt,F.FUNCTION_CALL];if(Pe==="REMOVE")return Dt+`;
`}throw Error("Unhandled combination (lists_getIndex).")},R=function(H,me){function Pe(){if(Qe.match(/^\w+$/))return"";const Sr=me.nameDB_.getDistinctName("tmpList",a.NameType$$module$build$src$core$names.VARIABLE),Al="var "+Sr+" = "+Qe+`;
`;return Qe=Sr,Al}let Qe=me.valueToCode(H,"LIST",F.MEMBER)||"[]";const Dt=H.getFieldValue("MODE")||"GET";var dn=H.getFieldValue("WHERE")||"FROM_START";const Hn=me.valueToCode(H,"TO",F.ASSIGNMENT)||"null";switch(dn){case"FIRST":if(Dt==="SET")return Qe+"[0] = "+Hn+`;
`;if(Dt==="INSERT")return Qe+".unshift("+Hn+`);
`;break;case"LAST":if(Dt==="SET")return Pe()+(Qe+"["+Qe+".length - 1] = "+Hn+`;
`);if(Dt==="INSERT")return Qe+".push("+Hn+`);
`;break;case"FROM_START":if(H=me.getAdjusted(H,"AT"),Dt==="SET")return Qe+"["+H+"] = "+Hn+`;
`;if(Dt==="INSERT")return Qe+".splice("+H+", 0, "+Hn+`);
`;break;case"FROM_END":if(H=me.getAdjusted(H,"AT",1,!1,F.SUBTRACTION),dn=Pe(),Dt==="SET")return dn+(Qe+"["+Qe+".length - "+H+"] = "+Hn+`;
`);if(Dt==="INSERT")return dn+(Qe+".splice("+Qe+".length - "+H+", 0, "+Hn+`);
`);break;case"RANDOM":if(H=Pe(),dn=me.nameDB_.getDistinctName("tmpX",a.NameType$$module$build$src$core$names.VARIABLE),H+="var "+dn+" = Math.floor(Math.random() * "+Qe+`.length);
`,Dt==="SET")return H+(Qe+"["+dn+"] = "+Hn+`;
`);if(Dt==="INSERT")return H+(Qe+".splice("+dn+", 0, "+Hn+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},q=function(H,me){var Pe={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},Qe=me.valueToCode(H,"LIST",F.MEMBER)||"[]";const Dt=H.getFieldValue("WHERE1"),dn=H.getFieldValue("WHERE2");if(Dt==="FIRST"&&dn==="LAST")Qe+=".slice(0)";else if(Qe.match(/^\w+$/)||Dt!=="FROM_END"&&dn==="FROM_START"){switch(Dt){case"FROM_START":Pe=me.getAdjusted(H,"AT1");break;case"FROM_END":Pe=me.getAdjusted(H,"AT1",1,!1,F.SUBTRACTION),Pe=Qe+".length - "+Pe;break;case"FIRST":Pe="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(dn){case"FROM_START":me=me.getAdjusted(H,"AT2",1);break;case"FROM_END":me=me.getAdjusted(H,"AT2",0,!1,F.SUBTRACTION),me=Qe+".length - "+me;break;case"LAST":me=Qe+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}Qe=Qe+".slice("+Pe+", "+me+")"}else{const Hn=me.getAdjusted(H,"AT1");H=me.getAdjusted(H,"AT2"),Qe=me.provideFunction_("subsequence"+Pe[Dt]+Pe[dn],`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(sequence${Dt==="FROM_END"||Dt==="FROM_START"?", at1":""}${dn==="FROM_END"||dn==="FROM_START"?", at2":""}) {
  var start = ${Ce("sequence",Dt,"at1")};
  var end = ${Ce("sequence",dn,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+Qe+(Dt==="FROM_END"||Dt==="FROM_START"?", "+Hn:"")+(dn==="FROM_END"||dn==="FROM_START"?", "+H:"")+")"}return[Qe,F.FUNCTION_CALL]},z=function(H,me){const Pe=me.valueToCode(H,"LIST",F.FUNCTION_CALL)||"[]",Qe=H.getFieldValue("DIRECTION")==="1"?1:-1;return H=H.getFieldValue("TYPE"),me=me.provideFunction_("listsGetSortCompare",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[Pe+".slice().sort("+me+'("'+H+'", '+Qe+"))",F.FUNCTION_CALL]},fe=function(H,me){let Pe=me.valueToCode(H,"INPUT",F.MEMBER);if(me=me.valueToCode(H,"DELIM",F.NONE)||"''",H=H.getFieldValue("MODE"),H==="SPLIT")Pe||(Pe="''"),H="split";else if(H==="JOIN")Pe||(Pe="[]"),H="join";else throw Error("Unknown mode: "+H);return[Pe+"."+H+"("+me+")",F.FUNCTION_CALL]},ve=function(H,me){return[(me.valueToCode(H,"LIST",F.FUNCTION_CALL)||"[]")+".slice().reverse()",F.FUNCTION_CALL]},ge=function(H,me){var Pe=0;let Qe="";me.STATEMENT_PREFIX&&(Qe+=me.injectId(me.STATEMENT_PREFIX,H));do{const Dt=me.valueToCode(H,"IF"+Pe,F.NONE)||"false";let dn=me.statementToCode(H,"DO"+Pe);me.STATEMENT_SUFFIX&&(dn=me.prefixLines(me.injectId(me.STATEMENT_SUFFIX,H),me.INDENT)+dn),Qe+=(Pe>0?" else ":"")+"if ("+Dt+`) {
`+dn+"}",Pe++}while(H.getInput("IF"+Pe));return(H.getInput("ELSE")||me.STATEMENT_SUFFIX)&&(Pe=H.getInput("ELSE")?me.statementToCode(H,"ELSE"):"",me.STATEMENT_SUFFIX&&(Pe=me.prefixLines(me.injectId(me.STATEMENT_SUFFIX,H),me.INDENT)+Pe),Qe+=` else {
`+Pe+"}"),Qe+`
`},re=function(H,me){const Pe={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[H.getFieldValue("OP")],Qe=Pe==="=="||Pe==="!="?F.EQUALITY:F.RELATIONAL,Dt=me.valueToCode(H,"A",Qe)||"0";return H=me.valueToCode(H,"B",Qe)||"0",[Dt+" "+Pe+" "+H,Qe]},ie=function(H,me){const Pe=H.getFieldValue("OP")==="AND"?"&&":"||",Qe=Pe==="&&"?F.LOGICAL_AND:F.LOGICAL_OR;let Dt=me.valueToCode(H,"A",Qe);return H=me.valueToCode(H,"B",Qe),Dt||H?(me=Pe==="&&"?"true":"false",Dt||(Dt=me),H||(H=me)):H=Dt="false",[Dt+" "+Pe+" "+H,Qe]},ke=function(H,me){const Pe=F.LOGICAL_NOT;return["!"+(me.valueToCode(H,"BOOL",Pe)||"true"),Pe]},Be=function(H,me){return[H.getFieldValue("BOOL")==="TRUE"?"true":"false",F.ATOMIC]},Ke=function(H,me){return["null",F.ATOMIC]},ye=function(H,me){const Pe=me.valueToCode(H,"IF",F.CONDITIONAL)||"false",Qe=me.valueToCode(H,"THEN",F.CONDITIONAL)||"null";return H=me.valueToCode(H,"ELSE",F.CONDITIONAL)||"null",[Pe+" ? "+Qe+" : "+H,F.CONDITIONAL]},Ve=function(H,me){let Pe;Pe=H.getField("TIMES")?String(Number(H.getFieldValue("TIMES"))):me.valueToCode(H,"TIMES",F.ASSIGNMENT)||"0";let Qe=me.statementToCode(H,"DO");Qe=me.addLoopTrap(Qe,H),H="";const Dt=me.nameDB_.getDistinctName("count",a.NameType$$module$build$src$core$names.VARIABLE);let dn=Pe;return Pe.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Pe)||(dn=me.nameDB_.getDistinctName("repeat_end",a.NameType$$module$build$src$core$names.VARIABLE),H+="var "+dn+" = "+Pe+`;
`),H+("for (var "+Dt+" = 0; "+Dt+" < "+dn+"; "+Dt+`++) {
`+Qe+`}
`)},st=function(H,me){const Pe=H.getFieldValue("MODE")==="UNTIL";let Qe=me.valueToCode(H,"BOOL",Pe?F.LOGICAL_NOT:F.NONE)||"false",Dt=me.statementToCode(H,"DO");return Dt=me.addLoopTrap(Dt,H),Pe&&(Qe="!"+Qe),"while ("+Qe+`) {
`+Dt+`}
`},Xe=function(H,me){var Pe=me.getVariableName(H.getFieldValue("VAR")),Qe=me.valueToCode(H,"FROM",F.ASSIGNMENT)||"0",Dt=me.valueToCode(H,"TO",F.ASSIGNMENT)||"0";const dn=me.valueToCode(H,"BY",F.ASSIGNMENT)||"1";let Hn=me.statementToCode(H,"DO");if(Hn=me.addLoopTrap(Hn,H),a.isNumber$$module$build$src$core$utils$string(Qe)&&a.isNumber$$module$build$src$core$utils$string(Dt)&&a.isNumber$$module$build$src$core$utils$string(dn))me=Number(Qe)<=Number(Dt),H="for ("+Pe+" = "+Qe+"; "+Pe+(me?" <= ":" >= ")+Dt+"; "+Pe,Pe=Math.abs(Number(dn)),H=Pe===1?H+(me?"++":"--"):H+((me?" += ":" -= ")+Pe),H+=`) {
`+Hn+`}
`;else{H="";let Sr=Qe;Qe.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Qe)||(Sr=me.nameDB_.getDistinctName(Pe+"_start",a.NameType$$module$build$src$core$names.VARIABLE),H+="var "+Sr+" = "+Qe+`;
`),Qe=Dt,Dt.match(/^\w+$/)||a.isNumber$$module$build$src$core$utils$string(Dt)||(Qe=me.nameDB_.getDistinctName(Pe+"_end",a.NameType$$module$build$src$core$names.VARIABLE),H+="var "+Qe+" = "+Dt+`;
`),Dt=me.nameDB_.getDistinctName(Pe+"_inc",a.NameType$$module$build$src$core$names.VARIABLE),H+="var "+Dt+" = ",H=a.isNumber$$module$build$src$core$utils$string(dn)?H+(Math.abs(Number(dn))+`;
`):H+("Math.abs("+dn+`);
`),H+="if ("+Sr+" > "+Qe+`) {
`,H+=me.INDENT+Dt+" = -"+Dt+`;
`,H=H+`}
for (`+(Pe+" = "+Sr+"; "+Dt+" >= 0 ? "+Pe+" <= "+Qe+" : "+Pe+" >= "+Qe+"; "+Pe+" += "+Dt+`) {
`+Hn+`}
`)}return H},Qt=function(H,me){const Pe=me.getVariableName(H.getFieldValue("VAR"));var Qe=me.valueToCode(H,"LIST",F.ASSIGNMENT)||"[]";let Dt=me.statementToCode(H,"DO");Dt=me.addLoopTrap(Dt,H),H="";let dn=Qe;return Qe.match(/^\w+$/)||(dn=me.nameDB_.getDistinctName(Pe+"_list",a.NameType$$module$build$src$core$names.VARIABLE),H+="var "+dn+" = "+Qe+`;
`),Qe=me.nameDB_.getDistinctName(Pe+"_index",a.NameType$$module$build$src$core$names.VARIABLE),Dt=me.INDENT+Pe+" = "+dn+"["+Qe+`];
`+Dt,H+("for (var "+Qe+" in "+dn+`) {
`+Dt+`}
`)},It=function(H,me){let Pe="";if(me.STATEMENT_PREFIX&&(Pe+=me.injectId(me.STATEMENT_PREFIX,H)),me.STATEMENT_SUFFIX&&(Pe+=me.injectId(me.STATEMENT_SUFFIX,H)),me.STATEMENT_PREFIX){const Qe=H.getSurroundLoop();Qe&&!Qe.suppressPrefixSuffix&&(Pe+=me.injectId(me.STATEMENT_PREFIX,Qe))}switch(H.getFieldValue("FLOW")){case"BREAK":return Pe+`break;
`;case"CONTINUE":return Pe+`continue;
`}throw Error("Unknown flow statement.")},De=function(H,me){return H=Number(H.getFieldValue("NUM")),[String(H),H>=0?F.ATOMIC:F.UNARY_NEGATION]},Bt=function(H,me){var Pe={ADD:[" + ",F.ADDITION],MINUS:[" - ",F.SUBTRACTION],MULTIPLY:[" * ",F.MULTIPLICATION],DIVIDE:[" / ",F.DIVISION],POWER:[null,F.NONE]}[H.getFieldValue("OP")];const Qe=Pe[0];Pe=Pe[1];const Dt=me.valueToCode(H,"A",Pe)||"0";return H=me.valueToCode(H,"B",Pe)||"0",Qe?[Dt+Qe+H,Pe]:["Math.pow("+Dt+", "+H+")",F.FUNCTION_CALL]},kt=function(H,me){const Pe=H.getFieldValue("OP");let Qe;if(Pe==="NEG")return H=me.valueToCode(H,"NUM",F.UNARY_NEGATION)||"0",H[0]==="-"&&(H=" "+H),["-"+H,F.UNARY_NEGATION];switch(H=Pe==="SIN"||Pe==="COS"||Pe==="TAN"?me.valueToCode(H,"NUM",F.DIVISION)||"0":me.valueToCode(H,"NUM",F.NONE)||"0",Pe){case"ABS":Qe="Math.abs("+H+")";break;case"ROOT":Qe="Math.sqrt("+H+")";break;case"LN":Qe="Math.log("+H+")";break;case"EXP":Qe="Math.exp("+H+")";break;case"POW10":Qe="Math.pow(10,"+H+")";break;case"ROUND":Qe="Math.round("+H+")";break;case"ROUNDUP":Qe="Math.ceil("+H+")";break;case"ROUNDDOWN":Qe="Math.floor("+H+")";break;case"SIN":Qe="Math.sin("+H+" / 180 * Math.PI)";break;case"COS":Qe="Math.cos("+H+" / 180 * Math.PI)";break;case"TAN":Qe="Math.tan("+H+" / 180 * Math.PI)"}if(Qe)return[Qe,F.FUNCTION_CALL];switch(Pe){case"LOG10":Qe="Math.log("+H+") / Math.log(10)";break;case"ASIN":Qe="Math.asin("+H+") / Math.PI * 180";break;case"ACOS":Qe="Math.acos("+H+") / Math.PI * 180";break;case"ATAN":Qe="Math.atan("+H+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+Pe)}return[Qe,F.DIVISION]},nt=function(H,me){return{PI:["Math.PI",F.MEMBER],E:["Math.E",F.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",F.DIVISION],SQRT2:["Math.SQRT2",F.MEMBER],SQRT1_2:["Math.SQRT1_2",F.MEMBER],INFINITY:["Infinity",F.ATOMIC]}[H.getFieldValue("CONSTANT")]},Ze=function(H,me){var Pe={EVEN:[" % 2 === 0",F.MODULUS,F.EQUALITY],ODD:[" % 2 === 1",F.MODULUS,F.EQUALITY],WHOLE:[" % 1 === 0",F.MODULUS,F.EQUALITY],POSITIVE:[" > 0",F.RELATIONAL,F.RELATIONAL],NEGATIVE:[" < 0",F.RELATIONAL,F.RELATIONAL],DIVISIBLE_BY:[null,F.MODULUS,F.EQUALITY],PRIME:[null,F.NONE,F.FUNCTION_CALL]};const Qe=H.getFieldValue("PROPERTY"),[Dt,dn,Hn]=Pe[Qe];return Pe=me.valueToCode(H,"NUMBER_TO_CHECK",dn)||"0",Qe==="PRIME"?H=me.provideFunction_("mathIsPrime",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+Pe+")":Qe==="DIVISIBLE_BY"?(H=me.valueToCode(H,"DIVISOR",F.MODULUS)||"0",H=Pe+" % "+H+" === 0"):H=Pe+Dt,[H,Hn]},vt=function(H,me){const Pe=me.valueToCode(H,"DELTA",F.ADDITION)||"0";return H=me.getVariableName(H.getFieldValue("VAR")),H+" = (typeof "+H+" === 'number' ? "+H+" : 0) + "+Pe+`;
`},ft=function(H,me){var Pe=H.getFieldValue("OP");switch(Pe){case"SUM":H=me.valueToCode(H,"LIST",F.MEMBER)||"[]",H+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":H=me.valueToCode(H,"LIST",F.NONE)||"[]",H="Math.min.apply(null, "+H+")";break;case"MAX":H=me.valueToCode(H,"LIST",F.NONE)||"[]",H="Math.max.apply(null, "+H+")";break;case"AVERAGE":Pe=me.provideFunction_("mathMean",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),H=me.valueToCode(H,"LIST",F.NONE)||"[]",H=Pe+"("+H+")";break;case"MEDIAN":Pe=me.provideFunction_("mathMedian",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),H=me.valueToCode(H,"LIST",F.NONE)||"[]",H=Pe+"("+H+")";break;case"MODE":Pe=me.provideFunction_("mathModes",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
      modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),H=me.valueToCode(H,"LIST",F.NONE)||"[]",H=Pe+"("+H+")";break;case"STD_DEV":Pe=me.provideFunction_("mathStandardDeviation",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance /= n;
  return Math.sqrt(variance);
}
`),H=me.valueToCode(H,"LIST",F.NONE)||"[]",H=Pe+"("+H+")";break;case"RANDOM":Pe=me.provideFunction_("mathRandomList",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),H=me.valueToCode(H,"LIST",F.NONE)||"[]",H=Pe+"("+H+")";break;default:throw Error("Unknown operator: "+Pe)}return[H,F.FUNCTION_CALL]},Ut=function(H,me){const Pe=me.valueToCode(H,"DIVIDEND",F.MODULUS)||"0";return H=me.valueToCode(H,"DIVISOR",F.MODULUS)||"0",[Pe+" % "+H,F.MODULUS]},le=function(H,me){const Pe=me.valueToCode(H,"VALUE",F.NONE)||"0",Qe=me.valueToCode(H,"LOW",F.NONE)||"0";return H=me.valueToCode(H,"HIGH",F.NONE)||"Infinity",["Math.min(Math.max("+Pe+", "+Qe+"), "+H+")",F.FUNCTION_CALL]},ze=function(H,me){const Pe=me.valueToCode(H,"FROM",F.NONE)||"0";return H=me.valueToCode(H,"TO",F.NONE)||"0",[me.provideFunction_("mathRandomInt",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+Pe+", "+H+")",F.FUNCTION_CALL]},ct=function(H,me){return["Math.random()",F.FUNCTION_CALL]},Se=function(H,me){const Pe=me.valueToCode(H,"X",F.NONE)||"0";return["Math.atan2("+(me.valueToCode(H,"Y",F.NONE)||"0")+", "+Pe+") / Math.PI * 180",F.DIVISION]},Jt=function(H,me){const Pe=me.getProcedureName(H.getFieldValue("NAME"));var Qe="";me.STATEMENT_PREFIX&&(Qe+=me.injectId(me.STATEMENT_PREFIX,H)),me.STATEMENT_SUFFIX&&(Qe+=me.injectId(me.STATEMENT_SUFFIX,H)),Qe&&(Qe=me.prefixLines(Qe,me.INDENT));let Dt="";me.INFINITE_LOOP_TRAP&&(Dt=me.prefixLines(me.injectId(me.INFINITE_LOOP_TRAP,H),me.INDENT));let dn="";H.getInput("STACK")&&(dn=me.statementToCode(H,"STACK"));let Hn="";H.getInput("RETURN")&&(Hn=me.valueToCode(H,"RETURN",F.NONE)||"");let Sr="";dn&&Hn&&(Sr=Qe),Hn&&(Hn=me.INDENT+"return "+Hn+`;
`);const Al=[],yo=H.getVars();for(let br=0;br<yo.length;br++)Al[br]=me.getVariableName(yo[br]);return Qe="function "+Pe+"("+Al.join(", ")+`) {
`+Qe+Dt+dn+Sr+Hn+"}",Qe=me.scrub_(H,Qe),me.definitions_["%"+Pe]=Qe,null},Ot=function(H,me){const Pe=me.getProcedureName(H.getFieldValue("NAME")),Qe=[],Dt=H.getVars();for(let dn=0;dn<Dt.length;dn++)Qe[dn]=me.valueToCode(H,"ARG"+dn,F.NONE)||"null";return[Pe+"("+Qe.join(", ")+")",F.FUNCTION_CALL]},sn=function(H,me){return me.forBlock.procedures_callreturn(H,me)[0]+`;
`},yn=function(H,me){let Pe="if ("+(me.valueToCode(H,"CONDITION",F.NONE)||"false")+`) {
`;return me.STATEMENT_SUFFIX&&(Pe+=me.prefixLines(me.injectId(me.STATEMENT_SUFFIX,H),me.INDENT)),H.hasReturnValue_?(H=me.valueToCode(H,"VALUE",F.NONE)||"null",Pe+=me.INDENT+"return "+H+`;
`):Pe+=me.INDENT+`return;
`,Pe+`}
`},hr=function(H,me){return[me.quote_(H.getFieldValue("TEXT")),F.ATOMIC]},Yn=function(H,me){switch(H.itemCount_){case 0:return["''",F.ATOMIC];case 1:return H=me.valueToCode(H,"ADD0",F.NONE)||"''",oe(H);case 2:var Pe=me.valueToCode(H,"ADD0",F.NONE)||"''";return H=me.valueToCode(H,"ADD1",F.NONE)||"''",[oe(Pe)[0]+" + "+oe(H)[0],F.ADDITION];default:Pe=Array(H.itemCount_);for(let Qe=0;Qe<H.itemCount_;Qe++)Pe[Qe]=me.valueToCode(H,"ADD"+Qe,F.NONE)||"''";return["["+Pe.join(",")+"].join('')",F.FUNCTION_CALL]}},an=function(H,me){const Pe=me.getVariableName(H.getFieldValue("VAR"));return H=me.valueToCode(H,"TEXT",F.NONE)||"''",Pe+" += "+oe(H)[0]+`;
`},Xn=function(H,me){return[(me.valueToCode(H,"VALUE",F.MEMBER)||"''")+".length",F.MEMBER]},ht=function(H,me){return["!"+(me.valueToCode(H,"VALUE",F.MEMBER)||"''")+".length",F.LOGICAL_NOT]},tn=function(H,me){const Pe=H.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",Qe=me.valueToCode(H,"FIND",F.NONE)||"''";return me=(me.valueToCode(H,"VALUE",F.MEMBER)||"''")+"."+Pe+"("+Qe+")",H.workspace.options.oneBasedIndex?[me+" + 1",F.ADDITION]:[me,F.FUNCTION_CALL]},Wr=function(H,me){const Pe=H.getFieldValue("WHERE")||"FROM_START",Qe=me.valueToCode(H,"VALUE",Pe==="RANDOM"?F.NONE:F.MEMBER)||"''";switch(Pe){case"FIRST":return[Qe+".charAt(0)",F.FUNCTION_CALL];case"LAST":return[Qe+".slice(-1)",F.FUNCTION_CALL];case"FROM_START":return H=me.getAdjusted(H,"AT"),[Qe+".charAt("+H+")",F.FUNCTION_CALL];case"FROM_END":return H=me.getAdjusted(H,"AT",1,!0),[Qe+".slice("+H+").charAt(0)",F.FUNCTION_CALL];case"RANDOM":return[me.provideFunction_("textRandomLetter",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+Qe+")",F.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},Jn=function(H,me){var Pe={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const Qe=H.getFieldValue("WHERE1"),Dt=H.getFieldValue("WHERE2");var dn=Qe!=="FROM_END"&&Qe!=="LAST"&&Dt!=="FROM_END"&&Dt!=="LAST",Hn=me.valueToCode(H,"STRING",dn?F.MEMBER:F.NONE)||"''";if(Qe==="FIRST"&&Dt==="LAST")return[Hn,F.NONE];if(Hn.match(/^'?\w+'?$/)||dn){switch(Qe){case"FROM_START":Pe=me.getAdjusted(H,"AT1");break;case"FROM_END":Pe=me.getAdjusted(H,"AT1",1,!1,F.SUBTRACTION),Pe=Hn+".length - "+Pe;break;case"FIRST":Pe="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(Dt){case"FROM_START":me=me.getAdjusted(H,"AT2",1);break;case"FROM_END":me=me.getAdjusted(H,"AT2",0,!1,F.SUBTRACTION),me=Hn+".length - "+me;break;case"LAST":me=Hn+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}Hn=Hn+".slice("+Pe+", "+me+")"}else dn=me.getAdjusted(H,"AT1"),H=me.getAdjusted(H,"AT2"),Hn=me.provideFunction_("subsequence"+Pe[Qe]+Pe[Dt],`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(sequence${Qe==="FROM_END"||Qe==="FROM_START"?", at1":""}${Dt==="FROM_END"||Dt==="FROM_START"?", at2":""}) {
  var start = ${Le("sequence",Qe,"at1")};
  var end = ${Le("sequence",Dt,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+Hn+(Qe==="FROM_END"||Qe==="FROM_START"?", "+dn:"")+(Dt==="FROM_END"||Dt==="FROM_START"?", "+H:"")+")";return[Hn,F.FUNCTION_CALL]},pr=function(H,me){const Pe={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[H.getFieldValue("CASE")];return H=me.valueToCode(H,"TEXT",Pe?F.MEMBER:F.NONE)||"''",[Pe?H+Pe:me.provideFunction_("textToTitleCase",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+H+")",F.FUNCTION_CALL]},on=function(H,me){const Pe={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[H.getFieldValue("MODE")];return[(me.valueToCode(H,"TEXT",F.MEMBER)||"''")+Pe,F.FUNCTION_CALL]},Ti=function(H,me){return"window.alert("+(me.valueToCode(H,"TEXT",F.NONE)||"''")+`);
`},Bi=function(H,me){return me="window.prompt("+(H.getField("TEXT")?me.quote_(H.getFieldValue("TEXT")):me.valueToCode(H,"TEXT",F.NONE)||"''")+")",H.getFieldValue("TYPE")==="NUMBER"&&(me="Number("+me+")"),[me,F.FUNCTION_CALL]},Zn=function(H,me){const Pe=me.valueToCode(H,"TEXT",F.NONE)||"''";return H=me.valueToCode(H,"SUB",F.NONE)||"''",[me.provideFunction_("textCount",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+Pe+", "+H+")",F.FUNCTION_CALL]},ss=function(H,me){const Pe=me.valueToCode(H,"TEXT",F.NONE)||"''",Qe=me.valueToCode(H,"FROM",F.NONE)||"''";return H=me.valueToCode(H,"TO",F.NONE)||"''",[me.provideFunction_("textReplace",`
function ${me.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+Pe+", "+Qe+", "+H+")",F.FUNCTION_CALL]},vi=function(H,me){return[(me.valueToCode(H,"TEXT",F.MEMBER)||"''")+".split('').reverse().join('')",F.FUNCTION_CALL]},sr=function(H,me){return[me.getVariableName(H.getFieldValue("VAR")),F.ATOMIC]},Vn=function(H,me){const Pe=me.valueToCode(H,"VALUE",F.ASSIGNMENT)||"0";return me.getVariableName(H.getFieldValue("VAR"))+" = "+Pe+`;
`},F;(function(H){H[H.ATOMIC=0]="ATOMIC",H[H.NEW=1.1]="NEW",H[H.MEMBER=1.2]="MEMBER",H[H.FUNCTION_CALL=2]="FUNCTION_CALL",H[H.INCREMENT=3]="INCREMENT",H[H.DECREMENT=3]="DECREMENT",H[H.BITWISE_NOT=4.1]="BITWISE_NOT",H[H.UNARY_PLUS=4.2]="UNARY_PLUS",H[H.UNARY_NEGATION=4.3]="UNARY_NEGATION",H[H.LOGICAL_NOT=4.4]="LOGICAL_NOT",H[H.TYPEOF=4.5]="TYPEOF",H[H.VOID=4.6]="VOID",H[H.DELETE=4.7]="DELETE",H[H.AWAIT=4.8]="AWAIT",H[H.EXPONENTIATION=5]="EXPONENTIATION",H[H.MULTIPLICATION=5.1]="MULTIPLICATION",H[H.DIVISION=5.2]="DIVISION",H[H.MODULUS=5.3]="MODULUS",H[H.SUBTRACTION=6.1]="SUBTRACTION",H[H.ADDITION=6.2]="ADDITION",H[H.BITWISE_SHIFT=7]="BITWISE_SHIFT",H[H.RELATIONAL=8]="RELATIONAL",H[H.IN=8]="IN",H[H.INSTANCEOF=8]="INSTANCEOF",H[H.EQUALITY=9]="EQUALITY",H[H.BITWISE_AND=10]="BITWISE_AND",H[H.BITWISE_XOR=11]="BITWISE_XOR",H[H.BITWISE_OR=12]="BITWISE_OR",H[H.LOGICAL_AND=13]="LOGICAL_AND",H[H.LOGICAL_OR=14]="LOGICAL_OR",H[H.CONDITIONAL=15]="CONDITIONAL",H[H.ASSIGNMENT=16]="ASSIGNMENT",H[H.YIELD=17]="YIELD",H[H.COMMA=18]="COMMA",H[H.NONE=99]="NONE"})(F||(F={}));var ee=class extends a.CodeGenerator$$module$build$src$core$generator{constructor(H="JavaScript"){super(H),this.ORDER_OVERRIDES=[[F.FUNCTION_CALL,F.MEMBER],[F.FUNCTION_CALL,F.FUNCTION_CALL],[F.MEMBER,F.MEMBER],[F.MEMBER,F.FUNCTION_CALL],[F.LOGICAL_NOT,F.LOGICAL_NOT],[F.MULTIPLICATION,F.MULTIPLICATION],[F.ADDITION,F.ADDITION],[F.LOGICAL_AND,F.LOGICAL_AND],[F.LOGICAL_OR,F.LOGICAL_OR]],this.isInitialized=!1;for(const me in F)H=F[me],typeof H!="string"&&(this["ORDER_"+me]=H);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(H){super.init(H),this.nameDB_?this.nameDB_.reset():this.nameDB_=new a.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(H.getVariableMap()),this.nameDB_.populateVariables(H),this.nameDB_.populateProcedures(H);const me=[];var Pe=a.allDeveloperVariables$$module$build$src$core$variables(H);for(let Qe=0;Qe<Pe.length;Qe++)me.push(this.nameDB_.getName(Pe[Qe],a.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(H=a.allUsedVarModels$$module$build$src$core$variables(H),Pe=0;Pe<H.length;Pe++)me.push(this.nameDB_.getName(H[Pe].getId(),a.NameType$$module$build$src$core$names.VARIABLE));me.length&&(this.definitions_.variables="var "+me.join(", ")+";"),this.isInitialized=!0}finish(H){const me=Object.values(this.definitions_);return super.finish(H),this.isInitialized=!1,this.nameDB_.reset(),me.join(`

`)+`


`+H}scrubNakedValue(H){return H+`;
`}quote_(H){return H=H.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+H+"'"}multiline_quote_(H){return H.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(H,me,Pe=!1){let Qe="";if(!H.outputConnection||!H.outputConnection.targetConnection){var Dt=H.getCommentText();Dt&&(Dt=a.wrap$$module$build$src$core$utils$string(Dt,this.COMMENT_WRAP-3),Qe+=this.prefixLines(Dt+`
`,"// "));for(let dn=0;dn<H.inputList.length;dn++)H.inputList[dn].type===a.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Dt=H.inputList[dn].connection.targetBlock())&&(Dt=this.allNestedComments(Dt))&&(Qe+=this.prefixLines(Dt,"// "))}return H=H.nextConnection&&H.nextConnection.targetBlock(),Pe=Pe?"":this.blockToCode(H),Qe+me+Pe}getAdjusted(H,me,Pe=0,Qe=!1,Dt=F.NONE){H.workspace.options.oneBasedIndex&&Pe--;const dn=H.workspace.options.oneBasedIndex?"1":"0";let Hn=Dt;return Pe>0?Hn=F.ADDITION:Pe<0?Hn=F.SUBTRACTION:Qe&&(Hn=F.UNARY_NEGATION),H=this.valueToCode(H,me,Hn)||dn,Pe===0&&!Qe?H:a.isNumber$$module$build$src$core$utils$string(H)?(H=String(Number(H)+Pe),Qe&&(H=String(-Number(H))),H):(Pe>0?H=`${H} + ${Pe}`:Pe<0&&(H=`${H} - ${-Pe}`),Qe&&(H=Pe?`-(${H})`:`-${H}`),Math.floor(Dt)>=Math.floor(Hn)&&(H=`(${H})`),H)}},Ce=function(H,me,Pe){return me==="FIRST"?"0":me==="FROM_END"?H+".length - 1 - "+Pe:me==="LAST"?H+".length - 1":Pe},Ne={};Ne.lists_create_empty=d,Ne.lists_create_with=m,Ne.lists_getIndex=E,Ne.lists_getSublist=q,Ne.lists_indexOf=k,Ne.lists_isEmpty=x,Ne.lists_length=C,Ne.lists_repeat=b,Ne.lists_reverse=ve,Ne.lists_setIndex=R,Ne.lists_sort=z,Ne.lists_split=fe;var et={};et.controls_if=ge,et.controls_ifelse=ge,et.logic_boolean=Be,et.logic_compare=re,et.logic_negate=ke,et.logic_null=Ke,et.logic_operation=ie,et.logic_ternary=ye;var Je={};Je.controls_flow_statements=It,Je.controls_for=Xe,Je.controls_forEach=Qt,Je.controls_repeat=Ve,Je.controls_repeat_ext=Ve,Je.controls_whileUntil=st;var xt={};xt.math_arithmetic=Bt,xt.math_atan2=Se,xt.math_change=vt,xt.math_constant=nt,xt.math_constrain=le,xt.math_modulo=Ut,xt.math_number=De,xt.math_number_property=Ze,xt.math_on_list=ft,xt.math_random_float=ct,xt.math_random_int=ze,xt.math_round=kt,xt.math_single=kt,xt.math_trig=kt;var St={};St.procedures_callnoreturn=sn,St.procedures_callreturn=Ot,St.procedures_defnoreturn=Jt,St.procedures_defreturn=Jt,St.procedures_ifreturn=yn;var O=/^\s*'([^']|\\')*'\s*$/,oe=function(H){return O.test(H)?[H,F.ATOMIC]:["String("+H+")",F.FUNCTION_CALL]},Le=function(H,me,Pe){return me==="FIRST"?"0":me==="FROM_END"?H+".length - 1 - "+Pe:me==="LAST"?H+".length - 1":Pe},Me={};Me.text=hr,Me.text_append=an,Me.text_changeCase=pr,Me.text_charAt=Wr,Me.text_count=Zn,Me.text_getSubstring=Jn,Me.text_indexOf=tn,Me.text_isEmpty=ht,Me.text_join=Yn,Me.text_length=Xn,Me.text_print=Ti,Me.text_prompt=Bi,Me.text_prompt_ext=Bi,Me.text_replace=ss,Me.text_reverse=vi,Me.text_trim=on;var Nt={};Nt.variables_get=sr,Nt.variables_set=Vn;var Cn={};Cn.variables_get_dynamic=sr,Cn.variables_set_dynamic=Vn;var Qr=new ee,ds=Object.assign({},Ne,et,Je,xt,St,Me,Nt,Cn);for(const H in ds)Qr.forBlock[H]=ds[H];var fs={};return fs.JavascriptGenerator=ee,fs.Order=F,fs.javascriptGenerator=Qr,fs.__namespace__=a,fs})})(c5)),c5.exports}var B$=D$();const P$=Xu(B$),{JavascriptGenerator:eM,Order:tM,javascriptGenerator:Rn}=P$,z8="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIzIiBmaWxsPSJ3aGl0ZSIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9IjAuNSI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgZnJvbT0iMyIgdG89IjEwIiBkdXI9IjEuNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAiIGR1cj0iMS41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L2NpcmNsZT48L3N2Zz4=";let U8=!1;const S7=()=>{if(U8)return;U8=!0,console.log(" Enregistrement global des blocs (V3 Anime)..."),V3([{type:"maze_move_forward",message0:"Avancer ",previousStatement:null,nextStatement:null,colour:160},{type:"maze_turn",message0:"Pivoter %1 ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche ","LEFT"],[" droite ","RIGHT"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"maze_forever",message0:"Rpter jusqu'  %1",args0:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:120},{type:"maze_if",message0:"Si chemin %1 %2 %3 faire %4",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:z8,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:210},{type:"maze_if_else",message0:"Si chemin %1 %2 %3 faire %4 sinon %5",args0:[{type:"field_dropdown",name:"DIR",options:[["devant ","AHEAD"],[" gauche ","LEFT"],[" droite ","RIGHT"]]},{type:"field_image",src:z8,width:15,height:15,alt:"Radar"},{type:"input_dummy"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:210}]),Rn.forBlock.maze_move_forward=s=>`actions.push({type: "MOVE", id: "${s.id}"}); api.move();
`,Rn.forBlock.maze_turn=s=>{const n=s.getFieldValue("DIR");return`actions.push({type: "TURN_${n}", id: "${s.id}"}); api.turn('${n}');
`},Rn.forBlock.maze_forever=s=>{const n=Rn.statementToCode(s,"DO");return`while (!api.isDone() && api.safeCheck()) {
      actions.push({type: "LOOP_CHECK", id: "${s.id}"}); 
      ${n}
    }
`},Rn.forBlock.maze_if=s=>{const n=s.getFieldValue("DIR"),a=Rn.statementToCode(s,"DO");return`actions.push({type: "SCAN", dir: "${n}", id: "${s.id}"}); if (api.isPath('${n}')) {
${a}}
`},Rn.forBlock.maze_if_else=s=>{const n=s.getFieldValue("DIR"),a=Rn.statementToCode(s,"DO"),d=Rn.statementToCode(s,"ELSE");return`actions.push({type: "SCAN", dir: "${n}", id: "${s.id}"}); if (api.isPath('${n}')) {
${a}} else {
${d}}
`},V3([{type:"turtle_move",message0:"avancer  de %1 pas",args0:[{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_turn",message0:"pivoter %1 de %2 degrs ",args0:[{type:"field_dropdown",name:"DIR",options:[[" gauche","LEFT"],[" droite","RIGHT"]]},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_pen",message0:"stylo %1",args0:[{type:"field_dropdown",name:"STATE",options:[["lev ","UP"],["baiss ","DOWN"]]}],previousStatement:null,nextStatement:null,colour:160},{type:"turtle_color",message0:"couleur %1",args0:[{type:"field_colour",name:"COLOR",colour:"#ff0000"}],previousStatement:null,nextStatement:null,colour:160}]),Rn.forBlock.turtle_move=s=>`actions.push({type: 'MOVE', id: "${s.id}", dist: ${Rn.valueToCode(s,"VALUE",Rn.ORDER_ATOMIC)||"0"}});
`,Rn.forBlock.turtle_turn=s=>{const n=s.getFieldValue("DIR"),a=Rn.valueToCode(s,"VALUE",Rn.ORDER_ATOMIC)||"0",d=n==="LEFT"?`-${a}`:a;return`actions.push({type: 'TURN', id: "${s.id}", angle: ${d}});
`},Rn.forBlock.turtle_pen=s=>`actions.push({type: 'PEN', id: "${s.id}", state: '${s.getFieldValue("STATE")}'});
`,Rn.forBlock.turtle_color=s=>`actions.push({type: 'COLOR', id: "${s.id}", color: '${s.getFieldValue("COLOR")}'});
`,Rn.forBlock.variables_set=s=>{const n=Rn.valueToCode(s,"VALUE",Rn.ORDER_ATOMIC)||"0",a=s.getField("VAR").getText();return`try { ${a} = ${n}; actions.push({type: 'SET', id: "${s.id}", var: '${a}', val: ${a}}); } catch(e) { console.error(e); }
`},x6.text_print||V3([{type:"text_print",message0:"afficher %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:160}]),Rn.forBlock.text_print=s=>{const n=Rn.valueToCode(s,"TEXT",Rn.ORDER_NONE)||"''";return`actions.push({type: 'PRINT', id: "${s.id}", msg: ${n}});
`},x6.system_var_get||(x6.system_var_get={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_label_serializable",name:"VAR_NAME",text:"VAR"}],output:null,colour:60,editable:!1})}}),Rn.forBlock.system_var_get=s=>[s.getField("VAR_NAME").getText(),Rn.ORDER_ATOMIC],V3([{type:"equation_op_both",message0:"Aux deux cts %1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["Ajouter +","ADD"],["Soustraire -","SUB"],["Multiplier ","MUL"],["Diviser /","DIV"]]},{type:"input_value",name:"VAL",check:"Number"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"Applique une opration aux deux membres de l'quation"}]),Rn.forBlock.equation_op_both=s=>{const n=s.getFieldValue("OP"),a=Rn.valueToCode(s,"VAL",Rn.ORDER_ATOMIC)||"0";return`actions.push({ type: 'OP_BOTH', operator: '${{ADD:"+",SUB:"-",MUL:"*",DIV:"/"}[n]}', value: ${a} });
`};const o=(s,n)=>{const a=s.getFieldValue("WHERE")||"FROM_START";let d="0";switch(a){case"FIRST":d="0";break;case"LAST":d=`${n}.length - 1`;break;case"FROM_START":d=String(Rn.valueToCode(s,"AT",Rn.ORDER_NONE)||"1").match(/^\d+$/)?parseInt(Rn.valueToCode(s,"AT",Rn.ORDER_NONE)||"1",10)-1:`(${Rn.valueToCode(s,"AT",Rn.ORDER_NONE)||"1"} - 1)`;break;case"FROM_END":d=`${n}.length - ${Rn.valueToCode(s,"AT",Rn.ORDER_NONE)||"1"}`;break;case"RANDOM":d=`Math.floor(Math.random() * ${n}.length)`;break}return d};Rn.forBlock.lists_create_with=s=>{const n=new Array(s.itemCount_);for(let a=0;a<s.itemCount_;a++)n[a]=Rn.valueToCode(s,"ADD"+a,Rn.ORDER_NONE)||"0";return["["+n.join(", ")+"]",Rn.ORDER_ATOMIC]},Rn.forBlock.lists_getIndex=s=>[`${Rn.valueToCode(s,"VALUE",Rn.ORDER_MEMBER)||"[]"}[${o(s,Rn.valueToCode(s,"VALUE",Rn.ORDER_MEMBER)||"[]")}]`,Rn.ORDER_MEMBER],Rn.forBlock.lists_setIndex=s=>`${Rn.valueToCode(s,"LIST",Rn.ORDER_MEMBER)||"[]"}[${o(s,Rn.valueToCode(s,"LIST",Rn.ORDER_MEMBER)||"[]")}] = ${Rn.valueToCode(s,"TO",Rn.ORDER_ASSIGNMENT)||"null"};
actions.push({type: 'SET', id: "${s.id}", var: '${Rn.valueToCode(s,"LIST",Rn.ORDER_MEMBER)||"[]"}', val: ${Rn.valueToCode(s,"LIST",Rn.ORDER_MEMBER)||"[]"}});
`,Rn.forBlock.lists_length=s=>[`${Rn.valueToCode(s,"VALUE",Rn.ORDER_MEMBER)||"[]"}.length`,Rn.ORDER_MEMBER]};function F$({levelData:o,onUpdate:s}){const n=o.equation||{a:2,b:4,c:0,d:10};Dn.useEffect(()=>{(!o.allowedBlocks||o.allowedBlocks.length===0)&&s({...o,equation:n,allowedBlocks:["equation_op_both","math_number"]})},[]);const a=(d,m)=>{const b={...n,[d]:parseInt(m)},C=`${b.a}*x + ${b.b}`,x=`${b.c}*x + ${b.d}`;s({...o,equation:{...b,lhs:C,rhs:x,sign:"="},allowedBlocks:["equation_op_both","math_number"]})};return xe.jsxs("div",{style:{padding:"20px"},children:[xe.jsx("h3",{style:{color:"#2c3e50"},children:" Gnrateur d'quation"}),xe.jsxs("p",{style:{color:"#7f8c8d",marginBottom:"20px"},children:["Forme : ",xe.jsx("b",{children:"ax + b = cx + d"})]}),["a","b","c","d"].map(d=>xe.jsxs("div",{style:{marginBottom:"15px"},children:[xe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[xe.jsx("label",{children:d.toUpperCase()}),xe.jsx("span",{children:n[d]})]}),xe.jsx("input",{type:"range",min:"-20",max:"20",step:"1",value:n[d],onChange:m=>a(d,m.target.value),style:{width:"100%",cursor:"pointer"}})]},d)),xe.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#ecf0f1",borderRadius:"8px",textAlign:"center",fontSize:"1.2rem",fontFamily:"monospace"},children:[n.a,"x ",n.b>=0?"+":"",n.b," = ",n.c,"x ",n.d>=0?"+":"",n.d]})]})}function z$({levelData:o,onUpdate:s}){const n=Dn.useRef(null),[a,d]=Dn.useState("START"),[m,b]=Dn.useState(!1);Dn.useEffect(()=>{const ye=setTimeout(()=>{try{S7(),b(!0)}catch(Ve){console.error(Ve)}},10);return()=>clearTimeout(ye)},[]);const C={scrollbars:!0,trashcan:!0,readOnly:!1},x=ye=>{let Ve={};ye==="MAZE"?Ve={grid:Uo.defaultGrid,startPos:{x:1,y:1,dir:1},maxBlocks:10}:ye==="TURTLE"?Ve={startPos:{x:0,y:0,dir:0},maxBlocks:10,grid:void 0}:ye==="MATH"?Ve={maxBlocks:20,startPos:void 0}:ye==="EQUATION"&&(Ve={equation:{a:2,b:4,c:0,d:10,lhs:"2*x+4",rhs:"10"},maxBlocks:5}),s({...o,type:ye,allowedBlocks:void 0,...Ve})},k=o.type||"MAZE",E=Dn.useMemo(()=>s3(o.allowedBlocks,o.inputs,o.hiddenVars,o.lockedVars),[o.allowedBlocks,o.inputs,o.hiddenVars,o.lockedVars]),R=Dn.useMemo(()=>A$(k,o.inputs,o.hiddenVars,o.lockedVars),[k,o.inputs,o.hiddenVars,o.lockedVars]),q=a==="SOLUTION"?R:E,z=q.xml,fe=q.hasCategories,ve=`${o.id}-${k}-${a}-${fe?"CAT":"FLY"}`,ge=ye=>{n.current=ye,window.setTimeout(()=>r7(ye),0)};Dn.useEffect(()=>{n.current&&m&&n.current.updateToolbox(z)},[z,m]);const re=ye=>{const Ve=o.allowedBlocks||[],st=Ve.includes(ye)?Ve.filter(Xe=>Xe!==ye):[...Ve,ye];s({...o,allowedBlocks:st})},ie=ye=>{const Ve=e3[ye]||[],st=o.allowedBlocks||[],Qt=Ve.every(It=>st.includes(It))?st.filter(It=>!Ve.includes(It)):[...st,...Ve.filter(It=>!st.includes(It))];s({...o,allowedBlocks:Qt})},ke=Cm[k]||[],Be=ye=>({flex:1,padding:"6px",border:"none",borderRadius:"4px",cursor:"pointer",background:ye?"white":"#eee",fontWeight:ye?"bold":"normal",fontSize:"0.8rem",transition:"all 0.2s"}),Ke=(ye,Ve)=>({padding:"10px 20px",cursor:"pointer",border:"none",borderBottom:ye?Ve==="SOLUTION"?"3px solid #27ae60":"3px solid #2980b9":"3px solid transparent",background:ye?Ve==="SOLUTION"?"#f0fbf4":"#f0f8ff":"transparent",fontWeight:ye?"bold":"normal",color:ye?Ve==="SOLUTION"?"#27ae60":"#2980b9":"#7f8c8d",fontSize:"0.95rem",transition:"all 0.2s"});return m?xe.jsxs("div",{className:"editor-wrapper",style:{display:"flex",flexDirection:"column",height:"100%"},children:[xe.jsxs("div",{style:{display:"flex",gap:"15px",flex:1,minHeight:"400px"},children:[xe.jsxs("div",{style:{flex:3,display:"flex",flexDirection:"column"},children:[xe.jsxs("div",{style:{display:"flex",marginBottom:"10px",background:"#ecf0f1",padding:"4px",borderRadius:"6px",gap:"5px"},children:[xe.jsx("button",{onClick:()=>x("MAZE"),style:Be(k==="MAZE"),children:" Labyrinthe"}),xe.jsx("button",{onClick:()=>x("TURTLE"),style:Be(k==="TURTLE"),children:" Tortue"}),xe.jsx("button",{onClick:()=>x("MATH"),style:Be(k==="MATH"),children:" Labo"}),xe.jsx("button",{onClick:()=>x("EQUATION"),style:Be(k==="EQUATION"),children:" quation"})]}),xe.jsxs("div",{style:{flex:1,background:"white",padding:"15px",borderRadius:"8px",border:"1px solid #ddd",overflowY:"auto"},children:[k==="MAZE"&&xe.jsx(e$,{levelData:o,onUpdate:s}),k==="TURTLE"&&xe.jsx(n$,{levelData:o,onUpdate:s}),k==="MATH"&&xe.jsx(t$,{levelData:o,onUpdate:s}),k==="EQUATION"&&xe.jsx(F$,{levelData:o,onUpdate:s})]})]}),xe.jsxs("div",{style:{flex:1,minWidth:"220px",background:"white",padding:"15px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",overflowY:"auto",border:"1px solid #eee"},children:[xe.jsx("h4",{style:{marginTop:0,marginBottom:"10px",color:"#2c3e50",borderBottom:"2px solid #eee",paddingBottom:"5px"},children:" Proprits"}),xe.jsxs("div",{style:{marginBottom:"10px"},children:[xe.jsx("label",{style:{fontWeight:"bold",fontSize:"0.8rem",display:"block",marginBottom:"3px",color:"#7f8c8d"},children:"Consigne"}),xe.jsx("textarea",{value:o.instruction||"",onChange:ye=>s({...o,instruction:ye.target.value}),style:{width:"100%",height:"60px",padding:"5px",fontSize:"0.8rem",border:"1px solid #ccc",borderRadius:"4px",resize:"vertical"},placeholder:"Ex: Dessine un carr..."})]}),xe.jsxs("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"#f8f9fa",padding:"5px 8px",borderRadius:"4px"},children:[xe.jsx("label",{style:{fontWeight:"bold",fontSize:"0.8rem",color:"#27ae60"},children:" Objectif"}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[xe.jsx("input",{type:"number",min:"1",value:o.maxBlocks||5,onChange:ye=>s({...o,maxBlocks:parseInt(ye.target.value)}),style:{width:"40px",padding:"2px",textAlign:"center",border:"1px solid #ddd",borderRadius:"3px"}}),xe.jsx("span",{style:{fontSize:"0.8rem",color:"#7f8c8d"},children:"blocs"})]})]}),xe.jsx("h4",{style:{marginTop:"15px",marginBottom:"5px",color:"#2c3e50",borderBottom:"2px solid #eee",paddingBottom:"5px"},children:" Toolbox lve"}),xe.jsx("div",{style:{fontSize:"0.85rem"},children:ke.map(ye=>{const Ve=e3[ye]||[],st=o.allowedBlocks||[],Xe=Ve.every(It=>st.includes(It)),Qt=Ve.some(It=>st.includes(It))&&!Xe;return ye==="Variables"&&(!o.inputs||Object.keys(o.inputs).length===0)?null:xe.jsxs("details",{open:Xe||Qt,style:{marginBottom:"5px",border:"1px solid #f0f0f0",borderRadius:"4px"},children:[xe.jsxs("summary",{style:{padding:"6px",cursor:"pointer",background:"#f9f9f9",fontWeight:"bold",color:"#555",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[xe.jsx("span",{children:ye}),xe.jsx("input",{type:"checkbox",checked:Xe,ref:It=>{It&&(It.indeterminate=Qt)},onChange:It=>{It.stopPropagation(),ie(ye)}})]}),xe.jsx("div",{style:{padding:"5px 10px"},children:Ve.map(It=>xe.jsx("div",{style:{margin:"4px 0"},children:xe.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",color:"#666"},children:[xe.jsx("input",{type:"checkbox",checked:st.includes(It),onChange:()=>re(It),style:{marginRight:"6px"}}),k$[It]||It]})},It))})]},ye)})})]})]}),xe.jsxs("div",{style:{height:"350px",marginTop:"15px",background:"white",padding:"0",borderRadius:"8px",border:"1px solid #ccc",display:"flex",flexDirection:"column",overflow:"hidden"},children:[xe.jsxs("div",{style:{display:"flex",background:"#ecf0f1",borderBottom:"1px solid #bdc3c7"},children:[xe.jsx("button",{onClick:()=>d("START"),style:Ke(a==="START","START"),children:" Code lve (Preview)"}),xe.jsx("button",{onClick:()=>d("SOLUTION"),style:Ke(a==="SOLUTION","SOLUTION"),children:" Solution Prof (Complet)"})]}),xe.jsxs("div",{style:{flex:1,position:"relative",background:a==="SOLUTION"?"#f0fbf4":"white"},children:[a==="START"&&xe.jsx("div",{style:{position:"absolute",right:10,top:5,zIndex:10,fontSize:"0.75rem",color:"#aaa",background:"rgba(255,255,255,0.8)",padding:"2px 5px",borderRadius:"3px"},children:"Vue : Toolbox lve"}),xe.jsx(w7,{className:"blockly-div",toolboxConfiguration:z,workspaceConfiguration:C,initialXml:a==="START"?o.startBlocks||"<xml></xml>":o.solutionBlocks||"<xml></xml>",onXmlChange:ye=>{s(a==="START"?{...o,startBlocks:ye}:{...o,solutionBlocks:ye})},onInject:ge},ve)]})]})]}):xe.jsx("div",{style:{padding:50,textAlign:"center",color:"#666"},children:"Chargement..."})}const U$={MAZE:"",TURTLE:"",MATH:""};function H$(){const[o,s]=Dn.useState(()=>{const ie=localStorage.getItem("blokaly_builder_autosave");if(ie)try{return JSON.parse(ie)}catch(ke){console.error(ke)}return{title:"Ma Nouvelle Campagne",levels:[{id:1,type:"MAZE",grid:Uo.defaultGrid,startPos:{x:1,y:1},maxBlocks:5}]}}),[n,a]=Dn.useState(0),d=Dn.useRef(null),m=Dn.useRef(null),b=Dn.useRef(null);Dn.useEffect(()=>{localStorage.setItem("blokaly_builder_autosave",JSON.stringify(o))},[o]);const C=(ie,ke)=>{d.current=ke,ie.dataTransfer.effectAllowed="move"},x=(ie,ke)=>{m.current=ke,ie.preventDefault()},k=()=>{const ie=d.current,ke=m.current;if(ie!==null&&ke!==null&&ie!==ke){const Be=[...o.levels],Ke=Be[ie];Be.splice(ie,1),Be.splice(ke,0,Ke),n===ie?a(ke):n>ie&&n<=ke?a(n-1):n<ie&&n>=ke&&a(n+1),s({...o,levels:Be})}d.current=null,m.current=null},E=()=>{const ie=JSON.stringify(o,null,2),ke=new Blob([ie],{type:"application/json"}),Be=URL.createObjectURL(ke),Ke=document.createElement("a");Ke.download=`${o.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.blokaly.json`,Ke.href=Be,Ke.click(),URL.revokeObjectURL(Be)},R=()=>{b.current&&b.current.click()},q=ie=>{const ke=ie.target.files[0];if(!ke)return;const Be=new FileReader;Be.onload=Ke=>{try{const ye=JSON.parse(Ke.target.result);if(!ye.levels||!Array.isArray(ye.levels))throw new Error("Format de fichier invalide (pas de niveaux)");confirm(`Charger la campagne "${ye.title||"Sans titre"}" ? Cela remplacera votre travail actuel.`)&&(s(ye),a(0))}catch(ye){alert("Erreur lors de l'importation : "+ye.message)}},Be.readAsText(ke),ie.target.value=null},z=()=>{const ie={id:Date.now(),type:"MAZE",grid:Uo.defaultGrid,startPos:{x:1,y:1},maxBlocks:10};s({...o,levels:[...o.levels,ie]}),a(o.levels.length)},fe=ie=>{const ke=o.levels[ie],Be={...JSON.parse(JSON.stringify(ke)),id:Date.now()},Ke=[...o.levels];Ke.splice(ie+1,0,Be),s({...o,levels:Ke}),a(ie+1)},ve=ie=>{if(o.levels.length<=1)return alert("Il faut au moins un niveau !");const ke=o.levels.filter((Be,Ke)=>Ke!==ie);ie<n?a(n-1):ie===n&&a(Math.max(0,ie-1)),s({...o,levels:ke})},ge=ie=>{const ke=[...o.levels];ke[n]=ie,s({...o,levels:ke})},re=()=>{const ie=JSON.stringify(o),ke=_m.compressToEncodedURIComponent(ie),Be=new URL(window.location.href);Be.search=`?data=${ke}&preview=1`,Be.hash="",window.location.href=Be.toString()};return xe.jsxs("div",{className:"builder-container",style:{display:"flex",padding:0,height:"100vh",overflow:"hidden"},children:[xe.jsxs("div",{style:{width:"250px",background:"#2c3e50",color:"white",display:"flex",flexDirection:"column",borderRight:"1px solid #ccc"},children:[xe.jsxs("div",{style:{padding:"20px",background:"#1a252f"},children:[xe.jsx("h2",{style:{fontSize:"1.2rem",margin:0},children:" Campagne"}),xe.jsx("input",{type:"text",value:o.title,onChange:ie=>s({...o,title:ie.target.value}),style:{background:"transparent",border:"none",borderBottom:"1px solid #555",color:"white",width:"100%",marginTop:"10px",fontSize:"0.9rem"},placeholder:"Titre de la campagne..."})]}),xe.jsx("div",{style:{flex:1,overflowY:"auto"},children:o.levels.map((ie,ke)=>xe.jsxs("div",{draggable:!0,onDragStart:Be=>C(Be,ke),onDragEnter:Be=>x(Be,ke),onDragEnd:k,onDragOver:Be=>Be.preventDefault(),onClick:()=>a(ke),style:{padding:"15px",cursor:"grab",background:ke===n?"#3498db":"transparent",borderBottom:"1px solid #34495e",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background 0.2s"},children:[xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[xe.jsx("span",{style:{color:"#555",fontSize:"1.2rem"},children:""}),xe.jsx("span",{style:{fontSize:"1.2rem"},title:ie.type,children:U$[ie.type]||""}),xe.jsxs("span",{style:{fontWeight:ke===n?"bold":"normal"},children:["Niveau ",ke+1]})]}),xe.jsxs("div",{style:{display:"flex",gap:"5px"},children:[xe.jsx("button",{onClick:Be=>{Be.stopPropagation(),fe(ke)},style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.8rem",opacity:.7},title:"Dupliquer",children:""}),o.levels.length>1&&xe.jsx("button",{onClick:Be=>{Be.stopPropagation(),ve(ke)},style:{background:"none",border:"none",color:"#e74c3c",cursor:"pointer",fontSize:"0.8rem",opacity:.7},title:"Supprimer",children:""})]})]},ie.id))}),xe.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #34495e",background:"#222",display:"flex",flexDirection:"column",gap:"10px"},children:[xe.jsx("button",{onClick:z,style:{width:"100%",padding:"10px",background:"#27ae60",color:"white",border:"none",cursor:"pointer",fontWeight:"bold",borderRadius:"4px"},children:"+ Nouveau Niveau"}),xe.jsxs("div",{style:{display:"flex",gap:"10px"},children:[xe.jsx("button",{onClick:E,style:{flex:1,padding:"8px",background:"#34495e",color:"white",border:"1px solid #7f8c8d",cursor:"pointer",fontSize:"0.8rem",borderRadius:"4px"},title:"Sauvegarder en JSON",children:" Export"}),xe.jsx("button",{onClick:R,style:{flex:1,padding:"8px",background:"#34495e",color:"white",border:"1px solid #7f8c8d",cursor:"pointer",fontSize:"0.8rem",borderRadius:"4px"},title:"Charger un JSON",children:" Import"}),xe.jsx("input",{type:"file",accept:".json",ref:b,style:{display:"none"},onChange:q})]}),xe.jsx("button",{onClick:()=>{confirm("Tout effacer ? Cette action est irrversible.")&&(localStorage.removeItem("blokaly_builder_autosave"),window.location.reload())},style:{width:"100%",padding:"8px",background:"none",border:"1px solid #c0392b",color:"#c0392b",cursor:"pointer",fontSize:"0.8rem",borderRadius:"4px"},children:" Reset"})]})]}),xe.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",height:"100%"},children:[xe.jsxs("div",{style:{padding:"10px 20px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white"},children:[xe.jsxs("h2",{style:{margin:0,color:"#2c3e50"},children:["dition Niveau ",n+1,xe.jsxs("span",{style:{fontSize:"0.6em",color:"#777",marginLeft:"10px",fontWeight:"normal"},children:["(",o.levels[n]?.type,")"]})]}),xe.jsx("button",{onClick:re,className:"generate-btn",style:{margin:0,width:"auto",fontSize:"0.9rem",background:"linear-gradient(135deg, #3498db, #2980b9)",padding:"8px 15px",boxShadow:"none"},children:" TESTER / PARTAGER"})]}),xe.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",background:"#f4f4f4"},children:o.levels[n]?xe.jsx(z$,{levelData:o.levels[n],onUpdate:ge},o.levels[n].id):xe.jsx("div",{style:{padding:20,textAlign:"center",color:"#777"},children:"Slectionnez ou crez un niveau..."})})]})]})}function G$({isOpen:o,stats:s,token:n,status:a,onReplay:d,onMenu:m,onNext:b}){if(!o)return null;const C=a==="WON",x=a==="FAILED",k=a==="LOST",E=()=>{if(!C)return xe.jsx("div",{style:{fontSize:"40px"},children:""});const fe=[];for(let ve=0;ve<3;ve++)fe.push(xe.jsx("span",{style:{fontSize:"40px",color:ve<s.stars?"#f1c40f":"#bdc3c7",textShadow:ve<s.stars?"0 0 10px #f39c12":"none"},children:""},ve));return fe};let R="Niveau Termin !",q=s.stars===3?" Code Parfait !":" Tu peux optimiser...",z="#27ae60";return x?(R="Presque...",q="Le rsultat ne correspond pas exactement au modle. Vrifie ton code !",z="#e67e22"):k&&(R="Ae !",q="Le robot a rencontr un obstacle.",z="#c0392b"),xe.jsx("div",{style:Fu.overlay,children:xe.jsxs("div",{style:Fu.modal,children:[xe.jsx("h1",{style:{margin:0,color:z},children:R}),xe.jsx("div",{style:{margin:"10px 0"},children:E()}),xe.jsxs("div",{style:Fu.stats,children:[C?xe.jsxs("p",{children:[" Blocs utiliss : ",xe.jsx("strong",{children:s.blockCount})," / ",s.target]}):xe.jsx("p",{style:{fontWeight:"bold",color:"#555"},children:"Essaie encore !"}),xe.jsx("p",{children:q})]}),C&&xe.jsxs("div",{style:Fu.proofSection,children:[xe.jsx("p",{style:{fontSize:"0.9em",marginBottom:"5px"},children:" Code de preuve :"}),xe.jsx("div",{style:Fu.tokenBox,children:n}),xe.jsx("button",{onClick:()=>navigator.clipboard.writeText(n),style:Fu.copyBtn,children:"Copier le code"})]}),xe.jsxs("div",{style:Fu.actions,children:[xe.jsx("button",{onClick:d,style:Fu.replayBtn,children:" Recommencer"}),xe.jsx("button",{onClick:m,style:{...Fu.replayBtn,background:"#95a5a6",marginLeft:"10px"},children:" Menu"}),C&&b&&xe.jsx("button",{onClick:b,style:{...Fu.replayBtn,background:"#27ae60",marginLeft:"10px"},children:" Suivant"})]})]})})}const Fu={overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{backgroundColor:"white",padding:"30px",borderRadius:"15px",width:"400px",textAlign:"center",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",animation:"popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},stats:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px",margin:"15px 0",border:"1px solid #eee"},proofSection:{margin:"20px 0",padding:"15px",border:"2px dashed #3498db",borderRadius:"8px",backgroundColor:"#ebf5fb"},tokenBox:{fontFamily:"monospace",background:"white",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",overflowWrap:"break-word",fontSize:"12px",marginBottom:"8px"},copyBtn:{background:"#3498db",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},replayBtn:{background:"#e67e22",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"}};function H8(o){const s=[],n=String(o||"");let a=n.indexOf(","),d=0,m=!1;for(;!m;){a===-1&&(a=n.length,m=!0);const b=n.slice(d,a).trim();(b||!m)&&s.push(b),d=a+1,a=n.indexOf(",",d)}return s}function V$(o,s){const n={};return(o[o.length-1]===""?[...o,""]:o).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const W$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,X$={};function G8(o,s){return(X$.jsx?q$:W$).test(o)}const j$=/[ \t\n\f\r]/g;function Y$(o){return typeof o=="object"?o.type==="text"?V8(o.value):!1:V8(o)}function V8(o){return o.replace(j$,"")===""}class o3{constructor(s,n,a){this.normal=n,this.property=s,a&&(this.space=a)}}o3.prototype.normal={};o3.prototype.property={};o3.prototype.space=void 0;function Im(o,s){const n={},a={};for(const d of o)Object.assign(n,d.property),Object.assign(a,d.normal);return new o3(n,a,s)}function t3(o){return o.toLowerCase()}class d0{constructor(s,n){this.attribute=n,this.property=s}}d0.prototype.attribute="";d0.prototype.booleanish=!1;d0.prototype.boolean=!1;d0.prototype.commaOrSpaceSeparated=!1;d0.prototype.commaSeparated=!1;d0.prototype.defined=!1;d0.prototype.mustUseProperty=!1;d0.prototype.number=!1;d0.prototype.overloadedBoolean=!1;d0.prototype.property="";d0.prototype.spaceSeparated=!1;d0.prototype.space=void 0;let K$=0;const Gr=Yh(),Ro=Yh(),i7=Yh(),cn=Yh(),As=Yh(),b4=Yh(),B0=Yh();function Yh(){return 2**++K$}const s7=Object.freeze(Object.defineProperty({__proto__:null,boolean:Gr,booleanish:Ro,commaOrSpaceSeparated:B0,commaSeparated:b4,number:cn,overloadedBoolean:i7,spaceSeparated:As},Symbol.toStringTag,{value:"Module"})),C6=Object.keys(s7);class x7 extends d0{constructor(s,n,a,d){let m=-1;if(super(s,n),W8(this,"space",d),typeof a=="number")for(;++m<C6.length;){const b=C6[m];W8(this,C6[m],(a&s7[b])===s7[b])}}}x7.prototype.defined=!0;function W8(o,s,n){n&&(o[s]=n)}function E4(o){const s={},n={};for(const[a,d]of Object.entries(o.properties)){const m=new x7(a,o.transform(o.attributes||{},a),d,o.space);o.mustUseProperty&&o.mustUseProperty.includes(a)&&(m.mustUseProperty=!0),s[a]=m,n[t3(a)]=a,n[t3(m.attribute)]=a}return new o3(s,n,o.space)}const Mm=E4({properties:{ariaActiveDescendant:null,ariaAtomic:Ro,ariaAutoComplete:null,ariaBusy:Ro,ariaChecked:Ro,ariaColCount:cn,ariaColIndex:cn,ariaColSpan:cn,ariaControls:As,ariaCurrent:null,ariaDescribedBy:As,ariaDetails:null,ariaDisabled:Ro,ariaDropEffect:As,ariaErrorMessage:null,ariaExpanded:Ro,ariaFlowTo:As,ariaGrabbed:Ro,ariaHasPopup:null,ariaHidden:Ro,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:As,ariaLevel:cn,ariaLive:null,ariaModal:Ro,ariaMultiLine:Ro,ariaMultiSelectable:Ro,ariaOrientation:null,ariaOwns:As,ariaPlaceholder:null,ariaPosInSet:cn,ariaPressed:Ro,ariaReadOnly:Ro,ariaRelevant:null,ariaRequired:Ro,ariaRoleDescription:As,ariaRowCount:cn,ariaRowIndex:cn,ariaRowSpan:cn,ariaSelected:Ro,ariaSetSize:cn,ariaSort:null,ariaValueMax:cn,ariaValueMin:cn,ariaValueNow:cn,ariaValueText:null,role:null},transform(o,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()}});function Rm(o,s){return s in o?o[s]:s}function Om(o,s){return Rm(o,s.toLowerCase())}const J$=E4({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:b4,acceptCharset:As,accessKey:As,action:null,allow:null,allowFullScreen:Gr,allowPaymentRequest:Gr,allowUserMedia:Gr,alt:null,as:null,async:Gr,autoCapitalize:null,autoComplete:As,autoFocus:Gr,autoPlay:Gr,blocking:As,capture:null,charSet:null,checked:Gr,cite:null,className:As,cols:cn,colSpan:null,content:null,contentEditable:Ro,controls:Gr,controlsList:As,coords:cn|b4,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Gr,defer:Gr,dir:null,dirName:null,disabled:Gr,download:i7,draggable:Ro,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Gr,formTarget:null,headers:As,height:cn,hidden:i7,high:cn,href:null,hrefLang:null,htmlFor:As,httpEquiv:As,id:null,imageSizes:null,imageSrcSet:null,inert:Gr,inputMode:null,integrity:null,is:null,isMap:Gr,itemId:null,itemProp:As,itemRef:As,itemScope:Gr,itemType:As,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Gr,low:cn,manifest:null,max:null,maxLength:cn,media:null,method:null,min:null,minLength:cn,multiple:Gr,muted:Gr,name:null,nonce:null,noModule:Gr,noValidate:Gr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Gr,optimum:cn,pattern:null,ping:As,placeholder:null,playsInline:Gr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Gr,referrerPolicy:null,rel:As,required:Gr,reversed:Gr,rows:cn,rowSpan:cn,sandbox:As,scope:null,scoped:Gr,seamless:Gr,selected:Gr,shadowRootClonable:Gr,shadowRootDelegatesFocus:Gr,shadowRootMode:null,shape:null,size:cn,sizes:null,slot:null,span:cn,spellCheck:Ro,src:null,srcDoc:null,srcLang:null,srcSet:null,start:cn,step:null,style:null,tabIndex:cn,target:null,title:null,translate:null,type:null,typeMustMatch:Gr,useMap:null,value:Ro,width:cn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:As,axis:null,background:null,bgColor:null,border:cn,borderColor:null,bottomMargin:cn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Gr,declare:Gr,event:null,face:null,frame:null,frameBorder:null,hSpace:cn,leftMargin:cn,link:null,longDesc:null,lowSrc:null,marginHeight:cn,marginWidth:cn,noResize:Gr,noHref:Gr,noShade:Gr,noWrap:Gr,object:null,profile:null,prompt:null,rev:null,rightMargin:cn,rules:null,scheme:null,scrolling:Ro,standby:null,summary:null,text:null,topMargin:cn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:cn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Gr,disableRemotePlayback:Gr,prefix:null,property:null,results:cn,security:null,unselectable:null},space:"html",transform:Om}),Z$=E4({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:B0,accentHeight:cn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:cn,amplitude:cn,arabicForm:null,ascent:cn,attributeName:null,attributeType:null,azimuth:cn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:cn,by:null,calcMode:null,capHeight:cn,className:As,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:cn,diffuseConstant:cn,direction:null,display:null,dur:null,divisor:cn,dominantBaseline:null,download:Gr,dx:null,dy:null,edgeMode:null,editable:null,elevation:cn,enableBackground:null,end:null,event:null,exponent:cn,externalResourcesRequired:null,fill:null,fillOpacity:cn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:b4,g2:b4,glyphName:b4,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:cn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:cn,horizOriginX:cn,horizOriginY:cn,id:null,ideographic:cn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:cn,k:cn,k1:cn,k2:cn,k3:cn,k4:cn,kernelMatrix:B0,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:cn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:cn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:cn,overlineThickness:cn,paintOrder:null,panose1:null,path:null,pathLength:cn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:As,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:cn,pointsAtY:cn,pointsAtZ:cn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:B0,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:B0,rev:B0,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:B0,requiredFeatures:B0,requiredFonts:B0,requiredFormats:B0,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:cn,specularExponent:cn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:cn,strikethroughThickness:cn,string:null,stroke:null,strokeDashArray:B0,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:cn,strokeOpacity:cn,strokeWidth:null,style:null,surfaceScale:cn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:B0,tabIndex:cn,tableValues:null,target:null,targetX:cn,targetY:cn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:B0,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:cn,underlineThickness:cn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:cn,values:null,vAlphabetic:cn,vMathematical:cn,vectorEffect:null,vHanging:cn,vIdeographic:cn,version:null,vertAdvY:cn,vertOriginX:cn,vertOriginY:cn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:cn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Rm}),Nm=E4({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(o,s){return"xlink:"+s.slice(5).toLowerCase()}}),Lm=E4({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Om}),Dm=E4({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(o,s){return"xml:"+s.slice(3).toLowerCase()}}),Q$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ev=/[A-Z]/g,q8=/-[a-z]/g,tv=/^data[-\w.:]+$/i;function Bm(o,s){const n=t3(s);let a=s,d=d0;if(n in o.normal)return o.property[o.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tv.test(s)){if(s.charAt(4)==="-"){const m=s.slice(5).replace(q8,rv);a="data"+m.charAt(0).toUpperCase()+m.slice(1)}else{const m=s.slice(4);if(!q8.test(m)){let b=m.replace(ev,nv);b.charAt(0)!=="-"&&(b="-"+b),s="data"+b}}d=x7}return new d(a,s)}function nv(o){return"-"+o.toLowerCase()}function rv(o){return o.charAt(1).toUpperCase()}const Pm=Im([Mm,J$,Nm,Lm,Dm],"html"),x5=Im([Mm,Z$,Nm,Lm,Dm],"svg");function X8(o){const s=String(o||"").trim();return s?s.split(/[ \t\n\r\f]+/g):[]}function iv(o){return o.join(" ").trim()}var m4={},k6,j8;function sv(){if(j8)return k6;j8=1;var o=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,s=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,d=/^:\s*/,m=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,b=/^[;\s]*/,C=/^\s+|\s+$/g,x=`
`,k="/",E="*",R="",q="comment",z="declaration";function fe(ge,re){if(typeof ge!="string")throw new TypeError("First argument must be a string");if(!ge)return[];re=re||{};var ie=1,ke=1;function Be(kt){var nt=kt.match(s);nt&&(ie+=nt.length);var Ze=kt.lastIndexOf(x);ke=~Ze?kt.length-Ze:ke+kt.length}function Ke(){var kt={line:ie,column:ke};return function(nt){return nt.position=new ye(kt),Xe(),nt}}function ye(kt){this.start=kt,this.end={line:ie,column:ke},this.source=re.source}ye.prototype.content=ge;function Ve(kt){var nt=new Error(re.source+":"+ie+":"+ke+": "+kt);if(nt.reason=kt,nt.filename=re.source,nt.line=ie,nt.column=ke,nt.source=ge,!re.silent)throw nt}function st(kt){var nt=kt.exec(ge);if(nt){var Ze=nt[0];return Be(Ze),ge=ge.slice(Ze.length),nt}}function Xe(){st(n)}function Qt(kt){var nt;for(kt=kt||[];nt=It();)nt!==!1&&kt.push(nt);return kt}function It(){var kt=Ke();if(!(k!=ge.charAt(0)||E!=ge.charAt(1))){for(var nt=2;R!=ge.charAt(nt)&&(E!=ge.charAt(nt)||k!=ge.charAt(nt+1));)++nt;if(nt+=2,R===ge.charAt(nt-1))return Ve("End of comment missing");var Ze=ge.slice(2,nt-2);return ke+=2,Be(Ze),ge=ge.slice(nt),ke+=2,kt({type:q,comment:Ze})}}function De(){var kt=Ke(),nt=st(a);if(nt){if(It(),!st(d))return Ve("property missing ':'");var Ze=st(m),vt=kt({type:z,property:ve(nt[0].replace(o,R)),value:Ze?ve(Ze[0].replace(o,R)):R});return st(b),vt}}function Bt(){var kt=[];Qt(kt);for(var nt;nt=De();)nt!==!1&&(kt.push(nt),Qt(kt));return kt}return Xe(),Bt()}function ve(ge){return ge?ge.replace(C,R):R}return k6=fe,k6}var Y8;function ov(){if(Y8)return m4;Y8=1;var o=m4&&m4.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(m4,"__esModule",{value:!0}),m4.default=n;const s=o(sv());function n(a,d){let m=null;if(!a||typeof a!="string")return m;const b=(0,s.default)(a),C=typeof d=="function";return b.forEach(x=>{if(x.type!=="declaration")return;const{property:k,value:E}=x;C?d(k,E,x):E&&(m=m||{},m[k]=E)}),m}return m4}var G2={},K8;function lv(){if(K8)return G2;K8=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.camelCase=void 0;var o=/^--[a-zA-Z0-9_-]+$/,s=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,d=/^-(ms)-/,m=function(k){return!k||n.test(k)||o.test(k)},b=function(k,E){return E.toUpperCase()},C=function(k,E){return"".concat(E,"-")},x=function(k,E){return E===void 0&&(E={}),m(k)?k:(k=k.toLowerCase(),E.reactCompat?k=k.replace(d,C):k=k.replace(a,C),k.replace(s,b))};return G2.camelCase=x,G2}var V2,J8;function av(){if(J8)return V2;J8=1;var o=V2&&V2.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},s=o(ov()),n=lv();function a(d,m){var b={};return!d||typeof d!="string"||(0,s.default)(d,function(C,x){C&&x&&(b[(0,n.camelCase)(C,m)]=x)}),b}return a.default=a,V2=a,V2}var uv=av();const cv=Xu(uv),Fm=zm("end"),C7=zm("start");function zm(o){return s;function s(n){const a=n&&n.position&&n.position[o]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function hv(o){const s=C7(o),n=Fm(o);if(s&&n)return{start:s,end:n}}function K2(o){return!o||typeof o!="object"?"":"position"in o||"type"in o?Z8(o.position):"start"in o||"end"in o?Z8(o):"line"in o||"column"in o?o7(o):""}function o7(o){return Q8(o&&o.line)+":"+Q8(o&&o.column)}function Z8(o){return o7(o&&o.start)+"-"+o7(o&&o.end)}function Q8(o){return o&&typeof o=="number"?o:1}class kl extends Error{constructor(s,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let d="",m={},b=!1;if(n&&("line"in n&&"column"in n?m={place:n}:"start"in n&&"end"in n?m={place:n}:"type"in n?m={ancestors:[n],place:n.position}:m={...n}),typeof s=="string"?d=s:!m.cause&&s&&(b=!0,d=s.message,m.cause=s),!m.ruleId&&!m.source&&typeof a=="string"){const x=a.indexOf(":");x===-1?m.ruleId=a:(m.source=a.slice(0,x),m.ruleId=a.slice(x+1))}if(!m.place&&m.ancestors&&m.ancestors){const x=m.ancestors[m.ancestors.length-1];x&&(m.place=x.position)}const C=m.place&&"start"in m.place?m.place.start:m.place;this.ancestors=m.ancestors||void 0,this.cause=m.cause||void 0,this.column=C?C.column:void 0,this.fatal=void 0,this.file="",this.message=d,this.line=C?C.line:void 0,this.name=K2(m.place)||"1:1",this.place=m.place||void 0,this.reason=this.message,this.ruleId=m.ruleId||void 0,this.source=m.source||void 0,this.stack=b&&m.cause&&typeof m.cause.stack=="string"?m.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}kl.prototype.file="";kl.prototype.name="";kl.prototype.reason="";kl.prototype.message="";kl.prototype.stack="";kl.prototype.column=void 0;kl.prototype.line=void 0;kl.prototype.ancestors=void 0;kl.prototype.cause=void 0;kl.prototype.fatal=void 0;kl.prototype.place=void 0;kl.prototype.ruleId=void 0;kl.prototype.source=void 0;const k7={}.hasOwnProperty,dv=new Map,fv=/[A-Z]/g,pv=new Set(["table","tbody","thead","tfoot","tr"]),mv=new Set(["td","th"]),Um="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gv(o,s){if(!s||s.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=s.filePath||void 0;let a;if(s.development){if(typeof s.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=wv(n,s.jsxDEV)}else{if(typeof s.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof s.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=Ev(n,s.jsx,s.jsxs)}const d={Fragment:s.Fragment,ancestors:[],components:s.components||{},create:a,elementAttributeNameCase:s.elementAttributeNameCase||"react",evaluater:s.createEvaluater?s.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:s.ignoreInvalidStyle||!1,passKeys:s.passKeys!==!1,passNode:s.passNode||!1,schema:s.space==="svg"?x5:Pm,stylePropertyNameCase:s.stylePropertyNameCase||"dom",tableCellAlignToStyle:s.tableCellAlignToStyle!==!1},m=Hm(d,o,void 0);return m&&typeof m!="string"?m:d.create(o,d.Fragment,{children:m||void 0},void 0)}function Hm(o,s,n){if(s.type==="element")return $v(o,s,n);if(s.type==="mdxFlowExpression"||s.type==="mdxTextExpression")return vv(o,s);if(s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement")return yv(o,s,n);if(s.type==="mdxjsEsm")return bv(o,s);if(s.type==="root")return Tv(o,s,n);if(s.type==="text")return _v(o,s)}function $v(o,s,n){const a=o.schema;let d=a;s.tagName.toLowerCase()==="svg"&&a.space==="html"&&(d=x5,o.schema=d),o.ancestors.push(s);const m=Vm(o,s.tagName,!1),b=Sv(o,s);let C=I7(o,s);return pv.has(s.tagName)&&(C=C.filter(function(x){return typeof x=="string"?!Y$(x):!0})),Gm(o,b,m,s),A7(b,C),o.ancestors.pop(),o.schema=a,o.create(s,m,b,n)}function vv(o,s){if(s.data&&s.data.estree&&o.evaluater){const a=s.data.estree.body[0];return a.type,o.evaluater.evaluateExpression(a.expression)}n3(o,s.position)}function bv(o,s){if(s.data&&s.data.estree&&o.evaluater)return o.evaluater.evaluateProgram(s.data.estree);n3(o,s.position)}function yv(o,s,n){const a=o.schema;let d=a;s.name==="svg"&&a.space==="html"&&(d=x5,o.schema=d),o.ancestors.push(s);const m=s.name===null?o.Fragment:Vm(o,s.name,!0),b=xv(o,s),C=I7(o,s);return Gm(o,b,m,s),A7(b,C),o.ancestors.pop(),o.schema=a,o.create(s,m,b,n)}function Tv(o,s,n){const a={};return A7(a,I7(o,s)),o.create(s,o.Fragment,a,n)}function _v(o,s){return s.value}function Gm(o,s,n,a){typeof n!="string"&&n!==o.Fragment&&o.passNode&&(s.node=a)}function A7(o,s){if(s.length>0){const n=s.length>1?s:s[0];n&&(o.children=n)}}function Ev(o,s,n){return a;function a(d,m,b,C){const k=Array.isArray(b.children)?n:s;return C?k(m,b,C):k(m,b)}}function wv(o,s){return n;function n(a,d,m,b){const C=Array.isArray(m.children),x=C7(a);return s(d,m,b,C,{columnNumber:x?x.column-1:void 0,fileName:o,lineNumber:x?x.line:void 0},void 0)}}function Sv(o,s){const n={};let a,d;for(d in s.properties)if(d!=="children"&&k7.call(s.properties,d)){const m=Cv(o,d,s.properties[d]);if(m){const[b,C]=m;o.tableCellAlignToStyle&&b==="align"&&typeof C=="string"&&mv.has(s.tagName)?a=C:n[b]=C}}if(a){const m=n.style||(n.style={});m[o.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function xv(o,s){const n={};for(const a of s.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&o.evaluater){const m=a.data.estree.body[0];m.type;const b=m.expression;b.type;const C=b.properties[0];C.type,Object.assign(n,o.evaluater.evaluateExpression(C.argument))}else n3(o,s.position);else{const d=a.name;let m;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&o.evaluater){const C=a.value.data.estree.body[0];C.type,m=o.evaluater.evaluateExpression(C.expression)}else n3(o,s.position);else m=a.value===null?!0:a.value;n[d]=m}return n}function I7(o,s){const n=[];let a=-1;const d=o.passKeys?new Map:dv;for(;++a<s.children.length;){const m=s.children[a];let b;if(o.passKeys){const x=m.type==="element"?m.tagName:m.type==="mdxJsxFlowElement"||m.type==="mdxJsxTextElement"?m.name:void 0;if(x){const k=d.get(x)||0;b=x+"-"+k,d.set(x,k+1)}}const C=Hm(o,m,b);C!==void 0&&n.push(C)}return n}function Cv(o,s,n){const a=Bm(o.schema,s);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?V$(n):iv(n)),a.property==="style"){let d=typeof n=="object"?n:kv(o,String(n));return o.stylePropertyNameCase==="css"&&(d=Av(d)),["style",d]}return[o.elementAttributeNameCase==="react"&&a.space?Q$[a.property]||a.property:a.attribute,n]}}function kv(o,s){try{return cv(s,{reactCompat:!0})}catch(n){if(o.ignoreInvalidStyle)return{};const a=n,d=new kl("Cannot parse `style` attribute",{ancestors:o.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw d.file=o.filePath||void 0,d.url=Um+"#cannot-parse-style-attribute",d}}function Vm(o,s,n){let a;if(!n)a={type:"Literal",value:s};else if(s.includes(".")){const d=s.split(".");let m=-1,b;for(;++m<d.length;){const C=G8(d[m])?{type:"Identifier",name:d[m]}:{type:"Literal",value:d[m]};b=b?{type:"MemberExpression",object:b,property:C,computed:!!(m&&C.type==="Literal"),optional:!1}:C}a=b}else a=G8(s)&&!/^[a-z]/.test(s)?{type:"Identifier",name:s}:{type:"Literal",value:s};if(a.type==="Literal"){const d=a.value;return k7.call(o.components,d)?o.components[d]:d}if(o.evaluater)return o.evaluater.evaluateExpression(a);n3(o)}function n3(o,s){const n=new kl("Cannot handle MDX estrees without `createEvaluater`",{ancestors:o.ancestors,place:s,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=o.filePath||void 0,n.url=Um+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Av(o){const s={};let n;for(n in o)k7.call(o,n)&&(s[Iv(n)]=o[n]);return s}function Iv(o){let s=o.replace(fv,Mv);return s.slice(0,3)==="ms-"&&(s="-"+s),s}function Mv(o){return"-"+o.toLowerCase()}const A6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Rv={};function Ov(o,s){const n=Rv,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,d=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Wm(o,a,d)}function Wm(o,s,n){if(Nv(o)){if("value"in o)return o.type==="html"&&!n?"":o.value;if(s&&"alt"in o&&o.alt)return o.alt;if("children"in o)return ep(o.children,s,n)}return Array.isArray(o)?ep(o,s,n):""}function ep(o,s,n){const a=[];let d=-1;for(;++d<o.length;)a[d]=Wm(o[d],s,n);return a.join("")}function Nv(o){return!!(o&&typeof o=="object")}const tp=document.createElement("i");function M7(o){const s="&"+o+";";tp.innerHTML=s;const n=tp.textContent;return n.charCodeAt(n.length-1)===59&&o!=="semi"||n===s?!1:n}function qu(o,s,n,a){const d=o.length;let m=0,b;if(s<0?s=-s>d?0:d+s:s=s>d?d:s,n=n>0?n:0,a.length<1e4)b=Array.from(a),b.unshift(s,n),o.splice(...b);else for(n&&o.splice(s,n);m<a.length;)b=a.slice(m,m+1e4),b.unshift(s,0),o.splice(...b),m+=1e4,s+=1e4}function ba(o,s){return o.length>0?(qu(o,o.length,0,s),o):s}const np={}.hasOwnProperty;function Lv(o){const s={};let n=-1;for(;++n<o.length;)Dv(s,o[n]);return s}function Dv(o,s){let n;for(n in s){const d=(np.call(o,n)?o[n]:void 0)||(o[n]={}),m=s[n];let b;if(m)for(b in m){np.call(d,b)||(d[b]=[]);const C=m[b];Bv(d[b],Array.isArray(C)?C:C?[C]:[])}}}function Bv(o,s){let n=-1;const a=[];for(;++n<s.length;)(s[n].add==="after"?o:a).push(s[n]);qu(o,0,0,a)}function qm(o,s){const n=Number.parseInt(o,s);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function y4(o){return o.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gu=th(/[A-Za-z]/),F0=th(/[\dA-Za-z]/),Pv=th(/[#-'*+\--9=?A-Z^-~]/);function l7(o){return o!==null&&(o<32||o===127)}const a7=th(/\d/),Fv=th(/[\dA-Fa-f]/),zv=th(/[!-/:-@[-`{-~]/);function ir(o){return o!==null&&o<-2}function h0(o){return o!==null&&(o<0||o===32)}function Ki(o){return o===-2||o===-1||o===32}const Uv=th(new RegExp("\\p{P}|\\p{S}","u")),Hv=th(/\s/);function th(o){return s;function s(n){return n!==null&&n>-1&&o.test(String.fromCharCode(n))}}function w4(o){const s=[];let n=-1,a=0,d=0;for(;++n<o.length;){const m=o.charCodeAt(n);let b="";if(m===37&&F0(o.charCodeAt(n+1))&&F0(o.charCodeAt(n+2)))d=2;else if(m<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(m))||(b=String.fromCharCode(m));else if(m>55295&&m<57344){const C=o.charCodeAt(n+1);m<56320&&C>56319&&C<57344?(b=String.fromCharCode(m,C),d=1):b=""}else b=String.fromCharCode(m);b&&(s.push(o.slice(a,n),encodeURIComponent(b)),a=n+d+1,b=""),d&&(n+=d,d=0)}return s.join("")+o.slice(a)}function ns(o,s,n,a){const d=a?a-1:Number.POSITIVE_INFINITY;let m=0;return b;function b(x){return Ki(x)?(o.enter(n),C(x)):s(x)}function C(x){return Ki(x)&&m++<d?(o.consume(x),C):(o.exit(n),s(x))}}const Gv={tokenize:Vv};function Vv(o){const s=o.attempt(this.parser.constructs.contentInitial,a,d);let n;return s;function a(C){if(C===null){o.consume(C);return}return o.enter("lineEnding"),o.consume(C),o.exit("lineEnding"),ns(o,s,"linePrefix")}function d(C){return o.enter("paragraph"),m(C)}function m(C){const x=o.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=x),n=x,b(C)}function b(C){if(C===null){o.exit("chunkText"),o.exit("paragraph"),o.consume(C);return}return ir(C)?(o.consume(C),o.exit("chunkText"),m):(o.consume(C),b)}}const Wv={tokenize:qv},rp={tokenize:Xv};function qv(o){const s=this,n=[];let a=0,d,m,b;return C;function C(ke){if(a<n.length){const Be=n[a];return s.containerState=Be[1],o.attempt(Be[0].continuation,x,k)(ke)}return k(ke)}function x(ke){if(a++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,d&&ie();const Be=s.events.length;let Ke=Be,ye;for(;Ke--;)if(s.events[Ke][0]==="exit"&&s.events[Ke][1].type==="chunkFlow"){ye=s.events[Ke][1].end;break}re(a);let Ve=Be;for(;Ve<s.events.length;)s.events[Ve][1].end={...ye},Ve++;return qu(s.events,Ke+1,0,s.events.slice(Be)),s.events.length=Ve,k(ke)}return C(ke)}function k(ke){if(a===n.length){if(!d)return q(ke);if(d.currentConstruct&&d.currentConstruct.concrete)return fe(ke);s.interrupt=!!(d.currentConstruct&&!d._gfmTableDynamicInterruptHack)}return s.containerState={},o.check(rp,E,R)(ke)}function E(ke){return d&&ie(),re(a),q(ke)}function R(ke){return s.parser.lazy[s.now().line]=a!==n.length,b=s.now().offset,fe(ke)}function q(ke){return s.containerState={},o.attempt(rp,z,fe)(ke)}function z(ke){return a++,n.push([s.currentConstruct,s.containerState]),q(ke)}function fe(ke){if(ke===null){d&&ie(),re(0),o.consume(ke);return}return d=d||s.parser.flow(s.now()),o.enter("chunkFlow",{_tokenizer:d,contentType:"flow",previous:m}),ve(ke)}function ve(ke){if(ke===null){ge(o.exit("chunkFlow"),!0),re(0),o.consume(ke);return}return ir(ke)?(o.consume(ke),ge(o.exit("chunkFlow")),a=0,s.interrupt=void 0,C):(o.consume(ke),ve)}function ge(ke,Be){const Ke=s.sliceStream(ke);if(Be&&Ke.push(null),ke.previous=m,m&&(m.next=ke),m=ke,d.defineSkip(ke.start),d.write(Ke),s.parser.lazy[ke.start.line]){let ye=d.events.length;for(;ye--;)if(d.events[ye][1].start.offset<b&&(!d.events[ye][1].end||d.events[ye][1].end.offset>b))return;const Ve=s.events.length;let st=Ve,Xe,Qt;for(;st--;)if(s.events[st][0]==="exit"&&s.events[st][1].type==="chunkFlow"){if(Xe){Qt=s.events[st][1].end;break}Xe=!0}for(re(a),ye=Ve;ye<s.events.length;)s.events[ye][1].end={...Qt},ye++;qu(s.events,st+1,0,s.events.slice(Ve)),s.events.length=ye}}function re(ke){let Be=n.length;for(;Be-- >ke;){const Ke=n[Be];s.containerState=Ke[1],Ke[0].exit.call(s,o)}n.length=ke}function ie(){d.write([null]),m=void 0,d=void 0,s.containerState._closeFlow=void 0}}function Xv(o,s,n){return ns(o,o.attempt(this.parser.constructs.document,s,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ip(o){if(o===null||h0(o)||Hv(o))return 1;if(Uv(o))return 2}function R7(o,s,n){const a=[];let d=-1;for(;++d<o.length;){const m=o[d].resolveAll;m&&!a.includes(m)&&(s=m(s,n),a.push(m))}return s}const u7={name:"attention",resolveAll:jv,tokenize:Yv};function jv(o,s){let n=-1,a,d,m,b,C,x,k,E;for(;++n<o.length;)if(o[n][0]==="enter"&&o[n][1].type==="attentionSequence"&&o[n][1]._close){for(a=n;a--;)if(o[a][0]==="exit"&&o[a][1].type==="attentionSequence"&&o[a][1]._open&&s.sliceSerialize(o[a][1]).charCodeAt(0)===s.sliceSerialize(o[n][1]).charCodeAt(0)){if((o[a][1]._close||o[n][1]._open)&&(o[n][1].end.offset-o[n][1].start.offset)%3&&!((o[a][1].end.offset-o[a][1].start.offset+o[n][1].end.offset-o[n][1].start.offset)%3))continue;x=o[a][1].end.offset-o[a][1].start.offset>1&&o[n][1].end.offset-o[n][1].start.offset>1?2:1;const R={...o[a][1].end},q={...o[n][1].start};sp(R,-x),sp(q,x),b={type:x>1?"strongSequence":"emphasisSequence",start:R,end:{...o[a][1].end}},C={type:x>1?"strongSequence":"emphasisSequence",start:{...o[n][1].start},end:q},m={type:x>1?"strongText":"emphasisText",start:{...o[a][1].end},end:{...o[n][1].start}},d={type:x>1?"strong":"emphasis",start:{...b.start},end:{...C.end}},o[a][1].end={...b.start},o[n][1].start={...C.end},k=[],o[a][1].end.offset-o[a][1].start.offset&&(k=ba(k,[["enter",o[a][1],s],["exit",o[a][1],s]])),k=ba(k,[["enter",d,s],["enter",b,s],["exit",b,s],["enter",m,s]]),k=ba(k,R7(s.parser.constructs.insideSpan.null,o.slice(a+1,n),s)),k=ba(k,[["exit",m,s],["enter",C,s],["exit",C,s],["exit",d,s]]),o[n][1].end.offset-o[n][1].start.offset?(E=2,k=ba(k,[["enter",o[n][1],s],["exit",o[n][1],s]])):E=0,qu(o,a-1,n-a+3,k),n=a+k.length-E-2;break}}for(n=-1;++n<o.length;)o[n][1].type==="attentionSequence"&&(o[n][1].type="data");return o}function Yv(o,s){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,d=ip(a);let m;return b;function b(x){return m=x,o.enter("attentionSequence"),C(x)}function C(x){if(x===m)return o.consume(x),C;const k=o.exit("attentionSequence"),E=ip(x),R=!E||E===2&&d||n.includes(x),q=!d||d===2&&E||n.includes(a);return k._open=!!(m===42?R:R&&(d||!q)),k._close=!!(m===42?q:q&&(E||!R)),s(x)}}function sp(o,s){o.column+=s,o.offset+=s,o._bufferIndex+=s}const Kv={name:"autolink",tokenize:Jv};function Jv(o,s,n){let a=0;return d;function d(z){return o.enter("autolink"),o.enter("autolinkMarker"),o.consume(z),o.exit("autolinkMarker"),o.enter("autolinkProtocol"),m}function m(z){return Gu(z)?(o.consume(z),b):z===64?n(z):k(z)}function b(z){return z===43||z===45||z===46||F0(z)?(a=1,C(z)):k(z)}function C(z){return z===58?(o.consume(z),a=0,x):(z===43||z===45||z===46||F0(z))&&a++<32?(o.consume(z),C):(a=0,k(z))}function x(z){return z===62?(o.exit("autolinkProtocol"),o.enter("autolinkMarker"),o.consume(z),o.exit("autolinkMarker"),o.exit("autolink"),s):z===null||z===32||z===60||l7(z)?n(z):(o.consume(z),x)}function k(z){return z===64?(o.consume(z),E):Pv(z)?(o.consume(z),k):n(z)}function E(z){return F0(z)?R(z):n(z)}function R(z){return z===46?(o.consume(z),a=0,E):z===62?(o.exit("autolinkProtocol").type="autolinkEmail",o.enter("autolinkMarker"),o.consume(z),o.exit("autolinkMarker"),o.exit("autolink"),s):q(z)}function q(z){if((z===45||F0(z))&&a++<63){const fe=z===45?q:R;return o.consume(z),fe}return n(z)}}const C5={partial:!0,tokenize:Zv};function Zv(o,s,n){return a;function a(m){return Ki(m)?ns(o,d,"linePrefix")(m):d(m)}function d(m){return m===null||ir(m)?s(m):n(m)}}const Xm={continuation:{tokenize:eb},exit:tb,name:"blockQuote",tokenize:Qv};function Qv(o,s,n){const a=this;return d;function d(b){if(b===62){const C=a.containerState;return C.open||(o.enter("blockQuote",{_container:!0}),C.open=!0),o.enter("blockQuotePrefix"),o.enter("blockQuoteMarker"),o.consume(b),o.exit("blockQuoteMarker"),m}return n(b)}function m(b){return Ki(b)?(o.enter("blockQuotePrefixWhitespace"),o.consume(b),o.exit("blockQuotePrefixWhitespace"),o.exit("blockQuotePrefix"),s):(o.exit("blockQuotePrefix"),s(b))}}function eb(o,s,n){const a=this;return d;function d(b){return Ki(b)?ns(o,m,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):m(b)}function m(b){return o.attempt(Xm,s,n)(b)}}function tb(o){o.exit("blockQuote")}const jm={name:"characterEscape",tokenize:nb};function nb(o,s,n){return a;function a(m){return o.enter("characterEscape"),o.enter("escapeMarker"),o.consume(m),o.exit("escapeMarker"),d}function d(m){return zv(m)?(o.enter("characterEscapeValue"),o.consume(m),o.exit("characterEscapeValue"),o.exit("characterEscape"),s):n(m)}}const Ym={name:"characterReference",tokenize:rb};function rb(o,s,n){const a=this;let d=0,m,b;return C;function C(R){return o.enter("characterReference"),o.enter("characterReferenceMarker"),o.consume(R),o.exit("characterReferenceMarker"),x}function x(R){return R===35?(o.enter("characterReferenceMarkerNumeric"),o.consume(R),o.exit("characterReferenceMarkerNumeric"),k):(o.enter("characterReferenceValue"),m=31,b=F0,E(R))}function k(R){return R===88||R===120?(o.enter("characterReferenceMarkerHexadecimal"),o.consume(R),o.exit("characterReferenceMarkerHexadecimal"),o.enter("characterReferenceValue"),m=6,b=Fv,E):(o.enter("characterReferenceValue"),m=7,b=a7,E(R))}function E(R){if(R===59&&d){const q=o.exit("characterReferenceValue");return b===F0&&!M7(a.sliceSerialize(q))?n(R):(o.enter("characterReferenceMarker"),o.consume(R),o.exit("characterReferenceMarker"),o.exit("characterReference"),s)}return b(R)&&d++<m?(o.consume(R),E):n(R)}}const op={partial:!0,tokenize:sb},lp={concrete:!0,name:"codeFenced",tokenize:ib};function ib(o,s,n){const a=this,d={partial:!0,tokenize:Ke};let m=0,b=0,C;return x;function x(ye){return k(ye)}function k(ye){const Ve=a.events[a.events.length-1];return m=Ve&&Ve[1].type==="linePrefix"?Ve[2].sliceSerialize(Ve[1],!0).length:0,C=ye,o.enter("codeFenced"),o.enter("codeFencedFence"),o.enter("codeFencedFenceSequence"),E(ye)}function E(ye){return ye===C?(b++,o.consume(ye),E):b<3?n(ye):(o.exit("codeFencedFenceSequence"),Ki(ye)?ns(o,R,"whitespace")(ye):R(ye))}function R(ye){return ye===null||ir(ye)?(o.exit("codeFencedFence"),a.interrupt?s(ye):o.check(op,ve,Be)(ye)):(o.enter("codeFencedFenceInfo"),o.enter("chunkString",{contentType:"string"}),q(ye))}function q(ye){return ye===null||ir(ye)?(o.exit("chunkString"),o.exit("codeFencedFenceInfo"),R(ye)):Ki(ye)?(o.exit("chunkString"),o.exit("codeFencedFenceInfo"),ns(o,z,"whitespace")(ye)):ye===96&&ye===C?n(ye):(o.consume(ye),q)}function z(ye){return ye===null||ir(ye)?R(ye):(o.enter("codeFencedFenceMeta"),o.enter("chunkString",{contentType:"string"}),fe(ye))}function fe(ye){return ye===null||ir(ye)?(o.exit("chunkString"),o.exit("codeFencedFenceMeta"),R(ye)):ye===96&&ye===C?n(ye):(o.consume(ye),fe)}function ve(ye){return o.attempt(d,Be,ge)(ye)}function ge(ye){return o.enter("lineEnding"),o.consume(ye),o.exit("lineEnding"),re}function re(ye){return m>0&&Ki(ye)?ns(o,ie,"linePrefix",m+1)(ye):ie(ye)}function ie(ye){return ye===null||ir(ye)?o.check(op,ve,Be)(ye):(o.enter("codeFlowValue"),ke(ye))}function ke(ye){return ye===null||ir(ye)?(o.exit("codeFlowValue"),ie(ye)):(o.consume(ye),ke)}function Be(ye){return o.exit("codeFenced"),s(ye)}function Ke(ye,Ve,st){let Xe=0;return Qt;function Qt(nt){return ye.enter("lineEnding"),ye.consume(nt),ye.exit("lineEnding"),It}function It(nt){return ye.enter("codeFencedFence"),Ki(nt)?ns(ye,De,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(nt):De(nt)}function De(nt){return nt===C?(ye.enter("codeFencedFenceSequence"),Bt(nt)):st(nt)}function Bt(nt){return nt===C?(Xe++,ye.consume(nt),Bt):Xe>=b?(ye.exit("codeFencedFenceSequence"),Ki(nt)?ns(ye,kt,"whitespace")(nt):kt(nt)):st(nt)}function kt(nt){return nt===null||ir(nt)?(ye.exit("codeFencedFence"),Ve(nt)):st(nt)}}}function sb(o,s,n){const a=this;return d;function d(b){return b===null?n(b):(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),m)}function m(b){return a.parser.lazy[a.now().line]?n(b):s(b)}}const I6={name:"codeIndented",tokenize:lb},ob={partial:!0,tokenize:ab};function lb(o,s,n){const a=this;return d;function d(k){return o.enter("codeIndented"),ns(o,m,"linePrefix",5)(k)}function m(k){const E=a.events[a.events.length-1];return E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?b(k):n(k)}function b(k){return k===null?x(k):ir(k)?o.attempt(ob,b,x)(k):(o.enter("codeFlowValue"),C(k))}function C(k){return k===null||ir(k)?(o.exit("codeFlowValue"),b(k)):(o.consume(k),C)}function x(k){return o.exit("codeIndented"),s(k)}}function ab(o,s,n){const a=this;return d;function d(b){return a.parser.lazy[a.now().line]?n(b):ir(b)?(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),d):ns(o,m,"linePrefix",5)(b)}function m(b){const C=a.events[a.events.length-1];return C&&C[1].type==="linePrefix"&&C[2].sliceSerialize(C[1],!0).length>=4?s(b):ir(b)?d(b):n(b)}}const ub={name:"codeText",previous:hb,resolve:cb,tokenize:db};function cb(o){let s=o.length-4,n=3,a,d;if((o[n][1].type==="lineEnding"||o[n][1].type==="space")&&(o[s][1].type==="lineEnding"||o[s][1].type==="space")){for(a=n;++a<s;)if(o[a][1].type==="codeTextData"){o[n][1].type="codeTextPadding",o[s][1].type="codeTextPadding",n+=2,s-=2;break}}for(a=n-1,s++;++a<=s;)d===void 0?a!==s&&o[a][1].type!=="lineEnding"&&(d=a):(a===s||o[a][1].type==="lineEnding")&&(o[d][1].type="codeTextData",a!==d+2&&(o[d][1].end=o[a-1][1].end,o.splice(d+2,a-d-2),s-=a-d-2,a=d+2),d=void 0);return o}function hb(o){return o!==96||this.events[this.events.length-1][1].type==="characterEscape"}function db(o,s,n){let a=0,d,m;return b;function b(R){return o.enter("codeText"),o.enter("codeTextSequence"),C(R)}function C(R){return R===96?(o.consume(R),a++,C):(o.exit("codeTextSequence"),x(R))}function x(R){return R===null?n(R):R===32?(o.enter("space"),o.consume(R),o.exit("space"),x):R===96?(m=o.enter("codeTextSequence"),d=0,E(R)):ir(R)?(o.enter("lineEnding"),o.consume(R),o.exit("lineEnding"),x):(o.enter("codeTextData"),k(R))}function k(R){return R===null||R===32||R===96||ir(R)?(o.exit("codeTextData"),x(R)):(o.consume(R),k)}function E(R){return R===96?(o.consume(R),d++,E):d===a?(o.exit("codeTextSequence"),o.exit("codeText"),s(R)):(m.type="codeTextData",k(R))}}class fb{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(s,a):s>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(s,n,a){const d=n||0;this.setCursor(Math.trunc(s));const m=this.right.splice(this.right.length-d,Number.POSITIVE_INFINITY);return a&&W2(this.left,a),m.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),W2(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),W2(this.right,s.reverse())}setCursor(s){if(!(s===this.left.length||s>this.left.length&&this.right.length===0||s<0&&this.left.length===0))if(s<this.left.length){const n=this.left.splice(s,Number.POSITIVE_INFINITY);W2(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);W2(this.left,n.reverse())}}}function W2(o,s){let n=0;if(s.length<1e4)o.push(...s);else for(;n<s.length;)o.push(...s.slice(n,n+1e4)),n+=1e4}function Km(o){const s={};let n=-1,a,d,m,b,C,x,k;const E=new fb(o);for(;++n<E.length;){for(;n in s;)n=s[n];if(a=E.get(n),n&&a[1].type==="chunkFlow"&&E.get(n-1)[1].type==="listItemPrefix"&&(x=a[1]._tokenizer.events,m=0,m<x.length&&x[m][1].type==="lineEndingBlank"&&(m+=2),m<x.length&&x[m][1].type==="content"))for(;++m<x.length&&x[m][1].type!=="content";)x[m][1].type==="chunkText"&&(x[m][1]._isInFirstContentOfListItem=!0,m++);if(a[0]==="enter")a[1].contentType&&(Object.assign(s,pb(E,n)),n=s[n],k=!0);else if(a[1]._container){for(m=n,d=void 0;m--;)if(b=E.get(m),b[1].type==="lineEnding"||b[1].type==="lineEndingBlank")b[0]==="enter"&&(d&&(E.get(d)[1].type="lineEndingBlank"),b[1].type="lineEnding",d=m);else if(!(b[1].type==="linePrefix"||b[1].type==="listItemIndent"))break;d&&(a[1].end={...E.get(d)[1].start},C=E.slice(d,n),C.unshift(a),E.splice(d,n-d+1,C))}}return qu(o,0,Number.POSITIVE_INFINITY,E.slice(0)),!k}function pb(o,s){const n=o.get(s)[1],a=o.get(s)[2];let d=s-1;const m=[];let b=n._tokenizer;b||(b=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(b._contentTypeTextTrailing=!0));const C=b.events,x=[],k={};let E,R,q=-1,z=n,fe=0,ve=0;const ge=[ve];for(;z;){for(;o.get(++d)[1]!==z;);m.push(d),z._tokenizer||(E=a.sliceStream(z),z.next||E.push(null),R&&b.defineSkip(z.start),z._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=!0),b.write(E),z._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=void 0)),R=z,z=z.next}for(z=n;++q<C.length;)C[q][0]==="exit"&&C[q-1][0]==="enter"&&C[q][1].type===C[q-1][1].type&&C[q][1].start.line!==C[q][1].end.line&&(ve=q+1,ge.push(ve),z._tokenizer=void 0,z.previous=void 0,z=z.next);for(b.events=[],z?(z._tokenizer=void 0,z.previous=void 0):ge.pop(),q=ge.length;q--;){const re=C.slice(ge[q],ge[q+1]),ie=m.pop();x.push([ie,ie+re.length-1]),o.splice(ie,2,re)}for(x.reverse(),q=-1;++q<x.length;)k[fe+x[q][0]]=fe+x[q][1],fe+=x[q][1]-x[q][0]-1;return k}const mb={resolve:$b,tokenize:vb},gb={partial:!0,tokenize:bb};function $b(o){return Km(o),o}function vb(o,s){let n;return a;function a(C){return o.enter("content"),n=o.enter("chunkContent",{contentType:"content"}),d(C)}function d(C){return C===null?m(C):ir(C)?o.check(gb,b,m)(C):(o.consume(C),d)}function m(C){return o.exit("chunkContent"),o.exit("content"),s(C)}function b(C){return o.consume(C),o.exit("chunkContent"),n.next=o.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,d}}function bb(o,s,n){const a=this;return d;function d(b){return o.exit("chunkContent"),o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),ns(o,m,"linePrefix")}function m(b){if(b===null||ir(b))return n(b);const C=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&C&&C[1].type==="linePrefix"&&C[2].sliceSerialize(C[1],!0).length>=4?s(b):o.interrupt(a.parser.constructs.flow,n,s)(b)}}function Jm(o,s,n,a,d,m,b,C,x){const k=x||Number.POSITIVE_INFINITY;let E=0;return R;function R(re){return re===60?(o.enter(a),o.enter(d),o.enter(m),o.consume(re),o.exit(m),q):re===null||re===32||re===41||l7(re)?n(re):(o.enter(a),o.enter(b),o.enter(C),o.enter("chunkString",{contentType:"string"}),ve(re))}function q(re){return re===62?(o.enter(m),o.consume(re),o.exit(m),o.exit(d),o.exit(a),s):(o.enter(C),o.enter("chunkString",{contentType:"string"}),z(re))}function z(re){return re===62?(o.exit("chunkString"),o.exit(C),q(re)):re===null||re===60||ir(re)?n(re):(o.consume(re),re===92?fe:z)}function fe(re){return re===60||re===62||re===92?(o.consume(re),z):z(re)}function ve(re){return!E&&(re===null||re===41||h0(re))?(o.exit("chunkString"),o.exit(C),o.exit(b),o.exit(a),s(re)):E<k&&re===40?(o.consume(re),E++,ve):re===41?(o.consume(re),E--,ve):re===null||re===32||re===40||l7(re)?n(re):(o.consume(re),re===92?ge:ve)}function ge(re){return re===40||re===41||re===92?(o.consume(re),ve):ve(re)}}function Zm(o,s,n,a,d,m){const b=this;let C=0,x;return k;function k(z){return o.enter(a),o.enter(d),o.consume(z),o.exit(d),o.enter(m),E}function E(z){return C>999||z===null||z===91||z===93&&!x||z===94&&!C&&"_hiddenFootnoteSupport"in b.parser.constructs?n(z):z===93?(o.exit(m),o.enter(d),o.consume(z),o.exit(d),o.exit(a),s):ir(z)?(o.enter("lineEnding"),o.consume(z),o.exit("lineEnding"),E):(o.enter("chunkString",{contentType:"string"}),R(z))}function R(z){return z===null||z===91||z===93||ir(z)||C++>999?(o.exit("chunkString"),E(z)):(o.consume(z),x||(x=!Ki(z)),z===92?q:R)}function q(z){return z===91||z===92||z===93?(o.consume(z),C++,R):R(z)}}function Qm(o,s,n,a,d,m){let b;return C;function C(q){return q===34||q===39||q===40?(o.enter(a),o.enter(d),o.consume(q),o.exit(d),b=q===40?41:q,x):n(q)}function x(q){return q===b?(o.enter(d),o.consume(q),o.exit(d),o.exit(a),s):(o.enter(m),k(q))}function k(q){return q===b?(o.exit(m),x(b)):q===null?n(q):ir(q)?(o.enter("lineEnding"),o.consume(q),o.exit("lineEnding"),ns(o,k,"linePrefix")):(o.enter("chunkString",{contentType:"string"}),E(q))}function E(q){return q===b||q===null||ir(q)?(o.exit("chunkString"),k(q)):(o.consume(q),q===92?R:E)}function R(q){return q===b||q===92?(o.consume(q),E):E(q)}}function J2(o,s){let n;return a;function a(d){return ir(d)?(o.enter("lineEnding"),o.consume(d),o.exit("lineEnding"),n=!0,a):Ki(d)?ns(o,a,n?"linePrefix":"lineSuffix")(d):s(d)}}const yb={name:"definition",tokenize:_b},Tb={partial:!0,tokenize:Eb};function _b(o,s,n){const a=this;let d;return m;function m(z){return o.enter("definition"),b(z)}function b(z){return Zm.call(a,o,C,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(z)}function C(z){return d=y4(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),z===58?(o.enter("definitionMarker"),o.consume(z),o.exit("definitionMarker"),x):n(z)}function x(z){return h0(z)?J2(o,k)(z):k(z)}function k(z){return Jm(o,E,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(z)}function E(z){return o.attempt(Tb,R,R)(z)}function R(z){return Ki(z)?ns(o,q,"whitespace")(z):q(z)}function q(z){return z===null||ir(z)?(o.exit("definition"),a.parser.defined.push(d),s(z)):n(z)}}function Eb(o,s,n){return a;function a(C){return h0(C)?J2(o,d)(C):n(C)}function d(C){return Qm(o,m,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(C)}function m(C){return Ki(C)?ns(o,b,"whitespace")(C):b(C)}function b(C){return C===null||ir(C)?s(C):n(C)}}const wb={name:"hardBreakEscape",tokenize:Sb};function Sb(o,s,n){return a;function a(m){return o.enter("hardBreakEscape"),o.consume(m),d}function d(m){return ir(m)?(o.exit("hardBreakEscape"),s(m)):n(m)}}const xb={name:"headingAtx",resolve:Cb,tokenize:kb};function Cb(o,s){let n=o.length-2,a=3,d,m;return o[a][1].type==="whitespace"&&(a+=2),n-2>a&&o[n][1].type==="whitespace"&&(n-=2),o[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&o[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(d={type:"atxHeadingText",start:o[a][1].start,end:o[n][1].end},m={type:"chunkText",start:o[a][1].start,end:o[n][1].end,contentType:"text"},qu(o,a,n-a+1,[["enter",d,s],["enter",m,s],["exit",m,s],["exit",d,s]])),o}function kb(o,s,n){let a=0;return d;function d(E){return o.enter("atxHeading"),m(E)}function m(E){return o.enter("atxHeadingSequence"),b(E)}function b(E){return E===35&&a++<6?(o.consume(E),b):E===null||h0(E)?(o.exit("atxHeadingSequence"),C(E)):n(E)}function C(E){return E===35?(o.enter("atxHeadingSequence"),x(E)):E===null||ir(E)?(o.exit("atxHeading"),s(E)):Ki(E)?ns(o,C,"whitespace")(E):(o.enter("atxHeadingText"),k(E))}function x(E){return E===35?(o.consume(E),x):(o.exit("atxHeadingSequence"),C(E))}function k(E){return E===null||E===35||h0(E)?(o.exit("atxHeadingText"),C(E)):(o.consume(E),k)}}const Ab=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ap=["pre","script","style","textarea"],Ib={concrete:!0,name:"htmlFlow",resolveTo:Ob,tokenize:Nb},Mb={partial:!0,tokenize:Db},Rb={partial:!0,tokenize:Lb};function Ob(o){let s=o.length;for(;s--&&!(o[s][0]==="enter"&&o[s][1].type==="htmlFlow"););return s>1&&o[s-2][1].type==="linePrefix"&&(o[s][1].start=o[s-2][1].start,o[s+1][1].start=o[s-2][1].start,o.splice(s-2,2)),o}function Nb(o,s,n){const a=this;let d,m,b,C,x;return k;function k(Se){return E(Se)}function E(Se){return o.enter("htmlFlow"),o.enter("htmlFlowData"),o.consume(Se),R}function R(Se){return Se===33?(o.consume(Se),q):Se===47?(o.consume(Se),m=!0,ve):Se===63?(o.consume(Se),d=3,a.interrupt?s:le):Gu(Se)?(o.consume(Se),b=String.fromCharCode(Se),ge):n(Se)}function q(Se){return Se===45?(o.consume(Se),d=2,z):Se===91?(o.consume(Se),d=5,C=0,fe):Gu(Se)?(o.consume(Se),d=4,a.interrupt?s:le):n(Se)}function z(Se){return Se===45?(o.consume(Se),a.interrupt?s:le):n(Se)}function fe(Se){const Jt="CDATA[";return Se===Jt.charCodeAt(C++)?(o.consume(Se),C===Jt.length?a.interrupt?s:De:fe):n(Se)}function ve(Se){return Gu(Se)?(o.consume(Se),b=String.fromCharCode(Se),ge):n(Se)}function ge(Se){if(Se===null||Se===47||Se===62||h0(Se)){const Jt=Se===47,Ot=b.toLowerCase();return!Jt&&!m&&ap.includes(Ot)?(d=1,a.interrupt?s(Se):De(Se)):Ab.includes(b.toLowerCase())?(d=6,Jt?(o.consume(Se),re):a.interrupt?s(Se):De(Se)):(d=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(Se):m?ie(Se):ke(Se))}return Se===45||F0(Se)?(o.consume(Se),b+=String.fromCharCode(Se),ge):n(Se)}function re(Se){return Se===62?(o.consume(Se),a.interrupt?s:De):n(Se)}function ie(Se){return Ki(Se)?(o.consume(Se),ie):Qt(Se)}function ke(Se){return Se===47?(o.consume(Se),Qt):Se===58||Se===95||Gu(Se)?(o.consume(Se),Be):Ki(Se)?(o.consume(Se),ke):Qt(Se)}function Be(Se){return Se===45||Se===46||Se===58||Se===95||F0(Se)?(o.consume(Se),Be):Ke(Se)}function Ke(Se){return Se===61?(o.consume(Se),ye):Ki(Se)?(o.consume(Se),Ke):ke(Se)}function ye(Se){return Se===null||Se===60||Se===61||Se===62||Se===96?n(Se):Se===34||Se===39?(o.consume(Se),x=Se,Ve):Ki(Se)?(o.consume(Se),ye):st(Se)}function Ve(Se){return Se===x?(o.consume(Se),x=null,Xe):Se===null||ir(Se)?n(Se):(o.consume(Se),Ve)}function st(Se){return Se===null||Se===34||Se===39||Se===47||Se===60||Se===61||Se===62||Se===96||h0(Se)?Ke(Se):(o.consume(Se),st)}function Xe(Se){return Se===47||Se===62||Ki(Se)?ke(Se):n(Se)}function Qt(Se){return Se===62?(o.consume(Se),It):n(Se)}function It(Se){return Se===null||ir(Se)?De(Se):Ki(Se)?(o.consume(Se),It):n(Se)}function De(Se){return Se===45&&d===2?(o.consume(Se),Ze):Se===60&&d===1?(o.consume(Se),vt):Se===62&&d===4?(o.consume(Se),ze):Se===63&&d===3?(o.consume(Se),le):Se===93&&d===5?(o.consume(Se),Ut):ir(Se)&&(d===6||d===7)?(o.exit("htmlFlowData"),o.check(Mb,ct,Bt)(Se)):Se===null||ir(Se)?(o.exit("htmlFlowData"),Bt(Se)):(o.consume(Se),De)}function Bt(Se){return o.check(Rb,kt,ct)(Se)}function kt(Se){return o.enter("lineEnding"),o.consume(Se),o.exit("lineEnding"),nt}function nt(Se){return Se===null||ir(Se)?Bt(Se):(o.enter("htmlFlowData"),De(Se))}function Ze(Se){return Se===45?(o.consume(Se),le):De(Se)}function vt(Se){return Se===47?(o.consume(Se),b="",ft):De(Se)}function ft(Se){if(Se===62){const Jt=b.toLowerCase();return ap.includes(Jt)?(o.consume(Se),ze):De(Se)}return Gu(Se)&&b.length<8?(o.consume(Se),b+=String.fromCharCode(Se),ft):De(Se)}function Ut(Se){return Se===93?(o.consume(Se),le):De(Se)}function le(Se){return Se===62?(o.consume(Se),ze):Se===45&&d===2?(o.consume(Se),le):De(Se)}function ze(Se){return Se===null||ir(Se)?(o.exit("htmlFlowData"),ct(Se)):(o.consume(Se),ze)}function ct(Se){return o.exit("htmlFlow"),s(Se)}}function Lb(o,s,n){const a=this;return d;function d(b){return ir(b)?(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),m):n(b)}function m(b){return a.parser.lazy[a.now().line]?n(b):s(b)}}function Db(o,s,n){return a;function a(d){return o.enter("lineEnding"),o.consume(d),o.exit("lineEnding"),o.attempt(C5,s,n)}}const Bb={name:"htmlText",tokenize:Pb};function Pb(o,s,n){const a=this;let d,m,b;return C;function C(le){return o.enter("htmlText"),o.enter("htmlTextData"),o.consume(le),x}function x(le){return le===33?(o.consume(le),k):le===47?(o.consume(le),Ke):le===63?(o.consume(le),ke):Gu(le)?(o.consume(le),st):n(le)}function k(le){return le===45?(o.consume(le),E):le===91?(o.consume(le),m=0,fe):Gu(le)?(o.consume(le),ie):n(le)}function E(le){return le===45?(o.consume(le),z):n(le)}function R(le){return le===null?n(le):le===45?(o.consume(le),q):ir(le)?(b=R,vt(le)):(o.consume(le),R)}function q(le){return le===45?(o.consume(le),z):R(le)}function z(le){return le===62?Ze(le):le===45?q(le):R(le)}function fe(le){const ze="CDATA[";return le===ze.charCodeAt(m++)?(o.consume(le),m===ze.length?ve:fe):n(le)}function ve(le){return le===null?n(le):le===93?(o.consume(le),ge):ir(le)?(b=ve,vt(le)):(o.consume(le),ve)}function ge(le){return le===93?(o.consume(le),re):ve(le)}function re(le){return le===62?Ze(le):le===93?(o.consume(le),re):ve(le)}function ie(le){return le===null||le===62?Ze(le):ir(le)?(b=ie,vt(le)):(o.consume(le),ie)}function ke(le){return le===null?n(le):le===63?(o.consume(le),Be):ir(le)?(b=ke,vt(le)):(o.consume(le),ke)}function Be(le){return le===62?Ze(le):ke(le)}function Ke(le){return Gu(le)?(o.consume(le),ye):n(le)}function ye(le){return le===45||F0(le)?(o.consume(le),ye):Ve(le)}function Ve(le){return ir(le)?(b=Ve,vt(le)):Ki(le)?(o.consume(le),Ve):Ze(le)}function st(le){return le===45||F0(le)?(o.consume(le),st):le===47||le===62||h0(le)?Xe(le):n(le)}function Xe(le){return le===47?(o.consume(le),Ze):le===58||le===95||Gu(le)?(o.consume(le),Qt):ir(le)?(b=Xe,vt(le)):Ki(le)?(o.consume(le),Xe):Ze(le)}function Qt(le){return le===45||le===46||le===58||le===95||F0(le)?(o.consume(le),Qt):It(le)}function It(le){return le===61?(o.consume(le),De):ir(le)?(b=It,vt(le)):Ki(le)?(o.consume(le),It):Xe(le)}function De(le){return le===null||le===60||le===61||le===62||le===96?n(le):le===34||le===39?(o.consume(le),d=le,Bt):ir(le)?(b=De,vt(le)):Ki(le)?(o.consume(le),De):(o.consume(le),kt)}function Bt(le){return le===d?(o.consume(le),d=void 0,nt):le===null?n(le):ir(le)?(b=Bt,vt(le)):(o.consume(le),Bt)}function kt(le){return le===null||le===34||le===39||le===60||le===61||le===96?n(le):le===47||le===62||h0(le)?Xe(le):(o.consume(le),kt)}function nt(le){return le===47||le===62||h0(le)?Xe(le):n(le)}function Ze(le){return le===62?(o.consume(le),o.exit("htmlTextData"),o.exit("htmlText"),s):n(le)}function vt(le){return o.exit("htmlTextData"),o.enter("lineEnding"),o.consume(le),o.exit("lineEnding"),ft}function ft(le){return Ki(le)?ns(o,Ut,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):Ut(le)}function Ut(le){return o.enter("htmlTextData"),b(le)}}const O7={name:"labelEnd",resolveAll:Hb,resolveTo:Gb,tokenize:Vb},Fb={tokenize:Wb},zb={tokenize:qb},Ub={tokenize:Xb};function Hb(o){let s=-1;const n=[];for(;++s<o.length;){const a=o[s][1];if(n.push(o[s]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const d=a.type==="labelImage"?4:2;a.type="data",s+=d}}return o.length!==n.length&&qu(o,0,o.length,n),o}function Gb(o,s){let n=o.length,a=0,d,m,b,C;for(;n--;)if(d=o[n][1],m){if(d.type==="link"||d.type==="labelLink"&&d._inactive)break;o[n][0]==="enter"&&d.type==="labelLink"&&(d._inactive=!0)}else if(b){if(o[n][0]==="enter"&&(d.type==="labelImage"||d.type==="labelLink")&&!d._balanced&&(m=n,d.type!=="labelLink")){a=2;break}}else d.type==="labelEnd"&&(b=n);const x={type:o[m][1].type==="labelLink"?"link":"image",start:{...o[m][1].start},end:{...o[o.length-1][1].end}},k={type:"label",start:{...o[m][1].start},end:{...o[b][1].end}},E={type:"labelText",start:{...o[m+a+2][1].end},end:{...o[b-2][1].start}};return C=[["enter",x,s],["enter",k,s]],C=ba(C,o.slice(m+1,m+a+3)),C=ba(C,[["enter",E,s]]),C=ba(C,R7(s.parser.constructs.insideSpan.null,o.slice(m+a+4,b-3),s)),C=ba(C,[["exit",E,s],o[b-2],o[b-1],["exit",k,s]]),C=ba(C,o.slice(b+1)),C=ba(C,[["exit",x,s]]),qu(o,m,o.length,C),o}function Vb(o,s,n){const a=this;let d=a.events.length,m,b;for(;d--;)if((a.events[d][1].type==="labelImage"||a.events[d][1].type==="labelLink")&&!a.events[d][1]._balanced){m=a.events[d][1];break}return C;function C(q){return m?m._inactive?R(q):(b=a.parser.defined.includes(y4(a.sliceSerialize({start:m.end,end:a.now()}))),o.enter("labelEnd"),o.enter("labelMarker"),o.consume(q),o.exit("labelMarker"),o.exit("labelEnd"),x):n(q)}function x(q){return q===40?o.attempt(Fb,E,b?E:R)(q):q===91?o.attempt(zb,E,b?k:R)(q):b?E(q):R(q)}function k(q){return o.attempt(Ub,E,R)(q)}function E(q){return s(q)}function R(q){return m._balanced=!0,n(q)}}function Wb(o,s,n){return a;function a(R){return o.enter("resource"),o.enter("resourceMarker"),o.consume(R),o.exit("resourceMarker"),d}function d(R){return h0(R)?J2(o,m)(R):m(R)}function m(R){return R===41?E(R):Jm(o,b,C,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(R)}function b(R){return h0(R)?J2(o,x)(R):E(R)}function C(R){return n(R)}function x(R){return R===34||R===39||R===40?Qm(o,k,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(R):E(R)}function k(R){return h0(R)?J2(o,E)(R):E(R)}function E(R){return R===41?(o.enter("resourceMarker"),o.consume(R),o.exit("resourceMarker"),o.exit("resource"),s):n(R)}}function qb(o,s,n){const a=this;return d;function d(C){return Zm.call(a,o,m,b,"reference","referenceMarker","referenceString")(C)}function m(C){return a.parser.defined.includes(y4(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?s(C):n(C)}function b(C){return n(C)}}function Xb(o,s,n){return a;function a(m){return o.enter("reference"),o.enter("referenceMarker"),o.consume(m),o.exit("referenceMarker"),d}function d(m){return m===93?(o.enter("referenceMarker"),o.consume(m),o.exit("referenceMarker"),o.exit("reference"),s):n(m)}}const jb={name:"labelStartImage",resolveAll:O7.resolveAll,tokenize:Yb};function Yb(o,s,n){const a=this;return d;function d(C){return o.enter("labelImage"),o.enter("labelImageMarker"),o.consume(C),o.exit("labelImageMarker"),m}function m(C){return C===91?(o.enter("labelMarker"),o.consume(C),o.exit("labelMarker"),o.exit("labelImage"),b):n(C)}function b(C){return C===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(C):s(C)}}const Kb={name:"labelStartLink",resolveAll:O7.resolveAll,tokenize:Jb};function Jb(o,s,n){const a=this;return d;function d(b){return o.enter("labelLink"),o.enter("labelMarker"),o.consume(b),o.exit("labelMarker"),o.exit("labelLink"),m}function m(b){return b===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(b):s(b)}}const M6={name:"lineEnding",tokenize:Zb};function Zb(o,s){return n;function n(a){return o.enter("lineEnding"),o.consume(a),o.exit("lineEnding"),ns(o,s,"linePrefix")}}const h5={name:"thematicBreak",tokenize:Qb};function Qb(o,s,n){let a=0,d;return m;function m(k){return o.enter("thematicBreak"),b(k)}function b(k){return d=k,C(k)}function C(k){return k===d?(o.enter("thematicBreakSequence"),x(k)):a>=3&&(k===null||ir(k))?(o.exit("thematicBreak"),s(k)):n(k)}function x(k){return k===d?(o.consume(k),a++,x):(o.exit("thematicBreakSequence"),Ki(k)?ns(o,C,"whitespace")(k):C(k))}}const a0={continuation:{tokenize:ry},exit:sy,name:"list",tokenize:ny},ey={partial:!0,tokenize:oy},ty={partial:!0,tokenize:iy};function ny(o,s,n){const a=this,d=a.events[a.events.length-1];let m=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0,b=0;return C;function C(z){const fe=a.containerState.type||(z===42||z===43||z===45?"listUnordered":"listOrdered");if(fe==="listUnordered"?!a.containerState.marker||z===a.containerState.marker:a7(z)){if(a.containerState.type||(a.containerState.type=fe,o.enter(fe,{_container:!0})),fe==="listUnordered")return o.enter("listItemPrefix"),z===42||z===45?o.check(h5,n,k)(z):k(z);if(!a.interrupt||z===49)return o.enter("listItemPrefix"),o.enter("listItemValue"),x(z)}return n(z)}function x(z){return a7(z)&&++b<10?(o.consume(z),x):(!a.interrupt||b<2)&&(a.containerState.marker?z===a.containerState.marker:z===41||z===46)?(o.exit("listItemValue"),k(z)):n(z)}function k(z){return o.enter("listItemMarker"),o.consume(z),o.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||z,o.check(C5,a.interrupt?n:E,o.attempt(ey,q,R))}function E(z){return a.containerState.initialBlankLine=!0,m++,q(z)}function R(z){return Ki(z)?(o.enter("listItemPrefixWhitespace"),o.consume(z),o.exit("listItemPrefixWhitespace"),q):n(z)}function q(z){return a.containerState.size=m+a.sliceSerialize(o.exit("listItemPrefix"),!0).length,s(z)}}function ry(o,s,n){const a=this;return a.containerState._closeFlow=void 0,o.check(C5,d,m);function d(C){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,ns(o,s,"listItemIndent",a.containerState.size+1)(C)}function m(C){return a.containerState.furtherBlankLines||!Ki(C)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,b(C)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,o.attempt(ty,s,b)(C))}function b(C){return a.containerState._closeFlow=!0,a.interrupt=void 0,ns(o,o.attempt(a0,s,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C)}}function iy(o,s,n){const a=this;return ns(o,d,"listItemIndent",a.containerState.size+1);function d(m){const b=a.events[a.events.length-1];return b&&b[1].type==="listItemIndent"&&b[2].sliceSerialize(b[1],!0).length===a.containerState.size?s(m):n(m)}}function sy(o){o.exit(this.containerState.type)}function oy(o,s,n){const a=this;return ns(o,d,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function d(m){const b=a.events[a.events.length-1];return!Ki(m)&&b&&b[1].type==="listItemPrefixWhitespace"?s(m):n(m)}}const up={name:"setextUnderline",resolveTo:ly,tokenize:ay};function ly(o,s){let n=o.length,a,d,m;for(;n--;)if(o[n][0]==="enter"){if(o[n][1].type==="content"){a=n;break}o[n][1].type==="paragraph"&&(d=n)}else o[n][1].type==="content"&&o.splice(n,1),!m&&o[n][1].type==="definition"&&(m=n);const b={type:"setextHeading",start:{...o[a][1].start},end:{...o[o.length-1][1].end}};return o[d][1].type="setextHeadingText",m?(o.splice(d,0,["enter",b,s]),o.splice(m+1,0,["exit",o[a][1],s]),o[a][1].end={...o[m][1].end}):o[a][1]=b,o.push(["exit",b,s]),o}function ay(o,s,n){const a=this;let d;return m;function m(k){let E=a.events.length,R;for(;E--;)if(a.events[E][1].type!=="lineEnding"&&a.events[E][1].type!=="linePrefix"&&a.events[E][1].type!=="content"){R=a.events[E][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||R)?(o.enter("setextHeadingLine"),d=k,b(k)):n(k)}function b(k){return o.enter("setextHeadingLineSequence"),C(k)}function C(k){return k===d?(o.consume(k),C):(o.exit("setextHeadingLineSequence"),Ki(k)?ns(o,x,"lineSuffix")(k):x(k))}function x(k){return k===null||ir(k)?(o.exit("setextHeadingLine"),s(k)):n(k)}}const uy={tokenize:cy};function cy(o){const s=this,n=o.attempt(C5,a,o.attempt(this.parser.constructs.flowInitial,d,ns(o,o.attempt(this.parser.constructs.flow,d,o.attempt(mb,d)),"linePrefix")));return n;function a(m){if(m===null){o.consume(m);return}return o.enter("lineEndingBlank"),o.consume(m),o.exit("lineEndingBlank"),s.currentConstruct=void 0,n}function d(m){if(m===null){o.consume(m);return}return o.enter("lineEnding"),o.consume(m),o.exit("lineEnding"),s.currentConstruct=void 0,n}}const hy={resolveAll:t9()},dy=e9("string"),fy=e9("text");function e9(o){return{resolveAll:t9(o==="text"?py:void 0),tokenize:s};function s(n){const a=this,d=this.parser.constructs[o],m=n.attempt(d,b,C);return b;function b(E){return k(E)?m(E):C(E)}function C(E){if(E===null){n.consume(E);return}return n.enter("data"),n.consume(E),x}function x(E){return k(E)?(n.exit("data"),m(E)):(n.consume(E),x)}function k(E){if(E===null)return!0;const R=d[E];let q=-1;if(R)for(;++q<R.length;){const z=R[q];if(!z.previous||z.previous.call(a,a.previous))return!0}return!1}}}function t9(o){return s;function s(n,a){let d=-1,m;for(;++d<=n.length;)m===void 0?n[d]&&n[d][1].type==="data"&&(m=d,d++):(!n[d]||n[d][1].type!=="data")&&(d!==m+2&&(n[m][1].end=n[d-1][1].end,n.splice(m+2,d-m-2),d=m+2),m=void 0);return o?o(n,a):n}}function py(o,s){let n=0;for(;++n<=o.length;)if((n===o.length||o[n][1].type==="lineEnding")&&o[n-1][1].type==="data"){const a=o[n-1][1],d=s.sliceStream(a);let m=d.length,b=-1,C=0,x;for(;m--;){const k=d[m];if(typeof k=="string"){for(b=k.length;k.charCodeAt(b-1)===32;)C++,b--;if(b)break;b=-1}else if(k===-2)x=!0,C++;else if(k!==-1){m++;break}}if(s._contentTypeTextTrailing&&n===o.length&&(C=0),C){const k={type:n===o.length||x||C<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:m?b:a.start._bufferIndex+b,_index:a.start._index+m,line:a.end.line,column:a.end.column-C,offset:a.end.offset-C},end:{...a.end}};a.end={...k.start},a.start.offset===a.end.offset?Object.assign(a,k):(o.splice(n,0,["enter",k,s],["exit",k,s]),n+=2)}n++}return o}const my={42:a0,43:a0,45:a0,48:a0,49:a0,50:a0,51:a0,52:a0,53:a0,54:a0,55:a0,56:a0,57:a0,62:Xm},gy={91:yb},$y={[-2]:I6,[-1]:I6,32:I6},vy={35:xb,42:h5,45:[up,h5],60:Ib,61:up,95:h5,96:lp,126:lp},by={38:Ym,92:jm},yy={[-5]:M6,[-4]:M6,[-3]:M6,33:jb,38:Ym,42:u7,60:[Kv,Bb],91:Kb,92:[wb,jm],93:O7,95:u7,96:ub},Ty={null:[u7,hy]},_y={null:[42,95]},Ey={null:[]},wy=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_y,contentInitial:gy,disable:Ey,document:my,flow:vy,flowInitial:$y,insideSpan:Ty,string:by,text:yy},Symbol.toStringTag,{value:"Module"}));function Sy(o,s,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const d={},m=[];let b=[],C=[];const x={attempt:Ve(Ke),check:Ve(ye),consume:ie,enter:ke,exit:Be,interrupt:Ve(ye,{interrupt:!0})},k={code:null,containerState:{},defineSkip:ve,events:[],now:fe,parser:o,previous:null,sliceSerialize:q,sliceStream:z,write:R};let E=s.tokenize.call(k,x);return s.resolveAll&&m.push(s),k;function R(It){return b=ba(b,It),ge(),b[b.length-1]!==null?[]:(st(s,0),k.events=R7(m,k.events,k),k.events)}function q(It,De){return Cy(z(It),De)}function z(It){return xy(b,It)}function fe(){const{_bufferIndex:It,_index:De,line:Bt,column:kt,offset:nt}=a;return{_bufferIndex:It,_index:De,line:Bt,column:kt,offset:nt}}function ve(It){d[It.line]=It.column,Qt()}function ge(){let It;for(;a._index<b.length;){const De=b[a._index];if(typeof De=="string")for(It=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===It&&a._bufferIndex<De.length;)re(De.charCodeAt(a._bufferIndex));else re(De)}}function re(It){E=E(It)}function ie(It){ir(It)?(a.line++,a.column=1,a.offset+=It===-3?2:1,Qt()):It!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===b[a._index].length&&(a._bufferIndex=-1,a._index++)),k.previous=It}function ke(It,De){const Bt=De||{};return Bt.type=It,Bt.start=fe(),k.events.push(["enter",Bt,k]),C.push(Bt),Bt}function Be(It){const De=C.pop();return De.end=fe(),k.events.push(["exit",De,k]),De}function Ke(It,De){st(It,De.from)}function ye(It,De){De.restore()}function Ve(It,De){return Bt;function Bt(kt,nt,Ze){let vt,ft,Ut,le;return Array.isArray(kt)?ct(kt):"tokenize"in kt?ct([kt]):ze(kt);function ze(sn){return yn;function yn(hr){const Yn=hr!==null&&sn[hr],an=hr!==null&&sn.null,Xn=[...Array.isArray(Yn)?Yn:Yn?[Yn]:[],...Array.isArray(an)?an:an?[an]:[]];return ct(Xn)(hr)}}function ct(sn){return vt=sn,ft=0,sn.length===0?Ze:Se(sn[ft])}function Se(sn){return yn;function yn(hr){return le=Xe(),Ut=sn,sn.partial||(k.currentConstruct=sn),sn.name&&k.parser.constructs.disable.null.includes(sn.name)?Ot():sn.tokenize.call(De?Object.assign(Object.create(k),De):k,x,Jt,Ot)(hr)}}function Jt(sn){return It(Ut,le),nt}function Ot(sn){return le.restore(),++ft<vt.length?Se(vt[ft]):Ze}}}function st(It,De){It.resolveAll&&!m.includes(It)&&m.push(It),It.resolve&&qu(k.events,De,k.events.length-De,It.resolve(k.events.slice(De),k)),It.resolveTo&&(k.events=It.resolveTo(k.events,k))}function Xe(){const It=fe(),De=k.previous,Bt=k.currentConstruct,kt=k.events.length,nt=Array.from(C);return{from:kt,restore:Ze};function Ze(){a=It,k.previous=De,k.currentConstruct=Bt,k.events.length=kt,C=nt,Qt()}}function Qt(){a.line in d&&a.column<2&&(a.column=d[a.line],a.offset+=d[a.line]-1)}}function xy(o,s){const n=s.start._index,a=s.start._bufferIndex,d=s.end._index,m=s.end._bufferIndex;let b;if(n===d)b=[o[n].slice(a,m)];else{if(b=o.slice(n,d),a>-1){const C=b[0];typeof C=="string"?b[0]=C.slice(a):b.shift()}m>0&&b.push(o[d].slice(0,m))}return b}function Cy(o,s){let n=-1;const a=[];let d;for(;++n<o.length;){const m=o[n];let b;if(typeof m=="string")b=m;else switch(m){case-5:{b="\r";break}case-4:{b=`
`;break}case-3:{b=`\r
`;break}case-2:{b=s?" ":"	";break}case-1:{if(!s&&d)continue;b=" ";break}default:b=String.fromCharCode(m)}d=m===-2,a.push(b)}return a.join("")}function ky(o){const a={constructs:Lv([wy,...(o||{}).extensions||[]]),content:d(Gv),defined:[],document:d(Wv),flow:d(uy),lazy:{},string:d(dy),text:d(fy)};return a;function d(m){return b;function b(C){return Sy(a,m,C)}}}function Ay(o){for(;!Km(o););return o}const cp=/[\0\t\n\r]/g;function Iy(){let o=1,s="",n=!0,a;return d;function d(m,b,C){const x=[];let k,E,R,q,z;for(m=s+(typeof m=="string"?m.toString():new TextDecoder(b||void 0).decode(m)),R=0,s="",n&&(m.charCodeAt(0)===65279&&R++,n=void 0);R<m.length;){if(cp.lastIndex=R,k=cp.exec(m),q=k&&k.index!==void 0?k.index:m.length,z=m.charCodeAt(q),!k){s=m.slice(R);break}if(z===10&&R===q&&a)x.push(-3),a=void 0;else switch(a&&(x.push(-5),a=void 0),R<q&&(x.push(m.slice(R,q)),o+=q-R),z){case 0:{x.push(65533),o++;break}case 9:{for(E=Math.ceil(o/4)*4,x.push(-2);o++<E;)x.push(-1);break}case 10:{x.push(-4),o=1;break}default:a=!0,o=1}R=q+1}return C&&(a&&x.push(-5),s&&x.push(s),x.push(null)),x}}const My=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ry(o){return o.replace(My,Oy)}function Oy(o,s,n){if(s)return s;if(n.charCodeAt(0)===35){const d=n.charCodeAt(1),m=d===120||d===88;return qm(n.slice(m?2:1),m?16:10)}return M7(n)||o}const n9={}.hasOwnProperty;function Ny(o,s,n){return typeof s!="string"&&(n=s,s=void 0),Ly(n)(Ay(ky(n).document().write(Iy()(o,s,!0))))}function Ly(o){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:m(Bi),autolinkProtocol:Xe,autolinkEmail:Xe,atxHeading:m(Jn),blockQuote:m(an),characterEscape:Xe,characterReference:Xe,codeFenced:m(Xn),codeFencedFenceInfo:b,codeFencedFenceMeta:b,codeIndented:m(Xn,b),codeText:m(ht,b),codeTextData:Xe,data:Xe,codeFlowValue:Xe,definition:m(tn),definitionDestinationString:b,definitionLabelString:b,definitionTitleString:b,emphasis:m(Wr),hardBreakEscape:m(pr),hardBreakTrailing:m(pr),htmlFlow:m(on,b),htmlFlowData:Xe,htmlText:m(on,b),htmlTextData:Xe,image:m(Ti),label:b,link:m(Bi),listItem:m(ss),listItemValue:q,listOrdered:m(Zn,R),listUnordered:m(Zn),paragraph:m(vi),reference:Se,referenceString:b,resourceDestinationString:b,resourceTitleString:b,setextHeading:m(Jn),strong:m(sr),thematicBreak:m(F)},exit:{atxHeading:x(),atxHeadingSequence:Ke,autolink:x(),autolinkEmail:Yn,autolinkProtocol:hr,blockQuote:x(),characterEscapeValue:Qt,characterReferenceMarkerHexadecimal:Ot,characterReferenceMarkerNumeric:Ot,characterReferenceValue:sn,characterReference:yn,codeFenced:x(ge),codeFencedFence:ve,codeFencedFenceInfo:z,codeFencedFenceMeta:fe,codeFlowValue:Qt,codeIndented:x(re),codeText:x(nt),codeTextData:Qt,data:Qt,definition:x(),definitionDestinationString:Be,definitionLabelString:ie,definitionTitleString:ke,emphasis:x(),hardBreakEscape:x(De),hardBreakTrailing:x(De),htmlFlow:x(Bt),htmlFlowData:Qt,htmlText:x(kt),htmlTextData:Qt,image:x(vt),label:Ut,labelText:ft,lineEnding:It,link:x(Ze),listItem:x(),listOrdered:x(),listUnordered:x(),paragraph:x(),referenceString:Jt,resourceDestinationString:le,resourceTitleString:ze,resource:ct,setextHeading:x(st),setextHeadingLineSequence:Ve,setextHeadingText:ye,strong:x(),thematicBreak:x()}};r9(s,(o||{}).mdastExtensions||[]);const n={};return a;function a(ee){let Ce={type:"root",children:[]};const Ne={stack:[Ce],tokenStack:[],config:s,enter:C,exit:k,buffer:b,resume:E,data:n},et=[];let Je=-1;for(;++Je<ee.length;)if(ee[Je][1].type==="listOrdered"||ee[Je][1].type==="listUnordered")if(ee[Je][0]==="enter")et.push(Je);else{const xt=et.pop();Je=d(ee,xt,Je)}for(Je=-1;++Je<ee.length;){const xt=s[ee[Je][0]];n9.call(xt,ee[Je][1].type)&&xt[ee[Je][1].type].call(Object.assign({sliceSerialize:ee[Je][2].sliceSerialize},Ne),ee[Je][1])}if(Ne.tokenStack.length>0){const xt=Ne.tokenStack[Ne.tokenStack.length-1];(xt[1]||hp).call(Ne,void 0,xt[0])}for(Ce.position={start:j1(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:j1(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<s.transforms.length;)Ce=s.transforms[Je](Ce)||Ce;return Ce}function d(ee,Ce,Ne){let et=Ce-1,Je=-1,xt=!1,St,O,oe,Le;for(;++et<=Ne;){const Me=ee[et];switch(Me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Me[0]==="enter"?Je++:Je--,Le=void 0;break}case"lineEndingBlank":{Me[0]==="enter"&&(St&&!Le&&!Je&&!oe&&(oe=et),Le=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Le=void 0}if(!Je&&Me[0]==="enter"&&Me[1].type==="listItemPrefix"||Je===-1&&Me[0]==="exit"&&(Me[1].type==="listUnordered"||Me[1].type==="listOrdered")){if(St){let Nt=et;for(O=void 0;Nt--;){const Cn=ee[Nt];if(Cn[1].type==="lineEnding"||Cn[1].type==="lineEndingBlank"){if(Cn[0]==="exit")continue;O&&(ee[O][1].type="lineEndingBlank",xt=!0),Cn[1].type="lineEnding",O=Nt}else if(!(Cn[1].type==="linePrefix"||Cn[1].type==="blockQuotePrefix"||Cn[1].type==="blockQuotePrefixWhitespace"||Cn[1].type==="blockQuoteMarker"||Cn[1].type==="listItemIndent"))break}oe&&(!O||oe<O)&&(St._spread=!0),St.end=Object.assign({},O?ee[O][1].start:Me[1].end),ee.splice(O||et,0,["exit",St,Me[2]]),et++,Ne++}if(Me[1].type==="listItemPrefix"){const Nt={type:"listItem",_spread:!1,start:Object.assign({},Me[1].start),end:void 0};St=Nt,ee.splice(et,0,["enter",Nt,Me[2]]),et++,Ne++,oe=void 0,Le=!0}}}return ee[Ce][1]._spread=xt,Ne}function m(ee,Ce){return Ne;function Ne(et){C.call(this,ee(et),et),Ce&&Ce.call(this,et)}}function b(){this.stack.push({type:"fragment",children:[]})}function C(ee,Ce,Ne){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([Ce,Ne||void 0]),ee.position={start:j1(Ce.start),end:void 0}}function x(ee){return Ce;function Ce(Ne){ee&&ee.call(this,Ne),k.call(this,Ne)}}function k(ee,Ce){const Ne=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==ee.type&&(Ce?Ce.call(this,ee,et[0]):(et[1]||hp).call(this,ee,et[0]));else throw new Error("Cannot close `"+ee.type+"` ("+K2({start:ee.start,end:ee.end})+"): its not open");Ne.position.end=j1(ee.end)}function E(){return Ov(this.stack.pop())}function R(){this.data.expectingFirstListItemValue=!0}function q(ee){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function z(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ee}function fe(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ee}function ve(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function ge(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function re(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ee.replace(/(\r?\n|\r)$/g,"")}function ie(ee){const Ce=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=Ce,Ne.identifier=y4(this.sliceSerialize(ee)).toLowerCase()}function ke(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ee}function Be(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ee}function Ke(ee){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Ne=this.sliceSerialize(ee).length;Ce.depth=Ne}}function ye(){this.data.setextHeadingSlurpLineEnding=!0}function Ve(ee){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function st(){this.data.setextHeadingSlurpLineEnding=void 0}function Xe(ee){const Ne=this.stack[this.stack.length-1].children;let et=Ne[Ne.length-1];(!et||et.type!=="text")&&(et=Vn(),et.position={start:j1(ee.start),end:void 0},Ne.push(et)),this.stack.push(et)}function Qt(ee){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ee),Ce.position.end=j1(ee.end)}function It(ee){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ne=Ce.children[Ce.children.length-1];Ne.position.end=j1(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&s.canContainEols.includes(Ce.type)&&(Xe.call(this,ee),Qt.call(this,ee))}function De(){this.data.atHardBreak=!0}function Bt(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ee}function kt(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ee}function nt(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ee}function Ze(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=Ce,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function vt(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=Ce,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function ft(ee){const Ce=this.sliceSerialize(ee),Ne=this.stack[this.stack.length-2];Ne.label=Ry(Ce),Ne.identifier=y4(Ce).toLowerCase()}function Ut(){const ee=this.stack[this.stack.length-1],Ce=this.resume(),Ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ne.type==="link"){const et=ee.children;Ne.children=et}else Ne.alt=Ce}function le(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ee}function ze(){const ee=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ee}function ct(){this.data.inReference=void 0}function Se(){this.data.referenceType="collapsed"}function Jt(ee){const Ce=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=Ce,Ne.identifier=y4(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function Ot(ee){this.data.characterReferenceType=ee.type}function sn(ee){const Ce=this.sliceSerialize(ee),Ne=this.data.characterReferenceType;let et;Ne?(et=qm(Ce,Ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=M7(Ce);const Je=this.stack[this.stack.length-1];Je.value+=et}function yn(ee){const Ce=this.stack.pop();Ce.position.end=j1(ee.end)}function hr(ee){Qt.call(this,ee);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ee)}function Yn(ee){Qt.call(this,ee);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ee)}function an(){return{type:"blockquote",children:[]}}function Xn(){return{type:"code",lang:null,meta:null,value:""}}function ht(){return{type:"inlineCode",value:""}}function tn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Wr(){return{type:"emphasis",children:[]}}function Jn(){return{type:"heading",depth:0,children:[]}}function pr(){return{type:"break"}}function on(){return{type:"html",value:""}}function Ti(){return{type:"image",title:null,url:"",alt:null}}function Bi(){return{type:"link",title:null,url:"",children:[]}}function Zn(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function ss(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function vi(){return{type:"paragraph",children:[]}}function sr(){return{type:"strong",children:[]}}function Vn(){return{type:"text",value:""}}function F(){return{type:"thematicBreak"}}}function j1(o){return{line:o.line,column:o.column,offset:o.offset}}function r9(o,s){let n=-1;for(;++n<s.length;){const a=s[n];Array.isArray(a)?r9(o,a):Dy(o,a)}}function Dy(o,s){let n;for(n in s)if(n9.call(s,n))switch(n){case"canContainEols":{const a=s[n];a&&o[n].push(...a);break}case"transforms":{const a=s[n];a&&o[n].push(...a);break}case"enter":case"exit":{const a=s[n];a&&Object.assign(o[n],a);break}}}function hp(o,s){throw o?new Error("Cannot close `"+o.type+"` ("+K2({start:o.start,end:o.end})+"): a different token (`"+s.type+"`, "+K2({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+K2({start:s.start,end:s.end})+") is still open")}function By(o){const s=this;s.parser=n;function n(a){return Ny(a,{...s.data("settings"),...o,extensions:s.data("micromarkExtensions")||[],mdastExtensions:s.data("fromMarkdownExtensions")||[]})}}function Py(o,s){const n={type:"element",tagName:"blockquote",properties:{},children:o.wrap(o.all(s),!0)};return o.patch(s,n),o.applyData(s,n)}function Fy(o,s){const n={type:"element",tagName:"br",properties:{},children:[]};return o.patch(s,n),[o.applyData(s,n),{type:"text",value:`
`}]}function zy(o,s){const n=s.value?s.value+`
`:"",a={};s.lang&&(a.className=["language-"+s.lang]);let d={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return s.meta&&(d.data={meta:s.meta}),o.patch(s,d),d=o.applyData(s,d),d={type:"element",tagName:"pre",properties:{},children:[d]},o.patch(s,d),d}function Uy(o,s){const n={type:"element",tagName:"del",properties:{},children:o.all(s)};return o.patch(s,n),o.applyData(s,n)}function Hy(o,s){const n={type:"element",tagName:"em",properties:{},children:o.all(s)};return o.patch(s,n),o.applyData(s,n)}function Gy(o,s){const n=typeof o.options.clobberPrefix=="string"?o.options.clobberPrefix:"user-content-",a=String(s.identifier).toUpperCase(),d=w4(a.toLowerCase()),m=o.footnoteOrder.indexOf(a);let b,C=o.footnoteCounts.get(a);C===void 0?(C=0,o.footnoteOrder.push(a),b=o.footnoteOrder.length):b=m+1,C+=1,o.footnoteCounts.set(a,C);const x={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+d,id:n+"fnref-"+d+(C>1?"-"+C:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(b)}]};o.patch(s,x);const k={type:"element",tagName:"sup",properties:{},children:[x]};return o.patch(s,k),o.applyData(s,k)}function Vy(o,s){const n={type:"element",tagName:"h"+s.depth,properties:{},children:o.all(s)};return o.patch(s,n),o.applyData(s,n)}function Wy(o,s){if(o.options.allowDangerousHtml){const n={type:"raw",value:s.value};return o.patch(s,n),o.applyData(s,n)}}function i9(o,s){const n=s.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return[{type:"text",value:"!["+s.alt+a}];const d=o.all(s),m=d[0];m&&m.type==="text"?m.value="["+m.value:d.unshift({type:"text",value:"["});const b=d[d.length-1];return b&&b.type==="text"?b.value+=a:d.push({type:"text",value:a}),d}function qy(o,s){const n=String(s.identifier).toUpperCase(),a=o.definitionById.get(n);if(!a)return i9(o,s);const d={src:w4(a.url||""),alt:s.alt};a.title!==null&&a.title!==void 0&&(d.title=a.title);const m={type:"element",tagName:"img",properties:d,children:[]};return o.patch(s,m),o.applyData(s,m)}function Xy(o,s){const n={src:w4(s.url)};s.alt!==null&&s.alt!==void 0&&(n.alt=s.alt),s.title!==null&&s.title!==void 0&&(n.title=s.title);const a={type:"element",tagName:"img",properties:n,children:[]};return o.patch(s,a),o.applyData(s,a)}function jy(o,s){const n={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};o.patch(s,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return o.patch(s,a),o.applyData(s,a)}function Yy(o,s){const n=String(s.identifier).toUpperCase(),a=o.definitionById.get(n);if(!a)return i9(o,s);const d={href:w4(a.url||"")};a.title!==null&&a.title!==void 0&&(d.title=a.title);const m={type:"element",tagName:"a",properties:d,children:o.all(s)};return o.patch(s,m),o.applyData(s,m)}function Ky(o,s){const n={href:w4(s.url)};s.title!==null&&s.title!==void 0&&(n.title=s.title);const a={type:"element",tagName:"a",properties:n,children:o.all(s)};return o.patch(s,a),o.applyData(s,a)}function Jy(o,s,n){const a=o.all(s),d=n?Zy(n):s9(s),m={},b=[];if(typeof s.checked=="boolean"){const E=a[0];let R;E&&E.type==="element"&&E.tagName==="p"?R=E:(R={type:"element",tagName:"p",properties:{},children:[]},a.unshift(R)),R.children.length>0&&R.children.unshift({type:"text",value:" "}),R.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),m.className=["task-list-item"]}let C=-1;for(;++C<a.length;){const E=a[C];(d||C!==0||E.type!=="element"||E.tagName!=="p")&&b.push({type:"text",value:`
`}),E.type==="element"&&E.tagName==="p"&&!d?b.push(...E.children):b.push(E)}const x=a[a.length-1];x&&(d||x.type!=="element"||x.tagName!=="p")&&b.push({type:"text",value:`
`});const k={type:"element",tagName:"li",properties:m,children:b};return o.patch(s,k),o.applyData(s,k)}function Zy(o){let s=!1;if(o.type==="list"){s=o.spread||!1;const n=o.children;let a=-1;for(;!s&&++a<n.length;)s=s9(n[a])}return s}function s9(o){const s=o.spread;return s??o.children.length>1}function Qy(o,s){const n={},a=o.all(s);let d=-1;for(typeof s.start=="number"&&s.start!==1&&(n.start=s.start);++d<a.length;){const b=a[d];if(b.type==="element"&&b.tagName==="li"&&b.properties&&Array.isArray(b.properties.className)&&b.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const m={type:"element",tagName:s.ordered?"ol":"ul",properties:n,children:o.wrap(a,!0)};return o.patch(s,m),o.applyData(s,m)}function eT(o,s){const n={type:"element",tagName:"p",properties:{},children:o.all(s)};return o.patch(s,n),o.applyData(s,n)}function tT(o,s){const n={type:"root",children:o.wrap(o.all(s))};return o.patch(s,n),o.applyData(s,n)}function nT(o,s){const n={type:"element",tagName:"strong",properties:{},children:o.all(s)};return o.patch(s,n),o.applyData(s,n)}function rT(o,s){const n=o.all(s),a=n.shift(),d=[];if(a){const b={type:"element",tagName:"thead",properties:{},children:o.wrap([a],!0)};o.patch(s.children[0],b),d.push(b)}if(n.length>0){const b={type:"element",tagName:"tbody",properties:{},children:o.wrap(n,!0)},C=C7(s.children[1]),x=Fm(s.children[s.children.length-1]);C&&x&&(b.position={start:C,end:x}),d.push(b)}const m={type:"element",tagName:"table",properties:{},children:o.wrap(d,!0)};return o.patch(s,m),o.applyData(s,m)}function iT(o,s,n){const a=n?n.children:void 0,m=(a?a.indexOf(s):1)===0?"th":"td",b=n&&n.type==="table"?n.align:void 0,C=b?b.length:s.children.length;let x=-1;const k=[];for(;++x<C;){const R=s.children[x],q={},z=b?b[x]:void 0;z&&(q.align=z);let fe={type:"element",tagName:m,properties:q,children:[]};R&&(fe.children=o.all(R),o.patch(R,fe),fe=o.applyData(R,fe)),k.push(fe)}const E={type:"element",tagName:"tr",properties:{},children:o.wrap(k,!0)};return o.patch(s,E),o.applyData(s,E)}function sT(o,s){const n={type:"element",tagName:"td",properties:{},children:o.all(s)};return o.patch(s,n),o.applyData(s,n)}const dp=9,fp=32;function oT(o){const s=String(o),n=/\r?\n|\r/g;let a=n.exec(s),d=0;const m=[];for(;a;)m.push(pp(s.slice(d,a.index),d>0,!0),a[0]),d=a.index+a[0].length,a=n.exec(s);return m.push(pp(s.slice(d),d>0,!1)),m.join("")}function pp(o,s,n){let a=0,d=o.length;if(s){let m=o.codePointAt(a);for(;m===dp||m===fp;)a++,m=o.codePointAt(a)}if(n){let m=o.codePointAt(d-1);for(;m===dp||m===fp;)d--,m=o.codePointAt(d-1)}return d>a?o.slice(a,d):""}function lT(o,s){const n={type:"text",value:oT(String(s.value))};return o.patch(s,n),o.applyData(s,n)}function aT(o,s){const n={type:"element",tagName:"hr",properties:{},children:[]};return o.patch(s,n),o.applyData(s,n)}const uT={blockquote:Py,break:Fy,code:zy,delete:Uy,emphasis:Hy,footnoteReference:Gy,heading:Vy,html:Wy,imageReference:qy,image:Xy,inlineCode:jy,linkReference:Yy,link:Ky,listItem:Jy,list:Qy,paragraph:eT,root:tT,strong:nT,table:rT,tableCell:sT,tableRow:iT,text:lT,thematicBreak:aT,toml:X3,yaml:X3,definition:X3,footnoteDefinition:X3};function X3(){}const o9=-1,k5=0,Z2=1,$5=2,N7=3,L7=4,D7=5,B7=6,l9=7,a9=8,mp=typeof self=="object"?self:globalThis,cT=(o,s)=>{const n=(d,m)=>(o.set(m,d),d),a=d=>{if(o.has(d))return o.get(d);const[m,b]=s[d];switch(m){case k5:case o9:return n(b,d);case Z2:{const C=n([],d);for(const x of b)C.push(a(x));return C}case $5:{const C=n({},d);for(const[x,k]of b)C[a(x)]=a(k);return C}case N7:return n(new Date(b),d);case L7:{const{source:C,flags:x}=b;return n(new RegExp(C,x),d)}case D7:{const C=n(new Map,d);for(const[x,k]of b)C.set(a(x),a(k));return C}case B7:{const C=n(new Set,d);for(const x of b)C.add(a(x));return C}case l9:{const{name:C,message:x}=b;return n(new mp[C](x),d)}case a9:return n(BigInt(b),d);case"BigInt":return n(Object(BigInt(b)),d);case"ArrayBuffer":return n(new Uint8Array(b).buffer,b);case"DataView":{const{buffer:C}=new Uint8Array(b);return n(new DataView(C),b)}}return n(new mp[m](b),d)};return a},gp=o=>cT(new Map,o)(0),g4="",{toString:hT}={},{keys:dT}=Object,q2=o=>{const s=typeof o;if(s!=="object"||!o)return[k5,s];const n=hT.call(o).slice(8,-1);switch(n){case"Array":return[Z2,g4];case"Object":return[$5,g4];case"Date":return[N7,g4];case"RegExp":return[L7,g4];case"Map":return[D7,g4];case"Set":return[B7,g4];case"DataView":return[Z2,n]}return n.includes("Array")?[Z2,n]:n.includes("Error")?[l9,n]:[$5,n]},j3=([o,s])=>o===k5&&(s==="function"||s==="symbol"),fT=(o,s,n,a)=>{const d=(b,C)=>{const x=a.push(b)-1;return n.set(C,x),x},m=b=>{if(n.has(b))return n.get(b);let[C,x]=q2(b);switch(C){case k5:{let E=b;switch(x){case"bigint":C=a9,E=b.toString();break;case"function":case"symbol":if(o)throw new TypeError("unable to serialize "+x);E=null;break;case"undefined":return d([o9],b)}return d([C,E],b)}case Z2:{if(x){let q=b;return x==="DataView"?q=new Uint8Array(b.buffer):x==="ArrayBuffer"&&(q=new Uint8Array(b)),d([x,[...q]],b)}const E=[],R=d([C,E],b);for(const q of b)E.push(m(q));return R}case $5:{if(x)switch(x){case"BigInt":return d([x,b.toString()],b);case"Boolean":case"Number":case"String":return d([x,b.valueOf()],b)}if(s&&"toJSON"in b)return m(b.toJSON());const E=[],R=d([C,E],b);for(const q of dT(b))(o||!j3(q2(b[q])))&&E.push([m(q),m(b[q])]);return R}case N7:return d([C,b.toISOString()],b);case L7:{const{source:E,flags:R}=b;return d([C,{source:E,flags:R}],b)}case D7:{const E=[],R=d([C,E],b);for(const[q,z]of b)(o||!(j3(q2(q))||j3(q2(z))))&&E.push([m(q),m(z)]);return R}case B7:{const E=[],R=d([C,E],b);for(const q of b)(o||!j3(q2(q)))&&E.push(m(q));return R}}const{message:k}=b;return d([C,{name:x,message:k}],b)};return m},$p=(o,{json:s,lossy:n}={})=>{const a=[];return fT(!(s||n),!!s,new Map,a)(o),a},v5=typeof structuredClone=="function"?(o,s)=>s&&("json"in s||"lossy"in s)?gp($p(o,s)):structuredClone(o):(o,s)=>gp($p(o,s));function pT(o,s){const n=[{type:"text",value:""}];return s>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(s)}]}),n}function mT(o,s){return"Back to reference "+(o+1)+(s>1?"-"+s:"")}function gT(o){const s=typeof o.options.clobberPrefix=="string"?o.options.clobberPrefix:"user-content-",n=o.options.footnoteBackContent||pT,a=o.options.footnoteBackLabel||mT,d=o.options.footnoteLabel||"Footnotes",m=o.options.footnoteLabelTagName||"h2",b=o.options.footnoteLabelProperties||{className:["sr-only"]},C=[];let x=-1;for(;++x<o.footnoteOrder.length;){const k=o.footnoteById.get(o.footnoteOrder[x]);if(!k)continue;const E=o.all(k),R=String(k.identifier).toUpperCase(),q=w4(R.toLowerCase());let z=0;const fe=[],ve=o.footnoteCounts.get(R);for(;ve!==void 0&&++z<=ve;){fe.length>0&&fe.push({type:"text",value:" "});let ie=typeof n=="string"?n:n(x,z);typeof ie=="string"&&(ie={type:"text",value:ie}),fe.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+q+(z>1?"-"+z:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(x,z),className:["data-footnote-backref"]},children:Array.isArray(ie)?ie:[ie]})}const ge=E[E.length-1];if(ge&&ge.type==="element"&&ge.tagName==="p"){const ie=ge.children[ge.children.length-1];ie&&ie.type==="text"?ie.value+=" ":ge.children.push({type:"text",value:" "}),ge.children.push(...fe)}else E.push(...fe);const re={type:"element",tagName:"li",properties:{id:s+"fn-"+q},children:o.wrap(E,!0)};o.patch(k,re),C.push(re)}if(C.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:m,properties:{...v5(b),id:"footnote-label"},children:[{type:"text",value:d}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:o.wrap(C,!0)},{type:"text",value:`
`}]}}const P7=(function(o){if(o==null)return yT;if(typeof o=="function")return A5(o);if(typeof o=="object")return Array.isArray(o)?$T(o):vT(o);if(typeof o=="string")return bT(o);throw new Error("Expected function, string, or object as test")});function $T(o){const s=[];let n=-1;for(;++n<o.length;)s[n]=P7(o[n]);return A5(a);function a(...d){let m=-1;for(;++m<s.length;)if(s[m].apply(this,d))return!0;return!1}}function vT(o){const s=o;return A5(n);function n(a){const d=a;let m;for(m in o)if(d[m]!==s[m])return!1;return!0}}function bT(o){return A5(s);function s(n){return n&&n.type===o}}function A5(o){return s;function s(n,a,d){return!!(TT(n)&&o.call(this,n,typeof a=="number"?a:void 0,d||void 0))}}function yT(){return!0}function TT(o){return o!==null&&typeof o=="object"&&"type"in o}const u9=[],_T=!0,vp=!1,c9="skip";function h9(o,s,n,a){let d;typeof s=="function"&&typeof n!="function"?(a=n,n=s):d=s;const m=P7(d),b=a?-1:1;C(o,void 0,[])();function C(x,k,E){const R=x&&typeof x=="object"?x:{};if(typeof R.type=="string"){const z=typeof R.tagName=="string"?R.tagName:typeof R.name=="string"?R.name:void 0;Object.defineProperty(q,"name",{value:"node ("+(x.type+(z?"<"+z+">":""))+")"})}return q;function q(){let z=u9,fe,ve,ge;if((!s||m(x,k,E[E.length-1]||void 0))&&(z=ET(n(x,E)),z[0]===vp))return z;if("children"in x&&x.children){const re=x;if(re.children&&z[0]!==c9)for(ve=(a?re.children.length:-1)+b,ge=E.concat(re);ve>-1&&ve<re.children.length;){const ie=re.children[ve];if(fe=C(ie,ve,ge)(),fe[0]===vp)return fe;ve=typeof fe[1]=="number"?fe[1]:ve+b}}return z}}}function ET(o){return Array.isArray(o)?o:typeof o=="number"?[_T,o]:o==null?u9:[o]}function d9(o,s,n,a){let d,m,b;typeof s=="function"&&typeof n!="function"?(m=void 0,b=s,d=n):(m=s,b=n,d=a),h9(o,m,C,d);function C(x,k){const E=k[k.length-1],R=E?E.children.indexOf(x):void 0;return b(x,R,E)}}const c7={}.hasOwnProperty,wT={};function ST(o,s){const n=s||wT,a=new Map,d=new Map,m=new Map,b={...uT,...n.handlers},C={all:k,applyData:CT,definitionById:a,footnoteById:d,footnoteCounts:m,footnoteOrder:[],handlers:b,one:x,options:n,patch:xT,wrap:AT};return d9(o,function(E){if(E.type==="definition"||E.type==="footnoteDefinition"){const R=E.type==="definition"?a:d,q=String(E.identifier).toUpperCase();R.has(q)||R.set(q,E)}}),C;function x(E,R){const q=E.type,z=C.handlers[q];if(c7.call(C.handlers,q)&&z)return z(C,E,R);if(C.options.passThrough&&C.options.passThrough.includes(q)){if("children"in E){const{children:ve,...ge}=E,re=v5(ge);return re.children=C.all(E),re}return v5(E)}return(C.options.unknownHandler||kT)(C,E,R)}function k(E){const R=[];if("children"in E){const q=E.children;let z=-1;for(;++z<q.length;){const fe=C.one(q[z],E);if(fe){if(z&&q[z-1].type==="break"&&(!Array.isArray(fe)&&fe.type==="text"&&(fe.value=bp(fe.value)),!Array.isArray(fe)&&fe.type==="element")){const ve=fe.children[0];ve&&ve.type==="text"&&(ve.value=bp(ve.value))}Array.isArray(fe)?R.push(...fe):R.push(fe)}}}return R}}function xT(o,s){o.position&&(s.position=hv(o))}function CT(o,s){let n=s;if(o&&o.data){const a=o.data.hName,d=o.data.hChildren,m=o.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const b="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:b}}n.type==="element"&&m&&Object.assign(n.properties,v5(m)),"children"in n&&n.children&&d!==null&&d!==void 0&&(n.children=d)}return n}function kT(o,s){const n=s.data||{},a="value"in s&&!(c7.call(n,"hProperties")||c7.call(n,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:o.all(s)};return o.patch(s,a),o.applyData(s,a)}function AT(o,s){const n=[];let a=-1;for(s&&n.push({type:"text",value:`
`});++a<o.length;)a&&n.push({type:"text",value:`
`}),n.push(o[a]);return s&&o.length>0&&n.push({type:"text",value:`
`}),n}function bp(o){let s=0,n=o.charCodeAt(s);for(;n===9||n===32;)s++,n=o.charCodeAt(s);return o.slice(s)}function yp(o,s){const n=ST(o,s),a=n.one(o,void 0),d=gT(n),m=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return d&&m.children.push({type:"text",value:`
`},d),m}function IT(o,s){return o&&"run"in o?async function(n,a){const d=yp(n,{file:a,...s});await o.run(d,a)}:function(n,a){return yp(n,{file:a,...o||s})}}function Tp(o){if(o)throw o}var R6,_p;function MT(){if(_p)return R6;_p=1;var o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,d=function(k){return typeof Array.isArray=="function"?Array.isArray(k):s.call(k)==="[object Array]"},m=function(k){if(!k||s.call(k)!=="[object Object]")return!1;var E=o.call(k,"constructor"),R=k.constructor&&k.constructor.prototype&&o.call(k.constructor.prototype,"isPrototypeOf");if(k.constructor&&!E&&!R)return!1;var q;for(q in k);return typeof q>"u"||o.call(k,q)},b=function(k,E){n&&E.name==="__proto__"?n(k,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):k[E.name]=E.newValue},C=function(k,E){if(E==="__proto__")if(o.call(k,E)){if(a)return a(k,E).value}else return;return k[E]};return R6=function x(){var k,E,R,q,z,fe,ve=arguments[0],ge=1,re=arguments.length,ie=!1;for(typeof ve=="boolean"&&(ie=ve,ve=arguments[1]||{},ge=2),(ve==null||typeof ve!="object"&&typeof ve!="function")&&(ve={});ge<re;++ge)if(k=arguments[ge],k!=null)for(E in k)R=C(ve,E),q=C(k,E),ve!==q&&(ie&&q&&(m(q)||(z=d(q)))?(z?(z=!1,fe=R&&d(R)?R:[]):fe=R&&m(R)?R:{},b(ve,{name:E,newValue:x(ie,fe,q)})):typeof q<"u"&&b(ve,{name:E,newValue:q}));return ve},R6}var RT=MT();const O6=Xu(RT);function h7(o){if(typeof o!="object"||o===null)return!1;const s=Object.getPrototypeOf(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function OT(){const o=[],s={run:n,use:a};return s;function n(...d){let m=-1;const b=d.pop();if(typeof b!="function")throw new TypeError("Expected function as last argument, not "+b);C(null,...d);function C(x,...k){const E=o[++m];let R=-1;if(x){b(x);return}for(;++R<d.length;)(k[R]===null||k[R]===void 0)&&(k[R]=d[R]);d=k,E?NT(E,C)(...k):b(null,...k)}}function a(d){if(typeof d!="function")throw new TypeError("Expected `middelware` to be a function, not "+d);return o.push(d),s}}function NT(o,s){let n;return a;function a(...b){const C=o.length>b.length;let x;C&&b.push(d);try{x=o.apply(this,b)}catch(k){const E=k;if(C&&n)throw E;return d(E)}C||(x&&x.then&&typeof x.then=="function"?x.then(m,d):x instanceof Error?d(x):m(x))}function d(b,...C){n||(n=!0,s(b,...C))}function m(b){d(null,b)}}const Uu={basename:LT,dirname:DT,extname:BT,join:PT,sep:"/"};function LT(o,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');l3(o);let n=0,a=-1,d=o.length,m;if(s===void 0||s.length===0||s.length>o.length){for(;d--;)if(o.codePointAt(d)===47){if(m){n=d+1;break}}else a<0&&(m=!0,a=d+1);return a<0?"":o.slice(n,a)}if(s===o)return"";let b=-1,C=s.length-1;for(;d--;)if(o.codePointAt(d)===47){if(m){n=d+1;break}}else b<0&&(m=!0,b=d+1),C>-1&&(o.codePointAt(d)===s.codePointAt(C--)?C<0&&(a=d):(C=-1,a=b));return n===a?a=b:a<0&&(a=o.length),o.slice(n,a)}function DT(o){if(l3(o),o.length===0)return".";let s=-1,n=o.length,a;for(;--n;)if(o.codePointAt(n)===47){if(a){s=n;break}}else a||(a=!0);return s<0?o.codePointAt(0)===47?"/":".":s===1&&o.codePointAt(0)===47?"//":o.slice(0,s)}function BT(o){l3(o);let s=o.length,n=-1,a=0,d=-1,m=0,b;for(;s--;){const C=o.codePointAt(s);if(C===47){if(b){a=s+1;break}continue}n<0&&(b=!0,n=s+1),C===46?d<0?d=s:m!==1&&(m=1):d>-1&&(m=-1)}return d<0||n<0||m===0||m===1&&d===n-1&&d===a+1?"":o.slice(d,n)}function PT(...o){let s=-1,n;for(;++s<o.length;)l3(o[s]),o[s]&&(n=n===void 0?o[s]:n+"/"+o[s]);return n===void 0?".":FT(n)}function FT(o){l3(o);const s=o.codePointAt(0)===47;let n=zT(o,!s);return n.length===0&&!s&&(n="."),n.length>0&&o.codePointAt(o.length-1)===47&&(n+="/"),s?"/"+n:n}function zT(o,s){let n="",a=0,d=-1,m=0,b=-1,C,x;for(;++b<=o.length;){if(b<o.length)C=o.codePointAt(b);else{if(C===47)break;C=47}if(C===47){if(!(d===b-1||m===1))if(d!==b-1&&m===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(x=n.lastIndexOf("/"),x!==n.length-1){x<0?(n="",a=0):(n=n.slice(0,x),a=n.length-1-n.lastIndexOf("/")),d=b,m=0;continue}}else if(n.length>0){n="",a=0,d=b,m=0;continue}}s&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+o.slice(d+1,b):n=o.slice(d+1,b),a=b-d-1;d=b,m=0}else C===46&&m>-1?m++:m=-1}return n}function l3(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}const UT={cwd:HT};function HT(){return"/"}function d7(o){return!!(o!==null&&typeof o=="object"&&"href"in o&&o.href&&"protocol"in o&&o.protocol&&o.auth===void 0)}function GT(o){if(typeof o=="string")o=new URL(o);else if(!d7(o)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+o+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(o.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return VT(o)}function VT(o){if(o.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const s=o.pathname;let n=-1;for(;++n<s.length;)if(s.codePointAt(n)===37&&s.codePointAt(n+1)===50){const a=s.codePointAt(n+2);if(a===70||a===102){const d=new TypeError("File URL path must not include encoded / characters");throw d.code="ERR_INVALID_FILE_URL_PATH",d}}return decodeURIComponent(s)}const N6=["history","path","basename","stem","extname","dirname"];class f9{constructor(s){let n;s?d7(s)?n={path:s}:typeof s=="string"||WT(s)?n={value:s}:n=s:n={},this.cwd="cwd"in n?"":UT.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<N6.length;){const m=N6[a];m in n&&n[m]!==void 0&&n[m]!==null&&(this[m]=m==="history"?[...n[m]]:n[m])}let d;for(d in n)N6.includes(d)||(this[d]=n[d])}get basename(){return typeof this.path=="string"?Uu.basename(this.path):void 0}set basename(s){D6(s,"basename"),L6(s,"basename"),this.path=Uu.join(this.dirname||"",s)}get dirname(){return typeof this.path=="string"?Uu.dirname(this.path):void 0}set dirname(s){Ep(this.basename,"dirname"),this.path=Uu.join(s||"",this.basename)}get extname(){return typeof this.path=="string"?Uu.extname(this.path):void 0}set extname(s){if(L6(s,"extname"),Ep(this.dirname,"extname"),s){if(s.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Uu.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){d7(s)&&(s=GT(s)),D6(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return typeof this.path=="string"?Uu.basename(this.path,this.extname):void 0}set stem(s){D6(s,"stem"),L6(s,"stem"),this.path=Uu.join(this.dirname||"",s+(this.extname||""))}fail(s,n,a){const d=this.message(s,n,a);throw d.fatal=!0,d}info(s,n,a){const d=this.message(s,n,a);return d.fatal=void 0,d}message(s,n,a){const d=new kl(s,n,a);return this.path&&(d.name=this.path+":"+d.name,d.file=this.path),d.fatal=!1,this.messages.push(d),d}toString(s){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(s||void 0).decode(this.value)}}function L6(o,s){if(o&&o.includes(Uu.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+Uu.sep+"`")}function D6(o,s){if(!o)throw new Error("`"+s+"` cannot be empty")}function Ep(o,s){if(!o)throw new Error("Setting `"+s+"` requires `path` to be set too")}function WT(o){return!!(o&&typeof o=="object"&&"byteLength"in o&&"byteOffset"in o)}const qT=(function(o){const a=this.constructor.prototype,d=a[o],m=function(){return d.apply(m,arguments)};return Object.setPrototypeOf(m,a),m}),XT={}.hasOwnProperty;class F7 extends qT{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=OT()}copy(){const s=new F7;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];s.use(...a)}return s.data(O6(!0,{},this.namespace)),s}data(s,n){return typeof s=="string"?arguments.length===2?(F6("data",this.frozen),this.namespace[s]=n,this):XT.call(this.namespace,s)&&this.namespace[s]||void 0:s?(F6("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;const s=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const d=n.call(s,...a);typeof d=="function"&&this.transformers.use(d)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();const n=Y3(s),a=this.parser||this.Parser;return B6("parse",a),a(String(n),n)}process(s,n){const a=this;return this.freeze(),B6("process",this.parser||this.Parser),P6("process",this.compiler||this.Compiler),n?d(void 0,n):new Promise(d);function d(m,b){const C=Y3(s),x=a.parse(C);a.run(x,C,function(E,R,q){if(E||!R||!q)return k(E);const z=R,fe=a.stringify(z,q);KT(fe)?q.value=fe:q.result=fe,k(E,q)});function k(E,R){E||!R?b(E):m?m(R):n(void 0,R)}}}processSync(s){let n=!1,a;return this.freeze(),B6("processSync",this.parser||this.Parser),P6("processSync",this.compiler||this.Compiler),this.process(s,d),Sp("processSync","process",n),a;function d(m,b){n=!0,Tp(m),a=b}}run(s,n,a){wp(s),this.freeze();const d=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?m(void 0,a):new Promise(m);function m(b,C){const x=Y3(n);d.run(s,x,k);function k(E,R,q){const z=R||s;E?C(E):b?b(z):a(void 0,z,q)}}}runSync(s,n){let a=!1,d;return this.run(s,n,m),Sp("runSync","run",a),d;function m(b,C){Tp(b),d=C,a=!0}}stringify(s,n){this.freeze();const a=Y3(n),d=this.compiler||this.Compiler;return P6("stringify",d),wp(s),d(s,a)}use(s,...n){const a=this.attachers,d=this.namespace;if(F6("use",this.frozen),s!=null)if(typeof s=="function")x(s,n);else if(typeof s=="object")Array.isArray(s)?C(s):b(s);else throw new TypeError("Expected usable value, not `"+s+"`");return this;function m(k){if(typeof k=="function")x(k,[]);else if(typeof k=="object")if(Array.isArray(k)){const[E,...R]=k;x(E,R)}else b(k);else throw new TypeError("Expected usable value, not `"+k+"`")}function b(k){if(!("plugins"in k)&&!("settings"in k))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");C(k.plugins),k.settings&&(d.settings=O6(!0,d.settings,k.settings))}function C(k){let E=-1;if(k!=null)if(Array.isArray(k))for(;++E<k.length;){const R=k[E];m(R)}else throw new TypeError("Expected a list of plugins, not `"+k+"`")}function x(k,E){let R=-1,q=-1;for(;++R<a.length;)if(a[R][0]===k){q=R;break}if(q===-1)a.push([k,...E]);else if(E.length>0){let[z,...fe]=E;const ve=a[q][1];h7(ve)&&h7(z)&&(z=O6(!0,ve,z)),a[q]=[k,z,...fe]}}}}const jT=new F7().freeze();function B6(o,s){if(typeof s!="function")throw new TypeError("Cannot `"+o+"` without `parser`")}function P6(o,s){if(typeof s!="function")throw new TypeError("Cannot `"+o+"` without `compiler`")}function F6(o,s){if(s)throw new Error("Cannot call `"+o+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wp(o){if(!h7(o)||typeof o.type!="string")throw new TypeError("Expected node, got `"+o+"`")}function Sp(o,s,n){if(!n)throw new Error("`"+o+"` finished async. Use `"+s+"` instead")}function Y3(o){return YT(o)?o:new f9(o)}function YT(o){return!!(o&&typeof o=="object"&&"message"in o&&"messages"in o)}function KT(o){return typeof o=="string"||JT(o)}function JT(o){return!!(o&&typeof o=="object"&&"byteLength"in o&&"byteOffset"in o)}const ZT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xp=[],Cp={allowDangerousHtml:!0},QT=/^(https?|ircs?|mailto|xmpp)$/i,e_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function t_(o){const s=n_(o),n=r_(o);return i_(s.runSync(s.parse(n),n),o)}function n_(o){const s=o.rehypePlugins||xp,n=o.remarkPlugins||xp,a=o.remarkRehypeOptions?{...o.remarkRehypeOptions,...Cp}:Cp;return jT().use(By).use(n).use(IT,a).use(s)}function r_(o){const s=o.children||"",n=new f9;return typeof s=="string"&&(n.value=s),n}function i_(o,s){const n=s.allowedElements,a=s.allowElement,d=s.components,m=s.disallowedElements,b=s.skipHtml,C=s.unwrapDisallowed,x=s.urlTransform||s_;for(const E of e_)Object.hasOwn(s,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+ZT+E.id,void 0);return d9(o,k),gv(o,{Fragment:xe.Fragment,components:d,ignoreInvalidStyle:!0,jsx:xe.jsx,jsxs:xe.jsxs,passKeys:!0,passNode:!0});function k(E,R,q){if(E.type==="raw"&&q&&typeof R=="number")return b?q.children.splice(R,1):q.children[R]={type:"text",value:E.value},R;if(E.type==="element"){let z;for(z in A6)if(Object.hasOwn(A6,z)&&Object.hasOwn(E.properties,z)){const fe=E.properties[z],ve=A6[z];(ve===null||ve.includes(E.tagName))&&(E.properties[z]=x(String(fe||""),z,E))}}if(E.type==="element"){let z=n?!n.includes(E.tagName):m?m.includes(E.tagName):!1;if(!z&&a&&typeof R=="number"&&(z=!a(E,R,q)),z&&q&&typeof R=="number")return C&&E.children?q.children.splice(R,1,...E.children):q.children.splice(R,1),R}}}function s_(o){const s=o.indexOf(":"),n=o.indexOf("?"),a=o.indexOf("#"),d=o.indexOf("/");return s===-1||d!==-1&&s>d||n!==-1&&s>n||a!==-1&&s>a||QT.test(o.slice(0,s))?o:""}function o_(o,s){const n=String(o);let a=n.indexOf(s),d=a,m=0,b=0;for(;a!==-1;)a===d?++m>b&&(b=m):m=1,d=a+s.length,a=n.indexOf(s,d);return b}function l_(){return{enter:{mathFlow:o,mathFlowFenceMeta:s,mathText:m},exit:{mathFlow:d,mathFlowFence:a,mathFlowFenceMeta:n,mathFlowValue:C,mathText:b,mathTextData:C}};function o(x){const k={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[k]}},x)}function s(){this.buffer()}function n(){const x=this.resume(),k=this.stack[this.stack.length-1];k.type,k.meta=x}function a(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function d(x){const k=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),E=this.stack[this.stack.length-1];E.type,this.exit(x),E.value=k;const R=E.data.hChildren[0];R.type,R.tagName,R.children.push({type:"text",value:k}),this.data.mathFlowInside=void 0}function m(x){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},x),this.buffer()}function b(x){const k=this.resume(),E=this.stack[this.stack.length-1];E.type,this.exit(x),E.value=k,E.data.hChildren.push({type:"text",value:k})}function C(x){this.config.enter.data.call(this,x),this.config.exit.data.call(this,x)}}function a_(o){let s=(o||{}).singleDollarTextMath;return s==null&&(s=!0),a.peek=d,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:s?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:a}};function n(m,b,C,x){const k=m.value||"",E=C.createTracker(x),R="$".repeat(Math.max(o_(k,"$")+1,2)),q=C.enter("mathFlow");let z=E.move(R);if(m.meta){const fe=C.enter("mathFlowMeta");z+=E.move(C.safe(m.meta,{after:`
`,before:z,encode:["$"],...E.current()})),fe()}return z+=E.move(`
`),k&&(z+=E.move(k+`
`)),z+=E.move(R),q(),z}function a(m,b,C){let x=m.value||"",k=1;for(s||k++;new RegExp("(^|[^$])"+"\\$".repeat(k)+"([^$]|$)").test(x);)k++;const E="$".repeat(k);/[^ \r\n]/.test(x)&&(/^[ \r\n]/.test(x)&&/[ \r\n]$/.test(x)||/^\$|\$$/.test(x))&&(x=" "+x+" ");let R=-1;for(;++R<C.unsafe.length;){const q=C.unsafe[R];if(!q.atBreak)continue;const z=C.compilePattern(q);let fe;for(;fe=z.exec(x);){let ve=fe.index;x.codePointAt(ve)===10&&x.codePointAt(ve-1)===13&&ve--,x=x.slice(0,ve)+" "+x.slice(fe.index+1)}}return E+x+E}function d(){return"$"}}const u_={tokenize:c_,concrete:!0,name:"mathFlow"},kp={tokenize:h_,partial:!0};function c_(o,s,n){const a=this,d=a.events[a.events.length-1],m=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0;let b=0;return C;function C(ie){return o.enter("mathFlow"),o.enter("mathFlowFence"),o.enter("mathFlowFenceSequence"),x(ie)}function x(ie){return ie===36?(o.consume(ie),b++,x):b<2?n(ie):(o.exit("mathFlowFenceSequence"),ns(o,k,"whitespace")(ie))}function k(ie){return ie===null||ir(ie)?R(ie):(o.enter("mathFlowFenceMeta"),o.enter("chunkString",{contentType:"string"}),E(ie))}function E(ie){return ie===null||ir(ie)?(o.exit("chunkString"),o.exit("mathFlowFenceMeta"),R(ie)):ie===36?n(ie):(o.consume(ie),E)}function R(ie){return o.exit("mathFlowFence"),a.interrupt?s(ie):o.attempt(kp,q,ge)(ie)}function q(ie){return o.attempt({tokenize:re,partial:!0},ge,z)(ie)}function z(ie){return(m?ns(o,fe,"linePrefix",m+1):fe)(ie)}function fe(ie){return ie===null?ge(ie):ir(ie)?o.attempt(kp,q,ge)(ie):(o.enter("mathFlowValue"),ve(ie))}function ve(ie){return ie===null||ir(ie)?(o.exit("mathFlowValue"),fe(ie)):(o.consume(ie),ve)}function ge(ie){return o.exit("mathFlow"),s(ie)}function re(ie,ke,Be){let Ke=0;return ns(ie,ye,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function ye(Xe){return ie.enter("mathFlowFence"),ie.enter("mathFlowFenceSequence"),Ve(Xe)}function Ve(Xe){return Xe===36?(Ke++,ie.consume(Xe),Ve):Ke<b?Be(Xe):(ie.exit("mathFlowFenceSequence"),ns(ie,st,"whitespace")(Xe))}function st(Xe){return Xe===null||ir(Xe)?(ie.exit("mathFlowFence"),ke(Xe)):Be(Xe)}}}function h_(o,s,n){const a=this;return d;function d(b){return b===null?s(b):(o.enter("lineEnding"),o.consume(b),o.exit("lineEnding"),m)}function m(b){return a.parser.lazy[a.now().line]?n(b):s(b)}}function d_(o){let n=(o||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:a,resolve:f_,previous:p_,name:"mathText"};function a(d,m,b){let C=0,x,k;return E;function E(ve){return d.enter("mathText"),d.enter("mathTextSequence"),R(ve)}function R(ve){return ve===36?(d.consume(ve),C++,R):C<2&&!n?b(ve):(d.exit("mathTextSequence"),q(ve))}function q(ve){return ve===null?b(ve):ve===36?(k=d.enter("mathTextSequence"),x=0,fe(ve)):ve===32?(d.enter("space"),d.consume(ve),d.exit("space"),q):ir(ve)?(d.enter("lineEnding"),d.consume(ve),d.exit("lineEnding"),q):(d.enter("mathTextData"),z(ve))}function z(ve){return ve===null||ve===32||ve===36||ir(ve)?(d.exit("mathTextData"),q(ve)):(d.consume(ve),z)}function fe(ve){return ve===36?(d.consume(ve),x++,fe):x===C?(d.exit("mathTextSequence"),d.exit("mathText"),m(ve)):(k.type="mathTextData",z(ve))}}}function f_(o){let s=o.length-4,n=3,a,d;if((o[n][1].type==="lineEnding"||o[n][1].type==="space")&&(o[s][1].type==="lineEnding"||o[s][1].type==="space")){for(a=n;++a<s;)if(o[a][1].type==="mathTextData"){o[s][1].type="mathTextPadding",o[n][1].type="mathTextPadding",n+=2,s-=2;break}}for(a=n-1,s++;++a<=s;)d===void 0?a!==s&&o[a][1].type!=="lineEnding"&&(d=a):(a===s||o[a][1].type==="lineEnding")&&(o[d][1].type="mathTextData",a!==d+2&&(o[d][1].end=o[a-1][1].end,o.splice(d+2,a-d-2),s-=a-d-2,a=d+2),d=void 0);return o}function p_(o){return o!==36||this.events[this.events.length-1][1].type==="characterEscape"}function m_(o){return{flow:{36:u_},text:{36:d_(o)}}}class c0{constructor(s,n,a){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=s,this.start=n,this.end=a}static range(s,n){return n?!s||!s.loc||!n.loc||s.loc.lexer!==n.loc.lexer?null:new c0(s.loc.lexer,s.loc.start,n.loc.end):s&&s.loc}}class z0{constructor(s,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=s,this.loc=n}range(s,n){return new z0(n,c0.range(this,s))}}class un{constructor(s,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var a="KaTeX parse error: "+s,d,m,b=n&&n.loc;if(b&&b.start<=b.end){var C=b.lexer.input;d=b.start,m=b.end,d===C.length?a+=" at end of input: ":a+=" at position "+(d+1)+": ";var x=C.slice(d,m).replace(/[^]/g,"$&"),k;d>15?k=""+C.slice(d-15,d):k=C.slice(0,d);var E;m+15<C.length?E=C.slice(m,m+15)+"":E=C.slice(m),a+=k+x+E}var R=new Error(a);return R.name="ParseError",R.__proto__=un.prototype,R.position=d,d!=null&&m!=null&&(R.length=m-d),R.rawMessage=s,R}}un.prototype.__proto__=Error.prototype;var g_=function(s,n){return s===void 0?n:s},$_=/([A-Z])/g,v_=function(s){return s.replace($_,"-$1").toLowerCase()},b_={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},y_=/[&><"']/g;function T_(o){return String(o).replace(y_,s=>b_[s])}var p9=function o(s){return s.type==="ordgroup"||s.type==="color"?s.body.length===1?o(s.body[0]):s:s.type==="font"?o(s.body):s},__=function(s){var n=p9(s);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},E_=function(s){if(!s)throw new Error("Expected non-null, but got "+String(s));return s},w_=function(s){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(s);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Gi={deflt:g_,escape:T_,hyphenate:v_,getBaseElem:p9,isCharacterBox:__,protocolFromUrl:w_},d5={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:o=>"#"+o},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(o,s)=>(s.push(o),s)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:o=>Math.max(0,o),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:o=>Math.max(0,o),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:o=>Math.max(0,o),cli:"-e, --max-expand <n>",cliProcessor:o=>o==="Infinity"?1/0:parseInt(o)},globalGroup:{type:"boolean",cli:!1}};function S_(o){if(o.default)return o.default;var s=o.type,n=Array.isArray(s)?s[0]:s;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class z7{constructor(s){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,s=s||{};for(var n in d5)if(d5.hasOwnProperty(n)){var a=d5[n];this[n]=s[n]!==void 0?a.processor?a.processor(s[n]):s[n]:S_(a)}}reportNonstrict(s,n,a){var d=this.strict;if(typeof d=="function"&&(d=d(s,n,a)),!(!d||d==="ignore")){if(d===!0||d==="error")throw new un("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+s+"]"),a);d==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+s+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+d+"': "+n+" ["+s+"]"))}}useStrictBehavior(s,n,a){var d=this.strict;if(typeof d=="function")try{d=d(s,n,a)}catch{d="error"}return!d||d==="ignore"?!1:d===!0||d==="error"?!0:d==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+s+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+d+"': "+n+" ["+s+"]")),!1)}isTrusted(s){if(s.url&&!s.protocol){var n=Gi.protocolFromUrl(s.url);if(n==null)return!1;s.protocol=n}var a=typeof this.trust=="function"?this.trust(s):this.trust;return!!a}}class Y1{constructor(s,n,a){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=s,this.size=n,this.cramped=a}sup(){return Hu[x_[this.id]]}sub(){return Hu[C_[this.id]]}fracNum(){return Hu[k_[this.id]]}fracDen(){return Hu[A_[this.id]]}cramp(){return Hu[I_[this.id]]}text(){return Hu[M_[this.id]]}isTight(){return this.size>=2}}var U7=0,b5=1,T4=2,Uc=3,r3=4,ya=5,_4=6,Kl=7,Hu=[new Y1(U7,0,!1),new Y1(b5,0,!0),new Y1(T4,1,!1),new Y1(Uc,1,!0),new Y1(r3,2,!1),new Y1(ya,2,!0),new Y1(_4,3,!1),new Y1(Kl,3,!0)],x_=[r3,ya,r3,ya,_4,Kl,_4,Kl],C_=[ya,ya,ya,ya,Kl,Kl,Kl,Kl],k_=[T4,Uc,r3,ya,_4,Kl,_4,Kl],A_=[Uc,Uc,ya,ya,Kl,Kl,Kl,Kl],I_=[b5,b5,Uc,Uc,ya,ya,Kl,Kl],M_=[U7,b5,T4,Uc,T4,Uc,T4,Uc],ur={DISPLAY:Hu[U7],TEXT:Hu[T4],SCRIPT:Hu[r3],SCRIPTSCRIPT:Hu[_4]},f7=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function R_(o){for(var s=0;s<f7.length;s++)for(var n=f7[s],a=0;a<n.blocks.length;a++){var d=n.blocks[a];if(o>=d[0]&&o<=d[1])return n.name}return null}var f5=[];f7.forEach(o=>o.blocks.forEach(s=>f5.push(...s)));function m9(o){for(var s=0;s<f5.length;s+=2)if(o>=f5[s]&&o<=f5[s+1])return!0;return!1}var $4=80,O_=function(s,n){return"M95,"+(622+s+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+s/2.075+" -"+s+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+s)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+s)+" "+n+"h400000v"+(40+s)+"h-400000z"},N_=function(s,n){return"M263,"+(601+s+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+s/2.084+" -"+s+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+s)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+s)+" "+n+"h400000v"+(40+s)+"h-400000z"},L_=function(s,n){return"M983 "+(10+s+n)+`
l`+s/3.13+" -"+s+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+s)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+s)+" "+n+"h400000v"+(40+s)+"h-400000z"},D_=function(s,n){return"M424,"+(2398+s+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+s/4.223+" -"+s+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+s)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+s)+" "+n+`
h400000v`+(40+s)+"h-400000z"},B_=function(s,n){return"M473,"+(2713+s+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+s/5.298+" -"+s+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+s)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+s)+" "+n+"h400000v"+(40+s)+"H1017.7z"},P_=function(s){var n=s/2;return"M400000 "+s+" H0 L"+n+" 0 l65 45 L145 "+(s-80)+" H400000z"},F_=function(s,n,a){var d=a-54-n-s;return"M702 "+(s+n)+"H400000"+(40+s)+`
H742v`+d+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+s)+"H742z"},z_=function(s,n,a){n=1e3*n;var d="";switch(s){case"sqrtMain":d=O_(n,$4);break;case"sqrtSize1":d=N_(n,$4);break;case"sqrtSize2":d=L_(n,$4);break;case"sqrtSize3":d=D_(n,$4);break;case"sqrtSize4":d=B_(n,$4);break;case"sqrtTall":d=F_(n,$4,a)}return d},U_=function(s,n){switch(s){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Ap={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},H_=function(s,n){switch(s){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let a3=class{constructor(s){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=s,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(s){return this.classes.includes(s)}toNode(){for(var s=document.createDocumentFragment(),n=0;n<this.children.length;n++)s.appendChild(this.children[n].toNode());return s}toMarkup(){for(var s="",n=0;n<this.children.length;n++)s+=this.children[n].toMarkup();return s}toText(){var s=n=>n.toText();return this.children.map(s).join("")}};var Vu={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},K3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ip={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function G_(o,s){Vu[o]=s}function H7(o,s,n){if(!Vu[s])throw new Error("Font metrics not found for font: "+s+".");var a=o.charCodeAt(0),d=Vu[s][a];if(!d&&o[0]in Ip&&(a=Ip[o[0]].charCodeAt(0),d=Vu[s][a]),!d&&n==="text"&&m9(a)&&(d=Vu[s][77]),d)return{depth:d[0],height:d[1],italic:d[2],skew:d[3],width:d[4]}}var z6={};function V_(o){var s;if(o>=5?s=0:o>=3?s=1:s=2,!z6[s]){var n=z6[s]={cssEmPerMu:K3.quad[s]/18};for(var a in K3)K3.hasOwnProperty(a)&&(n[a]=K3[a][s])}return z6[s]}var W_=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Mp=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Rp=function(s,n){return n.size<2?s:W_[s-1][n.size-1]};class zc{constructor(s){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=s.style,this.color=s.color,this.size=s.size||zc.BASESIZE,this.textSize=s.textSize||this.size,this.phantom=!!s.phantom,this.font=s.font||"",this.fontFamily=s.fontFamily||"",this.fontWeight=s.fontWeight||"",this.fontShape=s.fontShape||"",this.sizeMultiplier=Mp[this.size-1],this.maxSize=s.maxSize,this.minRuleThickness=s.minRuleThickness,this._fontMetrics=void 0}extend(s){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a]);return new zc(n)}havingStyle(s){return this.style===s?this:this.extend({style:s,size:Rp(this.textSize,s)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(s){return this.size===s&&this.textSize===s?this:this.extend({style:this.style.text(),size:s,textSize:s,sizeMultiplier:Mp[s-1]})}havingBaseStyle(s){s=s||this.style.text();var n=Rp(zc.BASESIZE,s);return this.size===n&&this.textSize===zc.BASESIZE&&this.style===s?this:this.extend({style:s,size:n})}havingBaseSizing(){var s;switch(this.style.id){case 4:case 5:s=3;break;case 6:case 7:s=1;break;default:s=6}return this.extend({style:this.style.text(),size:s})}withColor(s){return this.extend({color:s})}withPhantom(){return this.extend({phantom:!0})}withFont(s){return this.extend({font:s})}withTextFontFamily(s){return this.extend({fontFamily:s,font:""})}withTextFontWeight(s){return this.extend({fontWeight:s,font:""})}withTextFontShape(s){return this.extend({fontShape:s,font:""})}sizingClasses(s){return s.size!==this.size?["sizing","reset-size"+s.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==zc.BASESIZE?["sizing","reset-size"+this.size,"size"+zc.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=V_(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}zc.BASESIZE=6;var p7={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},q_={ex:!0,em:!0,mu:!0},g9=function(s){return typeof s!="string"&&(s=s.unit),s in p7||s in q_||s==="ex"},to=function(s,n){var a;if(s.unit in p7)a=p7[s.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(s.unit==="mu")a=n.fontMetrics().cssEmPerMu;else{var d;if(n.style.isTight()?d=n.havingStyle(n.style.text()):d=n,s.unit==="ex")a=d.fontMetrics().xHeight;else if(s.unit==="em")a=d.fontMetrics().quad;else throw new un("Invalid unit: '"+s.unit+"'");d!==n&&(a*=d.sizeMultiplier/n.sizeMultiplier)}return Math.min(s.number*a,n.maxSize)},mn=function(s){return+s.toFixed(4)+"em"},Z1=function(s){return s.filter(n=>n).join(" ")},$9=function(s,n,a){if(this.classes=s||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=a||{},n){n.style.isTight()&&this.classes.push("mtight");var d=n.getColor();d&&(this.style.color=d)}},v9=function(s){var n=document.createElement(s);n.className=Z1(this.classes);for(var a in this.style)this.style.hasOwnProperty(a)&&(n.style[a]=this.style[a]);for(var d in this.attributes)this.attributes.hasOwnProperty(d)&&n.setAttribute(d,this.attributes[d]);for(var m=0;m<this.children.length;m++)n.appendChild(this.children[m].toNode());return n},X_=/[\s"'>/=\x00-\x1f]/,b9=function(s){var n="<"+s;this.classes.length&&(n+=' class="'+Gi.escape(Z1(this.classes))+'"');var a="";for(var d in this.style)this.style.hasOwnProperty(d)&&(a+=Gi.hyphenate(d)+":"+this.style[d]+";");a&&(n+=' style="'+Gi.escape(a)+'"');for(var m in this.attributes)if(this.attributes.hasOwnProperty(m)){if(X_.test(m))throw new un("Invalid attribute name '"+m+"'");n+=" "+m+'="'+Gi.escape(this.attributes[m])+'"'}n+=">";for(var b=0;b<this.children.length;b++)n+=this.children[b].toMarkup();return n+="</"+s+">",n};class u3{constructor(s,n,a,d){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,$9.call(this,s,a,d),this.children=n||[]}setAttribute(s,n){this.attributes[s]=n}hasClass(s){return this.classes.includes(s)}toNode(){return v9.call(this,"span")}toMarkup(){return b9.call(this,"span")}}class G7{constructor(s,n,a,d){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,$9.call(this,n,d),this.children=a||[],this.setAttribute("href",s)}setAttribute(s,n){this.attributes[s]=n}hasClass(s){return this.classes.includes(s)}toNode(){return v9.call(this,"a")}toMarkup(){return b9.call(this,"a")}}class j_{constructor(s,n,a){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=s,this.classes=["mord"],this.style=a}hasClass(s){return this.classes.includes(s)}toNode(){var s=document.createElement("img");s.src=this.src,s.alt=this.alt,s.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(s.style[n]=this.style[n]);return s}toMarkup(){var s='<img src="'+Gi.escape(this.src)+'"'+(' alt="'+Gi.escape(this.alt)+'"'),n="";for(var a in this.style)this.style.hasOwnProperty(a)&&(n+=Gi.hyphenate(a)+":"+this.style[a]+";");return n&&(s+=' style="'+Gi.escape(n)+'"'),s+="'/>",s}}var Y_={:"",:"",:"",:""};class Ta{constructor(s,n,a,d,m,b,C,x){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=s,this.height=n||0,this.depth=a||0,this.italic=d||0,this.skew=m||0,this.width=b||0,this.classes=C||[],this.style=x||{},this.maxFontSize=0;var k=R_(this.text.charCodeAt(0));k&&this.classes.push(k+"_fallback"),/[]/.test(this.text)&&(this.text=Y_[this.text])}hasClass(s){return this.classes.includes(s)}toNode(){var s=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=mn(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Z1(this.classes));for(var a in this.style)this.style.hasOwnProperty(a)&&(n=n||document.createElement("span"),n.style[a]=this.style[a]);return n?(n.appendChild(s),n):s}toMarkup(){var s=!1,n="<span";this.classes.length&&(s=!0,n+=' class="',n+=Gi.escape(Z1(this.classes)),n+='"');var a="";this.italic>0&&(a+="margin-right:"+this.italic+"em;");for(var d in this.style)this.style.hasOwnProperty(d)&&(a+=Gi.hyphenate(d)+":"+this.style[d]+";");a&&(s=!0,n+=' style="'+Gi.escape(a)+'"');var m=Gi.escape(this.text);return s?(n+=">",n+=m,n+="</span>",n):m}}class Gc{constructor(s,n){this.children=void 0,this.attributes=void 0,this.children=s||[],this.attributes=n||{}}toNode(){var s="http://www.w3.org/2000/svg",n=document.createElementNS(s,"svg");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);for(var d=0;d<this.children.length;d++)n.appendChild(this.children[d].toNode());return n}toMarkup(){var s='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(s+=" "+n+'="'+Gi.escape(this.attributes[n])+'"');s+=">";for(var a=0;a<this.children.length;a++)s+=this.children[a].toMarkup();return s+="</svg>",s}}class Q1{constructor(s,n){this.pathName=void 0,this.alternate=void 0,this.pathName=s,this.alternate=n}toNode(){var s="http://www.w3.org/2000/svg",n=document.createElementNS(s,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Ap[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Gi.escape(this.alternate)+'"/>':'<path d="'+Gi.escape(Ap[this.pathName])+'"/>'}}class m7{constructor(s){this.attributes=void 0,this.attributes=s||{}}toNode(){var s="http://www.w3.org/2000/svg",n=document.createElementNS(s,"line");for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&n.setAttribute(a,this.attributes[a]);return n}toMarkup(){var s="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(s+=" "+n+'="'+Gi.escape(this.attributes[n])+'"');return s+="/>",s}}function Op(o){if(o instanceof Ta)return o;throw new Error("Expected symbolNode but got "+String(o)+".")}function K_(o){if(o instanceof u3)return o;throw new Error("Expected span<HtmlDomNode> but got "+String(o)+".")}var J_={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Z_={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Is={math:{},text:{}};function P(o,s,n,a,d,m){Is[o][d]={font:s,group:n,replace:a},m&&a&&(Is[o][a]=Is[o][d])}var W="math",rn="text",se="main",Oe="ams",qs="accent-token",In="bin",Jl="close",S4="inner",ar="mathord",Oo="op-token",U0="open",I5="punct",Fe="rel",qc="spacing",tt="textord";P(W,se,Fe,"","\\equiv",!0);P(W,se,Fe,"","\\prec",!0);P(W,se,Fe,"","\\succ",!0);P(W,se,Fe,"","\\sim",!0);P(W,se,Fe,"","\\perp");P(W,se,Fe,"","\\preceq",!0);P(W,se,Fe,"","\\succeq",!0);P(W,se,Fe,"","\\simeq",!0);P(W,se,Fe,"","\\mid",!0);P(W,se,Fe,"","\\ll",!0);P(W,se,Fe,"","\\gg",!0);P(W,se,Fe,"","\\asymp",!0);P(W,se,Fe,"","\\parallel");P(W,se,Fe,"","\\bowtie",!0);P(W,se,Fe,"","\\smile",!0);P(W,se,Fe,"","\\sqsubseteq",!0);P(W,se,Fe,"","\\sqsupseteq",!0);P(W,se,Fe,"","\\doteq",!0);P(W,se,Fe,"","\\frown",!0);P(W,se,Fe,"","\\ni",!0);P(W,se,Fe,"","\\propto",!0);P(W,se,Fe,"","\\vdash",!0);P(W,se,Fe,"","\\dashv",!0);P(W,se,Fe,"","\\owns");P(W,se,I5,".","\\ldotp");P(W,se,I5,"","\\cdotp");P(W,se,tt,"#","\\#");P(rn,se,tt,"#","\\#");P(W,se,tt,"&","\\&");P(rn,se,tt,"&","\\&");P(W,se,tt,"","\\aleph",!0);P(W,se,tt,"","\\forall",!0);P(W,se,tt,"","\\hbar",!0);P(W,se,tt,"","\\exists",!0);P(W,se,tt,"","\\nabla",!0);P(W,se,tt,"","\\flat",!0);P(W,se,tt,"","\\ell",!0);P(W,se,tt,"","\\natural",!0);P(W,se,tt,"","\\clubsuit",!0);P(W,se,tt,"","\\wp",!0);P(W,se,tt,"","\\sharp",!0);P(W,se,tt,"","\\diamondsuit",!0);P(W,se,tt,"","\\Re",!0);P(W,se,tt,"","\\heartsuit",!0);P(W,se,tt,"","\\Im",!0);P(W,se,tt,"","\\spadesuit",!0);P(W,se,tt,"","\\S",!0);P(rn,se,tt,"","\\S");P(W,se,tt,"","\\P",!0);P(rn,se,tt,"","\\P");P(W,se,tt,"","\\dag");P(rn,se,tt,"","\\dag");P(rn,se,tt,"","\\textdagger");P(W,se,tt,"","\\ddag");P(rn,se,tt,"","\\ddag");P(rn,se,tt,"","\\textdaggerdbl");P(W,se,Jl,"","\\rmoustache",!0);P(W,se,U0,"","\\lmoustache",!0);P(W,se,Jl,"","\\rgroup",!0);P(W,se,U0,"","\\lgroup",!0);P(W,se,In,"","\\mp",!0);P(W,se,In,"","\\ominus",!0);P(W,se,In,"","\\uplus",!0);P(W,se,In,"","\\sqcap",!0);P(W,se,In,"","\\ast");P(W,se,In,"","\\sqcup",!0);P(W,se,In,"","\\bigcirc",!0);P(W,se,In,"","\\bullet",!0);P(W,se,In,"","\\ddagger");P(W,se,In,"","\\wr",!0);P(W,se,In,"","\\amalg");P(W,se,In,"&","\\And");P(W,se,Fe,"","\\longleftarrow",!0);P(W,se,Fe,"","\\Leftarrow",!0);P(W,se,Fe,"","\\Longleftarrow",!0);P(W,se,Fe,"","\\longrightarrow",!0);P(W,se,Fe,"","\\Rightarrow",!0);P(W,se,Fe,"","\\Longrightarrow",!0);P(W,se,Fe,"","\\leftrightarrow",!0);P(W,se,Fe,"","\\longleftrightarrow",!0);P(W,se,Fe,"","\\Leftrightarrow",!0);P(W,se,Fe,"","\\Longleftrightarrow",!0);P(W,se,Fe,"","\\mapsto",!0);P(W,se,Fe,"","\\longmapsto",!0);P(W,se,Fe,"","\\nearrow",!0);P(W,se,Fe,"","\\hookleftarrow",!0);P(W,se,Fe,"","\\hookrightarrow",!0);P(W,se,Fe,"","\\searrow",!0);P(W,se,Fe,"","\\leftharpoonup",!0);P(W,se,Fe,"","\\rightharpoonup",!0);P(W,se,Fe,"","\\swarrow",!0);P(W,se,Fe,"","\\leftharpoondown",!0);P(W,se,Fe,"","\\rightharpoondown",!0);P(W,se,Fe,"","\\nwarrow",!0);P(W,se,Fe,"","\\rightleftharpoons",!0);P(W,Oe,Fe,"","\\nless",!0);P(W,Oe,Fe,"","\\@nleqslant");P(W,Oe,Fe,"","\\@nleqq");P(W,Oe,Fe,"","\\lneq",!0);P(W,Oe,Fe,"","\\lneqq",!0);P(W,Oe,Fe,"","\\@lvertneqq");P(W,Oe,Fe,"","\\lnsim",!0);P(W,Oe,Fe,"","\\lnapprox",!0);P(W,Oe,Fe,"","\\nprec",!0);P(W,Oe,Fe,"","\\npreceq",!0);P(W,Oe,Fe,"","\\precnsim",!0);P(W,Oe,Fe,"","\\precnapprox",!0);P(W,Oe,Fe,"","\\nsim",!0);P(W,Oe,Fe,"","\\@nshortmid");P(W,Oe,Fe,"","\\nmid",!0);P(W,Oe,Fe,"","\\nvdash",!0);P(W,Oe,Fe,"","\\nvDash",!0);P(W,Oe,Fe,"","\\ntriangleleft");P(W,Oe,Fe,"","\\ntrianglelefteq",!0);P(W,Oe,Fe,"","\\subsetneq",!0);P(W,Oe,Fe,"","\\@varsubsetneq");P(W,Oe,Fe,"","\\subsetneqq",!0);P(W,Oe,Fe,"","\\@varsubsetneqq");P(W,Oe,Fe,"","\\ngtr",!0);P(W,Oe,Fe,"","\\@ngeqslant");P(W,Oe,Fe,"","\\@ngeqq");P(W,Oe,Fe,"","\\gneq",!0);P(W,Oe,Fe,"","\\gneqq",!0);P(W,Oe,Fe,"","\\@gvertneqq");P(W,Oe,Fe,"","\\gnsim",!0);P(W,Oe,Fe,"","\\gnapprox",!0);P(W,Oe,Fe,"","\\nsucc",!0);P(W,Oe,Fe,"","\\nsucceq",!0);P(W,Oe,Fe,"","\\succnsim",!0);P(W,Oe,Fe,"","\\succnapprox",!0);P(W,Oe,Fe,"","\\ncong",!0);P(W,Oe,Fe,"","\\@nshortparallel");P(W,Oe,Fe,"","\\nparallel",!0);P(W,Oe,Fe,"","\\nVDash",!0);P(W,Oe,Fe,"","\\ntriangleright");P(W,Oe,Fe,"","\\ntrianglerighteq",!0);P(W,Oe,Fe,"","\\@nsupseteqq");P(W,Oe,Fe,"","\\supsetneq",!0);P(W,Oe,Fe,"","\\@varsupsetneq");P(W,Oe,Fe,"","\\supsetneqq",!0);P(W,Oe,Fe,"","\\@varsupsetneqq");P(W,Oe,Fe,"","\\nVdash",!0);P(W,Oe,Fe,"","\\precneqq",!0);P(W,Oe,Fe,"","\\succneqq",!0);P(W,Oe,Fe,"","\\@nsubseteqq");P(W,Oe,In,"","\\unlhd");P(W,Oe,In,"","\\unrhd");P(W,Oe,Fe,"","\\nleftarrow",!0);P(W,Oe,Fe,"","\\nrightarrow",!0);P(W,Oe,Fe,"","\\nLeftarrow",!0);P(W,Oe,Fe,"","\\nRightarrow",!0);P(W,Oe,Fe,"","\\nleftrightarrow",!0);P(W,Oe,Fe,"","\\nLeftrightarrow",!0);P(W,Oe,Fe,"","\\vartriangle");P(W,Oe,tt,"","\\hslash");P(W,Oe,tt,"","\\triangledown");P(W,Oe,tt,"","\\lozenge");P(W,Oe,tt,"","\\circledS");P(W,Oe,tt,"","\\circledR");P(rn,Oe,tt,"","\\circledR");P(W,Oe,tt,"","\\measuredangle",!0);P(W,Oe,tt,"","\\nexists");P(W,Oe,tt,"","\\mho");P(W,Oe,tt,"","\\Finv",!0);P(W,Oe,tt,"","\\Game",!0);P(W,Oe,tt,"","\\backprime");P(W,Oe,tt,"","\\blacktriangle");P(W,Oe,tt,"","\\blacktriangledown");P(W,Oe,tt,"","\\blacksquare");P(W,Oe,tt,"","\\blacklozenge");P(W,Oe,tt,"","\\bigstar");P(W,Oe,tt,"","\\sphericalangle",!0);P(W,Oe,tt,"","\\complement",!0);P(W,Oe,tt,"","\\eth",!0);P(rn,se,tt,"","");P(W,Oe,tt,"","\\diagup");P(W,Oe,tt,"","\\diagdown");P(W,Oe,tt,"","\\square");P(W,Oe,tt,"","\\Box");P(W,Oe,tt,"","\\Diamond");P(W,Oe,tt,"","\\yen",!0);P(rn,Oe,tt,"","\\yen",!0);P(W,Oe,tt,"","\\checkmark",!0);P(rn,Oe,tt,"","\\checkmark");P(W,Oe,tt,"","\\beth",!0);P(W,Oe,tt,"","\\daleth",!0);P(W,Oe,tt,"","\\gimel",!0);P(W,Oe,tt,"","\\digamma",!0);P(W,Oe,tt,"","\\varkappa");P(W,Oe,U0,"","\\@ulcorner",!0);P(W,Oe,Jl,"","\\@urcorner",!0);P(W,Oe,U0,"","\\@llcorner",!0);P(W,Oe,Jl,"","\\@lrcorner",!0);P(W,Oe,Fe,"","\\leqq",!0);P(W,Oe,Fe,"","\\leqslant",!0);P(W,Oe,Fe,"","\\eqslantless",!0);P(W,Oe,Fe,"","\\lesssim",!0);P(W,Oe,Fe,"","\\lessapprox",!0);P(W,Oe,Fe,"","\\approxeq",!0);P(W,Oe,In,"","\\lessdot");P(W,Oe,Fe,"","\\lll",!0);P(W,Oe,Fe,"","\\lessgtr",!0);P(W,Oe,Fe,"","\\lesseqgtr",!0);P(W,Oe,Fe,"","\\lesseqqgtr",!0);P(W,Oe,Fe,"","\\doteqdot");P(W,Oe,Fe,"","\\risingdotseq",!0);P(W,Oe,Fe,"","\\fallingdotseq",!0);P(W,Oe,Fe,"","\\backsim",!0);P(W,Oe,Fe,"","\\backsimeq",!0);P(W,Oe,Fe,"","\\subseteqq",!0);P(W,Oe,Fe,"","\\Subset",!0);P(W,Oe,Fe,"","\\sqsubset",!0);P(W,Oe,Fe,"","\\preccurlyeq",!0);P(W,Oe,Fe,"","\\curlyeqprec",!0);P(W,Oe,Fe,"","\\precsim",!0);P(W,Oe,Fe,"","\\precapprox",!0);P(W,Oe,Fe,"","\\vartriangleleft");P(W,Oe,Fe,"","\\trianglelefteq");P(W,Oe,Fe,"","\\vDash",!0);P(W,Oe,Fe,"","\\Vvdash",!0);P(W,Oe,Fe,"","\\smallsmile");P(W,Oe,Fe,"","\\smallfrown");P(W,Oe,Fe,"","\\bumpeq",!0);P(W,Oe,Fe,"","\\Bumpeq",!0);P(W,Oe,Fe,"","\\geqq",!0);P(W,Oe,Fe,"","\\geqslant",!0);P(W,Oe,Fe,"","\\eqslantgtr",!0);P(W,Oe,Fe,"","\\gtrsim",!0);P(W,Oe,Fe,"","\\gtrapprox",!0);P(W,Oe,In,"","\\gtrdot");P(W,Oe,Fe,"","\\ggg",!0);P(W,Oe,Fe,"","\\gtrless",!0);P(W,Oe,Fe,"","\\gtreqless",!0);P(W,Oe,Fe,"","\\gtreqqless",!0);P(W,Oe,Fe,"","\\eqcirc",!0);P(W,Oe,Fe,"","\\circeq",!0);P(W,Oe,Fe,"","\\triangleq",!0);P(W,Oe,Fe,"","\\thicksim");P(W,Oe,Fe,"","\\thickapprox");P(W,Oe,Fe,"","\\supseteqq",!0);P(W,Oe,Fe,"","\\Supset",!0);P(W,Oe,Fe,"","\\sqsupset",!0);P(W,Oe,Fe,"","\\succcurlyeq",!0);P(W,Oe,Fe,"","\\curlyeqsucc",!0);P(W,Oe,Fe,"","\\succsim",!0);P(W,Oe,Fe,"","\\succapprox",!0);P(W,Oe,Fe,"","\\vartriangleright");P(W,Oe,Fe,"","\\trianglerighteq");P(W,Oe,Fe,"","\\Vdash",!0);P(W,Oe,Fe,"","\\shortmid");P(W,Oe,Fe,"","\\shortparallel");P(W,Oe,Fe,"","\\between",!0);P(W,Oe,Fe,"","\\pitchfork",!0);P(W,Oe,Fe,"","\\varpropto");P(W,Oe,Fe,"","\\blacktriangleleft");P(W,Oe,Fe,"","\\therefore",!0);P(W,Oe,Fe,"","\\backepsilon");P(W,Oe,Fe,"","\\blacktriangleright");P(W,Oe,Fe,"","\\because",!0);P(W,Oe,Fe,"","\\llless");P(W,Oe,Fe,"","\\gggtr");P(W,Oe,In,"","\\lhd");P(W,Oe,In,"","\\rhd");P(W,Oe,Fe,"","\\eqsim",!0);P(W,se,Fe,"","\\Join");P(W,Oe,Fe,"","\\Doteq",!0);P(W,Oe,In,"","\\dotplus",!0);P(W,Oe,In,"","\\smallsetminus");P(W,Oe,In,"","\\Cap",!0);P(W,Oe,In,"","\\Cup",!0);P(W,Oe,In,"","\\doublebarwedge",!0);P(W,Oe,In,"","\\boxminus",!0);P(W,Oe,In,"","\\boxplus",!0);P(W,Oe,In,"","\\divideontimes",!0);P(W,Oe,In,"","\\ltimes",!0);P(W,Oe,In,"","\\rtimes",!0);P(W,Oe,In,"","\\leftthreetimes",!0);P(W,Oe,In,"","\\rightthreetimes",!0);P(W,Oe,In,"","\\curlywedge",!0);P(W,Oe,In,"","\\curlyvee",!0);P(W,Oe,In,"","\\circleddash",!0);P(W,Oe,In,"","\\circledast",!0);P(W,Oe,In,"","\\centerdot");P(W,Oe,In,"","\\intercal",!0);P(W,Oe,In,"","\\doublecap");P(W,Oe,In,"","\\doublecup");P(W,Oe,In,"","\\boxtimes",!0);P(W,Oe,Fe,"","\\dashrightarrow",!0);P(W,Oe,Fe,"","\\dashleftarrow",!0);P(W,Oe,Fe,"","\\leftleftarrows",!0);P(W,Oe,Fe,"","\\leftrightarrows",!0);P(W,Oe,Fe,"","\\Lleftarrow",!0);P(W,Oe,Fe,"","\\twoheadleftarrow",!0);P(W,Oe,Fe,"","\\leftarrowtail",!0);P(W,Oe,Fe,"","\\looparrowleft",!0);P(W,Oe,Fe,"","\\leftrightharpoons",!0);P(W,Oe,Fe,"","\\curvearrowleft",!0);P(W,Oe,Fe,"","\\circlearrowleft",!0);P(W,Oe,Fe,"","\\Lsh",!0);P(W,Oe,Fe,"","\\upuparrows",!0);P(W,Oe,Fe,"","\\upharpoonleft",!0);P(W,Oe,Fe,"","\\downharpoonleft",!0);P(W,se,Fe,"","\\origof",!0);P(W,se,Fe,"","\\imageof",!0);P(W,Oe,Fe,"","\\multimap",!0);P(W,Oe,Fe,"","\\leftrightsquigarrow",!0);P(W,Oe,Fe,"","\\rightrightarrows",!0);P(W,Oe,Fe,"","\\rightleftarrows",!0);P(W,Oe,Fe,"","\\twoheadrightarrow",!0);P(W,Oe,Fe,"","\\rightarrowtail",!0);P(W,Oe,Fe,"","\\looparrowright",!0);P(W,Oe,Fe,"","\\curvearrowright",!0);P(W,Oe,Fe,"","\\circlearrowright",!0);P(W,Oe,Fe,"","\\Rsh",!0);P(W,Oe,Fe,"","\\downdownarrows",!0);P(W,Oe,Fe,"","\\upharpoonright",!0);P(W,Oe,Fe,"","\\downharpoonright",!0);P(W,Oe,Fe,"","\\rightsquigarrow",!0);P(W,Oe,Fe,"","\\leadsto");P(W,Oe,Fe,"","\\Rrightarrow",!0);P(W,Oe,Fe,"","\\restriction");P(W,se,tt,"","`");P(W,se,tt,"$","\\$");P(rn,se,tt,"$","\\$");P(rn,se,tt,"$","\\textdollar");P(W,se,tt,"%","\\%");P(rn,se,tt,"%","\\%");P(W,se,tt,"_","\\_");P(rn,se,tt,"_","\\_");P(rn,se,tt,"_","\\textunderscore");P(W,se,tt,"","\\angle",!0);P(W,se,tt,"","\\infty",!0);P(W,se,tt,"","\\prime");P(W,se,tt,"","\\triangle");P(W,se,tt,"","\\Gamma",!0);P(W,se,tt,"","\\Delta",!0);P(W,se,tt,"","\\Theta",!0);P(W,se,tt,"","\\Lambda",!0);P(W,se,tt,"","\\Xi",!0);P(W,se,tt,"","\\Pi",!0);P(W,se,tt,"","\\Sigma",!0);P(W,se,tt,"","\\Upsilon",!0);P(W,se,tt,"","\\Phi",!0);P(W,se,tt,"","\\Psi",!0);P(W,se,tt,"","\\Omega",!0);P(W,se,tt,"A","");P(W,se,tt,"B","");P(W,se,tt,"E","");P(W,se,tt,"Z","");P(W,se,tt,"H","");P(W,se,tt,"I","");P(W,se,tt,"K","");P(W,se,tt,"M","");P(W,se,tt,"N","");P(W,se,tt,"O","");P(W,se,tt,"P","");P(W,se,tt,"T","");P(W,se,tt,"X","");P(W,se,tt,"","\\neg",!0);P(W,se,tt,"","\\lnot");P(W,se,tt,"","\\top");P(W,se,tt,"","\\bot");P(W,se,tt,"","\\emptyset");P(W,Oe,tt,"","\\varnothing");P(W,se,ar,"","\\alpha",!0);P(W,se,ar,"","\\beta",!0);P(W,se,ar,"","\\gamma",!0);P(W,se,ar,"","\\delta",!0);P(W,se,ar,"","\\epsilon",!0);P(W,se,ar,"","\\zeta",!0);P(W,se,ar,"","\\eta",!0);P(W,se,ar,"","\\theta",!0);P(W,se,ar,"","\\iota",!0);P(W,se,ar,"","\\kappa",!0);P(W,se,ar,"","\\lambda",!0);P(W,se,ar,"","\\mu",!0);P(W,se,ar,"","\\nu",!0);P(W,se,ar,"","\\xi",!0);P(W,se,ar,"","\\omicron",!0);P(W,se,ar,"","\\pi",!0);P(W,se,ar,"","\\rho",!0);P(W,se,ar,"","\\sigma",!0);P(W,se,ar,"","\\tau",!0);P(W,se,ar,"","\\upsilon",!0);P(W,se,ar,"","\\phi",!0);P(W,se,ar,"","\\chi",!0);P(W,se,ar,"","\\psi",!0);P(W,se,ar,"","\\omega",!0);P(W,se,ar,"","\\varepsilon",!0);P(W,se,ar,"","\\vartheta",!0);P(W,se,ar,"","\\varpi",!0);P(W,se,ar,"","\\varrho",!0);P(W,se,ar,"","\\varsigma",!0);P(W,se,ar,"","\\varphi",!0);P(W,se,In,"","*",!0);P(W,se,In,"+","+");P(W,se,In,"","-",!0);P(W,se,In,"","\\cdot",!0);P(W,se,In,"","\\circ",!0);P(W,se,In,"","\\div",!0);P(W,se,In,"","\\pm",!0);P(W,se,In,"","\\times",!0);P(W,se,In,"","\\cap",!0);P(W,se,In,"","\\cup",!0);P(W,se,In,"","\\setminus",!0);P(W,se,In,"","\\land");P(W,se,In,"","\\lor");P(W,se,In,"","\\wedge",!0);P(W,se,In,"","\\vee",!0);P(W,se,tt,"","\\surd");P(W,se,U0,"","\\langle",!0);P(W,se,U0,"","\\lvert");P(W,se,U0,"","\\lVert");P(W,se,Jl,"?","?");P(W,se,Jl,"!","!");P(W,se,Jl,"","\\rangle",!0);P(W,se,Jl,"","\\rvert");P(W,se,Jl,"","\\rVert");P(W,se,Fe,"=","=");P(W,se,Fe,":",":");P(W,se,Fe,"","\\approx",!0);P(W,se,Fe,"","\\cong",!0);P(W,se,Fe,"","\\ge");P(W,se,Fe,"","\\geq",!0);P(W,se,Fe,"","\\gets");P(W,se,Fe,">","\\gt",!0);P(W,se,Fe,"","\\in",!0);P(W,se,Fe,"","\\@not");P(W,se,Fe,"","\\subset",!0);P(W,se,Fe,"","\\supset",!0);P(W,se,Fe,"","\\subseteq",!0);P(W,se,Fe,"","\\supseteq",!0);P(W,Oe,Fe,"","\\nsubseteq",!0);P(W,Oe,Fe,"","\\nsupseteq",!0);P(W,se,Fe,"","\\models");P(W,se,Fe,"","\\leftarrow",!0);P(W,se,Fe,"","\\le");P(W,se,Fe,"","\\leq",!0);P(W,se,Fe,"<","\\lt",!0);P(W,se,Fe,"","\\rightarrow",!0);P(W,se,Fe,"","\\to");P(W,Oe,Fe,"","\\ngeq",!0);P(W,Oe,Fe,"","\\nleq",!0);P(W,se,qc,"","\\ ");P(W,se,qc,"","\\space");P(W,se,qc,"","\\nobreakspace");P(rn,se,qc,"","\\ ");P(rn,se,qc,""," ");P(rn,se,qc,"","\\space");P(rn,se,qc,"","\\nobreakspace");P(W,se,qc,null,"\\nobreak");P(W,se,qc,null,"\\allowbreak");P(W,se,I5,",",",");P(W,se,I5,";",";");P(W,Oe,In,"","\\barwedge",!0);P(W,Oe,In,"","\\veebar",!0);P(W,se,In,"","\\odot",!0);P(W,se,In,"","\\oplus",!0);P(W,se,In,"","\\otimes",!0);P(W,se,tt,"","\\partial",!0);P(W,se,In,"","\\oslash",!0);P(W,Oe,In,"","\\circledcirc",!0);P(W,Oe,In,"","\\boxdot",!0);P(W,se,In,"","\\bigtriangleup");P(W,se,In,"","\\bigtriangledown");P(W,se,In,"","\\dagger");P(W,se,In,"","\\diamond");P(W,se,In,"","\\star");P(W,se,In,"","\\triangleleft");P(W,se,In,"","\\triangleright");P(W,se,U0,"{","\\{");P(rn,se,tt,"{","\\{");P(rn,se,tt,"{","\\textbraceleft");P(W,se,Jl,"}","\\}");P(rn,se,tt,"}","\\}");P(rn,se,tt,"}","\\textbraceright");P(W,se,U0,"{","\\lbrace");P(W,se,Jl,"}","\\rbrace");P(W,se,U0,"[","\\lbrack",!0);P(rn,se,tt,"[","\\lbrack",!0);P(W,se,Jl,"]","\\rbrack",!0);P(rn,se,tt,"]","\\rbrack",!0);P(W,se,U0,"(","\\lparen",!0);P(W,se,Jl,")","\\rparen",!0);P(rn,se,tt,"<","\\textless",!0);P(rn,se,tt,">","\\textgreater",!0);P(W,se,U0,"","\\lfloor",!0);P(W,se,Jl,"","\\rfloor",!0);P(W,se,U0,"","\\lceil",!0);P(W,se,Jl,"","\\rceil",!0);P(W,se,tt,"\\","\\backslash");P(W,se,tt,"","|");P(W,se,tt,"","\\vert");P(rn,se,tt,"|","\\textbar",!0);P(W,se,tt,"","\\|");P(W,se,tt,"","\\Vert");P(rn,se,tt,"","\\textbardbl");P(rn,se,tt,"~","\\textasciitilde");P(rn,se,tt,"\\","\\textbackslash");P(rn,se,tt,"^","\\textasciicircum");P(W,se,Fe,"","\\uparrow",!0);P(W,se,Fe,"","\\Uparrow",!0);P(W,se,Fe,"","\\downarrow",!0);P(W,se,Fe,"","\\Downarrow",!0);P(W,se,Fe,"","\\updownarrow",!0);P(W,se,Fe,"","\\Updownarrow",!0);P(W,se,Oo,"","\\coprod");P(W,se,Oo,"","\\bigvee");P(W,se,Oo,"","\\bigwedge");P(W,se,Oo,"","\\biguplus");P(W,se,Oo,"","\\bigcap");P(W,se,Oo,"","\\bigcup");P(W,se,Oo,"","\\int");P(W,se,Oo,"","\\intop");P(W,se,Oo,"","\\iint");P(W,se,Oo,"","\\iiint");P(W,se,Oo,"","\\prod");P(W,se,Oo,"","\\sum");P(W,se,Oo,"","\\bigotimes");P(W,se,Oo,"","\\bigoplus");P(W,se,Oo,"","\\bigodot");P(W,se,Oo,"","\\oint");P(W,se,Oo,"","\\oiint");P(W,se,Oo,"","\\oiiint");P(W,se,Oo,"","\\bigsqcup");P(W,se,Oo,"","\\smallint");P(rn,se,S4,"","\\textellipsis");P(W,se,S4,"","\\mathellipsis");P(rn,se,S4,"","\\ldots",!0);P(W,se,S4,"","\\ldots",!0);P(W,se,S4,"","\\@cdots",!0);P(W,se,S4,"","\\ddots",!0);P(W,se,tt,"","\\varvdots");P(rn,se,tt,"","\\varvdots");P(W,se,qs,"","\\acute");P(W,se,qs,"","\\grave");P(W,se,qs,"","\\ddot");P(W,se,qs,"~","\\tilde");P(W,se,qs,"","\\bar");P(W,se,qs,"","\\breve");P(W,se,qs,"","\\check");P(W,se,qs,"^","\\hat");P(W,se,qs,"","\\vec");P(W,se,qs,"","\\dot");P(W,se,qs,"","\\mathring");P(W,se,ar,"","\\@imath");P(W,se,ar,"","\\@jmath");P(W,se,tt,"","");P(W,se,tt,"","");P(rn,se,tt,"","\\i",!0);P(rn,se,tt,"","\\j",!0);P(rn,se,tt,"","\\ss",!0);P(rn,se,tt,"","\\ae",!0);P(rn,se,tt,"","\\oe",!0);P(rn,se,tt,"","\\o",!0);P(rn,se,tt,"","\\AE",!0);P(rn,se,tt,"","\\OE",!0);P(rn,se,tt,"","\\O",!0);P(rn,se,qs,"","\\'");P(rn,se,qs,"","\\`");P(rn,se,qs,"","\\^");P(rn,se,qs,"","\\~");P(rn,se,qs,"","\\=");P(rn,se,qs,"","\\u");P(rn,se,qs,"","\\.");P(rn,se,qs,"","\\c");P(rn,se,qs,"","\\r");P(rn,se,qs,"","\\v");P(rn,se,qs,"",'\\"');P(rn,se,qs,"","\\H");P(rn,se,qs,"","\\textcircled");var y9={"--":!0,"---":!0,"``":!0,"''":!0};P(rn,se,tt,"","--",!0);P(rn,se,tt,"","\\textendash");P(rn,se,tt,"","---",!0);P(rn,se,tt,"","\\textemdash");P(rn,se,tt,"","`",!0);P(rn,se,tt,"","\\textquoteleft");P(rn,se,tt,"","'",!0);P(rn,se,tt,"","\\textquoteright");P(rn,se,tt,"","``",!0);P(rn,se,tt,"","\\textquotedblleft");P(rn,se,tt,"","''",!0);P(rn,se,tt,"","\\textquotedblright");P(W,se,tt,"","\\degree",!0);P(rn,se,tt,"","\\degree");P(rn,se,tt,"","\\textdegree",!0);P(W,se,tt,"","\\pounds");P(W,se,tt,"","\\mathsterling",!0);P(rn,se,tt,"","\\pounds");P(rn,se,tt,"","\\textsterling",!0);P(W,Oe,tt,"","\\maltese");P(rn,Oe,tt,"","\\maltese");var Np='0123456789/@."';for(var U6=0;U6<Np.length;U6++){var Lp=Np.charAt(U6);P(W,se,tt,Lp,Lp)}var Dp='0123456789!@*()-=+";:?/.,';for(var H6=0;H6<Dp.length;H6++){var Bp=Dp.charAt(H6);P(rn,se,tt,Bp,Bp)}var y5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var G6=0;G6<y5.length;G6++){var J3=y5.charAt(G6);P(W,se,ar,J3,J3),P(rn,se,tt,J3,J3)}P(W,Oe,tt,"C","");P(rn,Oe,tt,"C","");P(W,Oe,tt,"H","");P(rn,Oe,tt,"H","");P(W,Oe,tt,"N","");P(rn,Oe,tt,"N","");P(W,Oe,tt,"P","");P(rn,Oe,tt,"P","");P(W,Oe,tt,"Q","");P(rn,Oe,tt,"Q","");P(W,Oe,tt,"R","");P(rn,Oe,tt,"R","");P(W,Oe,tt,"Z","");P(rn,Oe,tt,"Z","");P(W,se,ar,"h","");P(rn,se,ar,"h","");var vr="";for(var Yl=0;Yl<y5.length;Yl++){var uo=y5.charAt(Yl);vr=String.fromCharCode(55349,56320+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56372+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56424+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56580+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56684+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56736+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56788+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56840+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56944+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),Yl<26&&(vr=String.fromCharCode(55349,56632+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr),vr=String.fromCharCode(55349,56476+Yl),P(W,se,ar,uo,vr),P(rn,se,tt,uo,vr))}vr="";P(W,se,ar,"k",vr);P(rn,se,tt,"k",vr);for(var Xh=0;Xh<10;Xh++){var K1=Xh.toString();vr=String.fromCharCode(55349,57294+Xh),P(W,se,ar,K1,vr),P(rn,se,tt,K1,vr),vr=String.fromCharCode(55349,57314+Xh),P(W,se,ar,K1,vr),P(rn,se,tt,K1,vr),vr=String.fromCharCode(55349,57324+Xh),P(W,se,ar,K1,vr),P(rn,se,tt,K1,vr),vr=String.fromCharCode(55349,57334+Xh),P(W,se,ar,K1,vr),P(rn,se,tt,K1,vr)}var g7="";for(var V6=0;V6<g7.length;V6++){var Z3=g7.charAt(V6);P(W,se,ar,Z3,Z3),P(rn,se,tt,Z3,Z3)}var Q3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Pp=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Q_=function(s,n){var a=s.charCodeAt(0),d=s.charCodeAt(1),m=(a-55296)*1024+(d-56320)+65536,b=n==="math"?0:1;if(119808<=m&&m<120484){var C=Math.floor((m-119808)/26);return[Q3[C][2],Q3[C][b]]}else if(120782<=m&&m<=120831){var x=Math.floor((m-120782)/10);return[Pp[x][2],Pp[x][b]]}else{if(m===120485||m===120486)return[Q3[0][2],Q3[0][b]];if(120486<m&&m<120782)return["",""];throw new un("Unsupported character: "+s)}},M5=function(s,n,a){return Is[a][s]&&Is[a][s].replace&&(s=Is[a][s].replace),{value:s,metrics:H7(s,n,a)}},eu=function(s,n,a,d,m){var b=M5(s,n,a),C=b.metrics;s=b.value;var x;if(C){var k=C.italic;(a==="text"||d&&d.font==="mathit")&&(k=0),x=new Ta(s,C.height,C.depth,k,C.skew,C.width,m)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+s+"' in style '"+n+"' and mode '"+a+"'")),x=new Ta(s,0,0,0,0,0,m);if(d){x.maxFontSize=d.sizeMultiplier,d.style.isTight()&&x.classes.push("mtight");var E=d.getColor();E&&(x.style.color=E)}return x},eE=function(s,n,a,d){return d===void 0&&(d=[]),a.font==="boldsymbol"&&M5(s,"Main-Bold",n).metrics?eu(s,"Main-Bold",n,a,d.concat(["mathbf"])):s==="\\"||Is[n][s].font==="main"?eu(s,"Main-Regular",n,a,d):eu(s,"AMS-Regular",n,a,d.concat(["amsrm"]))},tE=function(s,n,a,d,m){return m!=="textord"&&M5(s,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},nE=function(s,n,a){var d=s.mode,m=s.text,b=["mord"],C=d==="math"||d==="text"&&n.font,x=C?n.font:n.fontFamily,k="",E="";if(m.charCodeAt(0)===55349&&([k,E]=Q_(m,d)),k.length>0)return eu(m,k,d,n,b.concat(E));if(x){var R,q;if(x==="boldsymbol"){var z=tE(m,d,n,b,a);R=z.fontName,q=[z.fontClass]}else C?(R=E9[x].fontName,q=[x]):(R=e5(x,n.fontWeight,n.fontShape),q=[x,n.fontWeight,n.fontShape]);if(M5(m,R,d).metrics)return eu(m,R,d,n,b.concat(q));if(y9.hasOwnProperty(m)&&R.slice(0,10)==="Typewriter"){for(var fe=[],ve=0;ve<m.length;ve++)fe.push(eu(m[ve],R,d,n,b.concat(q)));return _9(fe)}}if(a==="mathord")return eu(m,"Math-Italic",d,n,b.concat(["mathnormal"]));if(a==="textord"){var ge=Is[d][m]&&Is[d][m].font;if(ge==="ams"){var re=e5("amsrm",n.fontWeight,n.fontShape);return eu(m,re,d,n,b.concat("amsrm",n.fontWeight,n.fontShape))}else if(ge==="main"||!ge){var ie=e5("textrm",n.fontWeight,n.fontShape);return eu(m,ie,d,n,b.concat(n.fontWeight,n.fontShape))}else{var ke=e5(ge,n.fontWeight,n.fontShape);return eu(m,ke,d,n,b.concat(ke,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+a+" in makeOrd")},rE=(o,s)=>{if(Z1(o.classes)!==Z1(s.classes)||o.skew!==s.skew||o.maxFontSize!==s.maxFontSize)return!1;if(o.classes.length===1){var n=o.classes[0];if(n==="mbin"||n==="mord")return!1}for(var a in o.style)if(o.style.hasOwnProperty(a)&&o.style[a]!==s.style[a])return!1;for(var d in s.style)if(s.style.hasOwnProperty(d)&&o.style[d]!==s.style[d])return!1;return!0},iE=o=>{for(var s=0;s<o.length-1;s++){var n=o[s],a=o[s+1];n instanceof Ta&&a instanceof Ta&&rE(n,a)&&(n.text+=a.text,n.height=Math.max(n.height,a.height),n.depth=Math.max(n.depth,a.depth),n.italic=a.italic,o.splice(s+1,1),s--)}return o},V7=function(s){for(var n=0,a=0,d=0,m=0;m<s.children.length;m++){var b=s.children[m];b.height>n&&(n=b.height),b.depth>a&&(a=b.depth),b.maxFontSize>d&&(d=b.maxFontSize)}s.height=n,s.depth=a,s.maxFontSize=d},u0=function(s,n,a,d){var m=new u3(s,n,a,d);return V7(m),m},T9=(o,s,n,a)=>new u3(o,s,n,a),sE=function(s,n,a){var d=u0([s],[],n);return d.height=Math.max(a||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),d.style.borderBottomWidth=mn(d.height),d.maxFontSize=1,d},oE=function(s,n,a,d){var m=new G7(s,n,a,d);return V7(m),m},_9=function(s){var n=new a3(s);return V7(n),n},lE=function(s,n){return s instanceof a3?u0([],[s],n):s},aE=function(s){if(s.positionType==="individualShift"){for(var n=s.children,a=[n[0]],d=-n[0].shift-n[0].elem.depth,m=d,b=1;b<n.length;b++){var C=-n[b].shift-m-n[b].elem.depth,x=C-(n[b-1].elem.height+n[b-1].elem.depth);m=m+C,a.push({type:"kern",size:x}),a.push(n[b])}return{children:a,depth:d}}var k;if(s.positionType==="top"){for(var E=s.positionData,R=0;R<s.children.length;R++){var q=s.children[R];E-=q.type==="kern"?q.size:q.elem.height+q.elem.depth}k=E}else if(s.positionType==="bottom")k=-s.positionData;else{var z=s.children[0];if(z.type!=="elem")throw new Error('First child must have type "elem".');if(s.positionType==="shift")k=-z.elem.depth-s.positionData;else if(s.positionType==="firstBaseline")k=-z.elem.depth;else throw new Error("Invalid positionType "+s.positionType+".")}return{children:s.children,depth:k}},uE=function(s,n){for(var{children:a,depth:d}=aE(s),m=0,b=0;b<a.length;b++){var C=a[b];if(C.type==="elem"){var x=C.elem;m=Math.max(m,x.maxFontSize,x.height)}}m+=2;var k=u0(["pstrut"],[]);k.style.height=mn(m);for(var E=[],R=d,q=d,z=d,fe=0;fe<a.length;fe++){var ve=a[fe];if(ve.type==="kern")z+=ve.size;else{var ge=ve.elem,re=ve.wrapperClasses||[],ie=ve.wrapperStyle||{},ke=u0(re,[k,ge],void 0,ie);ke.style.top=mn(-m-z-ge.depth),ve.marginLeft&&(ke.style.marginLeft=ve.marginLeft),ve.marginRight&&(ke.style.marginRight=ve.marginRight),E.push(ke),z+=ge.height+ge.depth}R=Math.min(R,z),q=Math.max(q,z)}var Be=u0(["vlist"],E);Be.style.height=mn(q);var Ke;if(R<0){var ye=u0([],[]),Ve=u0(["vlist"],[ye]);Ve.style.height=mn(-R);var st=u0(["vlist-s"],[new Ta("")]);Ke=[u0(["vlist-r"],[Be,st]),u0(["vlist-r"],[Ve])]}else Ke=[u0(["vlist-r"],[Be])];var Xe=u0(["vlist-t"],Ke);return Ke.length===2&&Xe.classes.push("vlist-t2"),Xe.height=q,Xe.depth=-R,Xe},cE=(o,s)=>{var n=u0(["mspace"],[],s),a=to(o,s);return n.style.marginRight=mn(a),n},e5=function(s,n,a){var d="";switch(s){case"amsrm":d="AMS";break;case"textrm":d="Main";break;case"textsf":d="SansSerif";break;case"texttt":d="Typewriter";break;default:d=s}var m;return n==="textbf"&&a==="textit"?m="BoldItalic":n==="textbf"?m="Bold":n==="textit"?m="Italic":m="Regular",d+"-"+m},E9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},w9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},hE=function(s,n){var[a,d,m]=w9[s],b=new Q1(a),C=new Gc([b],{width:mn(d),height:mn(m),style:"width:"+mn(d),viewBox:"0 0 "+1e3*d+" "+1e3*m,preserveAspectRatio:"xMinYMin"}),x=T9(["overlay"],[C],n);return x.height=m,x.style.height=mn(m),x.style.width=mn(d),x},Tt={fontMap:E9,makeSymbol:eu,mathsym:eE,makeSpan:u0,makeSvgSpan:T9,makeLineSpan:sE,makeAnchor:oE,makeFragment:_9,wrapFragment:lE,makeVList:uE,makeOrd:nE,makeGlue:cE,staticSvg:hE,svgData:w9,tryCombineChars:iE},eo={number:3,unit:"mu"},jh={number:4,unit:"mu"},Fc={number:5,unit:"mu"},dE={mord:{mop:eo,mbin:jh,mrel:Fc,minner:eo},mop:{mord:eo,mop:eo,mrel:Fc,minner:eo},mbin:{mord:jh,mop:jh,mopen:jh,minner:jh},mrel:{mord:Fc,mop:Fc,mopen:Fc,minner:Fc},mopen:{},mclose:{mop:eo,mbin:jh,mrel:Fc,minner:eo},mpunct:{mord:eo,mop:eo,mrel:Fc,mopen:eo,mclose:eo,mpunct:eo,minner:eo},minner:{mord:eo,mop:eo,mbin:jh,mrel:Fc,mopen:eo,mpunct:eo,minner:eo}},fE={mord:{mop:eo},mop:{mord:eo,mop:eo},mbin:{},mrel:{},mopen:{},mclose:{mop:eo},mpunct:{},minner:{mop:eo}},S9={},T5={},_5={};function En(o){for(var{type:s,names:n,props:a,handler:d,htmlBuilder:m,mathmlBuilder:b}=o,C={type:s,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:a.allowedInMath===void 0?!0:a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:d},x=0;x<n.length;++x)S9[n[x]]=C;s&&(m&&(T5[s]=m),b&&(_5[s]=b))}function Kh(o){var{type:s,htmlBuilder:n,mathmlBuilder:a}=o;En({type:s,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:a})}var E5=function(s){return s.type==="ordgroup"&&s.body.length===1?s.body[0]:s},bo=function(s){return s.type==="ordgroup"?s.body:[s]},Vc=Tt.makeSpan,pE=["leftmost","mbin","mopen","mrel","mop","mpunct"],mE=["rightmost","mrel","mclose","mpunct"],gE={display:ur.DISPLAY,text:ur.TEXT,script:ur.SCRIPT,scriptscript:ur.SCRIPTSCRIPT},$E={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ho=function(s,n,a,d){d===void 0&&(d=[null,null]);for(var m=[],b=0;b<s.length;b++){var C=Di(s[b],n);if(C instanceof a3){var x=C.children;m.push(...x)}else m.push(C)}if(Tt.tryCombineChars(m),!a)return m;var k=n;if(s.length===1){var E=s[0];E.type==="sizing"?k=n.havingSize(E.size):E.type==="styling"&&(k=n.havingStyle(gE[E.style]))}var R=Vc([d[0]||"leftmost"],[],n),q=Vc([d[1]||"rightmost"],[],n),z=a==="root";return Fp(m,(fe,ve)=>{var ge=ve.classes[0],re=fe.classes[0];ge==="mbin"&&mE.includes(re)?ve.classes[0]="mord":re==="mbin"&&pE.includes(ge)&&(fe.classes[0]="mord")},{node:R},q,z),Fp(m,(fe,ve)=>{var ge=$7(ve),re=$7(fe),ie=ge&&re?fe.hasClass("mtight")?fE[ge][re]:dE[ge][re]:null;if(ie)return Tt.makeGlue(ie,k)},{node:R},q,z),m},Fp=function o(s,n,a,d,m){d&&s.push(d);for(var b=0;b<s.length;b++){var C=s[b],x=x9(C);if(x){o(x.children,n,a,null,m);continue}var k=!C.hasClass("mspace");if(k){var E=n(C,a.node);E&&(a.insertAfter?a.insertAfter(E):(s.unshift(E),b++))}k?a.node=C:m&&C.hasClass("newline")&&(a.node=Vc(["leftmost"])),a.insertAfter=(R=>q=>{s.splice(R+1,0,q),b++})(b)}d&&s.pop()},x9=function(s){return s instanceof a3||s instanceof G7||s instanceof u3&&s.hasClass("enclosing")?s:null},vE=function o(s,n){var a=x9(s);if(a){var d=a.children;if(d.length){if(n==="right")return o(d[d.length-1],"right");if(n==="left")return o(d[0],"left")}}return s},$7=function(s,n){return s?(n&&(s=vE(s,n)),$E[s.classes[0]]||null):null},i3=function(s,n){var a=["nulldelimiter"].concat(s.baseSizingClasses());return Vc(n.concat(a))},Di=function(s,n,a){if(!s)return Vc();if(T5[s.type]){var d=T5[s.type](s,n);if(a&&n.size!==a.size){d=Vc(n.sizingClasses(a),[d],n);var m=n.sizeMultiplier/a.sizeMultiplier;d.height*=m,d.depth*=m}return d}else throw new un("Got group of unknown type: '"+s.type+"'")};function t5(o,s){var n=Vc(["base"],o,s),a=Vc(["strut"]);return a.style.height=mn(n.height+n.depth),n.depth&&(a.style.verticalAlign=mn(-n.depth)),n.children.unshift(a),n}function v7(o,s){var n=null;o.length===1&&o[0].type==="tag"&&(n=o[0].tag,o=o[0].body);var a=Ho(o,s,"root"),d;a.length===2&&a[1].hasClass("tag")&&(d=a.pop());for(var m=[],b=[],C=0;C<a.length;C++)if(b.push(a[C]),a[C].hasClass("mbin")||a[C].hasClass("mrel")||a[C].hasClass("allowbreak")){for(var x=!1;C<a.length-1&&a[C+1].hasClass("mspace")&&!a[C+1].hasClass("newline");)C++,b.push(a[C]),a[C].hasClass("nobreak")&&(x=!0);x||(m.push(t5(b,s)),b=[])}else a[C].hasClass("newline")&&(b.pop(),b.length>0&&(m.push(t5(b,s)),b=[]),m.push(a[C]));b.length>0&&m.push(t5(b,s));var k;n?(k=t5(Ho(n,s,!0)),k.classes=["tag"],m.push(k)):d&&m.push(d);var E=Vc(["katex-html"],m);if(E.setAttribute("aria-hidden","true"),k){var R=k.children[0];R.style.height=mn(E.height+E.depth),E.depth&&(R.style.verticalAlign=mn(-E.depth))}return E}function C9(o){return new a3(o)}class P0{constructor(s,n,a){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=s,this.attributes={},this.children=n||[],this.classes=a||[]}setAttribute(s,n){this.attributes[s]=n}getAttribute(s){return this.attributes[s]}toNode(){var s=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&s.setAttribute(n,this.attributes[n]);this.classes.length>0&&(s.className=Z1(this.classes));for(var a=0;a<this.children.length;a++)if(this.children[a]instanceof Wu&&this.children[a+1]instanceof Wu){for(var d=this.children[a].toText()+this.children[++a].toText();this.children[a+1]instanceof Wu;)d+=this.children[++a].toText();s.appendChild(new Wu(d).toNode())}else s.appendChild(this.children[a].toNode());return s}toMarkup(){var s="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(s+=" "+n+'="',s+=Gi.escape(this.attributes[n]),s+='"');this.classes.length>0&&(s+=' class ="'+Gi.escape(Z1(this.classes))+'"'),s+=">";for(var a=0;a<this.children.length;a++)s+=this.children[a].toMarkup();return s+="</"+this.type+">",s}toText(){return this.children.map(s=>s.toText()).join("")}}class Wu{constructor(s){this.text=void 0,this.text=s}toNode(){return document.createTextNode(this.text)}toMarkup(){return Gi.escape(this.toText())}toText(){return this.text}}class bE{constructor(s){this.width=void 0,this.character=void 0,this.width=s,s>=.05555&&s<=.05556?this.character="":s>=.1666&&s<=.1667?this.character="":s>=.2222&&s<=.2223?this.character="":s>=.2777&&s<=.2778?this.character="":s>=-.05556&&s<=-.05555?this.character="":s>=-.1667&&s<=-.1666?this.character="":s>=-.2223&&s<=-.2222?this.character="":s>=-.2778&&s<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var s=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return s.setAttribute("width",mn(this.width)),s}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+mn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ln={MathNode:P0,TextNode:Wu,SpaceNode:bE,newDocumentFragment:C9},_a=function(s,n,a){return Is[n][s]&&Is[n][s].replace&&s.charCodeAt(0)!==55349&&!(y9.hasOwnProperty(s)&&a&&(a.fontFamily&&a.fontFamily.slice(4,6)==="tt"||a.font&&a.font.slice(4,6)==="tt"))&&(s=Is[n][s].replace),new ln.TextNode(s)},W7=function(s){return s.length===1?s[0]:new ln.MathNode("mrow",s)},q7=function(s,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var a=n.font;if(!a||a==="mathnormal")return null;var d=s.mode;if(a==="mathit")return"italic";if(a==="boldsymbol")return s.type==="textord"?"bold":"bold-italic";if(a==="mathbf")return"bold";if(a==="mathbb")return"double-struck";if(a==="mathsfit")return"sans-serif-italic";if(a==="mathfrak")return"fraktur";if(a==="mathscr"||a==="mathcal")return"script";if(a==="mathsf")return"sans-serif";if(a==="mathtt")return"monospace";var m=s.text;if(["\\imath","\\jmath"].includes(m))return null;Is[d][m]&&Is[d][m].replace&&(m=Is[d][m].replace);var b=Tt.fontMap[a].fontName;return H7(m,b,d)?Tt.fontMap[a].variant:null};function W6(o){if(!o)return!1;if(o.type==="mi"&&o.children.length===1){var s=o.children[0];return s instanceof Wu&&s.text==="."}else if(o.type==="mo"&&o.children.length===1&&o.getAttribute("separator")==="true"&&o.getAttribute("lspace")==="0em"&&o.getAttribute("rspace")==="0em"){var n=o.children[0];return n instanceof Wu&&n.text===","}else return!1}var f0=function(s,n,a){if(s.length===1){var d=Es(s[0],n);return a&&d instanceof P0&&d.type==="mo"&&(d.setAttribute("lspace","0em"),d.setAttribute("rspace","0em")),[d]}for(var m=[],b,C=0;C<s.length;C++){var x=Es(s[C],n);if(x instanceof P0&&b instanceof P0){if(x.type==="mtext"&&b.type==="mtext"&&x.getAttribute("mathvariant")===b.getAttribute("mathvariant")){b.children.push(...x.children);continue}else if(x.type==="mn"&&b.type==="mn"){b.children.push(...x.children);continue}else if(W6(x)&&b.type==="mn"){b.children.push(...x.children);continue}else if(x.type==="mn"&&W6(b))x.children=[...b.children,...x.children],m.pop();else if((x.type==="msup"||x.type==="msub")&&x.children.length>=1&&(b.type==="mn"||W6(b))){var k=x.children[0];k instanceof P0&&k.type==="mn"&&(k.children=[...b.children,...k.children],m.pop())}else if(b.type==="mi"&&b.children.length===1){var E=b.children[0];if(E instanceof Wu&&E.text===""&&(x.type==="mo"||x.type==="mi"||x.type==="mn")){var R=x.children[0];R instanceof Wu&&R.text.length>0&&(R.text=R.text.slice(0,1)+""+R.text.slice(1),m.pop())}}}m.push(x),b=x}return m},eh=function(s,n,a){return W7(f0(s,n,a))},Es=function(s,n){if(!s)return new ln.MathNode("mrow");if(_5[s.type]){var a=_5[s.type](s,n);return a}else throw new un("Got group of unknown type: '"+s.type+"'")};function zp(o,s,n,a,d){var m=f0(o,n),b;m.length===1&&m[0]instanceof P0&&["mrow","mtable"].includes(m[0].type)?b=m[0]:b=new ln.MathNode("mrow",m);var C=new ln.MathNode("annotation",[new ln.TextNode(s)]);C.setAttribute("encoding","application/x-tex");var x=new ln.MathNode("semantics",[b,C]),k=new ln.MathNode("math",[x]);k.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),a&&k.setAttribute("display","block");var E=d?"katex":"katex-mathml";return Tt.makeSpan([E],[k])}var k9=function(s){return new zc({style:s.displayMode?ur.DISPLAY:ur.TEXT,maxSize:s.maxSize,minRuleThickness:s.minRuleThickness})},A9=function(s,n){if(n.displayMode){var a=["katex-display"];n.leqno&&a.push("leqno"),n.fleqn&&a.push("fleqn"),s=Tt.makeSpan(a,[s])}return s},yE=function(s,n,a){var d=k9(a),m;if(a.output==="mathml")return zp(s,n,d,a.displayMode,!0);if(a.output==="html"){var b=v7(s,d);m=Tt.makeSpan(["katex"],[b])}else{var C=zp(s,n,d,a.displayMode,!1),x=v7(s,d);m=Tt.makeSpan(["katex"],[C,x])}return A9(m,a)},TE=function(s,n,a){var d=k9(a),m=v7(s,d),b=Tt.makeSpan(["katex"],[m]);return A9(b,a)},_E={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},EE=function(s){var n=new ln.MathNode("mo",[new ln.TextNode(_E[s.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},wE={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},SE=function(s){return s.type==="ordgroup"?s.body.length:1},xE=function(s,n){function a(){var C=4e5,x=s.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(x)){var k=s,E=SE(k.base),R,q,z;if(E>5)x==="widehat"||x==="widecheck"?(R=420,C=2364,z=.42,q=x+"4"):(R=312,C=2340,z=.34,q="tilde4");else{var fe=[1,1,2,2,3,3][E];x==="widehat"||x==="widecheck"?(C=[0,1062,2364,2364,2364][fe],R=[0,239,300,360,420][fe],z=[0,.24,.3,.3,.36,.42][fe],q=x+fe):(C=[0,600,1033,2339,2340][fe],R=[0,260,286,306,312][fe],z=[0,.26,.286,.3,.306,.34][fe],q="tilde"+fe)}var ve=new Q1(q),ge=new Gc([ve],{width:"100%",height:mn(z),viewBox:"0 0 "+C+" "+R,preserveAspectRatio:"none"});return{span:Tt.makeSvgSpan([],[ge],n),minWidth:0,height:z}}else{var re=[],ie=wE[x],[ke,Be,Ke]=ie,ye=Ke/1e3,Ve=ke.length,st,Xe;if(Ve===1){var Qt=ie[3];st=["hide-tail"],Xe=[Qt]}else if(Ve===2)st=["halfarrow-left","halfarrow-right"],Xe=["xMinYMin","xMaxYMin"];else if(Ve===3)st=["brace-left","brace-center","brace-right"],Xe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Ve+" children.");for(var It=0;It<Ve;It++){var De=new Q1(ke[It]),Bt=new Gc([De],{width:"400em",height:mn(ye),viewBox:"0 0 "+C+" "+Ke,preserveAspectRatio:Xe[It]+" slice"}),kt=Tt.makeSvgSpan([st[It]],[Bt],n);if(Ve===1)return{span:kt,minWidth:Be,height:ye};kt.style.height=mn(ye),re.push(kt)}return{span:Tt.makeSpan(["stretchy"],re,n),minWidth:Be,height:ye}}}var{span:d,minWidth:m,height:b}=a();return d.height=b,d.style.height=mn(b),m>0&&(d.style.minWidth=mn(m)),d},CE=function(s,n,a,d,m){var b,C=s.height+s.depth+a+d;if(/fbox|color|angl/.test(n)){if(b=Tt.makeSpan(["stretchy",n],[],m),n==="fbox"){var x=m.color&&m.getColor();x&&(b.style.borderColor=x)}}else{var k=[];/^[bx]cancel$/.test(n)&&k.push(new m7({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&k.push(new m7({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var E=new Gc(k,{width:"100%",height:mn(C)});b=Tt.makeSvgSpan([],[E],m)}return b.height=C,b.style.height=mn(C),b},Wc={encloseSpan:CE,mathMLnode:EE,svgSpan:xE};function Vr(o,s){if(!o||o.type!==s)throw new Error("Expected node of type "+s+", but got "+(o?"node of type "+o.type:String(o)));return o}function X7(o){var s=R5(o);if(!s)throw new Error("Expected node of symbol group type, but got "+(o?"node of type "+o.type:String(o)));return s}function R5(o){return o&&(o.type==="atom"||Z_.hasOwnProperty(o.type))?o:null}var j7=(o,s)=>{var n,a,d;o&&o.type==="supsub"?(a=Vr(o.base,"accent"),n=a.base,o.base=n,d=K_(Di(o,s)),o.base=a):(a=Vr(o,"accent"),n=a.base);var m=Di(n,s.havingCrampedStyle()),b=a.isShifty&&Gi.isCharacterBox(n),C=0;if(b){var x=Gi.getBaseElem(n),k=Di(x,s.havingCrampedStyle());C=Op(k).skew}var E=a.label==="\\c",R=E?m.height+m.depth:Math.min(m.height,s.fontMetrics().xHeight),q;if(a.isStretchy)q=Wc.svgSpan(a,s),q=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"elem",elem:q,wrapperClasses:["svg-align"],wrapperStyle:C>0?{width:"calc(100% - "+mn(2*C)+")",marginLeft:mn(2*C)}:void 0}]},s);else{var z,fe;a.label==="\\vec"?(z=Tt.staticSvg("vec",s),fe=Tt.svgData.vec[1]):(z=Tt.makeOrd({mode:a.mode,text:a.label},s,"textord"),z=Op(z),z.italic=0,fe=z.width,E&&(R+=z.depth)),q=Tt.makeSpan(["accent-body"],[z]);var ve=a.label==="\\textcircled";ve&&(q.classes.push("accent-full"),R=m.height);var ge=C;ve||(ge-=fe/2),q.style.left=mn(ge),a.label==="\\textcircled"&&(q.style.top=".2em"),q=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:-R},{type:"elem",elem:q}]},s)}var re=Tt.makeSpan(["mord","accent"],[q],s);return d?(d.children[0]=re,d.height=Math.max(re.height,d.height),d.classes[0]="mord",d):re},I9=(o,s)=>{var n=o.isStretchy?Wc.mathMLnode(o.label):new ln.MathNode("mo",[_a(o.label,o.mode)]),a=new ln.MathNode("mover",[Es(o.base,s),n]);return a.setAttribute("accent","true"),a},kE=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(o=>"\\"+o).join("|"));En({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(o,s)=>{var n=E5(s[0]),a=!kE.test(o.funcName),d=!a||o.funcName==="\\widehat"||o.funcName==="\\widetilde"||o.funcName==="\\widecheck";return{type:"accent",mode:o.parser.mode,label:o.funcName,isStretchy:a,isShifty:d,base:n}},htmlBuilder:j7,mathmlBuilder:I9});En({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(o,s)=>{var n=s[0],a=o.parser.mode;return a==="math"&&(o.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+o.funcName+" works only in text mode"),a="text"),{type:"accent",mode:a,label:o.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:j7,mathmlBuilder:I9});En({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=s[0];return{type:"accentUnder",mode:n.mode,label:a,base:d}},htmlBuilder:(o,s)=>{var n=Di(o.base,s),a=Wc.svgSpan(o,s),d=o.label==="\\utilde"?.12:0,m=Tt.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:d},{type:"elem",elem:n}]},s);return Tt.makeSpan(["mord","accentunder"],[m],s)},mathmlBuilder:(o,s)=>{var n=Wc.mathMLnode(o.label),a=new ln.MathNode("munder",[Es(o.base,s),n]);return a.setAttribute("accentunder","true"),a}});var n5=o=>{var s=new ln.MathNode("mpadded",o?[o]:[]);return s.setAttribute("width","+0.6em"),s.setAttribute("lspace","0.3em"),s};En({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(o,s,n){var{parser:a,funcName:d}=o;return{type:"xArrow",mode:a.mode,label:d,body:s[0],below:n[0]}},htmlBuilder(o,s){var n=s.style,a=s.havingStyle(n.sup()),d=Tt.wrapFragment(Di(o.body,a,s),s),m=o.label.slice(0,2)==="\\x"?"x":"cd";d.classes.push(m+"-arrow-pad");var b;o.below&&(a=s.havingStyle(n.sub()),b=Tt.wrapFragment(Di(o.below,a,s),s),b.classes.push(m+"-arrow-pad"));var C=Wc.svgSpan(o,s),x=-s.fontMetrics().axisHeight+.5*C.height,k=-s.fontMetrics().axisHeight-.5*C.height-.111;(d.depth>.25||o.label==="\\xleftequilibrium")&&(k-=d.depth);var E;if(b){var R=-s.fontMetrics().axisHeight+b.height+.5*C.height+.111;E=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:k},{type:"elem",elem:C,shift:x},{type:"elem",elem:b,shift:R}]},s)}else E=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:k},{type:"elem",elem:C,shift:x}]},s);return E.children[0].children[0].children[1].classes.push("svg-align"),Tt.makeSpan(["mrel","x-arrow"],[E],s)},mathmlBuilder(o,s){var n=Wc.mathMLnode(o.label);n.setAttribute("minsize",o.label.charAt(0)==="x"?"1.75em":"3.0em");var a;if(o.body){var d=n5(Es(o.body,s));if(o.below){var m=n5(Es(o.below,s));a=new ln.MathNode("munderover",[n,m,d])}else a=new ln.MathNode("mover",[n,d])}else if(o.below){var b=n5(Es(o.below,s));a=new ln.MathNode("munder",[n,b])}else a=n5(),a=new ln.MathNode("mover",[n,a]);return a}});var AE=Tt.makeSpan;function M9(o,s){var n=Ho(o.body,s,!0);return AE([o.mclass],n,s)}function R9(o,s){var n,a=f0(o.body,s);return o.mclass==="minner"?n=new ln.MathNode("mpadded",a):o.mclass==="mord"?o.isCharacterBox?(n=a[0],n.type="mi"):n=new ln.MathNode("mi",a):(o.isCharacterBox?(n=a[0],n.type="mo"):n=new ln.MathNode("mo",a),o.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):o.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):o.mclass==="mopen"||o.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):o.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}En({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(o,s){var{parser:n,funcName:a}=o,d=s[0];return{type:"mclass",mode:n.mode,mclass:"m"+a.slice(5),body:bo(d),isCharacterBox:Gi.isCharacterBox(d)}},htmlBuilder:M9,mathmlBuilder:R9});var O5=o=>{var s=o.type==="ordgroup"&&o.body.length?o.body[0]:o;return s.type==="atom"&&(s.family==="bin"||s.family==="rel")?"m"+s.family:"mord"};En({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(o,s){var{parser:n}=o;return{type:"mclass",mode:n.mode,mclass:O5(s[0]),body:bo(s[1]),isCharacterBox:Gi.isCharacterBox(s[1])}}});En({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(o,s){var{parser:n,funcName:a}=o,d=s[1],m=s[0],b;a!=="\\stackrel"?b=O5(d):b="mrel";var C={type:"op",mode:d.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:a!=="\\stackrel",body:bo(d)},x={type:"supsub",mode:m.mode,base:C,sup:a==="\\underset"?null:m,sub:a==="\\underset"?m:null};return{type:"mclass",mode:n.mode,mclass:b,body:[x],isCharacterBox:Gi.isCharacterBox(x)}},htmlBuilder:M9,mathmlBuilder:R9});En({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(o,s){var{parser:n}=o;return{type:"pmb",mode:n.mode,mclass:O5(s[0]),body:bo(s[0])}},htmlBuilder(o,s){var n=Ho(o.body,s,!0),a=Tt.makeSpan([o.mclass],n,s);return a.style.textShadow="0.02em 0.01em 0.04px",a},mathmlBuilder(o,s){var n=f0(o.body,s),a=new ln.MathNode("mstyle",n);return a.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),a}});var IE={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Up=()=>({type:"styling",body:[],mode:"math",style:"display"}),Hp=o=>o.type==="textord"&&o.text==="@",ME=(o,s)=>(o.type==="mathord"||o.type==="atom")&&o.text===s;function RE(o,s,n){var a=IE[o];switch(a){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(a,[s[0]],[s[1]]);case"\\uparrow":case"\\downarrow":{var d=n.callFunction("\\\\cdleft",[s[0]],[]),m={type:"atom",text:a,mode:"math",family:"rel"},b=n.callFunction("\\Big",[m],[]),C=n.callFunction("\\\\cdright",[s[1]],[]),x={type:"ordgroup",mode:"math",body:[d,b,C]};return n.callFunction("\\\\cdparent",[x],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var k={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[k],[])}default:return{type:"textord",text:" ",mode:"math"}}}function OE(o){var s=[];for(o.gullet.beginGroup(),o.gullet.macros.set("\\cr","\\\\\\relax"),o.gullet.beginGroup();;){s.push(o.parseExpression(!1,"\\\\")),o.gullet.endGroup(),o.gullet.beginGroup();var n=o.fetch().text;if(n==="&"||n==="\\\\")o.consume();else if(n==="\\end"){s[s.length-1].length===0&&s.pop();break}else throw new un("Expected \\\\ or \\cr or \\end",o.nextToken)}for(var a=[],d=[a],m=0;m<s.length;m++){for(var b=s[m],C=Up(),x=0;x<b.length;x++)if(!Hp(b[x]))C.body.push(b[x]);else{a.push(C),x+=1;var k=X7(b[x]).text,E=new Array(2);if(E[0]={type:"ordgroup",mode:"math",body:[]},E[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(k)>-1))if("<>AV".indexOf(k)>-1)for(var R=0;R<2;R++){for(var q=!0,z=x+1;z<b.length;z++){if(ME(b[z],k)){q=!1,x=z;break}if(Hp(b[z]))throw new un("Missing a "+k+" character to complete a CD arrow.",b[z]);E[R].body.push(b[z])}if(q)throw new un("Missing a "+k+" character to complete a CD arrow.",b[x])}else throw new un('Expected one of "<>AV=|." after @',b[x]);var fe=RE(k,E,o),ve={type:"styling",body:[fe],mode:"math",style:"display"};a.push(ve),C=Up()}m%2===0?a.push(C):a.shift(),a=[],d.push(a)}o.gullet.endGroup(),o.gullet.endGroup();var ge=new Array(d[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:d,arraystretch:1,addJot:!0,rowGaps:[null],cols:ge,colSeparationType:"CD",hLinesBeforeRow:new Array(d.length+1).fill([])}}En({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(o,s){var{parser:n,funcName:a}=o;return{type:"cdlabel",mode:n.mode,side:a.slice(4),label:s[0]}},htmlBuilder(o,s){var n=s.havingStyle(s.style.sup()),a=Tt.wrapFragment(Di(o.label,n,s),s);return a.classes.push("cd-label-"+o.side),a.style.bottom=mn(.8-a.depth),a.height=0,a.depth=0,a},mathmlBuilder(o,s){var n=new ln.MathNode("mrow",[Es(o.label,s)]);return n=new ln.MathNode("mpadded",[n]),n.setAttribute("width","0"),o.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ln.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});En({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(o,s){var{parser:n}=o;return{type:"cdlabelparent",mode:n.mode,fragment:s[0]}},htmlBuilder(o,s){var n=Tt.wrapFragment(Di(o.fragment,s),s);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(o,s){return new ln.MathNode("mrow",[Es(o.fragment,s)])}});En({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(o,s){for(var{parser:n}=o,a=Vr(s[0],"ordgroup"),d=a.body,m="",b=0;b<d.length;b++){var C=Vr(d[b],"textord");m+=C.text}var x=parseInt(m),k;if(isNaN(x))throw new un("\\@char has non-numeric argument "+m);if(x<0||x>=1114111)throw new un("\\@char with invalid code point "+m);return x<=65535?k=String.fromCharCode(x):(x-=65536,k=String.fromCharCode((x>>10)+55296,(x&1023)+56320)),{type:"textord",mode:n.mode,text:k}}});var O9=(o,s)=>{var n=Ho(o.body,s.withColor(o.color),!1);return Tt.makeFragment(n)},N9=(o,s)=>{var n=f0(o.body,s.withColor(o.color)),a=new ln.MathNode("mstyle",n);return a.setAttribute("mathcolor",o.color),a};En({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(o,s){var{parser:n}=o,a=Vr(s[0],"color-token").color,d=s[1];return{type:"color",mode:n.mode,color:a,body:bo(d)}},htmlBuilder:O9,mathmlBuilder:N9});En({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(o,s){var{parser:n,breakOnTokenText:a}=o,d=Vr(s[0],"color-token").color;n.gullet.macros.set("\\current@color",d);var m=n.parseExpression(!0,a);return{type:"color",mode:n.mode,color:d,body:m}},htmlBuilder:O9,mathmlBuilder:N9});En({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(o,s,n){var{parser:a}=o,d=a.gullet.future().text==="["?a.parseSizeGroup(!0):null,m=!a.settings.displayMode||!a.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:a.mode,newLine:m,size:d&&Vr(d,"size").value}},htmlBuilder(o,s){var n=Tt.makeSpan(["mspace"],[],s);return o.newLine&&(n.classes.push("newline"),o.size&&(n.style.marginTop=mn(to(o.size,s)))),n},mathmlBuilder(o,s){var n=new ln.MathNode("mspace");return o.newLine&&(n.setAttribute("linebreak","newline"),o.size&&n.setAttribute("height",mn(to(o.size,s)))),n}});var b7={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},L9=o=>{var s=o.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new un("Expected a control sequence",o);return s},NE=o=>{var s=o.gullet.popToken();return s.text==="="&&(s=o.gullet.popToken(),s.text===" "&&(s=o.gullet.popToken())),s},D9=(o,s,n,a)=>{var d=o.gullet.macros.get(n.text);d==null&&(n.noexpand=!0,d={tokens:[n],numArgs:0,unexpandable:!o.gullet.isExpandable(n.text)}),o.gullet.macros.set(s,d,a)};En({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(o){var{parser:s,funcName:n}=o;s.consumeSpaces();var a=s.fetch();if(b7[a.text])return(n==="\\global"||n==="\\\\globallong")&&(a.text=b7[a.text]),Vr(s.parseFunction(),"internal");throw new un("Invalid token after macro prefix",a)}});En({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(o){var{parser:s,funcName:n}=o,a=s.gullet.popToken(),d=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(d))throw new un("Expected a control sequence",a);for(var m=0,b,C=[[]];s.gullet.future().text!=="{";)if(a=s.gullet.popToken(),a.text==="#"){if(s.gullet.future().text==="{"){b=s.gullet.future(),C[m].push("{");break}if(a=s.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new un('Invalid argument number "'+a.text+'"');if(parseInt(a.text)!==m+1)throw new un('Argument number "'+a.text+'" out of order');m++,C.push([])}else{if(a.text==="EOF")throw new un("Expected a macro definition");C[m].push(a.text)}var{tokens:x}=s.gullet.consumeArg();return b&&x.unshift(b),(n==="\\edef"||n==="\\xdef")&&(x=s.gullet.expandTokens(x),x.reverse()),s.gullet.macros.set(d,{tokens:x,numArgs:m,delimiters:C},n===b7[n]),{type:"internal",mode:s.mode}}});En({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(o){var{parser:s,funcName:n}=o,a=L9(s.gullet.popToken());s.gullet.consumeSpaces();var d=NE(s);return D9(s,a,d,n==="\\\\globallet"),{type:"internal",mode:s.mode}}});En({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(o){var{parser:s,funcName:n}=o,a=L9(s.gullet.popToken()),d=s.gullet.popToken(),m=s.gullet.popToken();return D9(s,a,m,n==="\\\\globalfuture"),s.gullet.pushToken(m),s.gullet.pushToken(d),{type:"internal",mode:s.mode}}});var j2=function(s,n,a){var d=Is.math[s]&&Is.math[s].replace,m=H7(d||s,n,a);if(!m)throw new Error("Unsupported symbol "+s+" and font size "+n+".");return m},Y7=function(s,n,a,d){var m=a.havingBaseStyle(n),b=Tt.makeSpan(d.concat(m.sizingClasses(a)),[s],a),C=m.sizeMultiplier/a.sizeMultiplier;return b.height*=C,b.depth*=C,b.maxFontSize=m.sizeMultiplier,b},B9=function(s,n,a){var d=n.havingBaseStyle(a),m=(1-n.sizeMultiplier/d.sizeMultiplier)*n.fontMetrics().axisHeight;s.classes.push("delimcenter"),s.style.top=mn(m),s.height-=m,s.depth+=m},LE=function(s,n,a,d,m,b){var C=Tt.makeSymbol(s,"Main-Regular",m,d),x=Y7(C,n,d,b);return a&&B9(x,d,n),x},DE=function(s,n,a,d){return Tt.makeSymbol(s,"Size"+n+"-Regular",a,d)},P9=function(s,n,a,d,m,b){var C=DE(s,n,m,d),x=Y7(Tt.makeSpan(["delimsizing","size"+n],[C],d),ur.TEXT,d,b);return a&&B9(x,d,ur.TEXT),x},q6=function(s,n,a){var d;n==="Size1-Regular"?d="delim-size1":d="delim-size4";var m=Tt.makeSpan(["delimsizinginner",d],[Tt.makeSpan([],[Tt.makeSymbol(s,n,a)])]);return{type:"elem",elem:m}},X6=function(s,n,a){var d=Vu["Size4-Regular"][s.charCodeAt(0)]?Vu["Size4-Regular"][s.charCodeAt(0)][4]:Vu["Size1-Regular"][s.charCodeAt(0)][4],m=new Q1("inner",U_(s,Math.round(1e3*n))),b=new Gc([m],{width:mn(d),height:mn(n),style:"width:"+mn(d),viewBox:"0 0 "+1e3*d+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),C=Tt.makeSvgSpan([],[b],a);return C.height=n,C.style.height=mn(n),C.style.width=mn(d),{type:"elem",elem:C}},y7=.008,r5={type:"kern",size:-1*y7},BE=["|","\\lvert","\\rvert","\\vert"],PE=["\\|","\\lVert","\\rVert","\\Vert"],F9=function(s,n,a,d,m,b){var C,x,k,E,R="",q=0;C=k=E=s,x=null;var z="Size1-Regular";s==="\\uparrow"?k=E="":s==="\\Uparrow"?k=E="":s==="\\downarrow"?C=k="":s==="\\Downarrow"?C=k="":s==="\\updownarrow"?(C="\\uparrow",k="",E="\\downarrow"):s==="\\Updownarrow"?(C="\\Uparrow",k="",E="\\Downarrow"):BE.includes(s)?(k="",R="vert",q=333):PE.includes(s)?(k="",R="doublevert",q=556):s==="["||s==="\\lbrack"?(C="",k="",E="",z="Size4-Regular",R="lbrack",q=667):s==="]"||s==="\\rbrack"?(C="",k="",E="",z="Size4-Regular",R="rbrack",q=667):s==="\\lfloor"||s===""?(k=C="",E="",z="Size4-Regular",R="lfloor",q=667):s==="\\lceil"||s===""?(C="",k=E="",z="Size4-Regular",R="lceil",q=667):s==="\\rfloor"||s===""?(k=C="",E="",z="Size4-Regular",R="rfloor",q=667):s==="\\rceil"||s===""?(C="",k=E="",z="Size4-Regular",R="rceil",q=667):s==="("||s==="\\lparen"?(C="",k="",E="",z="Size4-Regular",R="lparen",q=875):s===")"||s==="\\rparen"?(C="",k="",E="",z="Size4-Regular",R="rparen",q=875):s==="\\{"||s==="\\lbrace"?(C="",x="",E="",k="",z="Size4-Regular"):s==="\\}"||s==="\\rbrace"?(C="",x="",E="",k="",z="Size4-Regular"):s==="\\lgroup"||s===""?(C="",E="",k="",z="Size4-Regular"):s==="\\rgroup"||s===""?(C="",E="",k="",z="Size4-Regular"):s==="\\lmoustache"||s===""?(C="",E="",k="",z="Size4-Regular"):(s==="\\rmoustache"||s==="")&&(C="",E="",k="",z="Size4-Regular");var fe=j2(C,z,m),ve=fe.height+fe.depth,ge=j2(k,z,m),re=ge.height+ge.depth,ie=j2(E,z,m),ke=ie.height+ie.depth,Be=0,Ke=1;if(x!==null){var ye=j2(x,z,m);Be=ye.height+ye.depth,Ke=2}var Ve=ve+ke+Be,st=Math.max(0,Math.ceil((n-Ve)/(Ke*re))),Xe=Ve+st*Ke*re,Qt=d.fontMetrics().axisHeight;a&&(Qt*=d.sizeMultiplier);var It=Xe/2-Qt,De=[];if(R.length>0){var Bt=Xe-ve-ke,kt=Math.round(Xe*1e3),nt=H_(R,Math.round(Bt*1e3)),Ze=new Q1(R,nt),vt=(q/1e3).toFixed(3)+"em",ft=(kt/1e3).toFixed(3)+"em",Ut=new Gc([Ze],{width:vt,height:ft,viewBox:"0 0 "+q+" "+kt}),le=Tt.makeSvgSpan([],[Ut],d);le.height=kt/1e3,le.style.width=vt,le.style.height=ft,De.push({type:"elem",elem:le})}else{if(De.push(q6(E,z,m)),De.push(r5),x===null){var ze=Xe-ve-ke+2*y7;De.push(X6(k,ze,d))}else{var ct=(Xe-ve-ke-Be)/2+2*y7;De.push(X6(k,ct,d)),De.push(r5),De.push(q6(x,z,m)),De.push(r5),De.push(X6(k,ct,d))}De.push(r5),De.push(q6(C,z,m))}var Se=d.havingBaseStyle(ur.TEXT),Jt=Tt.makeVList({positionType:"bottom",positionData:It,children:De},Se);return Y7(Tt.makeSpan(["delimsizing","mult"],[Jt],Se),ur.TEXT,d,b)},j6=80,Y6=.08,K6=function(s,n,a,d,m){var b=z_(s,d,a),C=new Q1(s,b),x=new Gc([C],{width:"400em",height:mn(n),viewBox:"0 0 400000 "+a,preserveAspectRatio:"xMinYMin slice"});return Tt.makeSvgSpan(["hide-tail"],[x],m)},FE=function(s,n){var a=n.havingBaseSizing(),d=G9("\\surd",s*a.sizeMultiplier,H9,a),m=a.sizeMultiplier,b=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),C,x=0,k=0,E=0,R;return d.type==="small"?(E=1e3+1e3*b+j6,s<1?m=1:s<1.4&&(m=.7),x=(1+b+Y6)/m,k=(1+b)/m,C=K6("sqrtMain",x,E,b,n),C.style.minWidth="0.853em",R=.833/m):d.type==="large"?(E=(1e3+j6)*Q2[d.size],k=(Q2[d.size]+b)/m,x=(Q2[d.size]+b+Y6)/m,C=K6("sqrtSize"+d.size,x,E,b,n),C.style.minWidth="1.02em",R=1/m):(x=s+b+Y6,k=s+b,E=Math.floor(1e3*s+b)+j6,C=K6("sqrtTall",x,E,b,n),C.style.minWidth="0.742em",R=1.056),C.height=k,C.style.height=mn(x),{span:C,advanceWidth:R,ruleWidth:(n.fontMetrics().sqrtRuleThickness+b)*m}},z9=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],zE=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],U9=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Q2=[0,1.2,1.8,2.4,3],UE=function(s,n,a,d,m){if(s==="<"||s==="\\lt"||s===""?s="\\langle":(s===">"||s==="\\gt"||s==="")&&(s="\\rangle"),z9.includes(s)||U9.includes(s))return P9(s,n,!1,a,d,m);if(zE.includes(s))return F9(s,Q2[n],!1,a,d,m);throw new un("Illegal delimiter: '"+s+"'")},HE=[{type:"small",style:ur.SCRIPTSCRIPT},{type:"small",style:ur.SCRIPT},{type:"small",style:ur.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],GE=[{type:"small",style:ur.SCRIPTSCRIPT},{type:"small",style:ur.SCRIPT},{type:"small",style:ur.TEXT},{type:"stack"}],H9=[{type:"small",style:ur.SCRIPTSCRIPT},{type:"small",style:ur.SCRIPT},{type:"small",style:ur.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],VE=function(s){if(s.type==="small")return"Main-Regular";if(s.type==="large")return"Size"+s.size+"-Regular";if(s.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+s.type+"' here.")},G9=function(s,n,a,d){for(var m=Math.min(2,3-d.style.size),b=m;b<a.length&&a[b].type!=="stack";b++){var C=j2(s,VE(a[b]),"math"),x=C.height+C.depth;if(a[b].type==="small"){var k=d.havingBaseStyle(a[b].style);x*=k.sizeMultiplier}if(x>n)return a[b]}return a[a.length-1]},V9=function(s,n,a,d,m,b){s==="<"||s==="\\lt"||s===""?s="\\langle":(s===">"||s==="\\gt"||s==="")&&(s="\\rangle");var C;U9.includes(s)?C=HE:z9.includes(s)?C=H9:C=GE;var x=G9(s,n,C,d);return x.type==="small"?LE(s,x.style,a,d,m,b):x.type==="large"?P9(s,x.size,a,d,m,b):F9(s,n,a,d,m,b)},WE=function(s,n,a,d,m,b){var C=d.fontMetrics().axisHeight*d.sizeMultiplier,x=901,k=5/d.fontMetrics().ptPerEm,E=Math.max(n-C,a+C),R=Math.max(E/500*x,2*E-k);return V9(s,R,!0,d,m,b)},Hc={sqrtImage:FE,sizedDelim:UE,sizeToMaxHeight:Q2,customSizedDelim:V9,leftRightDelim:WE},Gp={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},qE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function N5(o,s){var n=R5(o);if(n&&qE.includes(n.text))return n;throw n?new un("Invalid delimiter '"+n.text+"' after '"+s.funcName+"'",o):new un("Invalid delimiter type '"+o.type+"'",o)}En({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(o,s)=>{var n=N5(s[0],o);return{type:"delimsizing",mode:o.parser.mode,size:Gp[o.funcName].size,mclass:Gp[o.funcName].mclass,delim:n.text}},htmlBuilder:(o,s)=>o.delim==="."?Tt.makeSpan([o.mclass]):Hc.sizedDelim(o.delim,o.size,s,o.mode,[o.mclass]),mathmlBuilder:o=>{var s=[];o.delim!=="."&&s.push(_a(o.delim,o.mode));var n=new ln.MathNode("mo",s);o.mclass==="mopen"||o.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var a=mn(Hc.sizeToMaxHeight[o.size]);return n.setAttribute("minsize",a),n.setAttribute("maxsize",a),n}});function Vp(o){if(!o.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}En({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(o,s)=>{var n=o.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new un("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:o.parser.mode,delim:N5(s[0],o).text,color:n}}});En({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(o,s)=>{var n=N5(s[0],o),a=o.parser;++a.leftrightDepth;var d=a.parseExpression(!1);--a.leftrightDepth,a.expect("\\right",!1);var m=Vr(a.parseFunction(),"leftright-right");return{type:"leftright",mode:a.mode,body:d,left:n.text,right:m.delim,rightColor:m.color}},htmlBuilder:(o,s)=>{Vp(o);for(var n=Ho(o.body,s,!0,["mopen","mclose"]),a=0,d=0,m=!1,b=0;b<n.length;b++)n[b].isMiddle?m=!0:(a=Math.max(n[b].height,a),d=Math.max(n[b].depth,d));a*=s.sizeMultiplier,d*=s.sizeMultiplier;var C;if(o.left==="."?C=i3(s,["mopen"]):C=Hc.leftRightDelim(o.left,a,d,s,o.mode,["mopen"]),n.unshift(C),m)for(var x=1;x<n.length;x++){var k=n[x],E=k.isMiddle;E&&(n[x]=Hc.leftRightDelim(E.delim,a,d,E.options,o.mode,[]))}var R;if(o.right===".")R=i3(s,["mclose"]);else{var q=o.rightColor?s.withColor(o.rightColor):s;R=Hc.leftRightDelim(o.right,a,d,q,o.mode,["mclose"])}return n.push(R),Tt.makeSpan(["minner"],n,s)},mathmlBuilder:(o,s)=>{Vp(o);var n=f0(o.body,s);if(o.left!=="."){var a=new ln.MathNode("mo",[_a(o.left,o.mode)]);a.setAttribute("fence","true"),n.unshift(a)}if(o.right!=="."){var d=new ln.MathNode("mo",[_a(o.right,o.mode)]);d.setAttribute("fence","true"),o.rightColor&&d.setAttribute("mathcolor",o.rightColor),n.push(d)}return W7(n)}});En({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(o,s)=>{var n=N5(s[0],o);if(!o.parser.leftrightDepth)throw new un("\\middle without preceding \\left",n);return{type:"middle",mode:o.parser.mode,delim:n.text}},htmlBuilder:(o,s)=>{var n;if(o.delim===".")n=i3(s,[]);else{n=Hc.sizedDelim(o.delim,1,s,o.mode,[]);var a={delim:o.delim,options:s};n.isMiddle=a}return n},mathmlBuilder:(o,s)=>{var n=o.delim==="\\vert"||o.delim==="|"?_a("|","text"):_a(o.delim,o.mode),a=new ln.MathNode("mo",[n]);return a.setAttribute("fence","true"),a.setAttribute("lspace","0.05em"),a.setAttribute("rspace","0.05em"),a}});var K7=(o,s)=>{var n=Tt.wrapFragment(Di(o.body,s),s),a=o.label.slice(1),d=s.sizeMultiplier,m,b=0,C=Gi.isCharacterBox(o.body);if(a==="sout")m=Tt.makeSpan(["stretchy","sout"]),m.height=s.fontMetrics().defaultRuleThickness/d,b=-.5*s.fontMetrics().xHeight;else if(a==="phase"){var x=to({number:.6,unit:"pt"},s),k=to({number:.35,unit:"ex"},s),E=s.havingBaseSizing();d=d/E.sizeMultiplier;var R=n.height+n.depth+x+k;n.style.paddingLeft=mn(R/2+x);var q=Math.floor(1e3*R*d),z=P_(q),fe=new Gc([new Q1("phase",z)],{width:"400em",height:mn(q/1e3),viewBox:"0 0 400000 "+q,preserveAspectRatio:"xMinYMin slice"});m=Tt.makeSvgSpan(["hide-tail"],[fe],s),m.style.height=mn(R),b=n.depth+x+k}else{/cancel/.test(a)?C||n.classes.push("cancel-pad"):a==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var ve=0,ge=0,re=0;/box/.test(a)?(re=Math.max(s.fontMetrics().fboxrule,s.minRuleThickness),ve=s.fontMetrics().fboxsep+(a==="colorbox"?0:re),ge=ve):a==="angl"?(re=Math.max(s.fontMetrics().defaultRuleThickness,s.minRuleThickness),ve=4*re,ge=Math.max(0,.25-n.depth)):(ve=C?.2:0,ge=ve),m=Wc.encloseSpan(n,a,ve,ge,s),/fbox|boxed|fcolorbox/.test(a)?(m.style.borderStyle="solid",m.style.borderWidth=mn(re)):a==="angl"&&re!==.049&&(m.style.borderTopWidth=mn(re),m.style.borderRightWidth=mn(re)),b=n.depth+ge,o.backgroundColor&&(m.style.backgroundColor=o.backgroundColor,o.borderColor&&(m.style.borderColor=o.borderColor))}var ie;if(o.backgroundColor)ie=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:b},{type:"elem",elem:n,shift:0}]},s);else{var ke=/cancel|phase/.test(a)?["svg-align"]:[];ie=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:m,shift:b,wrapperClasses:ke}]},s)}return/cancel/.test(a)&&(ie.height=n.height,ie.depth=n.depth),/cancel/.test(a)&&!C?Tt.makeSpan(["mord","cancel-lap"],[ie],s):Tt.makeSpan(["mord"],[ie],s)},J7=(o,s)=>{var n=0,a=new ln.MathNode(o.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Es(o.body,s)]);switch(o.label){case"\\cancel":a.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike");break;case"\\phase":a.setAttribute("notation","phasorangle");break;case"\\sout":a.setAttribute("notation","horizontalstrike");break;case"\\fbox":a.setAttribute("notation","box");break;case"\\angl":a.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=s.fontMetrics().fboxsep*s.fontMetrics().ptPerEm,a.setAttribute("width","+"+2*n+"pt"),a.setAttribute("height","+"+2*n+"pt"),a.setAttribute("lspace",n+"pt"),a.setAttribute("voffset",n+"pt"),o.label==="\\fcolorbox"){var d=Math.max(s.fontMetrics().fboxrule,s.minRuleThickness);a.setAttribute("style","border: "+d+"em solid "+String(o.borderColor))}break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return o.backgroundColor&&a.setAttribute("mathbackground",o.backgroundColor),a};En({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(o,s,n){var{parser:a,funcName:d}=o,m=Vr(s[0],"color-token").color,b=s[1];return{type:"enclose",mode:a.mode,label:d,backgroundColor:m,body:b}},htmlBuilder:K7,mathmlBuilder:J7});En({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(o,s,n){var{parser:a,funcName:d}=o,m=Vr(s[0],"color-token").color,b=Vr(s[1],"color-token").color,C=s[2];return{type:"enclose",mode:a.mode,label:d,backgroundColor:b,borderColor:m,body:C}},htmlBuilder:K7,mathmlBuilder:J7});En({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(o,s){var{parser:n}=o;return{type:"enclose",mode:n.mode,label:"\\fbox",body:s[0]}}});En({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(o,s){var{parser:n,funcName:a}=o,d=s[0];return{type:"enclose",mode:n.mode,label:a,body:d}},htmlBuilder:K7,mathmlBuilder:J7});En({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(o,s){var{parser:n}=o;return{type:"enclose",mode:n.mode,label:"\\angl",body:s[0]}}});var W9={};function ju(o){for(var{type:s,names:n,props:a,handler:d,htmlBuilder:m,mathmlBuilder:b}=o,C={type:s,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:d},x=0;x<n.length;++x)W9[n[x]]=C;m&&(T5[s]=m),b&&(_5[s]=b)}var q9={};function be(o,s){q9[o]=s}function Wp(o){var s=[];o.consumeSpaces();var n=o.fetch().text;for(n==="\\relax"&&(o.consume(),o.consumeSpaces(),n=o.fetch().text);n==="\\hline"||n==="\\hdashline";)o.consume(),s.push(n==="\\hdashline"),o.consumeSpaces(),n=o.fetch().text;return s}var L5=o=>{var s=o.parser.settings;if(!s.displayMode)throw new un("{"+o.envName+"} can be used only in display mode.")};function Z7(o){if(o.indexOf("ed")===-1)return o.indexOf("*")===-1}function nh(o,s,n){var{hskipBeforeAndAfter:a,addJot:d,cols:m,arraystretch:b,colSeparationType:C,autoTag:x,singleRow:k,emptySingleRow:E,maxNumCols:R,leqno:q}=s;if(o.gullet.beginGroup(),k||o.gullet.macros.set("\\cr","\\\\\\relax"),!b){var z=o.gullet.expandMacroAsText("\\arraystretch");if(z==null)b=1;else if(b=parseFloat(z),!b||b<0)throw new un("Invalid \\arraystretch: "+z)}o.gullet.beginGroup();var fe=[],ve=[fe],ge=[],re=[],ie=x!=null?[]:void 0;function ke(){x&&o.gullet.macros.set("\\@eqnsw","1",!0)}function Be(){ie&&(o.gullet.macros.get("\\df@tag")?(ie.push(o.subparse([new z0("\\df@tag")])),o.gullet.macros.set("\\df@tag",void 0,!0)):ie.push(!!x&&o.gullet.macros.get("\\@eqnsw")==="1"))}for(ke(),re.push(Wp(o));;){var Ke=o.parseExpression(!1,k?"\\end":"\\\\");o.gullet.endGroup(),o.gullet.beginGroup(),Ke={type:"ordgroup",mode:o.mode,body:Ke},n&&(Ke={type:"styling",mode:o.mode,style:n,body:[Ke]}),fe.push(Ke);var ye=o.fetch().text;if(ye==="&"){if(R&&fe.length===R){if(k||C)throw new un("Too many tab characters: &",o.nextToken);o.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}o.consume()}else if(ye==="\\end"){Be(),fe.length===1&&Ke.type==="styling"&&Ke.body[0].body.length===0&&(ve.length>1||!E)&&ve.pop(),re.length<ve.length+1&&re.push([]);break}else if(ye==="\\\\"){o.consume();var Ve=void 0;o.gullet.future().text!==" "&&(Ve=o.parseSizeGroup(!0)),ge.push(Ve?Ve.value:null),Be(),re.push(Wp(o)),fe=[],ve.push(fe),ke()}else throw new un("Expected & or \\\\ or \\cr or \\end",o.nextToken)}return o.gullet.endGroup(),o.gullet.endGroup(),{type:"array",mode:o.mode,addJot:d,arraystretch:b,body:ve,cols:m,rowGaps:ge,hskipBeforeAndAfter:a,hLinesBeforeRow:re,colSeparationType:C,tags:ie,leqno:q}}function Q7(o){return o.slice(0,1)==="d"?"display":"text"}var Yu=function(s,n){var a,d,m=s.body.length,b=s.hLinesBeforeRow,C=0,x=new Array(m),k=[],E=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),R=1/n.fontMetrics().ptPerEm,q=5*R;if(s.colSeparationType&&s.colSeparationType==="small"){var z=n.havingStyle(ur.SCRIPT).sizeMultiplier;q=.2778*(z/n.sizeMultiplier)}var fe=s.colSeparationType==="CD"?to({number:3,unit:"ex"},n):12*R,ve=3*R,ge=s.arraystretch*fe,re=.7*ge,ie=.3*ge,ke=0;function Be(Ti){for(var Bi=0;Bi<Ti.length;++Bi)Bi>0&&(ke+=.25),k.push({pos:ke,isDashed:Ti[Bi]})}for(Be(b[0]),a=0;a<s.body.length;++a){var Ke=s.body[a],ye=re,Ve=ie;C<Ke.length&&(C=Ke.length);var st=new Array(Ke.length);for(d=0;d<Ke.length;++d){var Xe=Di(Ke[d],n);Ve<Xe.depth&&(Ve=Xe.depth),ye<Xe.height&&(ye=Xe.height),st[d]=Xe}var Qt=s.rowGaps[a],It=0;Qt&&(It=to(Qt,n),It>0&&(It+=ie,Ve<It&&(Ve=It),It=0)),s.addJot&&(Ve+=ve),st.height=ye,st.depth=Ve,ke+=ye,st.pos=ke,ke+=Ve+It,x[a]=st,Be(b[a+1])}var De=ke/2+n.fontMetrics().axisHeight,Bt=s.cols||[],kt=[],nt,Ze,vt=[];if(s.tags&&s.tags.some(Ti=>Ti))for(a=0;a<m;++a){var ft=x[a],Ut=ft.pos-De,le=s.tags[a],ze=void 0;le===!0?ze=Tt.makeSpan(["eqn-num"],[],n):le===!1?ze=Tt.makeSpan([],[],n):ze=Tt.makeSpan([],Ho(le,n,!0),n),ze.depth=ft.depth,ze.height=ft.height,vt.push({type:"elem",elem:ze,shift:Ut})}for(d=0,Ze=0;d<C||Ze<Bt.length;++d,++Ze){for(var ct=Bt[Ze]||{},Se=!0;ct.type==="separator";){if(Se||(nt=Tt.makeSpan(["arraycolsep"],[]),nt.style.width=mn(n.fontMetrics().doubleRuleSep),kt.push(nt)),ct.separator==="|"||ct.separator===":"){var Jt=ct.separator==="|"?"solid":"dashed",Ot=Tt.makeSpan(["vertical-separator"],[],n);Ot.style.height=mn(ke),Ot.style.borderRightWidth=mn(E),Ot.style.borderRightStyle=Jt,Ot.style.margin="0 "+mn(-E/2);var sn=ke-De;sn&&(Ot.style.verticalAlign=mn(-sn)),kt.push(Ot)}else throw new un("Invalid separator type: "+ct.separator);Ze++,ct=Bt[Ze]||{},Se=!1}if(!(d>=C)){var yn=void 0;(d>0||s.hskipBeforeAndAfter)&&(yn=Gi.deflt(ct.pregap,q),yn!==0&&(nt=Tt.makeSpan(["arraycolsep"],[]),nt.style.width=mn(yn),kt.push(nt)));var hr=[];for(a=0;a<m;++a){var Yn=x[a],an=Yn[d];if(an){var Xn=Yn.pos-De;an.depth=Yn.depth,an.height=Yn.height,hr.push({type:"elem",elem:an,shift:Xn})}}hr=Tt.makeVList({positionType:"individualShift",children:hr},n),hr=Tt.makeSpan(["col-align-"+(ct.align||"c")],[hr]),kt.push(hr),(d<C-1||s.hskipBeforeAndAfter)&&(yn=Gi.deflt(ct.postgap,q),yn!==0&&(nt=Tt.makeSpan(["arraycolsep"],[]),nt.style.width=mn(yn),kt.push(nt)))}}if(x=Tt.makeSpan(["mtable"],kt),k.length>0){for(var ht=Tt.makeLineSpan("hline",n,E),tn=Tt.makeLineSpan("hdashline",n,E),Wr=[{type:"elem",elem:x,shift:0}];k.length>0;){var Jn=k.pop(),pr=Jn.pos-De;Jn.isDashed?Wr.push({type:"elem",elem:tn,shift:pr}):Wr.push({type:"elem",elem:ht,shift:pr})}x=Tt.makeVList({positionType:"individualShift",children:Wr},n)}if(vt.length===0)return Tt.makeSpan(["mord"],[x],n);var on=Tt.makeVList({positionType:"individualShift",children:vt},n);return on=Tt.makeSpan(["tag"],[on],n),Tt.makeFragment([x,on])},XE={c:"center ",l:"left ",r:"right "},Ku=function(s,n){for(var a=[],d=new ln.MathNode("mtd",[],["mtr-glue"]),m=new ln.MathNode("mtd",[],["mml-eqn-num"]),b=0;b<s.body.length;b++){for(var C=s.body[b],x=[],k=0;k<C.length;k++)x.push(new ln.MathNode("mtd",[Es(C[k],n)]));s.tags&&s.tags[b]&&(x.unshift(d),x.push(d),s.leqno?x.unshift(m):x.push(m)),a.push(new ln.MathNode("mtr",x))}var E=new ln.MathNode("mtable",a),R=s.arraystretch===.5?.1:.16+s.arraystretch-1+(s.addJot?.09:0);E.setAttribute("rowspacing",mn(R));var q="",z="";if(s.cols&&s.cols.length>0){var fe=s.cols,ve="",ge=!1,re=0,ie=fe.length;fe[0].type==="separator"&&(q+="top ",re=1),fe[fe.length-1].type==="separator"&&(q+="bottom ",ie-=1);for(var ke=re;ke<ie;ke++)fe[ke].type==="align"?(z+=XE[fe[ke].align],ge&&(ve+="none "),ge=!0):fe[ke].type==="separator"&&ge&&(ve+=fe[ke].separator==="|"?"solid ":"dashed ",ge=!1);E.setAttribute("columnalign",z.trim()),/[sd]/.test(ve)&&E.setAttribute("columnlines",ve.trim())}if(s.colSeparationType==="align"){for(var Be=s.cols||[],Ke="",ye=1;ye<Be.length;ye++)Ke+=ye%2?"0em ":"1em ";E.setAttribute("columnspacing",Ke.trim())}else s.colSeparationType==="alignat"||s.colSeparationType==="gather"?E.setAttribute("columnspacing","0em"):s.colSeparationType==="small"?E.setAttribute("columnspacing","0.2778em"):s.colSeparationType==="CD"?E.setAttribute("columnspacing","0.5em"):E.setAttribute("columnspacing","1em");var Ve="",st=s.hLinesBeforeRow;q+=st[0].length>0?"left ":"",q+=st[st.length-1].length>0?"right ":"";for(var Xe=1;Xe<st.length-1;Xe++)Ve+=st[Xe].length===0?"none ":st[Xe][0]?"dashed ":"solid ";return/[sd]/.test(Ve)&&E.setAttribute("rowlines",Ve.trim()),q!==""&&(E=new ln.MathNode("menclose",[E]),E.setAttribute("notation",q.trim())),s.arraystretch&&s.arraystretch<1&&(E=new ln.MathNode("mstyle",[E]),E.setAttribute("scriptlevel","1")),E},X9=function(s,n){s.envName.indexOf("ed")===-1&&L5(s);var a=[],d=s.envName.indexOf("at")>-1?"alignat":"align",m=s.envName==="split",b=nh(s.parser,{cols:a,addJot:!0,autoTag:m?void 0:Z7(s.envName),emptySingleRow:!0,colSeparationType:d,maxNumCols:m?2:void 0,leqno:s.parser.settings.leqno},"display"),C,x=0,k={type:"ordgroup",mode:s.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var E="",R=0;R<n[0].body.length;R++){var q=Vr(n[0].body[R],"textord");E+=q.text}C=Number(E),x=C*2}var z=!x;b.body.forEach(function(re){for(var ie=1;ie<re.length;ie+=2){var ke=Vr(re[ie],"styling"),Be=Vr(ke.body[0],"ordgroup");Be.body.unshift(k)}if(z)x<re.length&&(x=re.length);else{var Ke=re.length/2;if(C<Ke)throw new un("Too many math in a row: "+("expected "+C+", but got "+Ke),re[0])}});for(var fe=0;fe<x;++fe){var ve="r",ge=0;fe%2===1?ve="l":fe>0&&z&&(ge=1),a[fe]={type:"align",align:ve,pregap:ge,postgap:0}}return b.colSeparationType=z?"align":"alignat",b};ju({type:"array",names:["array","darray"],props:{numArgs:1},handler(o,s){var n=R5(s[0]),a=n?[s[0]]:Vr(s[0],"ordgroup").body,d=a.map(function(b){var C=X7(b),x=C.text;if("lcr".indexOf(x)!==-1)return{type:"align",align:x};if(x==="|")return{type:"separator",separator:"|"};if(x===":")return{type:"separator",separator:":"};throw new un("Unknown column alignment: "+x,b)}),m={cols:d,hskipBeforeAndAfter:!0,maxNumCols:d.length};return nh(o.parser,m,Q7(o.envName))},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(o){var s={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[o.envName.replace("*","")],n="c",a={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(o.envName.charAt(o.envName.length-1)==="*"){var d=o.parser;if(d.consumeSpaces(),d.fetch().text==="["){if(d.consume(),d.consumeSpaces(),n=d.fetch().text,"lcr".indexOf(n)===-1)throw new un("Expected l or c or r",d.nextToken);d.consume(),d.consumeSpaces(),d.expect("]"),d.consume(),a.cols=[{type:"align",align:n}]}}var m=nh(o.parser,a,Q7(o.envName)),b=Math.max(0,...m.body.map(C=>C.length));return m.cols=new Array(b).fill({type:"align",align:n}),s?{type:"leftright",mode:o.mode,body:[m],left:s[0],right:s[1],rightColor:void 0}:m},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(o){var s={arraystretch:.5},n=nh(o.parser,s,"script");return n.colSeparationType="small",n},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["subarray"],props:{numArgs:1},handler(o,s){var n=R5(s[0]),a=n?[s[0]]:Vr(s[0],"ordgroup").body,d=a.map(function(b){var C=X7(b),x=C.text;if("lc".indexOf(x)!==-1)return{type:"align",align:x};throw new un("Unknown column alignment: "+x,b)});if(d.length>1)throw new un("{subarray} can contain only one column");var m={cols:d,hskipBeforeAndAfter:!1,arraystretch:.5};if(m=nh(o.parser,m,"script"),m.body.length>0&&m.body[0].length>1)throw new un("{subarray} can contain only one column");return m},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(o){var s={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=nh(o.parser,s,Q7(o.envName));return{type:"leftright",mode:o.mode,body:[n],left:o.envName.indexOf("r")>-1?".":"\\{",right:o.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:X9,htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(o){["gather","gather*"].includes(o.envName)&&L5(o);var s={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Z7(o.envName),emptySingleRow:!0,leqno:o.parser.settings.leqno};return nh(o.parser,s,"display")},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:X9,htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(o){L5(o);var s={autoTag:Z7(o.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:o.parser.settings.leqno};return nh(o.parser,s,"display")},htmlBuilder:Yu,mathmlBuilder:Ku});ju({type:"array",names:["CD"],props:{numArgs:0},handler(o){return L5(o),OE(o.parser)},htmlBuilder:Yu,mathmlBuilder:Ku});be("\\nonumber","\\gdef\\@eqnsw{0}");be("\\notag","\\nonumber");En({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(o,s){throw new un(o.funcName+" valid only within array environment")}});var qp=W9;En({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(o,s){var{parser:n,funcName:a}=o,d=s[0];if(d.type!=="ordgroup")throw new un("Invalid environment name",d);for(var m="",b=0;b<d.body.length;++b)m+=Vr(d.body[b],"textord").text;if(a==="\\begin"){if(!qp.hasOwnProperty(m))throw new un("No such environment: "+m,d);var C=qp[m],{args:x,optArgs:k}=n.parseArguments("\\begin{"+m+"}",C),E={mode:n.mode,envName:m,parser:n},R=C.handler(E,x,k);n.expect("\\end",!1);var q=n.nextToken,z=Vr(n.parseFunction(),"environment");if(z.name!==m)throw new un("Mismatch: \\begin{"+m+"} matched by \\end{"+z.name+"}",q);return R}return{type:"environment",mode:n.mode,name:m,nameGroup:d}}});var j9=(o,s)=>{var n=o.font,a=s.withFont(n);return Di(o.body,a)},Y9=(o,s)=>{var n=o.font,a=s.withFont(n);return Es(o.body,a)},Xp={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};En({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=E5(s[0]),m=a;return m in Xp&&(m=Xp[m]),{type:"font",mode:n.mode,font:m.slice(1),body:d}},htmlBuilder:j9,mathmlBuilder:Y9});En({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(o,s)=>{var{parser:n}=o,a=s[0],d=Gi.isCharacterBox(a);return{type:"mclass",mode:n.mode,mclass:O5(a),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:a}],isCharacterBox:d}}});En({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(o,s)=>{var{parser:n,funcName:a,breakOnTokenText:d}=o,{mode:m}=n,b=n.parseExpression(!0,d),C="math"+a.slice(1);return{type:"font",mode:m,font:C,body:{type:"ordgroup",mode:n.mode,body:b}}},htmlBuilder:j9,mathmlBuilder:Y9});var K9=(o,s)=>{var n=s;return o==="display"?n=n.id>=ur.SCRIPT.id?n.text():ur.DISPLAY:o==="text"&&n.size===ur.DISPLAY.size?n=ur.TEXT:o==="script"?n=ur.SCRIPT:o==="scriptscript"&&(n=ur.SCRIPTSCRIPT),n},ef=(o,s)=>{var n=K9(o.size,s.style),a=n.fracNum(),d=n.fracDen(),m;m=s.havingStyle(a);var b=Di(o.numer,m,s);if(o.continued){var C=8.5/s.fontMetrics().ptPerEm,x=3.5/s.fontMetrics().ptPerEm;b.height=b.height<C?C:b.height,b.depth=b.depth<x?x:b.depth}m=s.havingStyle(d);var k=Di(o.denom,m,s),E,R,q;o.hasBarLine?(o.barSize?(R=to(o.barSize,s),E=Tt.makeLineSpan("frac-line",s,R)):E=Tt.makeLineSpan("frac-line",s),R=E.height,q=E.height):(E=null,R=0,q=s.fontMetrics().defaultRuleThickness);var z,fe,ve;n.size===ur.DISPLAY.size||o.size==="display"?(z=s.fontMetrics().num1,R>0?fe=3*q:fe=7*q,ve=s.fontMetrics().denom1):(R>0?(z=s.fontMetrics().num2,fe=q):(z=s.fontMetrics().num3,fe=3*q),ve=s.fontMetrics().denom2);var ge;if(E){var ie=s.fontMetrics().axisHeight;z-b.depth-(ie+.5*R)<fe&&(z+=fe-(z-b.depth-(ie+.5*R))),ie-.5*R-(k.height-ve)<fe&&(ve+=fe-(ie-.5*R-(k.height-ve)));var ke=-(ie-.5*R);ge=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:k,shift:ve},{type:"elem",elem:E,shift:ke},{type:"elem",elem:b,shift:-z}]},s)}else{var re=z-b.depth-(k.height-ve);re<fe&&(z+=.5*(fe-re),ve+=.5*(fe-re)),ge=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:k,shift:ve},{type:"elem",elem:b,shift:-z}]},s)}m=s.havingStyle(n),ge.height*=m.sizeMultiplier/s.sizeMultiplier,ge.depth*=m.sizeMultiplier/s.sizeMultiplier;var Be;n.size===ur.DISPLAY.size?Be=s.fontMetrics().delim1:n.size===ur.SCRIPTSCRIPT.size?Be=s.havingStyle(ur.SCRIPT).fontMetrics().delim2:Be=s.fontMetrics().delim2;var Ke,ye;return o.leftDelim==null?Ke=i3(s,["mopen"]):Ke=Hc.customSizedDelim(o.leftDelim,Be,!0,s.havingStyle(n),o.mode,["mopen"]),o.continued?ye=Tt.makeSpan([]):o.rightDelim==null?ye=i3(s,["mclose"]):ye=Hc.customSizedDelim(o.rightDelim,Be,!0,s.havingStyle(n),o.mode,["mclose"]),Tt.makeSpan(["mord"].concat(m.sizingClasses(s)),[Ke,Tt.makeSpan(["mfrac"],[ge]),ye],s)},tf=(o,s)=>{var n=new ln.MathNode("mfrac",[Es(o.numer,s),Es(o.denom,s)]);if(!o.hasBarLine)n.setAttribute("linethickness","0px");else if(o.barSize){var a=to(o.barSize,s);n.setAttribute("linethickness",mn(a))}var d=K9(o.size,s.style);if(d.size!==s.style.size){n=new ln.MathNode("mstyle",[n]);var m=d.size===ur.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",m),n.setAttribute("scriptlevel","0")}if(o.leftDelim!=null||o.rightDelim!=null){var b=[];if(o.leftDelim!=null){var C=new ln.MathNode("mo",[new ln.TextNode(o.leftDelim.replace("\\",""))]);C.setAttribute("fence","true"),b.push(C)}if(b.push(n),o.rightDelim!=null){var x=new ln.MathNode("mo",[new ln.TextNode(o.rightDelim.replace("\\",""))]);x.setAttribute("fence","true"),b.push(x)}return W7(b)}return n};En({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=s[0],m=s[1],b,C=null,x=null,k="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":b=!0;break;case"\\\\atopfrac":b=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":b=!1,C="(",x=")";break;case"\\\\bracefrac":b=!1,C="\\{",x="\\}";break;case"\\\\brackfrac":b=!1,C="[",x="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":k="display";break;case"\\tfrac":case"\\tbinom":k="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:d,denom:m,hasBarLine:b,leftDelim:C,rightDelim:x,size:k,barSize:null}},htmlBuilder:ef,mathmlBuilder:tf});En({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=s[0],m=s[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:d,denom:m,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});En({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(o){var{parser:s,funcName:n,token:a}=o,d;switch(n){case"\\over":d="\\frac";break;case"\\choose":d="\\binom";break;case"\\atop":d="\\\\atopfrac";break;case"\\brace":d="\\\\bracefrac";break;case"\\brack":d="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:s.mode,replaceWith:d,token:a}}});var jp=["display","text","script","scriptscript"],Yp=function(s){var n=null;return s.length>0&&(n=s,n=n==="."?null:n),n};En({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(o,s){var{parser:n}=o,a=s[4],d=s[5],m=E5(s[0]),b=m.type==="atom"&&m.family==="open"?Yp(m.text):null,C=E5(s[1]),x=C.type==="atom"&&C.family==="close"?Yp(C.text):null,k=Vr(s[2],"size"),E,R=null;k.isBlank?E=!0:(R=k.value,E=R.number>0);var q="auto",z=s[3];if(z.type==="ordgroup"){if(z.body.length>0){var fe=Vr(z.body[0],"textord");q=jp[Number(fe.text)]}}else z=Vr(z,"textord"),q=jp[Number(z.text)];return{type:"genfrac",mode:n.mode,numer:a,denom:d,continued:!1,hasBarLine:E,barSize:R,leftDelim:b,rightDelim:x,size:q}},htmlBuilder:ef,mathmlBuilder:tf});En({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(o,s){var{parser:n,funcName:a,token:d}=o;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Vr(s[0],"size").value,token:d}}});En({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=s[0],m=E_(Vr(s[1],"infix").size),b=s[2],C=m.number>0;return{type:"genfrac",mode:n.mode,numer:d,denom:b,continued:!1,hasBarLine:C,barSize:m,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ef,mathmlBuilder:tf});var J9=(o,s)=>{var n=s.style,a,d;o.type==="supsub"?(a=o.sup?Di(o.sup,s.havingStyle(n.sup()),s):Di(o.sub,s.havingStyle(n.sub()),s),d=Vr(o.base,"horizBrace")):d=Vr(o,"horizBrace");var m=Di(d.base,s.havingBaseStyle(ur.DISPLAY)),b=Wc.svgSpan(d,s),C;if(d.isOver?(C=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:.1},{type:"elem",elem:b}]},s),C.children[0].children[0].children[1].classes.push("svg-align")):(C=Tt.makeVList({positionType:"bottom",positionData:m.depth+.1+b.height,children:[{type:"elem",elem:b},{type:"kern",size:.1},{type:"elem",elem:m}]},s),C.children[0].children[0].children[0].classes.push("svg-align")),a){var x=Tt.makeSpan(["mord",d.isOver?"mover":"munder"],[C],s);d.isOver?C=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x},{type:"kern",size:.2},{type:"elem",elem:a}]},s):C=Tt.makeVList({positionType:"bottom",positionData:x.depth+.2+a.height+a.depth,children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:x}]},s)}return Tt.makeSpan(["mord",d.isOver?"mover":"munder"],[C],s)},jE=(o,s)=>{var n=Wc.mathMLnode(o.label);return new ln.MathNode(o.isOver?"mover":"munder",[Es(o.base,s),n])};En({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(o,s){var{parser:n,funcName:a}=o;return{type:"horizBrace",mode:n.mode,label:a,isOver:/^\\over/.test(a),base:s[0]}},htmlBuilder:J9,mathmlBuilder:jE});En({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(o,s)=>{var{parser:n}=o,a=s[1],d=Vr(s[0],"url").url;return n.settings.isTrusted({command:"\\href",url:d})?{type:"href",mode:n.mode,href:d,body:bo(a)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(o,s)=>{var n=Ho(o.body,s,!1);return Tt.makeAnchor(o.href,[],n,s)},mathmlBuilder:(o,s)=>{var n=eh(o.body,s);return n instanceof P0||(n=new P0("mrow",[n])),n.setAttribute("href",o.href),n}});En({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(o,s)=>{var{parser:n}=o,a=Vr(s[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:a}))return n.formatUnsupportedCmd("\\url");for(var d=[],m=0;m<a.length;m++){var b=a[m];b==="~"&&(b="\\textasciitilde"),d.push({type:"textord",mode:"text",text:b})}var C={type:"text",mode:n.mode,font:"\\texttt",body:d};return{type:"href",mode:n.mode,href:a,body:bo(C)}}});En({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(o,s){var{parser:n}=o;return{type:"hbox",mode:n.mode,body:bo(s[0])}},htmlBuilder(o,s){var n=Ho(o.body,s,!1);return Tt.makeFragment(n)},mathmlBuilder(o,s){return new ln.MathNode("mrow",f0(o.body,s))}});En({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(o,s)=>{var{parser:n,funcName:a,token:d}=o,m=Vr(s[0],"raw").string,b=s[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var C,x={};switch(a){case"\\htmlClass":x.class=m,C={command:"\\htmlClass",class:m};break;case"\\htmlId":x.id=m,C={command:"\\htmlId",id:m};break;case"\\htmlStyle":x.style=m,C={command:"\\htmlStyle",style:m};break;case"\\htmlData":{for(var k=m.split(","),E=0;E<k.length;E++){var R=k[E].split("=");if(R.length!==2)throw new un("Error parsing key-value for \\htmlData");x["data-"+R[0].trim()]=R[1].trim()}C={command:"\\htmlData",attributes:x};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(C)?{type:"html",mode:n.mode,attributes:x,body:bo(b)}:n.formatUnsupportedCmd(a)},htmlBuilder:(o,s)=>{var n=Ho(o.body,s,!1),a=["enclosing"];o.attributes.class&&a.push(...o.attributes.class.trim().split(/\s+/));var d=Tt.makeSpan(a,n,s);for(var m in o.attributes)m!=="class"&&o.attributes.hasOwnProperty(m)&&d.setAttribute(m,o.attributes[m]);return d},mathmlBuilder:(o,s)=>eh(o.body,s)});En({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(o,s)=>{var{parser:n}=o;return{type:"htmlmathml",mode:n.mode,html:bo(s[0]),mathml:bo(s[1])}},htmlBuilder:(o,s)=>{var n=Ho(o.html,s,!1);return Tt.makeFragment(n)},mathmlBuilder:(o,s)=>eh(o.mathml,s)});var J6=function(s){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(s))return{number:+s,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(s);if(!n)throw new un("Invalid size: '"+s+"' in \\includegraphics");var a={number:+(n[1]+n[2]),unit:n[3]};if(!g9(a))throw new un("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a};En({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(o,s,n)=>{var{parser:a}=o,d={number:0,unit:"em"},m={number:.9,unit:"em"},b={number:0,unit:"em"},C="";if(n[0])for(var x=Vr(n[0],"raw").string,k=x.split(","),E=0;E<k.length;E++){var R=k[E].split("=");if(R.length===2){var q=R[1].trim();switch(R[0].trim()){case"alt":C=q;break;case"width":d=J6(q);break;case"height":m=J6(q);break;case"totalheight":b=J6(q);break;default:throw new un("Invalid key: '"+R[0]+"' in \\includegraphics.")}}}var z=Vr(s[0],"url").url;return C===""&&(C=z,C=C.replace(/^.*[\\/]/,""),C=C.substring(0,C.lastIndexOf("."))),a.settings.isTrusted({command:"\\includegraphics",url:z})?{type:"includegraphics",mode:a.mode,alt:C,width:d,height:m,totalheight:b,src:z}:a.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(o,s)=>{var n=to(o.height,s),a=0;o.totalheight.number>0&&(a=to(o.totalheight,s)-n);var d=0;o.width.number>0&&(d=to(o.width,s));var m={height:mn(n+a)};d>0&&(m.width=mn(d)),a>0&&(m.verticalAlign=mn(-a));var b=new j_(o.src,o.alt,m);return b.height=n,b.depth=a,b},mathmlBuilder:(o,s)=>{var n=new ln.MathNode("mglyph",[]);n.setAttribute("alt",o.alt);var a=to(o.height,s),d=0;if(o.totalheight.number>0&&(d=to(o.totalheight,s)-a,n.setAttribute("valign",mn(-d))),n.setAttribute("height",mn(a+d)),o.width.number>0){var m=to(o.width,s);n.setAttribute("width",mn(m))}return n.setAttribute("src",o.src),n}});En({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(o,s){var{parser:n,funcName:a}=o,d=Vr(s[0],"size");if(n.settings.strict){var m=a[1]==="m",b=d.value.unit==="mu";m?(b||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" supports only mu units, "+("not "+d.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" works only in math mode")):b&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+a+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:d.value}},htmlBuilder(o,s){return Tt.makeGlue(o.dimension,s)},mathmlBuilder(o,s){var n=to(o.dimension,s);return new ln.SpaceNode(n)}});En({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=s[0];return{type:"lap",mode:n.mode,alignment:a.slice(5),body:d}},htmlBuilder:(o,s)=>{var n;o.alignment==="clap"?(n=Tt.makeSpan([],[Di(o.body,s)]),n=Tt.makeSpan(["inner"],[n],s)):n=Tt.makeSpan(["inner"],[Di(o.body,s)]);var a=Tt.makeSpan(["fix"],[]),d=Tt.makeSpan([o.alignment],[n,a],s),m=Tt.makeSpan(["strut"]);return m.style.height=mn(d.height+d.depth),d.depth&&(m.style.verticalAlign=mn(-d.depth)),d.children.unshift(m),d=Tt.makeSpan(["thinbox"],[d],s),Tt.makeSpan(["mord","vbox"],[d],s)},mathmlBuilder:(o,s)=>{var n=new ln.MathNode("mpadded",[Es(o.body,s)]);if(o.alignment!=="rlap"){var a=o.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",a+"width")}return n.setAttribute("width","0px"),n}});En({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(o,s){var{funcName:n,parser:a}=o,d=a.mode;a.switchMode("math");var m=n==="\\("?"\\)":"$",b=a.parseExpression(!1,m);return a.expect(m),a.switchMode(d),{type:"styling",mode:a.mode,style:"text",body:b}}});En({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(o,s){throw new un("Mismatched "+o.funcName)}});var Kp=(o,s)=>{switch(s.style.size){case ur.DISPLAY.size:return o.display;case ur.TEXT.size:return o.text;case ur.SCRIPT.size:return o.script;case ur.SCRIPTSCRIPT.size:return o.scriptscript;default:return o.text}};En({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(o,s)=>{var{parser:n}=o;return{type:"mathchoice",mode:n.mode,display:bo(s[0]),text:bo(s[1]),script:bo(s[2]),scriptscript:bo(s[3])}},htmlBuilder:(o,s)=>{var n=Kp(o,s),a=Ho(n,s,!1);return Tt.makeFragment(a)},mathmlBuilder:(o,s)=>{var n=Kp(o,s);return eh(n,s)}});var Z9=(o,s,n,a,d,m,b)=>{o=Tt.makeSpan([],[o]);var C=n&&Gi.isCharacterBox(n),x,k;if(s){var E=Di(s,a.havingStyle(d.sup()),a);k={elem:E,kern:Math.max(a.fontMetrics().bigOpSpacing1,a.fontMetrics().bigOpSpacing3-E.depth)}}if(n){var R=Di(n,a.havingStyle(d.sub()),a);x={elem:R,kern:Math.max(a.fontMetrics().bigOpSpacing2,a.fontMetrics().bigOpSpacing4-R.height)}}var q;if(k&&x){var z=a.fontMetrics().bigOpSpacing5+x.elem.height+x.elem.depth+x.kern+o.depth+b;q=Tt.makeVList({positionType:"bottom",positionData:z,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:x.elem,marginLeft:mn(-m)},{type:"kern",size:x.kern},{type:"elem",elem:o},{type:"kern",size:k.kern},{type:"elem",elem:k.elem,marginLeft:mn(m)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else if(x){var fe=o.height-b;q=Tt.makeVList({positionType:"top",positionData:fe,children:[{type:"kern",size:a.fontMetrics().bigOpSpacing5},{type:"elem",elem:x.elem,marginLeft:mn(-m)},{type:"kern",size:x.kern},{type:"elem",elem:o}]},a)}else if(k){var ve=o.depth+b;q=Tt.makeVList({positionType:"bottom",positionData:ve,children:[{type:"elem",elem:o},{type:"kern",size:k.kern},{type:"elem",elem:k.elem,marginLeft:mn(m)},{type:"kern",size:a.fontMetrics().bigOpSpacing5}]},a)}else return o;var ge=[q];if(x&&m!==0&&!C){var re=Tt.makeSpan(["mspace"],[],a);re.style.marginRight=mn(m),ge.unshift(re)}return Tt.makeSpan(["mop","op-limits"],ge,a)},Q9=["\\smallint"],x4=(o,s)=>{var n,a,d=!1,m;o.type==="supsub"?(n=o.sup,a=o.sub,m=Vr(o.base,"op"),d=!0):m=Vr(o,"op");var b=s.style,C=!1;b.size===ur.DISPLAY.size&&m.symbol&&!Q9.includes(m.name)&&(C=!0);var x;if(m.symbol){var k=C?"Size2-Regular":"Size1-Regular",E="";if((m.name==="\\oiint"||m.name==="\\oiiint")&&(E=m.name.slice(1),m.name=E==="oiint"?"\\iint":"\\iiint"),x=Tt.makeSymbol(m.name,k,"math",s,["mop","op-symbol",C?"large-op":"small-op"]),E.length>0){var R=x.italic,q=Tt.staticSvg(E+"Size"+(C?"2":"1"),s);x=Tt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:0},{type:"elem",elem:q,shift:C?.08:0}]},s),m.name="\\"+E,x.classes.unshift("mop"),x.italic=R}}else if(m.body){var z=Ho(m.body,s,!0);z.length===1&&z[0]instanceof Ta?(x=z[0],x.classes[0]="mop"):x=Tt.makeSpan(["mop"],z,s)}else{for(var fe=[],ve=1;ve<m.name.length;ve++)fe.push(Tt.mathsym(m.name[ve],m.mode,s));x=Tt.makeSpan(["mop"],fe,s)}var ge=0,re=0;return(x instanceof Ta||m.name==="\\oiint"||m.name==="\\oiiint")&&!m.suppressBaseShift&&(ge=(x.height-x.depth)/2-s.fontMetrics().axisHeight,re=x.italic),d?Z9(x,n,a,s,b,re,ge):(ge&&(x.style.position="relative",x.style.top=mn(ge)),x)},c3=(o,s)=>{var n;if(o.symbol)n=new P0("mo",[_a(o.name,o.mode)]),Q9.includes(o.name)&&n.setAttribute("largeop","false");else if(o.body)n=new P0("mo",f0(o.body,s));else{n=new P0("mi",[new Wu(o.name.slice(1))]);var a=new P0("mo",[_a("","text")]);o.parentIsSupSub?n=new P0("mrow",[n,a]):n=C9([n,a])}return n},YE={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};En({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=a;return d.length===1&&(d=YE[d]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:x4,mathmlBuilder:c3});En({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(o,s)=>{var{parser:n}=o,a=s[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:bo(a)}},htmlBuilder:x4,mathmlBuilder:c3});var KE={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};En({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(o){var{parser:s,funcName:n}=o;return{type:"op",mode:s.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:x4,mathmlBuilder:c3});En({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(o){var{parser:s,funcName:n}=o;return{type:"op",mode:s.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:x4,mathmlBuilder:c3});En({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(o){var{parser:s,funcName:n}=o,a=n;return a.length===1&&(a=KE[a]),{type:"op",mode:s.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:x4,mathmlBuilder:c3});var eg=(o,s)=>{var n,a,d=!1,m;o.type==="supsub"?(n=o.sup,a=o.sub,m=Vr(o.base,"operatorname"),d=!0):m=Vr(o,"operatorname");var b;if(m.body.length>0){for(var C=m.body.map(R=>{var q=R.text;return typeof q=="string"?{type:"textord",mode:R.mode,text:q}:R}),x=Ho(C,s.withFont("mathrm"),!0),k=0;k<x.length;k++){var E=x[k];E instanceof Ta&&(E.text=E.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}b=Tt.makeSpan(["mop"],x,s)}else b=Tt.makeSpan(["mop"],[],s);return d?Z9(b,n,a,s,s.style,0,0):b},JE=(o,s)=>{for(var n=f0(o.body,s.withFont("mathrm")),a=!0,d=0;d<n.length;d++){var m=n[d];if(!(m instanceof ln.SpaceNode))if(m instanceof ln.MathNode)switch(m.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var b=m.children[0];m.children.length===1&&b instanceof ln.TextNode?b.text=b.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):a=!1;break}default:a=!1}else a=!1}if(a){var C=n.map(E=>E.toText()).join("");n=[new ln.TextNode(C)]}var x=new ln.MathNode("mi",n);x.setAttribute("mathvariant","normal");var k=new ln.MathNode("mo",[_a("","text")]);return o.parentIsSupSub?new ln.MathNode("mrow",[x,k]):ln.newDocumentFragment([x,k])};En({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(o,s)=>{var{parser:n,funcName:a}=o,d=s[0];return{type:"operatorname",mode:n.mode,body:bo(d),alwaysHandleSupSub:a==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:eg,mathmlBuilder:JE});be("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Kh({type:"ordgroup",htmlBuilder(o,s){return o.semisimple?Tt.makeFragment(Ho(o.body,s,!1)):Tt.makeSpan(["mord"],Ho(o.body,s,!0),s)},mathmlBuilder(o,s){return eh(o.body,s,!0)}});En({type:"overline",names:["\\overline"],props:{numArgs:1},handler(o,s){var{parser:n}=o,a=s[0];return{type:"overline",mode:n.mode,body:a}},htmlBuilder(o,s){var n=Di(o.body,s.havingCrampedStyle()),a=Tt.makeLineSpan("overline-line",s),d=s.fontMetrics().defaultRuleThickness,m=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*d},{type:"elem",elem:a},{type:"kern",size:d}]},s);return Tt.makeSpan(["mord","overline"],[m],s)},mathmlBuilder(o,s){var n=new ln.MathNode("mo",[new ln.TextNode("")]);n.setAttribute("stretchy","true");var a=new ln.MathNode("mover",[Es(o.body,s),n]);return a.setAttribute("accent","true"),a}});En({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(o,s)=>{var{parser:n}=o,a=s[0];return{type:"phantom",mode:n.mode,body:bo(a)}},htmlBuilder:(o,s)=>{var n=Ho(o.body,s.withPhantom(),!1);return Tt.makeFragment(n)},mathmlBuilder:(o,s)=>{var n=f0(o.body,s);return new ln.MathNode("mphantom",n)}});En({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(o,s)=>{var{parser:n}=o,a=s[0];return{type:"hphantom",mode:n.mode,body:a}},htmlBuilder:(o,s)=>{var n=Tt.makeSpan([],[Di(o.body,s.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var a=0;a<n.children.length;a++)n.children[a].height=0,n.children[a].depth=0;return n=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},s),Tt.makeSpan(["mord"],[n],s)},mathmlBuilder:(o,s)=>{var n=f0(bo(o.body),s),a=new ln.MathNode("mphantom",n),d=new ln.MathNode("mpadded",[a]);return d.setAttribute("height","0px"),d.setAttribute("depth","0px"),d}});En({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(o,s)=>{var{parser:n}=o,a=s[0];return{type:"vphantom",mode:n.mode,body:a}},htmlBuilder:(o,s)=>{var n=Tt.makeSpan(["inner"],[Di(o.body,s.withPhantom())]),a=Tt.makeSpan(["fix"],[]);return Tt.makeSpan(["mord","rlap"],[n,a],s)},mathmlBuilder:(o,s)=>{var n=f0(bo(o.body),s),a=new ln.MathNode("mphantom",n),d=new ln.MathNode("mpadded",[a]);return d.setAttribute("width","0px"),d}});En({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(o,s){var{parser:n}=o,a=Vr(s[0],"size").value,d=s[1];return{type:"raisebox",mode:n.mode,dy:a,body:d}},htmlBuilder(o,s){var n=Di(o.body,s),a=to(o.dy,s);return Tt.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:n}]},s)},mathmlBuilder(o,s){var n=new ln.MathNode("mpadded",[Es(o.body,s)]),a=o.dy.number+o.dy.unit;return n.setAttribute("voffset",a),n}});En({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(o){var{parser:s}=o;return{type:"internal",mode:s.mode}}});En({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(o,s,n){var{parser:a}=o,d=n[0],m=Vr(s[0],"size"),b=Vr(s[1],"size");return{type:"rule",mode:a.mode,shift:d&&Vr(d,"size").value,width:m.value,height:b.value}},htmlBuilder(o,s){var n=Tt.makeSpan(["mord","rule"],[],s),a=to(o.width,s),d=to(o.height,s),m=o.shift?to(o.shift,s):0;return n.style.borderRightWidth=mn(a),n.style.borderTopWidth=mn(d),n.style.bottom=mn(m),n.width=a,n.height=d+m,n.depth=-m,n.maxFontSize=d*1.125*s.sizeMultiplier,n},mathmlBuilder(o,s){var n=to(o.width,s),a=to(o.height,s),d=o.shift?to(o.shift,s):0,m=s.color&&s.getColor()||"black",b=new ln.MathNode("mspace");b.setAttribute("mathbackground",m),b.setAttribute("width",mn(n)),b.setAttribute("height",mn(a));var C=new ln.MathNode("mpadded",[b]);return d>=0?C.setAttribute("height",mn(d)):(C.setAttribute("height",mn(d)),C.setAttribute("depth",mn(-d))),C.setAttribute("voffset",mn(d)),C}});function tg(o,s,n){for(var a=Ho(o,s,!1),d=s.sizeMultiplier/n.sizeMultiplier,m=0;m<a.length;m++){var b=a[m].classes.indexOf("sizing");b<0?Array.prototype.push.apply(a[m].classes,s.sizingClasses(n)):a[m].classes[b+1]==="reset-size"+s.size&&(a[m].classes[b+1]="reset-size"+n.size),a[m].height*=d,a[m].depth*=d}return Tt.makeFragment(a)}var Jp=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],ZE=(o,s)=>{var n=s.havingSize(o.size);return tg(o.body,n,s)};En({type:"sizing",names:Jp,props:{numArgs:0,allowedInText:!0},handler:(o,s)=>{var{breakOnTokenText:n,funcName:a,parser:d}=o,m=d.parseExpression(!1,n);return{type:"sizing",mode:d.mode,size:Jp.indexOf(a)+1,body:m}},htmlBuilder:ZE,mathmlBuilder:(o,s)=>{var n=s.havingSize(o.size),a=f0(o.body,n),d=new ln.MathNode("mstyle",a);return d.setAttribute("mathsize",mn(n.sizeMultiplier)),d}});En({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(o,s,n)=>{var{parser:a}=o,d=!1,m=!1,b=n[0]&&Vr(n[0],"ordgroup");if(b)for(var C="",x=0;x<b.body.length;++x){var k=b.body[x];if(C=k.text,C==="t")d=!0;else if(C==="b")m=!0;else{d=!1,m=!1;break}}else d=!0,m=!0;var E=s[0];return{type:"smash",mode:a.mode,body:E,smashHeight:d,smashDepth:m}},htmlBuilder:(o,s)=>{var n=Tt.makeSpan([],[Di(o.body,s)]);if(!o.smashHeight&&!o.smashDepth)return n;if(o.smashHeight&&(n.height=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].height=0;if(o.smashDepth&&(n.depth=0,n.children))for(var d=0;d<n.children.length;d++)n.children[d].depth=0;var m=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},s);return Tt.makeSpan(["mord"],[m],s)},mathmlBuilder:(o,s)=>{var n=new ln.MathNode("mpadded",[Es(o.body,s)]);return o.smashHeight&&n.setAttribute("height","0px"),o.smashDepth&&n.setAttribute("depth","0px"),n}});En({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(o,s,n){var{parser:a}=o,d=n[0],m=s[0];return{type:"sqrt",mode:a.mode,body:m,index:d}},htmlBuilder(o,s){var n=Di(o.body,s.havingCrampedStyle());n.height===0&&(n.height=s.fontMetrics().xHeight),n=Tt.wrapFragment(n,s);var a=s.fontMetrics(),d=a.defaultRuleThickness,m=d;s.style.id<ur.TEXT.id&&(m=s.fontMetrics().xHeight);var b=d+m/4,C=n.height+n.depth+b+d,{span:x,ruleWidth:k,advanceWidth:E}=Hc.sqrtImage(C,s),R=x.height-k;R>n.height+n.depth+b&&(b=(b+R-n.height-n.depth)/2);var q=x.height-n.height-b-k;n.style.paddingLeft=mn(E);var z=Tt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+q)},{type:"elem",elem:x},{type:"kern",size:k}]},s);if(o.index){var fe=s.havingStyle(ur.SCRIPTSCRIPT),ve=Di(o.index,fe,s),ge=.6*(z.height-z.depth),re=Tt.makeVList({positionType:"shift",positionData:-ge,children:[{type:"elem",elem:ve}]},s),ie=Tt.makeSpan(["root"],[re]);return Tt.makeSpan(["mord","sqrt"],[ie,z],s)}else return Tt.makeSpan(["mord","sqrt"],[z],s)},mathmlBuilder(o,s){var{body:n,index:a}=o;return a?new ln.MathNode("mroot",[Es(n,s),Es(a,s)]):new ln.MathNode("msqrt",[Es(n,s)])}});var Zp={display:ur.DISPLAY,text:ur.TEXT,script:ur.SCRIPT,scriptscript:ur.SCRIPTSCRIPT};En({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(o,s){var{breakOnTokenText:n,funcName:a,parser:d}=o,m=d.parseExpression(!0,n),b=a.slice(1,a.length-5);return{type:"styling",mode:d.mode,style:b,body:m}},htmlBuilder(o,s){var n=Zp[o.style],a=s.havingStyle(n).withFont("");return tg(o.body,a,s)},mathmlBuilder(o,s){var n=Zp[o.style],a=s.havingStyle(n),d=f0(o.body,a),m=new ln.MathNode("mstyle",d),b={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},C=b[o.style];return m.setAttribute("scriptlevel",C[0]),m.setAttribute("displaystyle",C[1]),m}});var QE=function(s,n){var a=s.base;if(a)if(a.type==="op"){var d=a.limits&&(n.style.size===ur.DISPLAY.size||a.alwaysHandleSupSub);return d?x4:null}else if(a.type==="operatorname"){var m=a.alwaysHandleSupSub&&(n.style.size===ur.DISPLAY.size||a.limits);return m?eg:null}else{if(a.type==="accent")return Gi.isCharacterBox(a.base)?j7:null;if(a.type==="horizBrace"){var b=!s.sub;return b===a.isOver?J9:null}else return null}else return null};Kh({type:"supsub",htmlBuilder(o,s){var n=QE(o,s);if(n)return n(o,s);var{base:a,sup:d,sub:m}=o,b=Di(a,s),C,x,k=s.fontMetrics(),E=0,R=0,q=a&&Gi.isCharacterBox(a);if(d){var z=s.havingStyle(s.style.sup());C=Di(d,z,s),q||(E=b.height-z.fontMetrics().supDrop*z.sizeMultiplier/s.sizeMultiplier)}if(m){var fe=s.havingStyle(s.style.sub());x=Di(m,fe,s),q||(R=b.depth+fe.fontMetrics().subDrop*fe.sizeMultiplier/s.sizeMultiplier)}var ve;s.style===ur.DISPLAY?ve=k.sup1:s.style.cramped?ve=k.sup3:ve=k.sup2;var ge=s.sizeMultiplier,re=mn(.5/k.ptPerEm/ge),ie=null;if(x){var ke=o.base&&o.base.type==="op"&&o.base.name&&(o.base.name==="\\oiint"||o.base.name==="\\oiiint");(b instanceof Ta||ke)&&(ie=mn(-b.italic))}var Be;if(C&&x){E=Math.max(E,ve,C.depth+.25*k.xHeight),R=Math.max(R,k.sub2);var Ke=k.defaultRuleThickness,ye=4*Ke;if(E-C.depth-(x.height-R)<ye){R=ye-(E-C.depth)+x.height;var Ve=.8*k.xHeight-(E-C.depth);Ve>0&&(E+=Ve,R-=Ve)}var st=[{type:"elem",elem:x,shift:R,marginRight:re,marginLeft:ie},{type:"elem",elem:C,shift:-E,marginRight:re}];Be=Tt.makeVList({positionType:"individualShift",children:st},s)}else if(x){R=Math.max(R,k.sub1,x.height-.8*k.xHeight);var Xe=[{type:"elem",elem:x,marginLeft:ie,marginRight:re}];Be=Tt.makeVList({positionType:"shift",positionData:R,children:Xe},s)}else if(C)E=Math.max(E,ve,C.depth+.25*k.xHeight),Be=Tt.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:C,marginRight:re}]},s);else throw new Error("supsub must have either sup or sub.");var Qt=$7(b,"right")||"mord";return Tt.makeSpan([Qt],[b,Tt.makeSpan(["msupsub"],[Be])],s)},mathmlBuilder(o,s){var n=!1,a,d;o.base&&o.base.type==="horizBrace"&&(d=!!o.sup,d===o.base.isOver&&(n=!0,a=o.base.isOver)),o.base&&(o.base.type==="op"||o.base.type==="operatorname")&&(o.base.parentIsSupSub=!0);var m=[Es(o.base,s)];o.sub&&m.push(Es(o.sub,s)),o.sup&&m.push(Es(o.sup,s));var b;if(n)b=a?"mover":"munder";else if(o.sub)if(o.sup){var k=o.base;k&&k.type==="op"&&k.limits&&s.style===ur.DISPLAY||k&&k.type==="operatorname"&&k.alwaysHandleSupSub&&(s.style===ur.DISPLAY||k.limits)?b="munderover":b="msubsup"}else{var x=o.base;x&&x.type==="op"&&x.limits&&(s.style===ur.DISPLAY||x.alwaysHandleSupSub)||x&&x.type==="operatorname"&&x.alwaysHandleSupSub&&(x.limits||s.style===ur.DISPLAY)?b="munder":b="msub"}else{var C=o.base;C&&C.type==="op"&&C.limits&&(s.style===ur.DISPLAY||C.alwaysHandleSupSub)||C&&C.type==="operatorname"&&C.alwaysHandleSupSub&&(C.limits||s.style===ur.DISPLAY)?b="mover":b="msup"}return new ln.MathNode(b,m)}});Kh({type:"atom",htmlBuilder(o,s){return Tt.mathsym(o.text,o.mode,s,["m"+o.family])},mathmlBuilder(o,s){var n=new ln.MathNode("mo",[_a(o.text,o.mode)]);if(o.family==="bin"){var a=q7(o,s);a==="bold-italic"&&n.setAttribute("mathvariant",a)}else o.family==="punct"?n.setAttribute("separator","true"):(o.family==="open"||o.family==="close")&&n.setAttribute("stretchy","false");return n}});var ng={mi:"italic",mn:"normal",mtext:"normal"};Kh({type:"mathord",htmlBuilder(o,s){return Tt.makeOrd(o,s,"mathord")},mathmlBuilder(o,s){var n=new ln.MathNode("mi",[_a(o.text,o.mode,s)]),a=q7(o,s)||"italic";return a!==ng[n.type]&&n.setAttribute("mathvariant",a),n}});Kh({type:"textord",htmlBuilder(o,s){return Tt.makeOrd(o,s,"textord")},mathmlBuilder(o,s){var n=_a(o.text,o.mode,s),a=q7(o,s)||"normal",d;return o.mode==="text"?d=new ln.MathNode("mtext",[n]):/[0-9]/.test(o.text)?d=new ln.MathNode("mn",[n]):o.text==="\\prime"?d=new ln.MathNode("mo",[n]):d=new ln.MathNode("mi",[n]),a!==ng[d.type]&&d.setAttribute("mathvariant",a),d}});var Z6={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Q6={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Kh({type:"spacing",htmlBuilder(o,s){if(Q6.hasOwnProperty(o.text)){var n=Q6[o.text].className||"";if(o.mode==="text"){var a=Tt.makeOrd(o,s,"textord");return a.classes.push(n),a}else return Tt.makeSpan(["mspace",n],[Tt.mathsym(o.text,o.mode,s)],s)}else{if(Z6.hasOwnProperty(o.text))return Tt.makeSpan(["mspace",Z6[o.text]],[],s);throw new un('Unknown type of space "'+o.text+'"')}},mathmlBuilder(o,s){var n;if(Q6.hasOwnProperty(o.text))n=new ln.MathNode("mtext",[new ln.TextNode("")]);else{if(Z6.hasOwnProperty(o.text))return new ln.MathNode("mspace");throw new un('Unknown type of space "'+o.text+'"')}return n}});var Qp=()=>{var o=new ln.MathNode("mtd",[]);return o.setAttribute("width","50%"),o};Kh({type:"tag",mathmlBuilder(o,s){var n=new ln.MathNode("mtable",[new ln.MathNode("mtr",[Qp(),new ln.MathNode("mtd",[eh(o.body,s)]),Qp(),new ln.MathNode("mtd",[eh(o.tag,s)])])]);return n.setAttribute("width","100%"),n}});var em={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},tm={"\\textbf":"textbf","\\textmd":"textmd"},ew={"\\textit":"textit","\\textup":"textup"},nm=(o,s)=>{var n=o.font;if(n){if(em[n])return s.withTextFontFamily(em[n]);if(tm[n])return s.withTextFontWeight(tm[n]);if(n==="\\emph")return s.fontShape==="textit"?s.withTextFontShape("textup"):s.withTextFontShape("textit")}else return s;return s.withTextFontShape(ew[n])};En({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(o,s){var{parser:n,funcName:a}=o,d=s[0];return{type:"text",mode:n.mode,body:bo(d),font:a}},htmlBuilder(o,s){var n=nm(o,s),a=Ho(o.body,n,!0);return Tt.makeSpan(["mord","text"],a,n)},mathmlBuilder(o,s){var n=nm(o,s);return eh(o.body,n)}});En({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(o,s){var{parser:n}=o;return{type:"underline",mode:n.mode,body:s[0]}},htmlBuilder(o,s){var n=Di(o.body,s),a=Tt.makeLineSpan("underline-line",s),d=s.fontMetrics().defaultRuleThickness,m=Tt.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:d},{type:"elem",elem:a},{type:"kern",size:3*d},{type:"elem",elem:n}]},s);return Tt.makeSpan(["mord","underline"],[m],s)},mathmlBuilder(o,s){var n=new ln.MathNode("mo",[new ln.TextNode("")]);n.setAttribute("stretchy","true");var a=new ln.MathNode("munder",[Es(o.body,s),n]);return a.setAttribute("accentunder","true"),a}});En({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(o,s){var{parser:n}=o;return{type:"vcenter",mode:n.mode,body:s[0]}},htmlBuilder(o,s){var n=Di(o.body,s),a=s.fontMetrics().axisHeight,d=.5*(n.height-a-(n.depth+a));return Tt.makeVList({positionType:"shift",positionData:d,children:[{type:"elem",elem:n}]},s)},mathmlBuilder(o,s){return new ln.MathNode("mpadded",[Es(o.body,s)],["vcenter"])}});En({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(o,s,n){throw new un("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(o,s){for(var n=rm(o),a=[],d=s.havingStyle(s.style.text()),m=0;m<n.length;m++){var b=n[m];b==="~"&&(b="\\textasciitilde"),a.push(Tt.makeSymbol(b,"Typewriter-Regular",o.mode,d,["mord","texttt"]))}return Tt.makeSpan(["mord","text"].concat(d.sizingClasses(s)),Tt.tryCombineChars(a),d)},mathmlBuilder(o,s){var n=new ln.TextNode(rm(o)),a=new ln.MathNode("mtext",[n]);return a.setAttribute("mathvariant","monospace"),a}});var rm=o=>o.body.replace(/ /g,o.star?"":""),J1=S9,rg=`[ \r
	]`,tw="\\\\[a-zA-Z@]+",nw="\\\\[^\uD800-\uDFFF]",rw="("+tw+")"+rg+"*",iw=`\\\\(
|[ \r	]+
?)[ \r	]*`,T7="[-]",sw=new RegExp(T7+"+$"),ow="("+rg+"+)|"+(iw+"|")+"([!-\\[\\]---]"+(T7+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(T7+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+rw)+("|"+nw+")");class im{constructor(s,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=s,this.settings=n,this.tokenRegex=new RegExp(ow,"g"),this.catcodes={"%":14,"~":13}}setCatcode(s,n){this.catcodes[s]=n}lex(){var s=this.input,n=this.tokenRegex.lastIndex;if(n===s.length)return new z0("EOF",new c0(this,n,n));var a=this.tokenRegex.exec(s);if(a===null||a.index!==n)throw new un("Unexpected character: '"+s[n]+"'",new z0(s[n],new c0(this,n,n+1)));var d=a[6]||a[3]||(a[2]?"\\ ":" ");if(this.catcodes[d]===14){var m=s.indexOf(`
`,this.tokenRegex.lastIndex);return m===-1?(this.tokenRegex.lastIndex=s.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=m+1,this.lex()}return new z0(d,new c0(this,n,this.tokenRegex.lastIndex))}}class lw{constructor(s,n){s===void 0&&(s={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=s,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new un("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var s=this.undefStack.pop();for(var n in s)s.hasOwnProperty(n)&&(s[n]==null?delete this.current[n]:this.current[n]=s[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(s){return this.current.hasOwnProperty(s)||this.builtins.hasOwnProperty(s)}get(s){return this.current.hasOwnProperty(s)?this.current[s]:this.builtins[s]}set(s,n,a){if(a===void 0&&(a=!1),a){for(var d=0;d<this.undefStack.length;d++)delete this.undefStack[d][s];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][s]=n)}else{var m=this.undefStack[this.undefStack.length-1];m&&!m.hasOwnProperty(s)&&(m[s]=this.current[s])}n==null?delete this.current[s]:this.current[s]=n}}var aw=q9;be("\\noexpand",function(o){var s=o.popToken();return o.isExpandable(s.text)&&(s.noexpand=!0,s.treatAsRelax=!0),{tokens:[s],numArgs:0}});be("\\expandafter",function(o){var s=o.popToken();return o.expandOnce(!0),{tokens:[s],numArgs:0}});be("\\@firstoftwo",function(o){var s=o.consumeArgs(2);return{tokens:s[0],numArgs:0}});be("\\@secondoftwo",function(o){var s=o.consumeArgs(2);return{tokens:s[1],numArgs:0}});be("\\@ifnextchar",function(o){var s=o.consumeArgs(3);o.consumeSpaces();var n=o.future();return s[0].length===1&&s[0][0].text===n.text?{tokens:s[1],numArgs:0}:{tokens:s[2],numArgs:0}});be("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");be("\\TextOrMath",function(o){var s=o.consumeArgs(2);return o.mode==="text"?{tokens:s[0],numArgs:0}:{tokens:s[1],numArgs:0}});var sm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};be("\\char",function(o){var s=o.popToken(),n,a="";if(s.text==="'")n=8,s=o.popToken();else if(s.text==='"')n=16,s=o.popToken();else if(s.text==="`")if(s=o.popToken(),s.text[0]==="\\")a=s.text.charCodeAt(1);else{if(s.text==="EOF")throw new un("\\char` missing argument");a=s.text.charCodeAt(0)}else n=10;if(n){if(a=sm[s.text],a==null||a>=n)throw new un("Invalid base-"+n+" digit "+s.text);for(var d;(d=sm[o.future().text])!=null&&d<n;)a*=n,a+=d,o.popToken()}return"\\@char{"+a+"}"});var nf=(o,s,n,a)=>{var d=o.consumeArg().tokens;if(d.length!==1)throw new un("\\newcommand's first argument must be a macro name");var m=d[0].text,b=o.isDefined(m);if(b&&!s)throw new un("\\newcommand{"+m+"} attempting to redefine "+(m+"; use \\renewcommand"));if(!b&&!n)throw new un("\\renewcommand{"+m+"} when command "+m+" does not yet exist; use \\newcommand");var C=0;if(d=o.consumeArg().tokens,d.length===1&&d[0].text==="["){for(var x="",k=o.expandNextToken();k.text!=="]"&&k.text!=="EOF";)x+=k.text,k=o.expandNextToken();if(!x.match(/^\s*[0-9]+\s*$/))throw new un("Invalid number of arguments: "+x);C=parseInt(x),d=o.consumeArg().tokens}return b&&a||o.macros.set(m,{tokens:d,numArgs:C}),""};be("\\newcommand",o=>nf(o,!1,!0,!1));be("\\renewcommand",o=>nf(o,!0,!1,!1));be("\\providecommand",o=>nf(o,!0,!0,!0));be("\\message",o=>{var s=o.consumeArgs(1)[0];return console.log(s.reverse().map(n=>n.text).join("")),""});be("\\errmessage",o=>{var s=o.consumeArgs(1)[0];return console.error(s.reverse().map(n=>n.text).join("")),""});be("\\show",o=>{var s=o.popToken(),n=s.text;return console.log(s,o.macros.get(n),J1[n],Is.math[n],Is.text[n]),""});be("\\bgroup","{");be("\\egroup","}");be("~","\\nobreakspace");be("\\lq","`");be("\\rq","'");be("\\aa","\\r a");be("\\AA","\\r A");be("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");be("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");be("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");be("","\\mathscr{B}");be("","\\mathscr{E}");be("","\\mathscr{F}");be("","\\mathscr{H}");be("","\\mathscr{I}");be("","\\mathscr{L}");be("","\\mathscr{M}");be("","\\mathscr{R}");be("","\\mathfrak{C}");be("","\\mathfrak{H}");be("","\\mathfrak{Z}");be("\\Bbbk","\\Bbb{k}");be("","\\cdotp");be("\\llap","\\mathllap{\\textrm{#1}}");be("\\rlap","\\mathrlap{\\textrm{#1}}");be("\\clap","\\mathclap{\\textrm{#1}}");be("\\mathstrut","\\vphantom{(}");be("\\underbar","\\underline{\\text{#1}}");be("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');be("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");be("\\ne","\\neq");be("","\\neq");be("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");be("","\\notin");be("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");be("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");be("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");be("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");be("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");be("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");be("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");be("","\\perp");be("","\\mathclose{!\\mkern-0.8mu!}");be("","\\notni");be("","\\ulcorner");be("","\\urcorner");be("","\\llcorner");be("","\\lrcorner");be("","\\copyright");be("","\\textregistered");be("","\\textregistered");be("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');be("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');be("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');be("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');be("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");be("","\\vdots");be("\\varGamma","\\mathit{\\Gamma}");be("\\varDelta","\\mathit{\\Delta}");be("\\varTheta","\\mathit{\\Theta}");be("\\varLambda","\\mathit{\\Lambda}");be("\\varXi","\\mathit{\\Xi}");be("\\varPi","\\mathit{\\Pi}");be("\\varSigma","\\mathit{\\Sigma}");be("\\varUpsilon","\\mathit{\\Upsilon}");be("\\varPhi","\\mathit{\\Phi}");be("\\varPsi","\\mathit{\\Psi}");be("\\varOmega","\\mathit{\\Omega}");be("\\substack","\\begin{subarray}{c}#1\\end{subarray}");be("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");be("\\boxed","\\fbox{$\\displaystyle{#1}$}");be("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");be("\\implies","\\DOTSB\\;\\Longrightarrow\\;");be("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");be("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");be("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var om={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};be("\\dots",function(o){var s="\\dotso",n=o.expandAfterFuture().text;return n in om?s=om[n]:(n.slice(0,4)==="\\not"||n in Is.math&&["bin","rel"].includes(Is.math[n].group))&&(s="\\dotsb"),s});var rf={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};be("\\dotso",function(o){var s=o.future().text;return s in rf?"\\ldots\\,":"\\ldots"});be("\\dotsc",function(o){var s=o.future().text;return s in rf&&s!==","?"\\ldots\\,":"\\ldots"});be("\\cdots",function(o){var s=o.future().text;return s in rf?"\\@cdots\\,":"\\@cdots"});be("\\dotsb","\\cdots");be("\\dotsm","\\cdots");be("\\dotsi","\\!\\cdots");be("\\dotsx","\\ldots\\,");be("\\DOTSI","\\relax");be("\\DOTSB","\\relax");be("\\DOTSX","\\relax");be("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");be("\\,","\\tmspace+{3mu}{.1667em}");be("\\thinspace","\\,");be("\\>","\\mskip{4mu}");be("\\:","\\tmspace+{4mu}{.2222em}");be("\\medspace","\\:");be("\\;","\\tmspace+{5mu}{.2777em}");be("\\thickspace","\\;");be("\\!","\\tmspace-{3mu}{.1667em}");be("\\negthinspace","\\!");be("\\negmedspace","\\tmspace-{4mu}{.2222em}");be("\\negthickspace","\\tmspace-{5mu}{.277em}");be("\\enspace","\\kern.5em ");be("\\enskip","\\hskip.5em\\relax");be("\\quad","\\hskip1em\\relax");be("\\qquad","\\hskip2em\\relax");be("\\tag","\\@ifstar\\tag@literal\\tag@paren");be("\\tag@paren","\\tag@literal{({#1})}");be("\\tag@literal",o=>{if(o.macros.get("\\df@tag"))throw new un("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});be("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");be("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");be("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");be("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");be("\\newline","\\\\\\relax");be("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var ig=mn(Vu["Main-Regular"][84][1]-.7*Vu["Main-Regular"][65][1]);be("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+ig+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");be("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+ig+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");be("\\hspace","\\@ifstar\\@hspacer\\@hspace");be("\\@hspace","\\hskip #1\\relax");be("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");be("\\ordinarycolon",":");be("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");be("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');be("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');be("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');be("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');be("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');be("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');be("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');be("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');be("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');be("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');be("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');be("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');be("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');be("","\\dblcolon");be("","\\eqcolon");be("","\\coloneqq");be("","\\eqqcolon");be("","\\Coloneqq");be("\\ratio","\\vcentcolon");be("\\coloncolon","\\dblcolon");be("\\colonequals","\\coloneqq");be("\\coloncolonequals","\\Coloneqq");be("\\equalscolon","\\eqqcolon");be("\\equalscoloncolon","\\Eqqcolon");be("\\colonminus","\\coloneq");be("\\coloncolonminus","\\Coloneq");be("\\minuscolon","\\eqcolon");be("\\minuscoloncolon","\\Eqcolon");be("\\coloncolonapprox","\\Colonapprox");be("\\coloncolonsim","\\Colonsim");be("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");be("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");be("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");be("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");be("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");be("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");be("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");be("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");be("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");be("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");be("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");be("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");be("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");be("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");be("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");be("\\ngeqq","\\html@mathml{\\@ngeqq}{}");be("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");be("\\nleqq","\\html@mathml{\\@nleqq}{}");be("\\nleqslant","\\html@mathml{\\@nleqslant}{}");be("\\nshortmid","\\html@mathml{\\@nshortmid}{}");be("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");be("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");be("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");be("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");be("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");be("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");be("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");be("\\imath","\\html@mathml{\\@imath}{}");be("\\jmath","\\html@mathml{\\@jmath}{}");be("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");be("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");be("","\\llbracket");be("","\\rrbracket");be("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");be("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");be("","\\lBrace");be("","\\rBrace");be("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");be("","\\minuso");be("\\darr","\\downarrow");be("\\dArr","\\Downarrow");be("\\Darr","\\Downarrow");be("\\lang","\\langle");be("\\rang","\\rangle");be("\\uarr","\\uparrow");be("\\uArr","\\Uparrow");be("\\Uarr","\\Uparrow");be("\\N","\\mathbb{N}");be("\\R","\\mathbb{R}");be("\\Z","\\mathbb{Z}");be("\\alef","\\aleph");be("\\alefsym","\\aleph");be("\\Alpha","\\mathrm{A}");be("\\Beta","\\mathrm{B}");be("\\bull","\\bullet");be("\\Chi","\\mathrm{X}");be("\\clubs","\\clubsuit");be("\\cnums","\\mathbb{C}");be("\\Complex","\\mathbb{C}");be("\\Dagger","\\ddagger");be("\\diamonds","\\diamondsuit");be("\\empty","\\emptyset");be("\\Epsilon","\\mathrm{E}");be("\\Eta","\\mathrm{H}");be("\\exist","\\exists");be("\\harr","\\leftrightarrow");be("\\hArr","\\Leftrightarrow");be("\\Harr","\\Leftrightarrow");be("\\hearts","\\heartsuit");be("\\image","\\Im");be("\\infin","\\infty");be("\\Iota","\\mathrm{I}");be("\\isin","\\in");be("\\Kappa","\\mathrm{K}");be("\\larr","\\leftarrow");be("\\lArr","\\Leftarrow");be("\\Larr","\\Leftarrow");be("\\lrarr","\\leftrightarrow");be("\\lrArr","\\Leftrightarrow");be("\\Lrarr","\\Leftrightarrow");be("\\Mu","\\mathrm{M}");be("\\natnums","\\mathbb{N}");be("\\Nu","\\mathrm{N}");be("\\Omicron","\\mathrm{O}");be("\\plusmn","\\pm");be("\\rarr","\\rightarrow");be("\\rArr","\\Rightarrow");be("\\Rarr","\\Rightarrow");be("\\real","\\Re");be("\\reals","\\mathbb{R}");be("\\Reals","\\mathbb{R}");be("\\Rho","\\mathrm{P}");be("\\sdot","\\cdot");be("\\sect","\\S");be("\\spades","\\spadesuit");be("\\sub","\\subset");be("\\sube","\\subseteq");be("\\supe","\\supseteq");be("\\Tau","\\mathrm{T}");be("\\thetasym","\\vartheta");be("\\weierp","\\wp");be("\\Zeta","\\mathrm{Z}");be("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");be("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");be("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");be("\\bra","\\mathinner{\\langle{#1}|}");be("\\ket","\\mathinner{|{#1}\\rangle}");be("\\braket","\\mathinner{\\langle{#1}\\rangle}");be("\\Bra","\\left\\langle#1\\right|");be("\\Ket","\\left|#1\\right\\rangle");var sg=o=>s=>{var n=s.consumeArg().tokens,a=s.consumeArg().tokens,d=s.consumeArg().tokens,m=s.consumeArg().tokens,b=s.macros.get("|"),C=s.macros.get("\\|");s.macros.beginGroup();var x=R=>q=>{o&&(q.macros.set("|",b),d.length&&q.macros.set("\\|",C));var z=R;if(!R&&d.length){var fe=q.future();fe.text==="|"&&(q.popToken(),z=!0)}return{tokens:z?d:a,numArgs:0}};s.macros.set("|",x(!1)),d.length&&s.macros.set("\\|",x(!0));var k=s.consumeArg().tokens,E=s.expandTokens([...m,...k,...n]);return s.macros.endGroup(),{tokens:E.reverse(),numArgs:0}};be("\\bra@ket",sg(!1));be("\\bra@set",sg(!0));be("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");be("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");be("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");be("\\angln","{\\angl n}");be("\\blue","\\textcolor{##6495ed}{#1}");be("\\orange","\\textcolor{##ffa500}{#1}");be("\\pink","\\textcolor{##ff00af}{#1}");be("\\red","\\textcolor{##df0030}{#1}");be("\\green","\\textcolor{##28ae7b}{#1}");be("\\gray","\\textcolor{gray}{#1}");be("\\purple","\\textcolor{##9d38bd}{#1}");be("\\blueA","\\textcolor{##ccfaff}{#1}");be("\\blueB","\\textcolor{##80f6ff}{#1}");be("\\blueC","\\textcolor{##63d9ea}{#1}");be("\\blueD","\\textcolor{##11accd}{#1}");be("\\blueE","\\textcolor{##0c7f99}{#1}");be("\\tealA","\\textcolor{##94fff5}{#1}");be("\\tealB","\\textcolor{##26edd5}{#1}");be("\\tealC","\\textcolor{##01d1c1}{#1}");be("\\tealD","\\textcolor{##01a995}{#1}");be("\\tealE","\\textcolor{##208170}{#1}");be("\\greenA","\\textcolor{##b6ffb0}{#1}");be("\\greenB","\\textcolor{##8af281}{#1}");be("\\greenC","\\textcolor{##74cf70}{#1}");be("\\greenD","\\textcolor{##1fab54}{#1}");be("\\greenE","\\textcolor{##0d923f}{#1}");be("\\goldA","\\textcolor{##ffd0a9}{#1}");be("\\goldB","\\textcolor{##ffbb71}{#1}");be("\\goldC","\\textcolor{##ff9c39}{#1}");be("\\goldD","\\textcolor{##e07d10}{#1}");be("\\goldE","\\textcolor{##a75a05}{#1}");be("\\redA","\\textcolor{##fca9a9}{#1}");be("\\redB","\\textcolor{##ff8482}{#1}");be("\\redC","\\textcolor{##f9685d}{#1}");be("\\redD","\\textcolor{##e84d39}{#1}");be("\\redE","\\textcolor{##bc2612}{#1}");be("\\maroonA","\\textcolor{##ffbde0}{#1}");be("\\maroonB","\\textcolor{##ff92c6}{#1}");be("\\maroonC","\\textcolor{##ed5fa6}{#1}");be("\\maroonD","\\textcolor{##ca337c}{#1}");be("\\maroonE","\\textcolor{##9e034e}{#1}");be("\\purpleA","\\textcolor{##ddd7ff}{#1}");be("\\purpleB","\\textcolor{##c6b9fc}{#1}");be("\\purpleC","\\textcolor{##aa87ff}{#1}");be("\\purpleD","\\textcolor{##7854ab}{#1}");be("\\purpleE","\\textcolor{##543b78}{#1}");be("\\mintA","\\textcolor{##f5f9e8}{#1}");be("\\mintB","\\textcolor{##edf2df}{#1}");be("\\mintC","\\textcolor{##e0e5cc}{#1}");be("\\grayA","\\textcolor{##f6f7f7}{#1}");be("\\grayB","\\textcolor{##f0f1f2}{#1}");be("\\grayC","\\textcolor{##e3e5e6}{#1}");be("\\grayD","\\textcolor{##d6d8da}{#1}");be("\\grayE","\\textcolor{##babec2}{#1}");be("\\grayF","\\textcolor{##888d93}{#1}");be("\\grayG","\\textcolor{##626569}{#1}");be("\\grayH","\\textcolor{##3b3e40}{#1}");be("\\grayI","\\textcolor{##21242c}{#1}");be("\\kaBlue","\\textcolor{##314453}{#1}");be("\\kaGreen","\\textcolor{##71B307}{#1}");var og={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class uw{constructor(s,n,a){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(s),this.macros=new lw(aw,n.macros),this.mode=a,this.stack=[]}feed(s){this.lexer=new im(s,this.settings)}switchMode(s){this.mode=s}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(s){this.stack.push(s)}pushTokens(s){this.stack.push(...s)}scanArgument(s){var n,a,d;if(s){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:d,end:a}=this.consumeArg(["]"])}else({tokens:d,start:n,end:a}=this.consumeArg());return this.pushToken(new z0("EOF",a.loc)),this.pushTokens(d),new z0("",c0.range(n,a))}consumeSpaces(){for(;;){var s=this.future();if(s.text===" ")this.stack.pop();else break}}consumeArg(s){var n=[],a=s&&s.length>0;a||this.consumeSpaces();var d=this.future(),m,b=0,C=0;do{if(m=this.popToken(),n.push(m),m.text==="{")++b;else if(m.text==="}"){if(--b,b===-1)throw new un("Extra }",m)}else if(m.text==="EOF")throw new un("Unexpected end of input in a macro argument, expected '"+(s&&a?s[C]:"}")+"'",m);if(s&&a)if((b===0||b===1&&s[C]==="{")&&m.text===s[C]){if(++C,C===s.length){n.splice(-C,C);break}}else C=0}while(b!==0||a);return d.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:d,end:m}}consumeArgs(s,n){if(n){if(n.length!==s+1)throw new un("The length of delimiters doesn't match the number of args!");for(var a=n[0],d=0;d<a.length;d++){var m=this.popToken();if(a[d]!==m.text)throw new un("Use of the macro doesn't match its definition",m)}}for(var b=[],C=0;C<s;C++)b.push(this.consumeArg(n&&n[C+1]).tokens);return b}countExpansion(s){if(this.expansionCount+=s,this.expansionCount>this.settings.maxExpand)throw new un("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(s){var n=this.popToken(),a=n.text,d=n.noexpand?null:this._getExpansion(a);if(d==null||s&&d.unexpandable){if(s&&d==null&&a[0]==="\\"&&!this.isDefined(a))throw new un("Undefined control sequence: "+a);return this.pushToken(n),!1}this.countExpansion(1);var m=d.tokens,b=this.consumeArgs(d.numArgs,d.delimiters);if(d.numArgs){m=m.slice();for(var C=m.length-1;C>=0;--C){var x=m[C];if(x.text==="#"){if(C===0)throw new un("Incomplete placeholder at end of macro body",x);if(x=m[--C],x.text==="#")m.splice(C+1,1);else if(/^[1-9]$/.test(x.text))m.splice(C,2,...b[+x.text-1]);else throw new un("Not a valid argument number",x)}}}return this.pushTokens(m),m.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var s=this.stack.pop();return s.treatAsRelax&&(s.text="\\relax"),s}throw new Error}expandMacro(s){return this.macros.has(s)?this.expandTokens([new z0(s)]):void 0}expandTokens(s){var n=[],a=this.stack.length;for(this.pushTokens(s);this.stack.length>a;)if(this.expandOnce(!0)===!1){var d=this.stack.pop();d.treatAsRelax&&(d.noexpand=!1,d.treatAsRelax=!1),n.push(d)}return this.countExpansion(n.length),n}expandMacroAsText(s){var n=this.expandMacro(s);return n&&n.map(a=>a.text).join("")}_getExpansion(s){var n=this.macros.get(s);if(n==null)return n;if(s.length===1){var a=this.lexer.catcodes[s];if(a!=null&&a!==13)return}var d=typeof n=="function"?n(this):n;if(typeof d=="string"){var m=0;if(d.indexOf("#")!==-1)for(var b=d.replace(/##/g,"");b.indexOf("#"+(m+1))!==-1;)++m;for(var C=new im(d,this.settings),x=[],k=C.lex();k.text!=="EOF";)x.push(k),k=C.lex();x.reverse();var E={tokens:x,numArgs:m};return E}return d}isDefined(s){return this.macros.has(s)||J1.hasOwnProperty(s)||Is.math.hasOwnProperty(s)||Is.text.hasOwnProperty(s)||og.hasOwnProperty(s)}isExpandable(s){var n=this.macros.get(s);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:J1.hasOwnProperty(s)&&!J1[s].primitive}}var lm=/^[]/,i5=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),e7={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},am={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class D5{constructor(s,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new uw(s,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(s,n){if(n===void 0&&(n=!0),this.fetch().text!==s)throw new un("Expected '"+s+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(s){this.mode=s,this.gullet.switchMode(s)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var s=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),s}finally{this.gullet.endGroups()}}subparse(s){var n=this.nextToken;this.consume(),this.gullet.pushToken(new z0("}")),this.gullet.pushTokens(s);var a=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,a}parseExpression(s,n){for(var a=[];;){this.mode==="math"&&this.consumeSpaces();var d=this.fetch();if(D5.endOfExpression.indexOf(d.text)!==-1||n&&d.text===n||s&&J1[d.text]&&J1[d.text].infix)break;var m=this.parseAtom(n);if(m){if(m.type==="internal")continue}else break;a.push(m)}return this.mode==="text"&&this.formLigatures(a),this.handleInfixNodes(a)}handleInfixNodes(s){for(var n=-1,a,d=0;d<s.length;d++)if(s[d].type==="infix"){if(n!==-1)throw new un("only one infix operator per group",s[d].token);n=d,a=s[d].replaceWith}if(n!==-1&&a){var m,b,C=s.slice(0,n),x=s.slice(n+1);C.length===1&&C[0].type==="ordgroup"?m=C[0]:m={type:"ordgroup",mode:this.mode,body:C},x.length===1&&x[0].type==="ordgroup"?b=x[0]:b={type:"ordgroup",mode:this.mode,body:x};var k;return a==="\\\\abovefrac"?k=this.callFunction(a,[m,s[n],b],[]):k=this.callFunction(a,[m,b],[]),[k]}else return s}handleSupSubscript(s){var n=this.fetch(),a=n.text;this.consume(),this.consumeSpaces();var d;do{var m;d=this.parseGroup(s)}while(((m=d)==null?void 0:m.type)==="internal");if(!d)throw new un("Expected group after '"+a+"'",n);return d}formatUnsupportedCmd(s){for(var n=[],a=0;a<s.length;a++)n.push({type:"textord",mode:"text",text:s[a]});var d={type:"text",mode:this.mode,body:n},m={type:"color",mode:this.mode,color:this.settings.errorColor,body:[d]};return m}parseAtom(s){var n=this.parseGroup("atom",s);if(n?.type==="internal"||this.mode==="text")return n;for(var a,d;;){this.consumeSpaces();var m=this.fetch();if(m.text==="\\limits"||m.text==="\\nolimits"){if(n&&n.type==="op"){var b=m.text==="\\limits";n.limits=b,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=m.text==="\\limits");else throw new un("Limit controls must follow a math operator",m);this.consume()}else if(m.text==="^"){if(a)throw new un("Double superscript",m);a=this.handleSupSubscript("superscript")}else if(m.text==="_"){if(d)throw new un("Double subscript",m);d=this.handleSupSubscript("subscript")}else if(m.text==="'"){if(a)throw new un("Double superscript",m);var C={type:"textord",mode:this.mode,text:"\\prime"},x=[C];for(this.consume();this.fetch().text==="'";)x.push(C),this.consume();this.fetch().text==="^"&&x.push(this.handleSupSubscript("superscript")),a={type:"ordgroup",mode:this.mode,body:x}}else if(i5[m.text]){var k=lm.test(m.text),E=[];for(E.push(new z0(i5[m.text])),this.consume();;){var R=this.fetch().text;if(!i5[R]||lm.test(R)!==k)break;E.unshift(new z0(i5[R])),this.consume()}var q=this.subparse(E);k?d={type:"ordgroup",mode:"math",body:q}:a={type:"ordgroup",mode:"math",body:q}}else break}return a||d?{type:"supsub",mode:this.mode,base:n,sup:a,sub:d}:n}parseFunction(s,n){var a=this.fetch(),d=a.text,m=J1[d];if(!m)return null;if(this.consume(),n&&n!=="atom"&&!m.allowedInArgument)throw new un("Got function '"+d+"' with no arguments"+(n?" as "+n:""),a);if(this.mode==="text"&&!m.allowedInText)throw new un("Can't use function '"+d+"' in text mode",a);if(this.mode==="math"&&m.allowedInMath===!1)throw new un("Can't use function '"+d+"' in math mode",a);var{args:b,optArgs:C}=this.parseArguments(d,m);return this.callFunction(d,b,C,a,s)}callFunction(s,n,a,d,m){var b={funcName:s,parser:this,token:d,breakOnTokenText:m},C=J1[s];if(C&&C.handler)return C.handler(b,n,a);throw new un("No function handler for "+s)}parseArguments(s,n){var a=n.numArgs+n.numOptionalArgs;if(a===0)return{args:[],optArgs:[]};for(var d=[],m=[],b=0;b<a;b++){var C=n.argTypes&&n.argTypes[b],x=b<n.numOptionalArgs;(n.primitive&&C==null||n.type==="sqrt"&&b===1&&m[0]==null)&&(C="primitive");var k=this.parseGroupOfType("argument to '"+s+"'",C,x);if(x)m.push(k);else if(k!=null)d.push(k);else throw new un("Null argument, please report this as a bug")}return{args:d,optArgs:m}}parseGroupOfType(s,n,a){switch(n){case"color":return this.parseColorGroup(a);case"size":return this.parseSizeGroup(a);case"url":return this.parseUrlGroup(a);case"math":case"text":return this.parseArgumentGroup(a,n);case"hbox":{var d=this.parseArgumentGroup(a,"text");return d!=null?{type:"styling",mode:d.mode,body:[d],style:"text"}:null}case"raw":{var m=this.parseStringGroup("raw",a);return m!=null?{type:"raw",mode:"text",string:m.text}:null}case"primitive":{if(a)throw new un("A primitive argument cannot be optional");var b=this.parseGroup(s);if(b==null)throw new un("Expected group as "+s,this.fetch());return b}case"original":case null:case void 0:return this.parseArgumentGroup(a);default:throw new un("Unknown group type as "+s,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(s,n){var a=this.gullet.scanArgument(n);if(a==null)return null;for(var d="",m;(m=this.fetch()).text!=="EOF";)d+=m.text,this.consume();return this.consume(),a.text=d,a}parseRegexGroup(s,n){for(var a=this.fetch(),d=a,m="",b;(b=this.fetch()).text!=="EOF"&&s.test(m+b.text);)d=b,m+=d.text,this.consume();if(m==="")throw new un("Invalid "+n+": '"+a.text+"'",a);return a.range(d,m)}parseColorGroup(s){var n=this.parseStringGroup("color",s);if(n==null)return null;var a=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!a)throw new un("Invalid color: '"+n.text+"'",n);var d=a[0];return/^[0-9a-f]{6}$/i.test(d)&&(d="#"+d),{type:"color-token",mode:this.mode,color:d}}parseSizeGroup(s){var n,a=!1;if(this.gullet.consumeSpaces(),!s&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",s),!n)return null;!s&&n.text.length===0&&(n.text="0pt",a=!0);var d=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!d)throw new un("Invalid size: '"+n.text+"'",n);var m={number:+(d[1]+d[2]),unit:d[3]};if(!g9(m))throw new un("Invalid unit: '"+m.unit+"'",n);return{type:"size",mode:this.mode,value:m,isBlank:a}}parseUrlGroup(s){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",s);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var a=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:a}}parseArgumentGroup(s,n){var a=this.gullet.scanArgument(s);if(a==null)return null;var d=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var m=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var b={type:"ordgroup",mode:this.mode,loc:a.loc,body:m};return n&&this.switchMode(d),b}parseGroup(s,n){var a=this.fetch(),d=a.text,m;if(d==="{"||d==="\\begingroup"){this.consume();var b=d==="{"?"}":"\\endgroup";this.gullet.beginGroup();var C=this.parseExpression(!1,b),x=this.fetch();this.expect(b),this.gullet.endGroup(),m={type:"ordgroup",mode:this.mode,loc:c0.range(a,x),body:C,semisimple:d==="\\begingroup"||void 0}}else if(m=this.parseFunction(n,s)||this.parseSymbol(),m==null&&d[0]==="\\"&&!og.hasOwnProperty(d)){if(this.settings.throwOnError)throw new un("Undefined control sequence: "+d,a);m=this.formatUnsupportedCmd(d),this.consume()}return m}formLigatures(s){for(var n=s.length-1,a=0;a<n;++a){var d=s[a],m=d.text;m==="-"&&s[a+1].text==="-"&&(a+1<n&&s[a+2].text==="-"?(s.splice(a,3,{type:"textord",mode:"text",loc:c0.range(d,s[a+2]),text:"---"}),n-=2):(s.splice(a,2,{type:"textord",mode:"text",loc:c0.range(d,s[a+1]),text:"--"}),n-=1)),(m==="'"||m==="`")&&s[a+1].text===m&&(s.splice(a,2,{type:"textord",mode:"text",loc:c0.range(d,s[a+1]),text:m+m}),n-=1)}}parseSymbol(){var s=this.fetch(),n=s.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var a=n.slice(5),d=a.charAt(0)==="*";if(d&&(a=a.slice(1)),a.length<2||a.charAt(0)!==a.slice(-1))throw new un(`\\verb assertion failed --
                    please report what input caused this bug`);return a=a.slice(1,-1),{type:"verb",mode:"text",body:a,star:d}}am.hasOwnProperty(n[0])&&!Is[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',s),n=am[n[0]]+n.slice(1));var m=sw.exec(n);m&&(n=n.substring(0,m.index),n==="i"?n="":n==="j"&&(n=""));var b;if(Is[this.mode][n]){this.settings.strict&&this.mode==="math"&&g7.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',s);var C=Is[this.mode][n].group,x=c0.range(s),k;if(J_.hasOwnProperty(C)){var E=C;k={type:"atom",mode:this.mode,family:E,loc:x,text:n}}else k={type:C,mode:this.mode,loc:x,text:n};b=k}else if(n.charCodeAt(0)>=128)this.settings.strict&&(m9(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',s):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),s)),b={type:"textord",mode:"text",loc:c0.range(s),text:n};else return null;if(this.consume(),m)for(var R=0;R<m[0].length;R++){var q=m[0][R];if(!e7[q])throw new un("Unknown accent ' "+q+"'",s);var z=e7[q][this.mode]||e7[q].text;if(!z)throw new un("Accent "+q+" unsupported in "+this.mode+" mode",s);b={type:"accent",mode:this.mode,loc:c0.range(s),label:z,isStretchy:!1,isShifty:!0,base:b}}return b}}D5.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var sf=function(s,n){if(!(typeof s=="string"||s instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var a=new D5(s,n);delete a.gullet.macros.current["\\df@tag"];var d=a.parse();if(delete a.gullet.macros.current["\\current@color"],delete a.gullet.macros.current["\\color"],a.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new un("\\tag works only in display equations");d=[{type:"tag",mode:"text",body:d,tag:a.subparse([new z0("\\df@tag")])}]}return d},lg=function(s,n,a){n.textContent="";var d=of(s,a).toNode();n.appendChild(d)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),lg=function(){throw new un("KaTeX doesn't work in quirks mode.")});var cw=function(s,n){var a=of(s,n).toMarkup();return a},hw=function(s,n){var a=new z7(n);return sf(s,a)},ag=function(s,n,a){if(a.throwOnError||!(s instanceof un))throw s;var d=Tt.makeSpan(["katex-error"],[new Ta(n)]);return d.setAttribute("title",s.toString()),d.setAttribute("style","color:"+a.errorColor),d},of=function(s,n){var a=new z7(n);try{var d=sf(s,a);return yE(d,s,a)}catch(m){return ag(m,s,a)}},dw=function(s,n){var a=new z7(n);try{var d=sf(s,a);return TE(d,s,a)}catch(m){return ag(m,s,a)}},fw="0.16.25",pw={Span:u3,Anchor:G7,SymbolNode:Ta,SvgNode:Gc,PathNode:Q1,LineNode:m7},um={version:fw,render:lg,renderToString:cw,ParseError:un,SETTINGS_SCHEMA:d5,__parse:hw,__renderToDomTree:of,__renderToHTMLTree:dw,__setFontMetrics:G_,__defineSymbol:P,__defineFunction:En,__defineMacro:be,__domTree:pw};const mw={};function gw(o){const s=this,n=o||mw,a=s.data(),d=a.micromarkExtensions||(a.micromarkExtensions=[]),m=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),b=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);d.push(m_(n)),m.push(l_()),b.push(a_(n))}const cm=/[#.]/g;function $w(o,s){const n=o||"",a={};let d=0,m,b;for(;d<n.length;){cm.lastIndex=d;const C=cm.exec(n),x=n.slice(d,C?C.index:n.length);x&&(m?m==="#"?a.id=x:Array.isArray(a.className)?a.className.push(x):a.className=[x]:b=x,d+=x.length),C&&(m=C[0],d++)}return{type:"element",tagName:b||s||"div",properties:a,children:[]}}function ug(o,s,n){const a=n?Tw(n):void 0;function d(m,b,...C){let x;if(m==null){x={type:"root",children:[]};const k=b;C.unshift(k)}else{x=$w(m,s);const k=x.tagName.toLowerCase(),E=a?a.get(k):void 0;if(x.tagName=E||k,vw(b))C.unshift(b);else for(const[R,q]of Object.entries(b))bw(o,x.properties,R,q)}for(const k of C)_7(x.children,k);return x.type==="element"&&x.tagName==="template"&&(x.content={type:"root",children:x.children},x.children=[]),x}return d}function vw(o){if(o===null||typeof o!="object"||Array.isArray(o))return!0;if(typeof o.type!="string")return!1;const s=o,n=Object.keys(o);for(const a of n){const d=s[a];if(d&&typeof d=="object"){if(!Array.isArray(d))return!0;const m=d;for(const b of m)if(typeof b!="number"&&typeof b!="string")return!0}}return!!("children"in o&&Array.isArray(o.children))}function bw(o,s,n,a){const d=Bm(o,n);let m;if(a!=null){if(typeof a=="number"){if(Number.isNaN(a))return;m=a}else typeof a=="boolean"?m=a:typeof a=="string"?d.spaceSeparated?m=X8(a):d.commaSeparated?m=H8(a):d.commaOrSpaceSeparated?m=X8(H8(a).join(" ")):m=hm(d,d.property,a):Array.isArray(a)?m=[...a]:m=d.property==="style"?yw(a):String(a);if(Array.isArray(m)){const b=[];for(const C of m)b.push(hm(d,d.property,C));m=b}d.property==="className"&&Array.isArray(s.className)&&(m=s.className.concat(m)),s[d.property]=m}}function _7(o,s){if(s!=null)if(typeof s=="number"||typeof s=="string")o.push({type:"text",value:String(s)});else if(Array.isArray(s))for(const n of s)_7(o,n);else if(typeof s=="object"&&"type"in s)s.type==="root"?_7(o,s.children):o.push(s);else throw new Error("Expected node, nodes, or string, got `"+s+"`")}function hm(o,s,n){if(typeof n=="string"){if(o.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((o.boolean||o.overloadedBoolean)&&(n===""||t3(n)===t3(s)))return!0}return n}function yw(o){const s=[];for(const[n,a]of Object.entries(o))s.push([n,a].join(": "));return s.join("; ")}function Tw(o){const s=new Map;for(const n of o)s.set(n.toLowerCase(),n);return s}const _w=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Ew=ug(Pm,"div"),ww=ug(x5,"g",_w),t7={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function Sw(o,s){return cg(o,{})||{type:"root",children:[]}}function cg(o,s){const n=xw(o,s);return n&&s.afterTransform&&s.afterTransform(o,n),n}function xw(o,s){switch(o.nodeType){case 1:return Iw(o,s);case 3:return kw(o);case 8:return Aw(o);case 9:return dm(o,s);case 10:return Cw();case 11:return dm(o,s);default:return}}function dm(o,s){return{type:"root",children:hg(o,s)}}function Cw(){return{type:"doctype"}}function kw(o){return{type:"text",value:o.nodeValue||""}}function Aw(o){return{type:"comment",value:o.nodeValue||""}}function Iw(o,s){const n=o.namespaceURI,a=n===t7.svg?ww:Ew,d=n===t7.html?o.tagName.toLowerCase():o.tagName,m=n===t7.html&&d==="template"?o.content:o,b=o.getAttributeNames(),C={};let x=-1;for(;++x<b.length;)C[b[x]]=o.getAttribute(b[x])||"";return a(d,C,hg(m,s))}function hg(o,s){const n=o.childNodes,a=[];let d=-1;for(;++d<n.length;){const m=cg(n[d],s);m!==void 0&&a.push(m)}return a}new DOMParser;function Mw(o,s){const n=Rw(o);return Sw(n)}function Rw(o){const s=document.createElement("template");return s.innerHTML=o,s.content}const fm=(function(o,s,n){const a=P7(n);if(!o||!o.type||!o.children)throw new Error("Expected parent node");if(typeof s=="number"){if(s<0||s===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(s=o.children.indexOf(s),s<0)throw new Error("Expected child node or index");for(;++s<o.children.length;)if(a(o.children[s],s,o))return o.children[s]}),Jh=(function(o){if(o==null)return Lw;if(typeof o=="string")return Nw(o);if(typeof o=="object")return Ow(o);if(typeof o=="function")return lf(o);throw new Error("Expected function, string, or array as `test`")});function Ow(o){const s=[];let n=-1;for(;++n<o.length;)s[n]=Jh(o[n]);return lf(a);function a(...d){let m=-1;for(;++m<s.length;)if(s[m].apply(this,d))return!0;return!1}}function Nw(o){return lf(s);function s(n){return n.tagName===o}}function lf(o){return s;function s(n,a,d){return!!(Dw(n)&&o.call(this,n,typeof a=="number"?a:void 0,d||void 0))}}function Lw(o){return!!(o&&typeof o=="object"&&"type"in o&&o.type==="element"&&"tagName"in o&&typeof o.tagName=="string")}function Dw(o){return o!==null&&typeof o=="object"&&"type"in o&&"tagName"in o}const pm=/\n/g,mm=/[\t ]+/g,E7=Jh("br"),gm=Jh(Vw),Bw=Jh("p"),$m=Jh("tr"),Pw=Jh(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Gw,Ww]),dg=Jh(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Fw(o,s){const n=s||{},a="children"in o?o.children:[],d=dg(o),m=mg(o,{whitespace:n.whitespace||"normal"}),b=[];(o.type==="text"||o.type==="comment")&&b.push(...pg(o,{breakBefore:!0,breakAfter:!0}));let C=-1;for(;++C<a.length;)b.push(...fg(a[C],o,{whitespace:m,breakBefore:C?void 0:d,breakAfter:C<a.length-1?E7(a[C+1]):d}));const x=[];let k;for(C=-1;++C<b.length;){const E=b[C];typeof E=="number"?k!==void 0&&E>k&&(k=E):E&&(k!==void 0&&k>-1&&x.push(`
`.repeat(k)||" "),k=-1,x.push(E))}return x.join("")}function fg(o,s,n){return o.type==="element"?zw(o,s,n):o.type==="text"?n.whitespace==="normal"?pg(o,n):Uw(o):[]}function zw(o,s,n){const a=mg(o,n),d=o.children||[];let m=-1,b=[];if(Pw(o))return b;let C,x;for(E7(o)||$m(o)&&fm(s,o,$m)?x=`
`:Bw(o)?(C=2,x=2):dg(o)&&(C=1,x=1);++m<d.length;)b=b.concat(fg(d[m],o,{whitespace:a,breakBefore:m?void 0:C,breakAfter:m<d.length-1?E7(d[m+1]):x}));return gm(o)&&fm(s,o,gm)&&b.push("	"),C&&b.unshift(C),x&&b.push(x),b}function pg(o,s){const n=String(o.value),a=[],d=[];let m=0;for(;m<=n.length;){pm.lastIndex=m;const x=pm.exec(n),k=x&&"index"in x?x.index:n.length;a.push(Hw(n.slice(m,k).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),m===0?s.breakBefore:!0,k===n.length?s.breakAfter:!0)),m=k+1}let b=-1,C;for(;++b<a.length;)a[b].charCodeAt(a[b].length-1)===8203||b<a.length-1&&a[b+1].charCodeAt(0)===8203?(d.push(a[b]),C=void 0):a[b]?(typeof C=="number"&&d.push(C),d.push(a[b]),C=0):(b===0||b===a.length-1)&&d.push(0);return d}function Uw(o){return[String(o.value)]}function Hw(o,s,n){const a=[];let d=0,m;for(;d<o.length;){mm.lastIndex=d;const b=mm.exec(o);m=b?b.index:o.length,!d&&!m&&b&&!s&&a.push(""),d!==m&&a.push(o.slice(d,m)),d=b?m+b[0].length:m}return d!==m&&!n&&a.push(""),a.join(" ")}function mg(o,s){if(o.type==="element"){const n=o.properties||{};switch(o.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":s.whitespace;case"textarea":return"pre-wrap"}}return s.whitespace}function Gw(o){return!!(o.properties||{}).hidden}function Vw(o){return o.tagName==="td"||o.tagName==="th"}function Ww(o){return o.tagName==="dialog"&&!(o.properties||{}).open}const qw={},Xw=[];function jw(o){const s=o||qw;return function(n,a){h9(n,"element",function(d,m){const b=Array.isArray(d.properties.className)?d.properties.className:Xw,C=b.includes("language-math"),x=b.includes("math-display"),k=b.includes("math-inline");let E=x;if(!C&&!x&&!k)return;let R=m[m.length-1],q=d;if(d.tagName==="code"&&C&&R&&R.type==="element"&&R.tagName==="pre"&&(q=R,R=m[m.length-2],E=!0),!R)return;const z=Fw(q,{whitespace:"pre"});let fe;try{fe=um.renderToString(z,{...s,displayMode:E,throwOnError:!0})}catch(ge){const re=ge,ie=re.name.toLowerCase();a.message("Could not render math with KaTeX",{ancestors:[...m,d],cause:re,place:d.position,ruleId:ie,source:"rehype-katex"});try{fe=um.renderToString(z,{...s,displayMode:E,strict:"ignore",throwOnError:!1})}catch{fe=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(s.errorColor||"#cc0000"),title:String(ge)},children:[{type:"text",value:z}]}]}}typeof fe=="string"&&(fe=Mw(fe).children);const ve=R.children.indexOf(q);return R.children.splice(ve,1,...fe),c9})}}function Yw({title:o,content:s,isCollapsed:n,onToggle:a}){return xe.jsxs("div",{style:{width:n?"50px":"350px",background:"white",borderRight:"1px solid #ccc",display:"flex",flexDirection:"column",transition:"width 0.3s ease",overflow:"hidden",flexShrink:0,position:"relative",zIndex:10},children:[xe.jsx("button",{onClick:a,style:{position:"absolute",right:"10px",top:"10px",background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",zIndex:20},children:n?"":""}),!n&&xe.jsxs("div",{style:{padding:"20px",overflowY:"auto",height:"100%"},children:[xe.jsxs("h2",{style:{marginTop:0,color:"#2c3e50",fontSize:"1.5rem",borderBottom:"2px solid #3498db",paddingBottom:"10px"},children:[" ",o||"Mission"]}),xe.jsx("div",{style:{lineHeight:"1.6",color:"#34495e",fontSize:"0.95rem"},children:s?xe.jsx(t_,{remarkPlugins:[gw],rehypePlugins:[jw],children:s}):xe.jsx("p",{style:{color:"#999",fontStyle:"italic"},children:"Aucune consigne."})})]}),n&&xe.jsx("div",{onClick:a,style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",writingMode:"vertical-rl",transform:"rotate(180deg)",fontWeight:"bold",color:"#555",letterSpacing:"2px"},children:"CONSIGNE "})]})}const Kw=(o,s)=>{const n=new Date().getHours(),a=`LVL:${o}|ST:${s.stars}|BL:${s.blocks}`;let d=0;for(let m=0;m<a.length;m++){const b=a.charCodeAt(m);d=(d<<5)-d+b+n,d=d&d}return`${a}|#${Math.abs(d).toString(16)}`};function Jw(o,s,n){const[a,d]=Dn.useState(50),[m,b]=Dn.useState(null),[C,x]=Dn.useState("IDLE"),[k,E]=Dn.useState([]),[R,q]=Dn.useState({stars:0,blockCount:0,target:0}),[z,fe]=Dn.useState(""),[ve,ge]=Dn.useState(null),re=Dn.useRef(null),ie=Dn.useRef([]),ke=Dn.useRef(0),Be=Dn.useRef(null);Dn.useEffect(()=>{if(!n.solutionBlocks||s.id!=="TURTLE"){E([]);return}const Bt=setTimeout(()=>{try{const kt=new w$,nt=xm.xml.textToDom(n.solutionBlocks);Sm.domToWorkspace(nt,kt),Rn.init(kt);const Ze=Rn.workspaceToCode(kt),vt=[];new Function("actions",Ze)(vt);let ft=null;vt.forEach(Ut=>{ft=s.executeStep(ft,Ut,n).newState}),ft?.lines&&E(Ut=>JSON.stringify(Ut)===JSON.stringify(ft.lines)?Ut:ft.lines),kt.dispose()}catch(kt){console.error("Erreur modle:",kt)}},50);return()=>clearTimeout(Bt)},[n.solutionBlocks,s,n]);const Ke=Dn.useCallback(Bt=>{const kt=n.maxBlocks||5;let nt=1;Bt<=kt?nt=3:Bt<=Math.ceil(kt*1.5)&&(nt=2),q({stars:nt,blockCount:Bt,target:kt});const Ze=Kw(n.id||1,{stars:nt,blocks:Bt});fe(Ze),x("WON")},[n]),ye=Dn.useCallback(()=>{q({stars:0,blockCount:o.current?.getAllBlocks(!1).length||0,target:n.maxBlocks}),x("FAILED")},[n]),Ve=Dn.useCallback(()=>{re.current&&clearTimeout(re.current),x("IDLE"),b(null),ge(null),Be.current=null,ke.current=0,ie.current=[],o.current&&o.current.highlightBlock(null)},[o]),st=Dn.useCallback(()=>{const Bt=ie.current,kt=ke.current;if(kt>=Bt.length)return!1;const nt=Bt[kt];if(ge({...nt,_uid:kt}),ge(nt),nt.id&&o.current&&o.current.highlightBlock(nt.id),nt.type==="SCAN")return ke.current+=1,!0;let Ze=nt;s.id==="MAZE"&&typeof nt=="object"&&nt.type;const vt=s.executeStep(Be.current,Ze,n);return Be.current=vt.newState,b(vt.newState),ke.current+=1,vt.status==="WIN"?(setTimeout(()=>Ke(o.current.getAllBlocks(!1).length),500),!1):vt.status==="LOST"?(setTimeout(()=>x("LOST"),500),!1):ke.current>=Bt.length?(o.current&&o.current.highlightBlock(null),setTimeout(()=>{let ft=!1;s.checkVictory&&(ft=s.checkVictory(Be.current,n,k)),ft?Ke(o.current.getAllBlocks(!1).length):ye()},500),!1):!0},[s,n,k,Ke,ye,o]),Xe=Dn.useCallback(()=>{if(st()){const kt=ie.current[ke.current-1];let nt=Math.max(5,(100-a)*10);kt&&kt.type==="SCAN"&&(nt=Math.max(nt,500)),re.current=setTimeout(Xe,nt)}},[st,a]),Qt=Dn.useCallback(()=>{if(!o.current)return;if(C==="PAUSED"){x("RUNNING"),Xe();return}Ve(),Rn.init(o.current);const Bt=Rn.workspaceToCode(o.current);let kt="";n.inputs&&Object.entries(n.inputs).forEach(([Ut,le])=>{kt+=`var ${Ut} = ${JSON.stringify(le)};
`});let nt={x:n.startPos.x,y:n.startPos.y,dir:n.startPos.dir!==void 0?n.startPos.dir:0},Ze=0;const vt=1e3,ft={move:()=>{let Ut=nt.x,le=nt.y;nt.dir===0?Ut++:nt.dir===1?le++:nt.dir===2?Ut--:nt.dir===3&&le--,Uo.checkMove(n.grid,Ut,le)!=="WALL"&&(nt.x=Ut,nt.y=le)},turn:Ut=>{const le=Ut;nt.dir=le==="LEFT"?(nt.dir+3)%4:(nt.dir+1)%4},isPath:Ut=>Uo.look(n.grid,nt.x,nt.y,nt.dir,Ut),isDone:()=>Uo.checkMove(n.grid,nt.x,nt.y)==="WIN",safeCheck:()=>(Ze++,Ze>vt?(console.warn(" Simulation : Limite de boucles atteinte ("+vt+"). Arrt prventif."),!1):!0)};try{const Ut=[];new Function("actions","api",kt+Bt)(Ut,ft),ie.current=Ut,ke.current=0,Be.current=null,Ut.length===0&&console.warn("Aucune action gnre (Code vide ?)"),x("RUNNING"),Xe()}catch(Ut){alert("Erreur excution : "+Ut.message),x("IDLE")}},[o,n,Xe,Ve,C]),It=Dn.useCallback(()=>{re.current&&clearTimeout(re.current),x("PAUSED")},[]),De=Dn.useCallback(()=>{if(C==="IDLE"||C==="WON"||C==="LOST"||C==="FAILED"){if(!o.current)return;Rn.init(o.current);const Bt=Rn.workspaceToCode(o.current);let kt="";n.inputs&&Object.entries(n.inputs).forEach(([Ut,le])=>kt+=`var ${Ut} = ${JSON.stringify(le)};
`);let nt={x:n.startPos.x,y:n.startPos.y,dir:n.startPos.dir!==void 0?n.startPos.dir:0},Ze=0;const vt=1e3,ft={move:()=>{let Ut=nt.x,le=nt.y;nt.dir===0?Ut++:nt.dir===1?le++:nt.dir===2?Ut--:nt.dir===3&&le--,Uo.checkMove(n.grid,Ut,le)!=="WALL"&&(nt.x=Ut,nt.y=le)},turn:Ut=>{nt.dir=Ut==="LEFT"?(nt.dir+3)%4:(nt.dir+1)%4},isPath:Ut=>Uo.look(n.grid,nt.x,nt.y,nt.dir,Ut),isDone:()=>Uo.checkMove(n.grid,nt.x,nt.y)==="WIN",safeCheck:()=>(Ze++,!(Ze>vt))};try{const Ut=[];new Function("actions","api",kt+Bt)(Ut,ft),ie.current=Ut,ke.current=0,Be.current=null,x("PAUSED"),st()}catch(Ut){alert("Erreur code : "+Ut.message)}}else C==="RUNNING"&&It(),st(),C!=="WON"&&C!=="FAILED"&&C!=="LOST"&&x("PAUSED")},[C,n,st,It,o]);return{speed:a,setSpeed:d,engineState:m,gameState:C,solutionLines:k,gameStats:R,proofToken:z,run:Qt,reset:Ve,pause:It,stepForward:De,lastAction:ve}}var Y2={exports:{}},p5={exports:{}},Zw=p5.exports,vm;function Qw(){return vm||(vm=1,(function(o,s){(function(a,d){o.exports=d()})(typeof self<"u"?self:Zw,function(){return(function(){var n={};(function(){n.d=function(g,f){for(var $ in f)n.o(f,$)&&!n.o(g,$)&&Object.defineProperty(g,$,{enumerable:!0,get:f[$]})}})(),(function(){n.o=function(g,f){return Object.prototype.hasOwnProperty.call(g,f)}})();var a={};n.d(a,{default:function(){return dl}});class d{constructor(f,$){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let S="KaTeX parse error: "+f,N,G;const K=$&&$.loc;if(K&&K.start<=K.end){const we=K.lexer.input;N=K.start,G=K.end,N===we.length?S+=" at end of input: ":S+=" at position "+(N+1)+": ";const Ue=we.slice(N,G).replace(/[^]/g,"$&");let rt;N>15?rt=""+we.slice(N-15,N):rt=we.slice(0,N);let at;G+15<we.length?at=we.slice(G,G+15)+"":at=we.slice(G),S+=rt+Ue+at}const he=new Error(S);return he.name="ParseError",he.__proto__=d.prototype,he.position=N,N!=null&&G!=null&&(he.length=G-N),he.rawMessage=f,he}}d.prototype.__proto__=Error.prototype;var m=d;const b=function(g,f){return g===void 0?f:g},C=/([A-Z])/g,x=function(g){return g.replace(C,"-$1").toLowerCase()},k={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},E=/[&><"']/g;function R(g){return String(g).replace(E,f=>k[f])}const q=function(g){return g.type==="ordgroup"||g.type==="color"?g.body.length===1?q(g.body[0]):g:g.type==="font"?q(g.body):g},z=function(g){const f=q(g);return f.type==="mathord"||f.type==="textord"||f.type==="atom"},fe=function(g){if(!g)throw new Error("Expected non-null, but got "+String(g));return g};var ge={deflt:b,escape:R,hyphenate:x,getBaseElem:q,isCharacterBox:z,protocolFromUrl:function(g){const f=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(g);return f?f[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(f[1])?null:f[1].toLowerCase():"_relative"}};const re={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:g=>"#"+g},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(g,f)=>(f.push(g),f)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:g=>Math.max(0,g),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:g=>Math.max(0,g),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:g=>Math.max(0,g),cli:"-e, --max-expand <n>",cliProcessor:g=>g==="Infinity"?1/0:parseInt(g)},globalGroup:{type:"boolean",cli:!1}};function ie(g){if(g.default)return g.default;const f=g.type,$=Array.isArray(f)?f[0]:f;if(typeof $!="string")return $.enum[0];switch($){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class ke{constructor(f){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,f=f||{};for(const $ in re)if(re.hasOwnProperty($)){const S=re[$];this[$]=f[$]!==void 0?S.processor?S.processor(f[$]):f[$]:ie(S)}}reportNonstrict(f,$,S){let N=this.strict;if(typeof N=="function"&&(N=N(f,$,S)),!(!N||N==="ignore")){if(N===!0||N==="error")throw new m("LaTeX-incompatible input and strict mode is set to 'error': "+($+" ["+f+"]"),S);N==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+($+" ["+f+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+N+"': "+$+" ["+f+"]"))}}useStrictBehavior(f,$,S){let N=this.strict;if(typeof N=="function")try{N=N(f,$,S)}catch{N="error"}return!N||N==="ignore"?!1:N===!0||N==="error"?!0:N==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+($+" ["+f+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+N+"': "+$+" ["+f+"]")),!1)}isTrusted(f){if(f.url&&!f.protocol){const S=ge.protocolFromUrl(f.url);if(S==null)return!1;f.protocol=S}return!!(typeof this.trust=="function"?this.trust(f):this.trust)}}class Be{constructor(f,$,S){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=f,this.size=$,this.cramped=S}sup(){return Bt[kt[this.id]]}sub(){return Bt[nt[this.id]]}fracNum(){return Bt[Ze[this.id]]}fracDen(){return Bt[vt[this.id]]}cramp(){return Bt[ft[this.id]]}text(){return Bt[Ut[this.id]]}isTight(){return this.size>=2}}const Ke=0,ye=1,Ve=2,st=3,Xe=4,Qt=5,It=6,De=7,Bt=[new Be(Ke,0,!1),new Be(ye,0,!0),new Be(Ve,1,!1),new Be(st,1,!0),new Be(Xe,2,!1),new Be(Qt,2,!0),new Be(It,3,!1),new Be(De,3,!0)],kt=[Xe,Qt,Xe,Qt,It,De,It,De],nt=[Qt,Qt,Qt,Qt,De,De,De,De],Ze=[Ve,st,Xe,Qt,It,De,It,De],vt=[st,st,Qt,Qt,De,De,De,De],ft=[ye,ye,st,st,Qt,Qt,De,De],Ut=[Ke,ye,Ve,st,Ve,st,Ve,st];var le={DISPLAY:Bt[Ke],TEXT:Bt[Ve],SCRIPT:Bt[Xe],SCRIPTSCRIPT:Bt[It]};const ze=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ct(g){for(let f=0;f<ze.length;f++){const $=ze[f];for(let S=0;S<$.blocks.length;S++){const N=$.blocks[S];if(g>=N[0]&&g<=N[1])return $.name}}return null}const Se=[];ze.forEach(g=>g.blocks.forEach(f=>Se.push(...f)));function Jt(g){for(let f=0;f<Se.length;f+=2)if(g>=Se[f]&&g<=Se[f+1])return!0;return!1}const Ot=80,sn=function(g,f){return"M95,"+(622+g+f)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+g/2.075+" -"+g+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+g)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},yn=function(g,f){return"M263,"+(601+g+f)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+g/2.084+" -"+g+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+g)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},hr=function(g,f){return"M983 "+(10+g+f)+`
l`+g/3.13+" -"+g+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+g)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+g)+" "+f+"h400000v"+(40+g)+"h-400000z"},Yn=function(g,f){return"M424,"+(2398+g+f)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+g/4.223+" -"+g+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+g)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+g)+" "+f+`
h400000v`+(40+g)+"h-400000z"},an=function(g,f){return"M473,"+(2713+g+f)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+g/5.298+" -"+g+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+g)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+g)+" "+f+"h400000v"+(40+g)+"H1017.7z"},Xn=function(g){const f=g/2;return"M400000 "+g+" H0 L"+f+" 0 l65 45 L145 "+(g-80)+" H400000z"},ht=function(g,f,$){const S=$-54-f-g;return"M702 "+(g+f)+"H400000"+(40+g)+`
H742v`+S+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+f+"H400000v"+(40+g)+"H742z"},tn=function(g,f,$){f=1e3*f;let S="";switch(g){case"sqrtMain":S=sn(f,Ot);break;case"sqrtSize1":S=yn(f,Ot);break;case"sqrtSize2":S=hr(f,Ot);break;case"sqrtSize3":S=Yn(f,Ot);break;case"sqrtSize4":S=an(f,Ot);break;case"sqrtTall":S=ht(f,Ot,$)}return S},Wr=function(g,f){switch(g){case"":return"M291 0 H417 V"+f+" H291z M291 0 H417 V"+f+" H291z";case"":return"M145 0 H188 V"+f+" H145z M145 0 H188 V"+f+" H145z";case"":return"M145 0 H188 V"+f+" H145z M145 0 H188 V"+f+" H145z"+("M367 0 H410 V"+f+" H367z M367 0 H410 V"+f+" H367z");case"":return"M457 0 H583 V"+f+" H457z M457 0 H583 V"+f+" H457z";case"":return"M319 0 H403 V"+f+" H319z M319 0 H403 V"+f+" H319z";case"":return"M263 0 H347 V"+f+" H263z M263 0 H347 V"+f+" H263z";case"":return"M384 0 H504 V"+f+" H384z M384 0 H504 V"+f+" H384z";case"":return"M312 0 H355 V"+f+" H312z M312 0 H355 V"+f+" H312z";case"":return"M257 0 H300 V"+f+" H257z M257 0 H300 V"+f+" H257z"+("M478 0 H521 V"+f+" H478z M478 0 H521 V"+f+" H478z");default:return""}},Jn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},pr=function(g,f){switch(g){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+f+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+f+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+f+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+f+" v1759 h84z";case"vert":return"M145 15 v585 v"+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+f+" v585 h43z";case"doublevert":return"M145 15 v585 v"+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+f+` v585 h43z
M367 15 v585 v`+f+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-f+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+f+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+f+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+f+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+f+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+f+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+f+` v602 h84z
M403 1759 V0 H319 V1759 v`+f+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+f+` v602 h84z
M347 1759 V0 h-84 V1759 v`+f+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(f+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(f+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(f+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(f+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};var on={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Ti={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Bi={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Zn(g,f){on[g]=f}function ss(g,f,$){if(!on[f])throw new Error("Font metrics not found for font: "+f+".");let S=g.charCodeAt(0),N=on[f][S];if(!N&&g[0]in Bi&&(S=Bi[g[0]].charCodeAt(0),N=on[f][S]),!N&&$==="text"&&Jt(S)&&(N=on[f][77]),N)return{depth:N[0],height:N[1],italic:N[2],skew:N[3],width:N[4]}}const vi={};function sr(g){let f;if(g>=5?f=0:g>=3?f=1:f=2,!vi[f]){const $=vi[f]={cssEmPerMu:Ti.quad[f]/18};for(const S in Ti)Ti.hasOwnProperty(S)&&($[S]=Ti[S][f])}return vi[f]}const Vn=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],F=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ee=function(g,f){return f.size<2?g:Vn[g-1][f.size-1]};class Ce{constructor(f){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=f.style,this.color=f.color,this.size=f.size||Ce.BASESIZE,this.textSize=f.textSize||this.size,this.phantom=!!f.phantom,this.font=f.font||"",this.fontFamily=f.fontFamily||"",this.fontWeight=f.fontWeight||"",this.fontShape=f.fontShape||"",this.sizeMultiplier=F[this.size-1],this.maxSize=f.maxSize,this.minRuleThickness=f.minRuleThickness,this._fontMetrics=void 0}extend(f){const $={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in f)f.hasOwnProperty(S)&&($[S]=f[S]);return new Ce($)}havingStyle(f){return this.style===f?this:this.extend({style:f,size:ee(this.textSize,f)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(f){return this.size===f&&this.textSize===f?this:this.extend({style:this.style.text(),size:f,textSize:f,sizeMultiplier:F[f-1]})}havingBaseStyle(f){f=f||this.style.text();const $=ee(Ce.BASESIZE,f);return this.size===$&&this.textSize===Ce.BASESIZE&&this.style===f?this:this.extend({style:f,size:$})}havingBaseSizing(){let f;switch(this.style.id){case 4:case 5:f=3;break;case 6:case 7:f=1;break;default:f=6}return this.extend({style:this.style.text(),size:f})}withColor(f){return this.extend({color:f})}withPhantom(){return this.extend({phantom:!0})}withFont(f){return this.extend({font:f})}withTextFontFamily(f){return this.extend({fontFamily:f,font:""})}withTextFontWeight(f){return this.extend({fontWeight:f,font:""})}withTextFontShape(f){return this.extend({fontShape:f,font:""})}sizingClasses(f){return f.size!==this.size?["sizing","reset-size"+f.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ce.BASESIZE?["sizing","reset-size"+this.size,"size"+Ce.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=sr(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ce.BASESIZE=6;var Ne=Ce;const et={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Je={ex:!0,em:!0,mu:!0},xt=function(g){return typeof g!="string"&&(g=g.unit),g in et||g in Je||g==="ex"},St=function(g,f){let $;if(g.unit in et)$=et[g.unit]/f.fontMetrics().ptPerEm/f.sizeMultiplier;else if(g.unit==="mu")$=f.fontMetrics().cssEmPerMu;else{let S;if(f.style.isTight()?S=f.havingStyle(f.style.text()):S=f,g.unit==="ex")$=S.fontMetrics().xHeight;else if(g.unit==="em")$=S.fontMetrics().quad;else throw new m("Invalid unit: '"+g.unit+"'");S!==f&&($*=S.sizeMultiplier/f.sizeMultiplier)}return Math.min(g.number*$,f.maxSize)},O=function(g){return+g.toFixed(4)+"em"},oe=function(g){return g.filter(f=>f).join(" ")},Le=function(g,f,$){if(this.classes=g||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=$||{},f){f.style.isTight()&&this.classes.push("mtight");const S=f.getColor();S&&(this.style.color=S)}},Me=function(g){const f=document.createElement(g);f.className=oe(this.classes);for(const $ in this.style)this.style.hasOwnProperty($)&&(f.style[$]=this.style[$]);for(const $ in this.attributes)this.attributes.hasOwnProperty($)&&f.setAttribute($,this.attributes[$]);for(let $=0;$<this.children.length;$++)f.appendChild(this.children[$].toNode());return f},Nt=/[\s"'>/=\x00-\x1f]/,Cn=function(g){let f="<"+g;this.classes.length&&(f+=' class="'+ge.escape(oe(this.classes))+'"');let $="";for(const S in this.style)this.style.hasOwnProperty(S)&&($+=ge.hyphenate(S)+":"+this.style[S]+";");$&&(f+=' style="'+ge.escape($)+'"');for(const S in this.attributes)if(this.attributes.hasOwnProperty(S)){if(Nt.test(S))throw new m("Invalid attribute name '"+S+"'");f+=" "+S+'="'+ge.escape(this.attributes[S])+'"'}f+=">";for(let S=0;S<this.children.length;S++)f+=this.children[S].toMarkup();return f+="</"+g+">",f};class Qr{constructor(f,$,S,N){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Le.call(this,f,S,N),this.children=$||[]}setAttribute(f,$){this.attributes[f]=$}hasClass(f){return this.classes.includes(f)}toNode(){return Me.call(this,"span")}toMarkup(){return Cn.call(this,"span")}}class ds{constructor(f,$,S,N){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Le.call(this,$,N),this.children=S||[],this.setAttribute("href",f)}setAttribute(f,$){this.attributes[f]=$}hasClass(f){return this.classes.includes(f)}toNode(){return Me.call(this,"a")}toMarkup(){return Cn.call(this,"a")}}class fs{constructor(f,$,S){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=$,this.src=f,this.classes=["mord"],this.style=S}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createElement("img");f.src=this.src,f.alt=this.alt,f.className="mord";for(const $ in this.style)this.style.hasOwnProperty($)&&(f.style[$]=this.style[$]);return f}toMarkup(){let f='<img src="'+ge.escape(this.src)+'"'+(' alt="'+ge.escape(this.alt)+'"'),$="";for(const S in this.style)this.style.hasOwnProperty(S)&&($+=ge.hyphenate(S)+":"+this.style[S]+";");return $&&(f+=' style="'+ge.escape($)+'"'),f+="'/>",f}}const H={:"",:"",:"",:""};class me{constructor(f,$,S,N,G,K,he,we){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=f,this.height=$||0,this.depth=S||0,this.italic=N||0,this.skew=G||0,this.width=K||0,this.classes=he||[],this.style=we||{},this.maxFontSize=0;const Ue=ct(this.text.charCodeAt(0));Ue&&this.classes.push(Ue+"_fallback"),/[]/.test(this.text)&&(this.text=H[this.text])}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createTextNode(this.text);let $=null;this.italic>0&&($=document.createElement("span"),$.style.marginRight=O(this.italic)),this.classes.length>0&&($=$||document.createElement("span"),$.className=oe(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&($=$||document.createElement("span"),$.style[S]=this.style[S]);return $?($.appendChild(f),$):f}toMarkup(){let f=!1,$="<span";this.classes.length&&(f=!0,$+=' class="',$+=ge.escape(oe(this.classes)),$+='"');let S="";this.italic>0&&(S+="margin-right:"+this.italic+"em;");for(const G in this.style)this.style.hasOwnProperty(G)&&(S+=ge.hyphenate(G)+":"+this.style[G]+";");S&&(f=!0,$+=' style="'+ge.escape(S)+'"');const N=ge.escape(this.text);return f?($+=">",$+=N,$+="</span>",$):N}}class Pe{constructor(f,$){this.children=void 0,this.attributes=void 0,this.children=f||[],this.attributes=$||{}}toNode(){const $=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&$.setAttribute(S,this.attributes[S]);for(let S=0;S<this.children.length;S++)$.appendChild(this.children[S].toNode());return $}toMarkup(){let f='<svg xmlns="http://www.w3.org/2000/svg"';for(const $ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,$)&&(f+=" "+$+'="'+ge.escape(this.attributes[$])+'"');f+=">";for(let $=0;$<this.children.length;$++)f+=this.children[$].toMarkup();return f+="</svg>",f}}class Qe{constructor(f,$){this.pathName=void 0,this.alternate=void 0,this.pathName=f,this.alternate=$}toNode(){const $=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?$.setAttribute("d",this.alternate):$.setAttribute("d",Jn[this.pathName]),$}toMarkup(){return this.alternate?'<path d="'+ge.escape(this.alternate)+'"/>':'<path d="'+ge.escape(Jn[this.pathName])+'"/>'}}class Dt{constructor(f){this.attributes=void 0,this.attributes=f||{}}toNode(){const $=document.createElementNS("http://www.w3.org/2000/svg","line");for(const S in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,S)&&$.setAttribute(S,this.attributes[S]);return $}toMarkup(){let f="<line";for(const $ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,$)&&(f+=" "+$+'="'+ge.escape(this.attributes[$])+'"');return f+="/>",f}}function dn(g){if(g instanceof me)return g;throw new Error("Expected symbolNode but got "+String(g)+".")}function Hn(g){if(g instanceof Qr)return g;throw new Error("Expected span<HtmlDomNode> but got "+String(g)+".")}const Sr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Al={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},yo={math:{},text:{}};var br=yo;function L(g,f,$,S,N,G){yo[g][N]={font:f,group:$,replace:S},G&&S&&(yo[g][S]=yo[g][N])}const V="math",Kt="text",_="main",B="ams",Y="accent-token",j="bin",_e="close",J="inner",Te="mathord",He="op-token",Ye="open",it="punct",Q="rel",Rt="spacing",Ee="textord";L(V,_,Q,"","\\equiv",!0),L(V,_,Q,"","\\prec",!0),L(V,_,Q,"","\\succ",!0),L(V,_,Q,"","\\sim",!0),L(V,_,Q,"","\\perp"),L(V,_,Q,"","\\preceq",!0),L(V,_,Q,"","\\succeq",!0),L(V,_,Q,"","\\simeq",!0),L(V,_,Q,"","\\mid",!0),L(V,_,Q,"","\\ll",!0),L(V,_,Q,"","\\gg",!0),L(V,_,Q,"","\\asymp",!0),L(V,_,Q,"","\\parallel"),L(V,_,Q,"","\\bowtie",!0),L(V,_,Q,"","\\smile",!0),L(V,_,Q,"","\\sqsubseteq",!0),L(V,_,Q,"","\\sqsupseteq",!0),L(V,_,Q,"","\\doteq",!0),L(V,_,Q,"","\\frown",!0),L(V,_,Q,"","\\ni",!0),L(V,_,Q,"","\\propto",!0),L(V,_,Q,"","\\vdash",!0),L(V,_,Q,"","\\dashv",!0),L(V,_,Q,"","\\owns"),L(V,_,it,".","\\ldotp"),L(V,_,it,"","\\cdotp"),L(V,_,Ee,"#","\\#"),L(Kt,_,Ee,"#","\\#"),L(V,_,Ee,"&","\\&"),L(Kt,_,Ee,"&","\\&"),L(V,_,Ee,"","\\aleph",!0),L(V,_,Ee,"","\\forall",!0),L(V,_,Ee,"","\\hbar",!0),L(V,_,Ee,"","\\exists",!0),L(V,_,Ee,"","\\nabla",!0),L(V,_,Ee,"","\\flat",!0),L(V,_,Ee,"","\\ell",!0),L(V,_,Ee,"","\\natural",!0),L(V,_,Ee,"","\\clubsuit",!0),L(V,_,Ee,"","\\wp",!0),L(V,_,Ee,"","\\sharp",!0),L(V,_,Ee,"","\\diamondsuit",!0),L(V,_,Ee,"","\\Re",!0),L(V,_,Ee,"","\\heartsuit",!0),L(V,_,Ee,"","\\Im",!0),L(V,_,Ee,"","\\spadesuit",!0),L(V,_,Ee,"","\\S",!0),L(Kt,_,Ee,"","\\S"),L(V,_,Ee,"","\\P",!0),L(Kt,_,Ee,"","\\P"),L(V,_,Ee,"","\\dag"),L(Kt,_,Ee,"","\\dag"),L(Kt,_,Ee,"","\\textdagger"),L(V,_,Ee,"","\\ddag"),L(Kt,_,Ee,"","\\ddag"),L(Kt,_,Ee,"","\\textdaggerdbl"),L(V,_,_e,"","\\rmoustache",!0),L(V,_,Ye,"","\\lmoustache",!0),L(V,_,_e,"","\\rgroup",!0),L(V,_,Ye,"","\\lgroup",!0),L(V,_,j,"","\\mp",!0),L(V,_,j,"","\\ominus",!0),L(V,_,j,"","\\uplus",!0),L(V,_,j,"","\\sqcap",!0),L(V,_,j,"","\\ast"),L(V,_,j,"","\\sqcup",!0),L(V,_,j,"","\\bigcirc",!0),L(V,_,j,"","\\bullet",!0),L(V,_,j,"","\\ddagger"),L(V,_,j,"","\\wr",!0),L(V,_,j,"","\\amalg"),L(V,_,j,"&","\\And"),L(V,_,Q,"","\\longleftarrow",!0),L(V,_,Q,"","\\Leftarrow",!0),L(V,_,Q,"","\\Longleftarrow",!0),L(V,_,Q,"","\\longrightarrow",!0),L(V,_,Q,"","\\Rightarrow",!0),L(V,_,Q,"","\\Longrightarrow",!0),L(V,_,Q,"","\\leftrightarrow",!0),L(V,_,Q,"","\\longleftrightarrow",!0),L(V,_,Q,"","\\Leftrightarrow",!0),L(V,_,Q,"","\\Longleftrightarrow",!0),L(V,_,Q,"","\\mapsto",!0),L(V,_,Q,"","\\longmapsto",!0),L(V,_,Q,"","\\nearrow",!0),L(V,_,Q,"","\\hookleftarrow",!0),L(V,_,Q,"","\\hookrightarrow",!0),L(V,_,Q,"","\\searrow",!0),L(V,_,Q,"","\\leftharpoonup",!0),L(V,_,Q,"","\\rightharpoonup",!0),L(V,_,Q,"","\\swarrow",!0),L(V,_,Q,"","\\leftharpoondown",!0),L(V,_,Q,"","\\rightharpoondown",!0),L(V,_,Q,"","\\nwarrow",!0),L(V,_,Q,"","\\rightleftharpoons",!0),L(V,B,Q,"","\\nless",!0),L(V,B,Q,"","\\@nleqslant"),L(V,B,Q,"","\\@nleqq"),L(V,B,Q,"","\\lneq",!0),L(V,B,Q,"","\\lneqq",!0),L(V,B,Q,"","\\@lvertneqq"),L(V,B,Q,"","\\lnsim",!0),L(V,B,Q,"","\\lnapprox",!0),L(V,B,Q,"","\\nprec",!0),L(V,B,Q,"","\\npreceq",!0),L(V,B,Q,"","\\precnsim",!0),L(V,B,Q,"","\\precnapprox",!0),L(V,B,Q,"","\\nsim",!0),L(V,B,Q,"","\\@nshortmid"),L(V,B,Q,"","\\nmid",!0),L(V,B,Q,"","\\nvdash",!0),L(V,B,Q,"","\\nvDash",!0),L(V,B,Q,"","\\ntriangleleft"),L(V,B,Q,"","\\ntrianglelefteq",!0),L(V,B,Q,"","\\subsetneq",!0),L(V,B,Q,"","\\@varsubsetneq"),L(V,B,Q,"","\\subsetneqq",!0),L(V,B,Q,"","\\@varsubsetneqq"),L(V,B,Q,"","\\ngtr",!0),L(V,B,Q,"","\\@ngeqslant"),L(V,B,Q,"","\\@ngeqq"),L(V,B,Q,"","\\gneq",!0),L(V,B,Q,"","\\gneqq",!0),L(V,B,Q,"","\\@gvertneqq"),L(V,B,Q,"","\\gnsim",!0),L(V,B,Q,"","\\gnapprox",!0),L(V,B,Q,"","\\nsucc",!0),L(V,B,Q,"","\\nsucceq",!0),L(V,B,Q,"","\\succnsim",!0),L(V,B,Q,"","\\succnapprox",!0),L(V,B,Q,"","\\ncong",!0),L(V,B,Q,"","\\@nshortparallel"),L(V,B,Q,"","\\nparallel",!0),L(V,B,Q,"","\\nVDash",!0),L(V,B,Q,"","\\ntriangleright"),L(V,B,Q,"","\\ntrianglerighteq",!0),L(V,B,Q,"","\\@nsupseteqq"),L(V,B,Q,"","\\supsetneq",!0),L(V,B,Q,"","\\@varsupsetneq"),L(V,B,Q,"","\\supsetneqq",!0),L(V,B,Q,"","\\@varsupsetneqq"),L(V,B,Q,"","\\nVdash",!0),L(V,B,Q,"","\\precneqq",!0),L(V,B,Q,"","\\succneqq",!0),L(V,B,Q,"","\\@nsubseteqq"),L(V,B,j,"","\\unlhd"),L(V,B,j,"","\\unrhd"),L(V,B,Q,"","\\nleftarrow",!0),L(V,B,Q,"","\\nrightarrow",!0),L(V,B,Q,"","\\nLeftarrow",!0),L(V,B,Q,"","\\nRightarrow",!0),L(V,B,Q,"","\\nleftrightarrow",!0),L(V,B,Q,"","\\nLeftrightarrow",!0),L(V,B,Q,"","\\vartriangle"),L(V,B,Ee,"","\\hslash"),L(V,B,Ee,"","\\triangledown"),L(V,B,Ee,"","\\lozenge"),L(V,B,Ee,"","\\circledS"),L(V,B,Ee,"","\\circledR"),L(Kt,B,Ee,"","\\circledR"),L(V,B,Ee,"","\\measuredangle",!0),L(V,B,Ee,"","\\nexists"),L(V,B,Ee,"","\\mho"),L(V,B,Ee,"","\\Finv",!0),L(V,B,Ee,"","\\Game",!0),L(V,B,Ee,"","\\backprime"),L(V,B,Ee,"","\\blacktriangle"),L(V,B,Ee,"","\\blacktriangledown"),L(V,B,Ee,"","\\blacksquare"),L(V,B,Ee,"","\\blacklozenge"),L(V,B,Ee,"","\\bigstar"),L(V,B,Ee,"","\\sphericalangle",!0),L(V,B,Ee,"","\\complement",!0),L(V,B,Ee,"","\\eth",!0),L(Kt,_,Ee,"",""),L(V,B,Ee,"","\\diagup"),L(V,B,Ee,"","\\diagdown"),L(V,B,Ee,"","\\square"),L(V,B,Ee,"","\\Box"),L(V,B,Ee,"","\\Diamond"),L(V,B,Ee,"","\\yen",!0),L(Kt,B,Ee,"","\\yen",!0),L(V,B,Ee,"","\\checkmark",!0),L(Kt,B,Ee,"","\\checkmark"),L(V,B,Ee,"","\\beth",!0),L(V,B,Ee,"","\\daleth",!0),L(V,B,Ee,"","\\gimel",!0),L(V,B,Ee,"","\\digamma",!0),L(V,B,Ee,"","\\varkappa"),L(V,B,Ye,"","\\@ulcorner",!0),L(V,B,_e,"","\\@urcorner",!0),L(V,B,Ye,"","\\@llcorner",!0),L(V,B,_e,"","\\@lrcorner",!0),L(V,B,Q,"","\\leqq",!0),L(V,B,Q,"","\\leqslant",!0),L(V,B,Q,"","\\eqslantless",!0),L(V,B,Q,"","\\lesssim",!0),L(V,B,Q,"","\\lessapprox",!0),L(V,B,Q,"","\\approxeq",!0),L(V,B,j,"","\\lessdot"),L(V,B,Q,"","\\lll",!0),L(V,B,Q,"","\\lessgtr",!0),L(V,B,Q,"","\\lesseqgtr",!0),L(V,B,Q,"","\\lesseqqgtr",!0),L(V,B,Q,"","\\doteqdot"),L(V,B,Q,"","\\risingdotseq",!0),L(V,B,Q,"","\\fallingdotseq",!0),L(V,B,Q,"","\\backsim",!0),L(V,B,Q,"","\\backsimeq",!0),L(V,B,Q,"","\\subseteqq",!0),L(V,B,Q,"","\\Subset",!0),L(V,B,Q,"","\\sqsubset",!0),L(V,B,Q,"","\\preccurlyeq",!0),L(V,B,Q,"","\\curlyeqprec",!0),L(V,B,Q,"","\\precsim",!0),L(V,B,Q,"","\\precapprox",!0),L(V,B,Q,"","\\vartriangleleft"),L(V,B,Q,"","\\trianglelefteq"),L(V,B,Q,"","\\vDash",!0),L(V,B,Q,"","\\Vvdash",!0),L(V,B,Q,"","\\smallsmile"),L(V,B,Q,"","\\smallfrown"),L(V,B,Q,"","\\bumpeq",!0),L(V,B,Q,"","\\Bumpeq",!0),L(V,B,Q,"","\\geqq",!0),L(V,B,Q,"","\\geqslant",!0),L(V,B,Q,"","\\eqslantgtr",!0),L(V,B,Q,"","\\gtrsim",!0),L(V,B,Q,"","\\gtrapprox",!0),L(V,B,j,"","\\gtrdot"),L(V,B,Q,"","\\ggg",!0),L(V,B,Q,"","\\gtrless",!0),L(V,B,Q,"","\\gtreqless",!0),L(V,B,Q,"","\\gtreqqless",!0),L(V,B,Q,"","\\eqcirc",!0),L(V,B,Q,"","\\circeq",!0),L(V,B,Q,"","\\triangleq",!0),L(V,B,Q,"","\\thicksim"),L(V,B,Q,"","\\thickapprox"),L(V,B,Q,"","\\supseteqq",!0),L(V,B,Q,"","\\Supset",!0),L(V,B,Q,"","\\sqsupset",!0),L(V,B,Q,"","\\succcurlyeq",!0),L(V,B,Q,"","\\curlyeqsucc",!0),L(V,B,Q,"","\\succsim",!0),L(V,B,Q,"","\\succapprox",!0),L(V,B,Q,"","\\vartriangleright"),L(V,B,Q,"","\\trianglerighteq"),L(V,B,Q,"","\\Vdash",!0),L(V,B,Q,"","\\shortmid"),L(V,B,Q,"","\\shortparallel"),L(V,B,Q,"","\\between",!0),L(V,B,Q,"","\\pitchfork",!0),L(V,B,Q,"","\\varpropto"),L(V,B,Q,"","\\blacktriangleleft"),L(V,B,Q,"","\\therefore",!0),L(V,B,Q,"","\\backepsilon"),L(V,B,Q,"","\\blacktriangleright"),L(V,B,Q,"","\\because",!0),L(V,B,Q,"","\\llless"),L(V,B,Q,"","\\gggtr"),L(V,B,j,"","\\lhd"),L(V,B,j,"","\\rhd"),L(V,B,Q,"","\\eqsim",!0),L(V,_,Q,"","\\Join"),L(V,B,Q,"","\\Doteq",!0),L(V,B,j,"","\\dotplus",!0),L(V,B,j,"","\\smallsetminus"),L(V,B,j,"","\\Cap",!0),L(V,B,j,"","\\Cup",!0),L(V,B,j,"","\\doublebarwedge",!0),L(V,B,j,"","\\boxminus",!0),L(V,B,j,"","\\boxplus",!0),L(V,B,j,"","\\divideontimes",!0),L(V,B,j,"","\\ltimes",!0),L(V,B,j,"","\\rtimes",!0),L(V,B,j,"","\\leftthreetimes",!0),L(V,B,j,"","\\rightthreetimes",!0),L(V,B,j,"","\\curlywedge",!0),L(V,B,j,"","\\curlyvee",!0),L(V,B,j,"","\\circleddash",!0),L(V,B,j,"","\\circledast",!0),L(V,B,j,"","\\centerdot"),L(V,B,j,"","\\intercal",!0),L(V,B,j,"","\\doublecap"),L(V,B,j,"","\\doublecup"),L(V,B,j,"","\\boxtimes",!0),L(V,B,Q,"","\\dashrightarrow",!0),L(V,B,Q,"","\\dashleftarrow",!0),L(V,B,Q,"","\\leftleftarrows",!0),L(V,B,Q,"","\\leftrightarrows",!0),L(V,B,Q,"","\\Lleftarrow",!0),L(V,B,Q,"","\\twoheadleftarrow",!0),L(V,B,Q,"","\\leftarrowtail",!0),L(V,B,Q,"","\\looparrowleft",!0),L(V,B,Q,"","\\leftrightharpoons",!0),L(V,B,Q,"","\\curvearrowleft",!0),L(V,B,Q,"","\\circlearrowleft",!0),L(V,B,Q,"","\\Lsh",!0),L(V,B,Q,"","\\upuparrows",!0),L(V,B,Q,"","\\upharpoonleft",!0),L(V,B,Q,"","\\downharpoonleft",!0),L(V,_,Q,"","\\origof",!0),L(V,_,Q,"","\\imageof",!0),L(V,B,Q,"","\\multimap",!0),L(V,B,Q,"","\\leftrightsquigarrow",!0),L(V,B,Q,"","\\rightrightarrows",!0),L(V,B,Q,"","\\rightleftarrows",!0),L(V,B,Q,"","\\twoheadrightarrow",!0),L(V,B,Q,"","\\rightarrowtail",!0),L(V,B,Q,"","\\looparrowright",!0),L(V,B,Q,"","\\curvearrowright",!0),L(V,B,Q,"","\\circlearrowright",!0),L(V,B,Q,"","\\Rsh",!0),L(V,B,Q,"","\\downdownarrows",!0),L(V,B,Q,"","\\upharpoonright",!0),L(V,B,Q,"","\\downharpoonright",!0),L(V,B,Q,"","\\rightsquigarrow",!0),L(V,B,Q,"","\\leadsto"),L(V,B,Q,"","\\Rrightarrow",!0),L(V,B,Q,"","\\restriction"),L(V,_,Ee,"","`"),L(V,_,Ee,"$","\\$"),L(Kt,_,Ee,"$","\\$"),L(Kt,_,Ee,"$","\\textdollar"),L(V,_,Ee,"%","\\%"),L(Kt,_,Ee,"%","\\%"),L(V,_,Ee,"_","\\_"),L(Kt,_,Ee,"_","\\_"),L(Kt,_,Ee,"_","\\textunderscore"),L(V,_,Ee,"","\\angle",!0),L(V,_,Ee,"","\\infty",!0),L(V,_,Ee,"","\\prime"),L(V,_,Ee,"","\\triangle"),L(V,_,Ee,"","\\Gamma",!0),L(V,_,Ee,"","\\Delta",!0),L(V,_,Ee,"","\\Theta",!0),L(V,_,Ee,"","\\Lambda",!0),L(V,_,Ee,"","\\Xi",!0),L(V,_,Ee,"","\\Pi",!0),L(V,_,Ee,"","\\Sigma",!0),L(V,_,Ee,"","\\Upsilon",!0),L(V,_,Ee,"","\\Phi",!0),L(V,_,Ee,"","\\Psi",!0),L(V,_,Ee,"","\\Omega",!0),L(V,_,Ee,"A",""),L(V,_,Ee,"B",""),L(V,_,Ee,"E",""),L(V,_,Ee,"Z",""),L(V,_,Ee,"H",""),L(V,_,Ee,"I",""),L(V,_,Ee,"K",""),L(V,_,Ee,"M",""),L(V,_,Ee,"N",""),L(V,_,Ee,"O",""),L(V,_,Ee,"P",""),L(V,_,Ee,"T",""),L(V,_,Ee,"X",""),L(V,_,Ee,"","\\neg",!0),L(V,_,Ee,"","\\lnot"),L(V,_,Ee,"","\\top"),L(V,_,Ee,"","\\bot"),L(V,_,Ee,"","\\emptyset"),L(V,B,Ee,"","\\varnothing"),L(V,_,Te,"","\\alpha",!0),L(V,_,Te,"","\\beta",!0),L(V,_,Te,"","\\gamma",!0),L(V,_,Te,"","\\delta",!0),L(V,_,Te,"","\\epsilon",!0),L(V,_,Te,"","\\zeta",!0),L(V,_,Te,"","\\eta",!0),L(V,_,Te,"","\\theta",!0),L(V,_,Te,"","\\iota",!0),L(V,_,Te,"","\\kappa",!0),L(V,_,Te,"","\\lambda",!0),L(V,_,Te,"","\\mu",!0),L(V,_,Te,"","\\nu",!0),L(V,_,Te,"","\\xi",!0),L(V,_,Te,"","\\omicron",!0),L(V,_,Te,"","\\pi",!0),L(V,_,Te,"","\\rho",!0),L(V,_,Te,"","\\sigma",!0),L(V,_,Te,"","\\tau",!0),L(V,_,Te,"","\\upsilon",!0),L(V,_,Te,"","\\phi",!0),L(V,_,Te,"","\\chi",!0),L(V,_,Te,"","\\psi",!0),L(V,_,Te,"","\\omega",!0),L(V,_,Te,"","\\varepsilon",!0),L(V,_,Te,"","\\vartheta",!0),L(V,_,Te,"","\\varpi",!0),L(V,_,Te,"","\\varrho",!0),L(V,_,Te,"","\\varsigma",!0),L(V,_,Te,"","\\varphi",!0),L(V,_,j,"","*",!0),L(V,_,j,"+","+"),L(V,_,j,"","-",!0),L(V,_,j,"","\\cdot",!0),L(V,_,j,"","\\circ",!0),L(V,_,j,"","\\div",!0),L(V,_,j,"","\\pm",!0),L(V,_,j,"","\\times",!0),L(V,_,j,"","\\cap",!0),L(V,_,j,"","\\cup",!0),L(V,_,j,"","\\setminus",!0),L(V,_,j,"","\\land"),L(V,_,j,"","\\lor"),L(V,_,j,"","\\wedge",!0),L(V,_,j,"","\\vee",!0),L(V,_,Ee,"","\\surd"),L(V,_,Ye,"","\\langle",!0),L(V,_,Ye,"","\\lvert"),L(V,_,Ye,"","\\lVert"),L(V,_,_e,"?","?"),L(V,_,_e,"!","!"),L(V,_,_e,"","\\rangle",!0),L(V,_,_e,"","\\rvert"),L(V,_,_e,"","\\rVert"),L(V,_,Q,"=","="),L(V,_,Q,":",":"),L(V,_,Q,"","\\approx",!0),L(V,_,Q,"","\\cong",!0),L(V,_,Q,"","\\ge"),L(V,_,Q,"","\\geq",!0),L(V,_,Q,"","\\gets"),L(V,_,Q,">","\\gt",!0),L(V,_,Q,"","\\in",!0),L(V,_,Q,"","\\@not"),L(V,_,Q,"","\\subset",!0),L(V,_,Q,"","\\supset",!0),L(V,_,Q,"","\\subseteq",!0),L(V,_,Q,"","\\supseteq",!0),L(V,B,Q,"","\\nsubseteq",!0),L(V,B,Q,"","\\nsupseteq",!0),L(V,_,Q,"","\\models"),L(V,_,Q,"","\\leftarrow",!0),L(V,_,Q,"","\\le"),L(V,_,Q,"","\\leq",!0),L(V,_,Q,"<","\\lt",!0),L(V,_,Q,"","\\rightarrow",!0),L(V,_,Q,"","\\to"),L(V,B,Q,"","\\ngeq",!0),L(V,B,Q,"","\\nleq",!0),L(V,_,Rt,"","\\ "),L(V,_,Rt,"","\\space"),L(V,_,Rt,"","\\nobreakspace"),L(Kt,_,Rt,"","\\ "),L(Kt,_,Rt,""," "),L(Kt,_,Rt,"","\\space"),L(Kt,_,Rt,"","\\nobreakspace"),L(V,_,Rt,null,"\\nobreak"),L(V,_,Rt,null,"\\allowbreak"),L(V,_,it,",",","),L(V,_,it,";",";"),L(V,B,j,"","\\barwedge",!0),L(V,B,j,"","\\veebar",!0),L(V,_,j,"","\\odot",!0),L(V,_,j,"","\\oplus",!0),L(V,_,j,"","\\otimes",!0),L(V,_,Ee,"","\\partial",!0),L(V,_,j,"","\\oslash",!0),L(V,B,j,"","\\circledcirc",!0),L(V,B,j,"","\\boxdot",!0),L(V,_,j,"","\\bigtriangleup"),L(V,_,j,"","\\bigtriangledown"),L(V,_,j,"","\\dagger"),L(V,_,j,"","\\diamond"),L(V,_,j,"","\\star"),L(V,_,j,"","\\triangleleft"),L(V,_,j,"","\\triangleright"),L(V,_,Ye,"{","\\{"),L(Kt,_,Ee,"{","\\{"),L(Kt,_,Ee,"{","\\textbraceleft"),L(V,_,_e,"}","\\}"),L(Kt,_,Ee,"}","\\}"),L(Kt,_,Ee,"}","\\textbraceright"),L(V,_,Ye,"{","\\lbrace"),L(V,_,_e,"}","\\rbrace"),L(V,_,Ye,"[","\\lbrack",!0),L(Kt,_,Ee,"[","\\lbrack",!0),L(V,_,_e,"]","\\rbrack",!0),L(Kt,_,Ee,"]","\\rbrack",!0),L(V,_,Ye,"(","\\lparen",!0),L(V,_,_e,")","\\rparen",!0),L(Kt,_,Ee,"<","\\textless",!0),L(Kt,_,Ee,">","\\textgreater",!0),L(V,_,Ye,"","\\lfloor",!0),L(V,_,_e,"","\\rfloor",!0),L(V,_,Ye,"","\\lceil",!0),L(V,_,_e,"","\\rceil",!0),L(V,_,Ee,"\\","\\backslash"),L(V,_,Ee,"","|"),L(V,_,Ee,"","\\vert"),L(Kt,_,Ee,"|","\\textbar",!0),L(V,_,Ee,"","\\|"),L(V,_,Ee,"","\\Vert"),L(Kt,_,Ee,"","\\textbardbl"),L(Kt,_,Ee,"~","\\textasciitilde"),L(Kt,_,Ee,"\\","\\textbackslash"),L(Kt,_,Ee,"^","\\textasciicircum"),L(V,_,Q,"","\\uparrow",!0),L(V,_,Q,"","\\Uparrow",!0),L(V,_,Q,"","\\downarrow",!0),L(V,_,Q,"","\\Downarrow",!0),L(V,_,Q,"","\\updownarrow",!0),L(V,_,Q,"","\\Updownarrow",!0),L(V,_,He,"","\\coprod"),L(V,_,He,"","\\bigvee"),L(V,_,He,"","\\bigwedge"),L(V,_,He,"","\\biguplus"),L(V,_,He,"","\\bigcap"),L(V,_,He,"","\\bigcup"),L(V,_,He,"","\\int"),L(V,_,He,"","\\intop"),L(V,_,He,"","\\iint"),L(V,_,He,"","\\iiint"),L(V,_,He,"","\\prod"),L(V,_,He,"","\\sum"),L(V,_,He,"","\\bigotimes"),L(V,_,He,"","\\bigoplus"),L(V,_,He,"","\\bigodot"),L(V,_,He,"","\\oint"),L(V,_,He,"","\\oiint"),L(V,_,He,"","\\oiiint"),L(V,_,He,"","\\bigsqcup"),L(V,_,He,"","\\smallint"),L(Kt,_,J,"","\\textellipsis"),L(V,_,J,"","\\mathellipsis"),L(Kt,_,J,"","\\ldots",!0),L(V,_,J,"","\\ldots",!0),L(V,_,J,"","\\@cdots",!0),L(V,_,J,"","\\ddots",!0),L(V,_,Ee,"","\\varvdots"),L(Kt,_,Ee,"","\\varvdots"),L(V,_,Y,"","\\acute"),L(V,_,Y,"","\\grave"),L(V,_,Y,"","\\ddot"),L(V,_,Y,"~","\\tilde"),L(V,_,Y,"","\\bar"),L(V,_,Y,"","\\breve"),L(V,_,Y,"","\\check"),L(V,_,Y,"^","\\hat"),L(V,_,Y,"","\\vec"),L(V,_,Y,"","\\dot"),L(V,_,Y,"","\\mathring"),L(V,_,Te,"","\\@imath"),L(V,_,Te,"","\\@jmath"),L(V,_,Ee,"",""),L(V,_,Ee,"",""),L(Kt,_,Ee,"","\\i",!0),L(Kt,_,Ee,"","\\j",!0),L(Kt,_,Ee,"","\\ss",!0),L(Kt,_,Ee,"","\\ae",!0),L(Kt,_,Ee,"","\\oe",!0),L(Kt,_,Ee,"","\\o",!0),L(Kt,_,Ee,"","\\AE",!0),L(Kt,_,Ee,"","\\OE",!0),L(Kt,_,Ee,"","\\O",!0),L(Kt,_,Y,"","\\'"),L(Kt,_,Y,"","\\`"),L(Kt,_,Y,"","\\^"),L(Kt,_,Y,"","\\~"),L(Kt,_,Y,"","\\="),L(Kt,_,Y,"","\\u"),L(Kt,_,Y,"","\\."),L(Kt,_,Y,"","\\c"),L(Kt,_,Y,"","\\r"),L(Kt,_,Y,"","\\v"),L(Kt,_,Y,"",'\\"'),L(Kt,_,Y,"","\\H"),L(Kt,_,Y,"","\\textcircled");const wn={"--":!0,"---":!0,"``":!0,"''":!0};L(Kt,_,Ee,"","--",!0),L(Kt,_,Ee,"","\\textendash"),L(Kt,_,Ee,"","---",!0),L(Kt,_,Ee,"","\\textemdash"),L(Kt,_,Ee,"","`",!0),L(Kt,_,Ee,"","\\textquoteleft"),L(Kt,_,Ee,"","'",!0),L(Kt,_,Ee,"","\\textquoteright"),L(Kt,_,Ee,"","``",!0),L(Kt,_,Ee,"","\\textquotedblleft"),L(Kt,_,Ee,"","''",!0),L(Kt,_,Ee,"","\\textquotedblright"),L(V,_,Ee,"","\\degree",!0),L(Kt,_,Ee,"","\\degree"),L(Kt,_,Ee,"","\\textdegree",!0),L(V,_,Ee,"","\\pounds"),L(V,_,Ee,"","\\mathsterling",!0),L(Kt,_,Ee,"","\\pounds"),L(Kt,_,Ee,"","\\textsterling",!0),L(V,B,Ee,"","\\maltese"),L(Kt,B,Ee,"","\\maltese");const kn='0123456789/@."';for(let g=0;g<kn.length;g++){const f=kn.charAt(g);L(V,_,Ee,f,f)}const Nr='0123456789!@*()-=+";:?/.,';for(let g=0;g<Nr.length;g++){const f=Nr.charAt(g);L(Kt,_,Ee,f,f)}const cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let g=0;g<cr.length;g++){const f=cr.charAt(g);L(V,_,Te,f,f),L(Kt,_,Ee,f,f)}L(V,B,Ee,"C",""),L(Kt,B,Ee,"C",""),L(V,B,Ee,"H",""),L(Kt,B,Ee,"H",""),L(V,B,Ee,"N",""),L(Kt,B,Ee,"N",""),L(V,B,Ee,"P",""),L(Kt,B,Ee,"P",""),L(V,B,Ee,"Q",""),L(Kt,B,Ee,"Q",""),L(V,B,Ee,"R",""),L(Kt,B,Ee,"R",""),L(V,B,Ee,"Z",""),L(Kt,B,Ee,"Z",""),L(V,_,Te,"h",""),L(Kt,_,Te,"h","");let On="";for(let g=0;g<cr.length;g++){const f=cr.charAt(g);On=String.fromCharCode(55349,56320+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56372+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56424+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56580+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56684+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56736+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56788+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56840+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56944+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),g<26&&(On=String.fromCharCode(55349,56632+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,56476+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On))}On="",L(V,_,Te,"k",On),L(Kt,_,Ee,"k",On);for(let g=0;g<10;g++){const f=g.toString();On=String.fromCharCode(55349,57294+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,57314+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,57324+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On),On=String.fromCharCode(55349,57334+g),L(V,_,Te,f,On),L(Kt,_,Ee,f,On)}const Ji="";for(let g=0;g<Ji.length;g++){const f=Ji.charAt(g);L(V,_,Te,f,f),L(Kt,_,Ee,f,f)}const ii=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],fn=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],xr=function(g,f){const $=g.charCodeAt(0),S=g.charCodeAt(1),N=($-55296)*1024+(S-56320)+65536,G=f==="math"?0:1;if(119808<=N&&N<120484){const K=Math.floor((N-119808)/26);return[ii[K][2],ii[K][G]]}else if(120782<=N&&N<=120831){const K=Math.floor((N-120782)/10);return[fn[K][2],fn[K][G]]}else{if(N===120485||N===120486)return[ii[0][2],ii[0][G]];if(120486<N&&N<120782)return["",""];throw new m("Unsupported character: "+g)}};class Ms{constructor(f){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=f,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(f){return this.classes.includes(f)}toNode(){const f=document.createDocumentFragment();for(let $=0;$<this.children.length;$++)f.appendChild(this.children[$].toNode());return f}toMarkup(){let f="";for(let $=0;$<this.children.length;$++)f+=this.children[$].toMarkup();return f}toText(){const f=$=>$.toText();return this.children.map(f).join("")}}const si=function(g,f,$){return br[$][g]&&br[$][g].replace&&(g=br[$][g].replace),{value:g,metrics:ss(g,f,$)}},Ir=function(g,f,$,S,N){const G=si(g,f,$),K=G.metrics;g=G.value;let he;if(K){let we=K.italic;($==="text"||S&&S.font==="mathit")&&(we=0),he=new me(g,K.height,K.depth,we,K.skew,K.width,N)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+g+"' in style '"+f+"' and mode '"+$+"'")),he=new me(g,0,0,0,0,0,N);if(S){he.maxFontSize=S.sizeMultiplier,S.style.isTight()&&he.classes.push("mtight");const we=S.getColor();we&&(he.style.color=we)}return he},Zt=function(g,f,$,S){return S===void 0&&(S=[]),$.font==="boldsymbol"&&si(g,"Main-Bold",f).metrics?Ir(g,"Main-Bold",f,$,S.concat(["mathbf"])):g==="\\"||br[f][g].font==="main"?Ir(g,"Main-Regular",f,$,S):Ir(g,"AMS-Regular",f,$,S.concat(["amsrm"]))},ce=function(g,f,$,S,N){return N!=="textord"&&si(g,"Math-BoldItalic",f).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},xi=function(g,f,$){const S=g.mode,N=g.text,G=["mord"],K=S==="math"||S==="text"&&f.font,he=K?f.font:f.fontFamily;let we="",Ue="";if(N.charCodeAt(0)===55349&&([we,Ue]=xr(N,S)),we.length>0)return Ir(N,we,S,f,G.concat(Ue));if(he){let rt,at;if(he==="boldsymbol"){const _t=ce(N,S,f,G,$);rt=_t.fontName,at=[_t.fontClass]}else K?(rt=te[he].fontName,at=[he]):(rt=U(he,f.fontWeight,f.fontShape),at=[he,f.fontWeight,f.fontShape]);if(si(N,rt,S).metrics)return Ir(N,rt,S,f,G.concat(at));if(wn.hasOwnProperty(N)&&rt.slice(0,10)==="Typewriter"){const _t=[];for(let Yt=0;Yt<N.length;Yt++)_t.push(Ir(N[Yt],rt,S,f,G.concat(at)));return Xs(_t)}}if($==="mathord")return Ir(N,"Math-Italic",S,f,G.concat(["mathnormal"]));if($==="textord"){const rt=br[S][N]&&br[S][N].font;if(rt==="ams"){const at=U("amsrm",f.fontWeight,f.fontShape);return Ir(N,at,S,f,G.concat("amsrm",f.fontWeight,f.fontShape))}else if(rt==="main"||!rt){const at=U("textrm",f.fontWeight,f.fontShape);return Ir(N,at,S,f,G.concat(f.fontWeight,f.fontShape))}else{const at=U(rt,f.fontWeight,f.fontShape);return Ir(N,at,S,f,G.concat(at,f.fontWeight,f.fontShape))}}else throw new Error("unexpected type: "+$+" in makeOrd")},ps=(g,f)=>{if(oe(g.classes)!==oe(f.classes)||g.skew!==f.skew||g.maxFontSize!==f.maxFontSize)return!1;if(g.classes.length===1){const $=g.classes[0];if($==="mbin"||$==="mord")return!1}for(const $ in g.style)if(g.style.hasOwnProperty($)&&g.style[$]!==f.style[$])return!1;for(const $ in f.style)if(f.style.hasOwnProperty($)&&g.style[$]!==f.style[$])return!1;return!0},dr=g=>{for(let f=0;f<g.length-1;f++){const $=g[f],S=g[f+1];$ instanceof me&&S instanceof me&&ps($,S)&&($.text+=S.text,$.height=Math.max($.height,S.height),$.depth=Math.max($.depth,S.depth),$.italic=S.italic,g.splice(f+1,1),f--)}return g},Lr=function(g){let f=0,$=0,S=0;for(let N=0;N<g.children.length;N++){const G=g.children[N];G.height>f&&(f=G.height),G.depth>$&&($=G.depth),G.maxFontSize>S&&(S=G.maxFontSize)}g.height=f,g.depth=$,g.maxFontSize=S},$n=function(g,f,$,S){const N=new Qr(g,f,$,S);return Lr(N),N},er=(g,f,$,S)=>new Qr(g,f,$,S),Ur=function(g,f,$){const S=$n([g],[],f);return S.height=Math.max($||f.fontMetrics().defaultRuleThickness,f.minRuleThickness),S.style.borderBottomWidth=O(S.height),S.maxFontSize=1,S},Ea=function(g,f,$,S){const N=new ds(g,f,$,S);return Lr(N),N},Xs=function(g){const f=new Ms(g);return Lr(f),f},jn=function(g,f){return g instanceof Ms?$n([],[g],f):g},h=function(g){if(g.positionType==="individualShift"){const $=g.children,S=[$[0]],N=-$[0].shift-$[0].elem.depth;let G=N;for(let K=1;K<$.length;K++){const he=-$[K].shift-G-$[K].elem.depth,we=he-($[K-1].elem.height+$[K-1].elem.depth);G=G+he,S.push({type:"kern",size:we}),S.push($[K])}return{children:S,depth:N}}let f;if(g.positionType==="top"){let $=g.positionData;for(let S=0;S<g.children.length;S++){const N=g.children[S];$-=N.type==="kern"?N.size:N.elem.height+N.elem.depth}f=$}else if(g.positionType==="bottom")f=-g.positionData;else{const $=g.children[0];if($.type!=="elem")throw new Error('First child must have type "elem".');if(g.positionType==="shift")f=-$.elem.depth-g.positionData;else if(g.positionType==="firstBaseline")f=-$.elem.depth;else throw new Error("Invalid positionType "+g.positionType+".")}return{children:g.children,depth:f}},w=function(g,f){const{children:$,depth:S}=h(g);let N=0;for(let Yt=0;Yt<$.length;Yt++){const bn=$[Yt];if(bn.type==="elem"){const An=bn.elem;N=Math.max(N,An.maxFontSize,An.height)}}N+=2;const G=$n(["pstrut"],[]);G.style.height=O(N);const K=[];let he=S,we=S,Ue=S;for(let Yt=0;Yt<$.length;Yt++){const bn=$[Yt];if(bn.type==="kern")Ue+=bn.size;else{const An=bn.elem,Rr=bn.wrapperClasses||[],gr=bn.wrapperStyle||{},Tr=$n(Rr,[G,An],void 0,gr);Tr.style.top=O(-N-Ue-An.depth),bn.marginLeft&&(Tr.style.marginLeft=bn.marginLeft),bn.marginRight&&(Tr.style.marginRight=bn.marginRight),K.push(Tr),Ue+=An.height+An.depth}he=Math.min(he,Ue),we=Math.max(we,Ue)}const rt=$n(["vlist"],K);rt.style.height=O(we);let at;if(he<0){const Yt=$n([],[]),bn=$n(["vlist"],[Yt]);bn.style.height=O(-he);const An=$n(["vlist-s"],[new me("")]);at=[$n(["vlist-r"],[rt,An]),$n(["vlist-r"],[bn])]}else at=[$n(["vlist-r"],[rt])];const _t=$n(["vlist-t"],at);return at.length===2&&_t.classes.push("vlist-t2"),_t.height=we,_t.depth=-he,_t},D=(g,f)=>{const $=$n(["mspace"],[],f),S=St(g,f);return $.style.marginRight=O(S),$},U=function(g,f,$){let S="";switch(g){case"amsrm":S="AMS";break;case"textrm":S="Main";break;case"textsf":S="SansSerif";break;case"texttt":S="Typewriter";break;default:S=g}let N;return f==="textbf"&&$==="textit"?N="BoldItalic":f==="textbf"?N="Bold":f==="textit"?N="Italic":N="Regular",S+"-"+N},te={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ae={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var pe={fontMap:te,makeSymbol:Ir,mathsym:Zt,makeSpan:$n,makeSvgSpan:er,makeLineSpan:Ur,makeAnchor:Ea,makeFragment:Xs,wrapFragment:jn,makeVList:w,makeOrd:xi,makeGlue:D,staticSvg:function(g,f){const[$,S,N]=ae[g],G=new Qe($),K=new Pe([G],{width:O(S),height:O(N),style:"width:"+O(S),viewBox:"0 0 "+1e3*S+" "+1e3*N,preserveAspectRatio:"xMinYMin"}),he=er(["overlay"],[K],f);return he.height=N,he.style.height=O(N),he.style.width=O(S),he},svgData:ae,tryCombineChars:dr};const dt={number:3,unit:"mu"},Ct={number:4,unit:"mu"},bt={number:5,unit:"mu"},hn={mord:{mop:dt,mbin:Ct,mrel:bt,minner:dt},mop:{mord:dt,mop:dt,mrel:bt,minner:dt},mbin:{mord:Ct,mop:Ct,mopen:Ct,minner:Ct},mrel:{mord:bt,mop:bt,mopen:bt,minner:bt},mopen:{},mclose:{mop:dt,mbin:Ct,mrel:bt,minner:dt},mpunct:{mord:dt,mop:dt,mrel:bt,mopen:dt,mclose:dt,mpunct:dt,minner:dt},minner:{mord:dt,mop:dt,mbin:Ct,mrel:bt,mopen:dt,mpunct:dt,minner:dt}},Wt={mord:{mop:dt},mop:{mord:dt,mop:dt},mbin:{},mrel:{},mopen:{},mclose:{mop:dt},mpunct:{},minner:{mop:dt}},nn={},Sn={},gn={};function Pt(g){let{type:f,names:$,props:S,handler:N,htmlBuilder:G,mathmlBuilder:K}=g;const he={type:f,numArgs:S.numArgs,argTypes:S.argTypes,allowedInArgument:!!S.allowedInArgument,allowedInText:!!S.allowedInText,allowedInMath:S.allowedInMath===void 0?!0:S.allowedInMath,numOptionalArgs:S.numOptionalArgs||0,infix:!!S.infix,primitive:!!S.primitive,handler:N};for(let we=0;we<$.length;++we)nn[$[we]]=he;f&&(G&&(Sn[f]=G),K&&(gn[f]=K))}function tr(g){let{type:f,htmlBuilder:$,mathmlBuilder:S}=g;Pt({type:f,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:$,mathmlBuilder:S})}const Pn=function(g){return g.type==="ordgroup"&&g.body.length===1?g.body[0]:g},Kn=function(g){return g.type==="ordgroup"?g.body:[g]},Dr=pe.makeSpan,rr=["leftmost","mbin","mopen","mrel","mop","mpunct"],ei=["rightmost","mrel","mclose","mpunct"],js={display:le.DISPLAY,text:le.TEXT,script:le.SCRIPT,scriptscript:le.SCRIPTSCRIPT},rs={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Fn=function(g,f,$,S){S===void 0&&(S=[null,null]);const N=[];for(let Ue=0;Ue<g.length;Ue++){const rt=Wn(g[Ue],f);if(rt instanceof Ms){const at=rt.children;N.push(...at)}else N.push(rt)}if(pe.tryCombineChars(N),!$)return N;let G=f;if(g.length===1){const Ue=g[0];Ue.type==="sizing"?G=f.havingSize(Ue.size):Ue.type==="styling"&&(G=f.havingStyle(js[Ue.style]))}const K=Dr([S[0]||"leftmost"],[],f),he=Dr([S[1]||"rightmost"],[],f),we=$==="root";return oi(N,(Ue,rt)=>{const at=rt.classes[0],_t=Ue.classes[0];at==="mbin"&&ei.includes(_t)?rt.classes[0]="mord":_t==="mbin"&&rr.includes(at)&&(Ue.classes[0]="mord")},{node:K},he,we),oi(N,(Ue,rt)=>{const at=Zi(rt),_t=Zi(Ue),Yt=at&&_t?Ue.hasClass("mtight")?Wt[at][_t]:hn[at][_t]:null;if(Yt)return pe.makeGlue(Yt,G)},{node:K},he,we),N},oi=function(g,f,$,S,N){S&&g.push(S);let G=0;for(;G<g.length;G++){const K=g[G],he=Ci(K);if(he){oi(he.children,f,$,null,N);continue}const we=!K.hasClass("mspace");if(we){const Ue=f(K,$.node);Ue&&($.insertAfter?$.insertAfter(Ue):(g.unshift(Ue),G++))}we?$.node=K:N&&K.hasClass("newline")&&($.node=Dr(["leftmost"])),$.insertAfter=(Ue=>rt=>{g.splice(Ue+1,0,rt),G++})(G)}S&&g.pop()},Ci=function(g){return g instanceof Ms||g instanceof ds||g instanceof Qr&&g.hasClass("enclosing")?g:null},Pi=function(g,f){const $=Ci(g);if($){const S=$.children;if(S.length){if(f==="right")return Pi(S[S.length-1],"right");if(f==="left")return Pi(S[0],"left")}}return g},Zi=function(g,f){return g?(f&&(g=Pi(g,f)),rs[g.classes[0]]||null):null},ti=function(g,f){const $=["nulldelimiter"].concat(g.baseSizingClasses());return Dr(f.concat($))},Wn=function(g,f,$){if(!g)return Dr();if(Sn[g.type]){let S=Sn[g.type](g,f);if($&&f.size!==$.size){S=Dr(f.sizingClasses($),[S],f);const N=f.sizeMultiplier/$.sizeMultiplier;S.height*=N,S.depth*=N}return S}else throw new m("Got group of unknown type: '"+g.type+"'")};function Yr(g,f){const $=Dr(["base"],g,f),S=Dr(["strut"]);return S.style.height=O($.height+$.depth),$.depth&&(S.style.verticalAlign=O(-$.depth)),$.children.unshift(S),$}function di(g,f){let $=null;g.length===1&&g[0].type==="tag"&&($=g[0].tag,g=g[0].body);const S=Fn(g,f,"root");let N;S.length===2&&S[1].hasClass("tag")&&(N=S.pop());const G=[];let K=[];for(let Ue=0;Ue<S.length;Ue++)if(K.push(S[Ue]),S[Ue].hasClass("mbin")||S[Ue].hasClass("mrel")||S[Ue].hasClass("allowbreak")){let rt=!1;for(;Ue<S.length-1&&S[Ue+1].hasClass("mspace")&&!S[Ue+1].hasClass("newline");)Ue++,K.push(S[Ue]),S[Ue].hasClass("nobreak")&&(rt=!0);rt||(G.push(Yr(K,f)),K=[])}else S[Ue].hasClass("newline")&&(K.pop(),K.length>0&&(G.push(Yr(K,f)),K=[]),G.push(S[Ue]));K.length>0&&G.push(Yr(K,f));let he;$?(he=Yr(Fn($,f,!0)),he.classes=["tag"],G.push(he)):N&&G.push(N);const we=Dr(["katex-html"],G);if(we.setAttribute("aria-hidden","true"),he){const Ue=he.children[0];Ue.style.height=O(we.height+we.depth),we.depth&&(Ue.style.verticalAlign=O(-we.depth))}return we}function co(g){return new Ms(g)}class ni{constructor(f,$,S){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=f,this.attributes={},this.children=$||[],this.classes=S||[]}setAttribute(f,$){this.attributes[f]=$}getAttribute(f){return this.attributes[f]}toNode(){const f=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const $ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,$)&&f.setAttribute($,this.attributes[$]);this.classes.length>0&&(f.className=oe(this.classes));for(let $=0;$<this.children.length;$++)if(this.children[$]instanceof Bs&&this.children[$+1]instanceof Bs){let S=this.children[$].toText()+this.children[++$].toText();for(;this.children[$+1]instanceof Bs;)S+=this.children[++$].toText();f.appendChild(new Bs(S).toNode())}else f.appendChild(this.children[$].toNode());return f}toMarkup(){let f="<"+this.type;for(const $ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,$)&&(f+=" "+$+'="',f+=ge.escape(this.attributes[$]),f+='"');this.classes.length>0&&(f+=' class ="'+ge.escape(oe(this.classes))+'"'),f+=">";for(let $=0;$<this.children.length;$++)f+=this.children[$].toMarkup();return f+="</"+this.type+">",f}toText(){return this.children.map(f=>f.toText()).join("")}}class Bs{constructor(f){this.text=void 0,this.text=f}toNode(){return document.createTextNode(this.text)}toMarkup(){return ge.escape(this.toText())}toText(){return this.text}}class To{constructor(f){this.width=void 0,this.character=void 0,this.width=f,f>=.05555&&f<=.05556?this.character="":f>=.1666&&f<=.1667?this.character="":f>=.2222&&f<=.2223?this.character="":f>=.2777&&f<=.2778?this.character="":f>=-.05556&&f<=-.05555?this.character="":f>=-.1667&&f<=-.1666?this.character="":f>=-.2223&&f<=-.2222?this.character="":f>=-.2778&&f<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const f=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return f.setAttribute("width",O(this.width)),f}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+O(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var jt={MathNode:ni,TextNode:Bs,SpaceNode:To,newDocumentFragment:co};const ki=function(g,f,$){return br[f][g]&&br[f][g].replace&&g.charCodeAt(0)!==55349&&!(wn.hasOwnProperty(g)&&$&&($.fontFamily&&$.fontFamily.slice(4,6)==="tt"||$.font&&$.font.slice(4,6)==="tt"))&&(g=br[f][g].replace),new jt.TextNode(g)},Vi=function(g){return g.length===1?g[0]:new jt.MathNode("mrow",g)},Zl=function(g,f){if(f.fontFamily==="texttt")return"monospace";if(f.fontFamily==="textsf")return f.fontShape==="textit"&&f.fontWeight==="textbf"?"sans-serif-bold-italic":f.fontShape==="textit"?"sans-serif-italic":f.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(f.fontShape==="textit"&&f.fontWeight==="textbf")return"bold-italic";if(f.fontShape==="textit")return"italic";if(f.fontWeight==="textbf")return"bold";const $=f.font;if(!$||$==="mathnormal")return null;const S=g.mode;if($==="mathit")return"italic";if($==="boldsymbol")return g.type==="textord"?"bold":"bold-italic";if($==="mathbf")return"bold";if($==="mathbb")return"double-struck";if($==="mathsfit")return"sans-serif-italic";if($==="mathfrak")return"fraktur";if($==="mathscr"||$==="mathcal")return"script";if($==="mathsf")return"sans-serif";if($==="mathtt")return"monospace";let N=g.text;if(["\\imath","\\jmath"].includes(N))return null;br[S][N]&&br[S][N].replace&&(N=br[S][N].replace);const G=pe.fontMap[$].fontName;return ss(N,G,S)?pe.fontMap[$].variant:null};function Ql(g){if(!g)return!1;if(g.type==="mi"&&g.children.length===1){const f=g.children[0];return f instanceof Bs&&f.text==="."}else if(g.type==="mo"&&g.children.length===1&&g.getAttribute("separator")==="true"&&g.getAttribute("lspace")==="0em"&&g.getAttribute("rspace")==="0em"){const f=g.children[0];return f instanceof Bs&&f.text===","}else return!1}const Ps=function(g,f,$){if(g.length===1){const G=qr(g[0],f);return $&&G instanceof ni&&G.type==="mo"&&(G.setAttribute("lspace","0em"),G.setAttribute("rspace","0em")),[G]}const S=[];let N;for(let G=0;G<g.length;G++){const K=qr(g[G],f);if(K instanceof ni&&N instanceof ni){if(K.type==="mtext"&&N.type==="mtext"&&K.getAttribute("mathvariant")===N.getAttribute("mathvariant")){N.children.push(...K.children);continue}else if(K.type==="mn"&&N.type==="mn"){N.children.push(...K.children);continue}else if(Ql(K)&&N.type==="mn"){N.children.push(...K.children);continue}else if(K.type==="mn"&&Ql(N))K.children=[...N.children,...K.children],S.pop();else if((K.type==="msup"||K.type==="msub")&&K.children.length>=1&&(N.type==="mn"||Ql(N))){const he=K.children[0];he instanceof ni&&he.type==="mn"&&(he.children=[...N.children,...he.children],S.pop())}else if(N.type==="mi"&&N.children.length===1){const he=N.children[0];if(he instanceof Bs&&he.text===""&&(K.type==="mo"||K.type==="mi"||K.type==="mn")){const we=K.children[0];we instanceof Bs&&we.text.length>0&&(we.text=we.text.slice(0,1)+""+we.text.slice(1),S.pop())}}}S.push(K),N=K}return S},Rs=function(g,f,$){return Vi(Ps(g,f,$))},qr=function(g,f){if(!g)return new jt.MathNode("mrow");if(gn[g.type])return gn[g.type](g,f);throw new m("Got group of unknown type: '"+g.type+"'")};function ws(g,f,$,S,N){const G=Ps(g,$);let K;G.length===1&&G[0]instanceof ni&&["mrow","mtable"].includes(G[0].type)?K=G[0]:K=new jt.MathNode("mrow",G);const he=new jt.MathNode("annotation",[new jt.TextNode(f)]);he.setAttribute("encoding","application/x-tex");const we=new jt.MathNode("semantics",[K,he]),Ue=new jt.MathNode("math",[we]);Ue.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),S&&Ue.setAttribute("display","block");const rt=N?"katex":"katex-mathml";return pe.makeSpan([rt],[Ue])}const Go=function(g){return new Ne({style:g.displayMode?le.DISPLAY:le.TEXT,maxSize:g.maxSize,minRuleThickness:g.minRuleThickness})},Il=function(g,f){if(f.displayMode){const $=["katex-display"];f.leqno&&$.push("leqno"),f.fleqn&&$.push("fleqn"),g=pe.makeSpan($,[g])}return g},Ml=function(g,f,$){const S=Go($);let N;if($.output==="mathml")return ws(g,f,S,$.displayMode,!0);if($.output==="html"){const G=di(g,S);N=pe.makeSpan(["katex"],[G])}else{const G=ws(g,f,S,$.displayMode,!1),K=di(g,S);N=pe.makeSpan(["katex"],[G,K])}return Il(N,$)},Rl=function(g,f,$){const S=Go($),N=di(g,S),G=pe.makeSpan(["katex"],[N]);return Il(G,$)},tu={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},ho=function(g){const f=new jt.MathNode("mo",[new jt.TextNode(tu[g.replace(/^\\/,"")])]);return f.setAttribute("stretchy","true"),f},Xc={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},jc=function(g){return g.type==="ordgroup"?g.body.length:1};var al={encloseSpan:function(g,f,$,S,N){let G;const K=g.height+g.depth+$+S;if(/fbox|color|angl/.test(f)){if(G=pe.makeSpan(["stretchy",f],[],N),f==="fbox"){const he=N.color&&N.getColor();he&&(G.style.borderColor=he)}}else{const he=[];/^[bx]cancel$/.test(f)&&he.push(new Dt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(f)&&he.push(new Dt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const we=new Pe(he,{width:"100%",height:O(K)});G=pe.makeSvgSpan([],[we],N)}return G.height=K,G.style.height=O(K),G},mathMLnode:ho,svgSpan:function(g,f){function $(){let K=4e5;const he=g.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(he)){const Ue=jc(g.base);let rt,at,_t;if(Ue>5)he==="widehat"||he==="widecheck"?(rt=420,K=2364,_t=.42,at=he+"4"):(rt=312,K=2340,_t=.34,at="tilde4");else{const An=[1,1,2,2,3,3][Ue];he==="widehat"||he==="widecheck"?(K=[0,1062,2364,2364,2364][An],rt=[0,239,300,360,420][An],_t=[0,.24,.3,.3,.36,.42][An],at=he+An):(K=[0,600,1033,2339,2340][An],rt=[0,260,286,306,312][An],_t=[0,.26,.286,.3,.306,.34][An],at="tilde"+An)}const Yt=new Qe(at),bn=new Pe([Yt],{width:"100%",height:O(_t),viewBox:"0 0 "+K+" "+rt,preserveAspectRatio:"none"});return{span:pe.makeSvgSpan([],[bn],f),minWidth:0,height:_t}}else{const we=[],Ue=Xc[he],[rt,at,_t]=Ue,Yt=_t/1e3,bn=rt.length;let An,Rr;if(bn===1){const gr=Ue[3];An=["hide-tail"],Rr=[gr]}else if(bn===2)An=["halfarrow-left","halfarrow-right"],Rr=["xMinYMin","xMaxYMin"];else if(bn===3)An=["brace-left","brace-center","brace-right"],Rr=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+bn+" children.");for(let gr=0;gr<bn;gr++){const Tr=new Qe(rt[gr]),ai=new Pe([Tr],{width:"400em",height:O(Yt),viewBox:"0 0 "+K+" "+_t,preserveAspectRatio:Rr[gr]+" slice"}),jr=pe.makeSvgSpan([An[gr]],[ai],f);if(bn===1)return{span:jr,minWidth:at,height:Yt};jr.style.height=O(Yt),we.push(jr)}return{span:pe.makeSpan(["stretchy"],we,f),minWidth:at,height:Yt}}}const{span:S,minWidth:N,height:G}=$();return S.height=G,S.style.height=O(G),N>0&&(S.style.minWidth=O(N)),S}};function mr(g,f){if(!g||g.type!==f)throw new Error("Expected node of type "+f+", but got "+(g?"node of type "+g.type:String(g)));return g}function nu(g){const f=H0(g);if(!f)throw new Error("Expected node of symbol group type, but got "+(g?"node of type "+g.type:String(g)));return f}function H0(g){return g&&(g.type==="atom"||Al.hasOwnProperty(g.type))?g:null}const wa=(g,f)=>{let $,S,N;g&&g.type==="supsub"?(S=mr(g.base,"accent"),$=S.base,g.base=$,N=Hn(Wn(g,f)),g.base=S):(S=mr(g,"accent"),$=S.base);const G=Wn($,f.havingCrampedStyle()),K=S.isShifty&&ge.isCharacterBox($);let he=0;if(K){const _t=ge.getBaseElem($),Yt=Wn(_t,f.havingCrampedStyle());he=dn(Yt).skew}const we=S.label==="\\c";let Ue=we?G.height+G.depth:Math.min(G.height,f.fontMetrics().xHeight),rt;if(S.isStretchy)rt=al.svgSpan(S,f),rt=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"elem",elem:rt,wrapperClasses:["svg-align"],wrapperStyle:he>0?{width:"calc(100% - "+O(2*he)+")",marginLeft:O(2*he)}:void 0}]},f);else{let _t,Yt;S.label==="\\vec"?(_t=pe.staticSvg("vec",f),Yt=pe.svgData.vec[1]):(_t=pe.makeOrd({mode:S.mode,text:S.label},f,"textord"),_t=dn(_t),_t.italic=0,Yt=_t.width,we&&(Ue+=_t.depth)),rt=pe.makeSpan(["accent-body"],[_t]);const bn=S.label==="\\textcircled";bn&&(rt.classes.push("accent-full"),Ue=G.height);let An=he;bn||(An-=Yt/2),rt.style.left=O(An),S.label==="\\textcircled"&&(rt.style.top=".2em"),rt=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:-Ue},{type:"elem",elem:rt}]},f)}const at=pe.makeSpan(["mord","accent"],[rt],f);return N?(N.children[0]=at,N.height=Math.max(at.height,N.height),N.classes[0]="mord",N):at},Zu=(g,f)=>{const $=g.isStretchy?al.mathMLnode(g.label):new jt.MathNode("mo",[ki(g.label,g.mode)]),S=new jt.MathNode("mover",[qr(g.base,f),$]);return S.setAttribute("accent","true"),S},p0=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(g=>"\\"+g).join("|"));Pt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(g,f)=>{const $=Pn(f[0]),S=!p0.test(g.funcName),N=!S||g.funcName==="\\widehat"||g.funcName==="\\widetilde"||g.funcName==="\\widecheck";return{type:"accent",mode:g.parser.mode,label:g.funcName,isStretchy:S,isShifty:N,base:$}},htmlBuilder:wa,mathmlBuilder:Zu}),Pt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(g,f)=>{const $=f[0];let S=g.parser.mode;return S==="math"&&(g.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+g.funcName+" works only in text mode"),S="text"),{type:"accent",mode:S,label:g.funcName,isStretchy:!1,isShifty:!0,base:$}},htmlBuilder:wa,mathmlBuilder:Zu}),Pt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=f[0];return{type:"accentUnder",mode:$.mode,label:S,base:N}},htmlBuilder:(g,f)=>{const $=Wn(g.base,f),S=al.svgSpan(g,f),N=g.label==="\\utilde"?.12:0,G=pe.makeVList({positionType:"top",positionData:$.height,children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:N},{type:"elem",elem:$}]},f);return pe.makeSpan(["mord","accentunder"],[G],f)},mathmlBuilder:(g,f)=>{const $=al.mathMLnode(g.label),S=new jt.MathNode("munder",[qr(g.base,f),$]);return S.setAttribute("accentunder","true"),S}});const m0=g=>{const f=new jt.MathNode("mpadded",g?[g]:[]);return f.setAttribute("width","+0.6em"),f.setAttribute("lspace","0.3em"),f};Pt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(g,f,$){let{parser:S,funcName:N}=g;return{type:"xArrow",mode:S.mode,label:N,body:f[0],below:$[0]}},htmlBuilder(g,f){const $=f.style;let S=f.havingStyle($.sup());const N=pe.wrapFragment(Wn(g.body,S,f),f),G=g.label.slice(0,2)==="\\x"?"x":"cd";N.classes.push(G+"-arrow-pad");let K;g.below&&(S=f.havingStyle($.sub()),K=pe.wrapFragment(Wn(g.below,S,f),f),K.classes.push(G+"-arrow-pad"));const he=al.svgSpan(g,f),we=-f.fontMetrics().axisHeight+.5*he.height;let Ue=-f.fontMetrics().axisHeight-.5*he.height-.111;(N.depth>.25||g.label==="\\xleftequilibrium")&&(Ue-=N.depth);let rt;if(K){const at=-f.fontMetrics().axisHeight+K.height+.5*he.height+.111;rt=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:N,shift:Ue},{type:"elem",elem:he,shift:we},{type:"elem",elem:K,shift:at}]},f)}else rt=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:N,shift:Ue},{type:"elem",elem:he,shift:we}]},f);return rt.children[0].children[0].children[1].classes.push("svg-align"),pe.makeSpan(["mrel","x-arrow"],[rt],f)},mathmlBuilder(g,f){const $=al.mathMLnode(g.label);$.setAttribute("minsize",g.label.charAt(0)==="x"?"1.75em":"3.0em");let S;if(g.body){const N=m0(qr(g.body,f));if(g.below){const G=m0(qr(g.below,f));S=new jt.MathNode("munderover",[$,G,N])}else S=new jt.MathNode("mover",[$,N])}else if(g.below){const N=m0(qr(g.below,f));S=new jt.MathNode("munder",[$,N])}else S=m0(),S=new jt.MathNode("mover",[$,S]);return S}});const Yc=pe.makeSpan;function g0(g,f){const $=Fn(g.body,f,!0);return Yc([g.mclass],$,f)}function Sa(g,f){let $;const S=Ps(g.body,f);return g.mclass==="minner"?$=new jt.MathNode("mpadded",S):g.mclass==="mord"?g.isCharacterBox?($=S[0],$.type="mi"):$=new jt.MathNode("mi",S):(g.isCharacterBox?($=S[0],$.type="mo"):$=new jt.MathNode("mo",S),g.mclass==="mbin"?($.attributes.lspace="0.22em",$.attributes.rspace="0.22em"):g.mclass==="mpunct"?($.attributes.lspace="0em",$.attributes.rspace="0.17em"):g.mclass==="mopen"||g.mclass==="mclose"?($.attributes.lspace="0em",$.attributes.rspace="0em"):g.mclass==="minner"&&($.attributes.lspace="0.0556em",$.attributes.width="+0.1111em")),$}Pt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(g,f){let{parser:$,funcName:S}=g;const N=f[0];return{type:"mclass",mode:$.mode,mclass:"m"+S.slice(5),body:Kn(N),isCharacterBox:ge.isCharacterBox(N)}},htmlBuilder:g0,mathmlBuilder:Sa});const G0=g=>{const f=g.type==="ordgroup"&&g.body.length?g.body[0]:g;return f.type==="atom"&&(f.family==="bin"||f.family==="rel")?"m"+f.family:"mord"};Pt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(g,f){let{parser:$}=g;return{type:"mclass",mode:$.mode,mclass:G0(f[0]),body:Kn(f[1]),isCharacterBox:ge.isCharacterBox(f[1])}}}),Pt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(g,f){let{parser:$,funcName:S}=g;const N=f[1],G=f[0];let K;S!=="\\stackrel"?K=G0(N):K="mrel";const he={type:"op",mode:N.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:S!=="\\stackrel",body:Kn(N)},we={type:"supsub",mode:G.mode,base:he,sup:S==="\\underset"?null:G,sub:S==="\\underset"?G:null};return{type:"mclass",mode:$.mode,mclass:K,body:[we],isCharacterBox:ge.isCharacterBox(we)}},htmlBuilder:g0,mathmlBuilder:Sa}),Pt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:$}=g;return{type:"pmb",mode:$.mode,mclass:G0(f[0]),body:Kn(f[0])}},htmlBuilder(g,f){const $=Fn(g.body,f,!0),S=pe.makeSpan([g.mclass],$,f);return S.style.textShadow="0.02em 0.01em 0.04px",S},mathmlBuilder(g,f){const $=Ps(g.body,f),S=new jt.MathNode("mstyle",$);return S.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),S}});const Qu={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},$0=()=>({type:"styling",body:[],mode:"math",style:"display"}),Ol=g=>g.type==="textord"&&g.text==="@",ec=(g,f)=>(g.type==="mathord"||g.type==="atom")&&g.text===f;function tc(g,f,$){const S=Qu[g];switch(S){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return $.callFunction(S,[f[0]],[f[1]]);case"\\uparrow":case"\\downarrow":{const N=$.callFunction("\\\\cdleft",[f[0]],[]),G={type:"atom",text:S,mode:"math",family:"rel"},K=$.callFunction("\\Big",[G],[]),he=$.callFunction("\\\\cdright",[f[1]],[]),we={type:"ordgroup",mode:"math",body:[N,K,he]};return $.callFunction("\\\\cdparent",[we],[])}case"\\\\cdlongequal":return $.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const N={type:"textord",text:"\\Vert",mode:"math"};return $.callFunction("\\Big",[N],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ru(g){const f=[];for(g.gullet.beginGroup(),g.gullet.macros.set("\\cr","\\\\\\relax"),g.gullet.beginGroup();;){f.push(g.parseExpression(!1,"\\\\")),g.gullet.endGroup(),g.gullet.beginGroup();const G=g.fetch().text;if(G==="&"||G==="\\\\")g.consume();else if(G==="\\end"){f[f.length-1].length===0&&f.pop();break}else throw new m("Expected \\\\ or \\cr or \\end",g.nextToken)}let $=[];const S=[$];for(let G=0;G<f.length;G++){const K=f[G];let he=$0();for(let we=0;we<K.length;we++)if(!Ol(K[we]))he.body.push(K[we]);else{$.push(he),we+=1;const Ue=nu(K[we]).text,rt=new Array(2);if(rt[0]={type:"ordgroup",mode:"math",body:[]},rt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Ue)>-1))if("<>AV".indexOf(Ue)>-1)for(let Yt=0;Yt<2;Yt++){let bn=!0;for(let An=we+1;An<K.length;An++){if(ec(K[An],Ue)){bn=!1,we=An;break}if(Ol(K[An]))throw new m("Missing a "+Ue+" character to complete a CD arrow.",K[An]);rt[Yt].body.push(K[An])}if(bn)throw new m("Missing a "+Ue+" character to complete a CD arrow.",K[we])}else throw new m('Expected one of "<>AV=|." after @',K[we]);const _t={type:"styling",body:[tc(Ue,rt,g)],mode:"math",style:"display"};$.push(_t),he=$0()}G%2===0?$.push(he):$.shift(),$=[],S.push($)}g.gullet.endGroup(),g.gullet.endGroup();const N=new Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(S.length+1).fill([])}}Pt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(g,f){let{parser:$,funcName:S}=g;return{type:"cdlabel",mode:$.mode,side:S.slice(4),label:f[0]}},htmlBuilder(g,f){const $=f.havingStyle(f.style.sup()),S=pe.wrapFragment(Wn(g.label,$,f),f);return S.classes.push("cd-label-"+g.side),S.style.bottom=O(.8-S.depth),S.height=0,S.depth=0,S},mathmlBuilder(g,f){let $=new jt.MathNode("mrow",[qr(g.label,f)]);return $=new jt.MathNode("mpadded",[$]),$.setAttribute("width","0"),g.side==="left"&&$.setAttribute("lspace","-1width"),$.setAttribute("voffset","0.7em"),$=new jt.MathNode("mstyle",[$]),$.setAttribute("displaystyle","false"),$.setAttribute("scriptlevel","1"),$}}),Pt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(g,f){let{parser:$}=g;return{type:"cdlabelparent",mode:$.mode,fragment:f[0]}},htmlBuilder(g,f){const $=pe.wrapFragment(Wn(g.fragment,f),f);return $.classes.push("cd-vert-arrow"),$},mathmlBuilder(g,f){return new jt.MathNode("mrow",[qr(g.fragment,f)])}}),Pt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:$}=g;const N=mr(f[0],"ordgroup").body;let G="";for(let we=0;we<N.length;we++){const Ue=mr(N[we],"textord");G+=Ue.text}let K=parseInt(G),he;if(isNaN(K))throw new m("\\@char has non-numeric argument "+G);if(K<0||K>=1114111)throw new m("\\@char with invalid code point "+G);return K<=65535?he=String.fromCharCode(K):(K-=65536,he=String.fromCharCode((K>>10)+55296,(K&1023)+56320)),{type:"textord",mode:$.mode,text:he}}});const xa=(g,f)=>{const $=Fn(g.body,f.withColor(g.color),!1);return pe.makeFragment($)},Ca=(g,f)=>{const $=Ps(g.body,f.withColor(g.color)),S=new jt.MathNode("mstyle",$);return S.setAttribute("mathcolor",g.color),S};Pt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(g,f){let{parser:$}=g;const S=mr(f[0],"color-token").color,N=f[1];return{type:"color",mode:$.mode,color:S,body:Kn(N)}},htmlBuilder:xa,mathmlBuilder:Ca}),Pt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(g,f){let{parser:$,breakOnTokenText:S}=g;const N=mr(f[0],"color-token").color;$.gullet.macros.set("\\current@color",N);const G=$.parseExpression(!0,S);return{type:"color",mode:$.mode,color:N,body:G}},htmlBuilder:xa,mathmlBuilder:Ca}),Pt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(g,f,$){let{parser:S}=g;const N=S.gullet.future().text==="["?S.parseSizeGroup(!0):null,G=!S.settings.displayMode||!S.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:S.mode,newLine:G,size:N&&mr(N,"size").value}},htmlBuilder(g,f){const $=pe.makeSpan(["mspace"],[],f);return g.newLine&&($.classes.push("newline"),g.size&&($.style.marginTop=O(St(g.size,f)))),$},mathmlBuilder(g,f){const $=new jt.MathNode("mspace");return g.newLine&&($.setAttribute("linebreak","newline"),g.size&&$.setAttribute("height",O(St(g.size,f)))),$}});const V0={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Nl=g=>{const f=g.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(f))throw new m("Expected a control sequence",g);return f},ka=g=>{let f=g.gullet.popToken();return f.text==="="&&(f=g.gullet.popToken(),f.text===" "&&(f=g.gullet.popToken())),f},iu=(g,f,$,S)=>{let N=g.gullet.macros.get($.text);N==null&&($.noexpand=!0,N={tokens:[$],numArgs:0,unexpandable:!g.gullet.isExpandable($.text)}),g.gullet.macros.set(f,N,S)};Pt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(g){let{parser:f,funcName:$}=g;f.consumeSpaces();const S=f.fetch();if(V0[S.text])return($==="\\global"||$==="\\\\globallong")&&(S.text=V0[S.text]),mr(f.parseFunction(),"internal");throw new m("Invalid token after macro prefix",S)}}),Pt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:$}=g,S=f.gullet.popToken();const N=S.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(N))throw new m("Expected a control sequence",S);let G=0,K;const he=[[]];for(;f.gullet.future().text!=="{";)if(S=f.gullet.popToken(),S.text==="#"){if(f.gullet.future().text==="{"){K=f.gullet.future(),he[G].push("{");break}if(S=f.gullet.popToken(),!/^[1-9]$/.test(S.text))throw new m('Invalid argument number "'+S.text+'"');if(parseInt(S.text)!==G+1)throw new m('Argument number "'+S.text+'" out of order');G++,he.push([])}else{if(S.text==="EOF")throw new m("Expected a macro definition");he[G].push(S.text)}let{tokens:we}=f.gullet.consumeArg();return K&&we.unshift(K),($==="\\edef"||$==="\\xdef")&&(we=f.gullet.expandTokens(we),we.reverse()),f.gullet.macros.set(N,{tokens:we,numArgs:G,delimiters:he},$===V0[$]),{type:"internal",mode:f.mode}}}),Pt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:$}=g;const S=Nl(f.gullet.popToken());f.gullet.consumeSpaces();const N=ka(f);return iu(f,S,N,$==="\\\\globallet"),{type:"internal",mode:f.mode}}}),Pt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g){let{parser:f,funcName:$}=g;const S=Nl(f.gullet.popToken()),N=f.gullet.popToken(),G=f.gullet.popToken();return iu(f,S,G,$==="\\\\globalfuture"),f.gullet.pushToken(G),f.gullet.pushToken(N),{type:"internal",mode:f.mode}}});const ul=function(g,f,$){const S=br.math[g]&&br.math[g].replace,N=ss(S||g,f,$);if(!N)throw new Error("Unsupported symbol "+g+" and font size "+f+".");return N},y=function(g,f,$,S){const N=$.havingBaseStyle(f),G=pe.makeSpan(S.concat(N.sizingClasses($)),[g],$),K=N.sizeMultiplier/$.sizeMultiplier;return G.height*=K,G.depth*=K,G.maxFontSize=N.sizeMultiplier,G},I=function(g,f,$){const S=f.havingBaseStyle($),N=(1-f.sizeMultiplier/S.sizeMultiplier)*f.fontMetrics().axisHeight;g.classes.push("delimcenter"),g.style.top=O(N),g.height-=N,g.depth+=N},ne=function(g,f,$,S,N,G){const K=pe.makeSymbol(g,"Main-Regular",N,S),he=y(K,f,S,G);return $&&I(he,S,f),he},$e=function(g,f,$,S){return pe.makeSymbol(g,"Size"+f+"-Regular",$,S)},Re=function(g,f,$,S,N,G){const K=$e(g,f,N,S),he=y(pe.makeSpan(["delimsizing","size"+f],[K],S),le.TEXT,S,G);return $&&I(he,S,le.TEXT),he},qe=function(g,f,$){let S;return f==="Size1-Regular"?S="delim-size1":S="delim-size4",{type:"elem",elem:pe.makeSpan(["delimsizinginner",S],[pe.makeSpan([],[pe.makeSymbol(g,f,$)])])}},lt=function(g,f,$){const S=on["Size4-Regular"][g.charCodeAt(0)]?on["Size4-Regular"][g.charCodeAt(0)][4]:on["Size1-Regular"][g.charCodeAt(0)][4],N=new Qe("inner",Wr(g,Math.round(1e3*f))),G=new Pe([N],{width:O(S),height:O(f),style:"width:"+O(S),viewBox:"0 0 "+1e3*S+" "+Math.round(1e3*f),preserveAspectRatio:"xMinYMin"}),K=pe.makeSvgSpan([],[G],$);return K.height=f,K.style.height=O(f),K.style.width=O(S),{type:"elem",elem:K}},Et=.008,Gt={type:"kern",size:-1*Et},qt=["|","\\lvert","\\rvert","\\vert"],pn=["\\|","\\lVert","\\rVert","\\Vert"],At=function(g,f,$,S,N,G){let K,he,we,Ue,rt="",at=0;K=we=Ue=g,he=null;let _t="Size1-Regular";g==="\\uparrow"?we=Ue="":g==="\\Uparrow"?we=Ue="":g==="\\downarrow"?K=we="":g==="\\Downarrow"?K=we="":g==="\\updownarrow"?(K="\\uparrow",we="",Ue="\\downarrow"):g==="\\Updownarrow"?(K="\\Uparrow",we="",Ue="\\Downarrow"):qt.includes(g)?(we="",rt="vert",at=333):pn.includes(g)?(we="",rt="doublevert",at=556):g==="["||g==="\\lbrack"?(K="",we="",Ue="",_t="Size4-Regular",rt="lbrack",at=667):g==="]"||g==="\\rbrack"?(K="",we="",Ue="",_t="Size4-Regular",rt="rbrack",at=667):g==="\\lfloor"||g===""?(we=K="",Ue="",_t="Size4-Regular",rt="lfloor",at=667):g==="\\lceil"||g===""?(K="",we=Ue="",_t="Size4-Regular",rt="lceil",at=667):g==="\\rfloor"||g===""?(we=K="",Ue="",_t="Size4-Regular",rt="rfloor",at=667):g==="\\rceil"||g===""?(K="",we=Ue="",_t="Size4-Regular",rt="rceil",at=667):g==="("||g==="\\lparen"?(K="",we="",Ue="",_t="Size4-Regular",rt="lparen",at=875):g===")"||g==="\\rparen"?(K="",we="",Ue="",_t="Size4-Regular",rt="rparen",at=875):g==="\\{"||g==="\\lbrace"?(K="",he="",Ue="",we="",_t="Size4-Regular"):g==="\\}"||g==="\\rbrace"?(K="",he="",Ue="",we="",_t="Size4-Regular"):g==="\\lgroup"||g===""?(K="",Ue="",we="",_t="Size4-Regular"):g==="\\rgroup"||g===""?(K="",Ue="",we="",_t="Size4-Regular"):g==="\\lmoustache"||g===""?(K="",Ue="",we="",_t="Size4-Regular"):(g==="\\rmoustache"||g==="")&&(K="",Ue="",we="",_t="Size4-Regular");const Yt=ul(K,_t,N),bn=Yt.height+Yt.depth,An=ul(we,_t,N),Rr=An.height+An.depth,gr=ul(Ue,_t,N),Tr=gr.height+gr.depth;let ai=0,jr=1;if(he!==null){const ui=ul(he,_t,N);ai=ui.height+ui.depth,jr=2}const zi=bn+Tr+ai,gs=Math.max(0,Math.ceil((f-zi)/(jr*Rr))),as=zi+gs*jr*Rr;let $s=S.fontMetrics().axisHeight;$&&($s*=S.sizeMultiplier);const Or=as/2-$s,fi=[];if(rt.length>0){const ui=as-bn-Tr,qi=Math.round(as*1e3),go=pr(rt,Math.round(ui*1e3)),K0=new Qe(rt,go),uu=(at/1e3).toFixed(3)+"em",dc=(qi/1e3).toFixed(3)+"em",e1=new Pe([K0],{width:uu,height:dc,viewBox:"0 0 "+at+" "+qi}),x0=pe.makeSvgSpan([],[e1],S);x0.height=qi/1e3,x0.style.width=uu,x0.style.height=dc,fi.push({type:"elem",elem:x0})}else{if(fi.push(qe(Ue,_t,N)),fi.push(Gt),he===null){const ui=as-bn-Tr+2*Et;fi.push(lt(we,ui,S))}else{const ui=(as-bn-Tr-ai)/2+2*Et;fi.push(lt(we,ui,S)),fi.push(Gt),fi.push(qe(he,_t,N)),fi.push(Gt),fi.push(lt(we,ui,S))}fi.push(Gt),fi.push(qe(K,_t,N))}const pi=S.havingBaseStyle(le.TEXT),Mi=pe.makeVList({positionType:"bottom",positionData:Or,children:fi},pi);return y(pe.makeSpan(["delimsizing","mult"],[Mi],pi),le.TEXT,S,G)},Un=80,Nn=.08,Gn=function(g,f,$,S,N){const G=tn(g,S,$),K=new Qe(g,G),he=new Pe([K],{width:"400em",height:O(f),viewBox:"0 0 400000 "+$,preserveAspectRatio:"xMinYMin slice"});return pe.makeSvgSpan(["hide-tail"],[he],N)},Qn=function(g,f){const $=f.havingBaseSizing(),S=ri("\\surd",g*$.sizeMultiplier,li,$);let N=$.sizeMultiplier;const G=Math.max(0,f.minRuleThickness-f.fontMetrics().sqrtRuleThickness);let K,he=0,we=0,Ue=0,rt;return S.type==="small"?(Ue=1e3+1e3*G+Un,g<1?N=1:g<1.4&&(N=.7),he=(1+G+Nn)/N,we=(1+G)/N,K=Gn("sqrtMain",he,Ue,G,f),K.style.minWidth="0.853em",rt=.833/N):S.type==="large"?(Ue=(1e3+Un)*Mn[S.size],we=(Mn[S.size]+G)/N,he=(Mn[S.size]+G+Nn)/N,K=Gn("sqrtSize"+S.size,he,Ue,G,f),K.style.minWidth="1.02em",rt=1/N):(he=g+G+Nn,we=g+G,Ue=Math.floor(1e3*g+G)+Un,K=Gn("sqrtTall",he,Ue,G,f),K.style.minWidth="0.742em",rt=1.056),K.height=we,K.style.height=O(he),{span:K,advanceWidth:rt,ruleWidth:(f.fontMetrics().sqrtRuleThickness+G)*N}},yr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Br=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],en=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Mn=[0,1.2,1.8,2.4,3],Mr=function(g,f,$,S,N){if(g==="<"||g==="\\lt"||g===""?g="\\langle":(g===">"||g==="\\gt"||g==="")&&(g="\\rangle"),yr.includes(g)||en.includes(g))return Re(g,f,!1,$,S,N);if(Br.includes(g))return At(g,Mn[f],!1,$,S,N);throw new m("Illegal delimiter: '"+g+"'")},or=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Xr=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"stack"}],li=[{type:"small",style:le.SCRIPTSCRIPT},{type:"small",style:le.SCRIPT},{type:"small",style:le.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Kr=function(g){if(g.type==="small")return"Main-Regular";if(g.type==="large")return"Size"+g.size+"-Regular";if(g.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+g.type+"' here.")},ri=function(g,f,$,S){const N=Math.min(2,3-S.style.size);for(let G=N;G<$.length&&$[G].type!=="stack";G++){const K=ul(g,Kr($[G]),"math");let he=K.height+K.depth;if($[G].type==="small"){const we=S.havingBaseStyle($[G].style);he*=we.sizeMultiplier}if(he>f)return $[G]}return $[$.length-1]},Jr=function(g,f,$,S,N,G){g==="<"||g==="\\lt"||g===""?g="\\langle":(g===">"||g==="\\gt"||g==="")&&(g="\\rangle");let K;en.includes(g)?K=or:yr.includes(g)?K=li:K=Xr;const he=ri(g,f,K,S);return he.type==="small"?ne(g,he.style,$,S,N,G):he.type==="large"?Re(g,he.size,$,S,N,G):At(g,f,$,S,N,G)};var Pr={sqrtImage:Qn,sizedDelim:Mr,sizeToMaxHeight:Mn,customSizedDelim:Jr,leftRightDelim:function(g,f,$,S,N,G){const K=S.fontMetrics().axisHeight*S.sizeMultiplier,he=901,we=5/S.fontMetrics().ptPerEm,Ue=Math.max(f-K,$+K),rt=Math.max(Ue/500*he,2*Ue-we);return Jr(g,rt,!0,S,N,G)}};const Fi={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},ms=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ss(g,f){const $=H0(g);if($&&ms.includes($.text))return $;throw $?new m("Invalid delimiter '"+$.text+"' after '"+f.funcName+"'",g):new m("Invalid delimiter type '"+g.type+"'",g)}Pt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(g,f)=>{const $=Ss(f[0],g);return{type:"delimsizing",mode:g.parser.mode,size:Fi[g.funcName].size,mclass:Fi[g.funcName].mclass,delim:$.text}},htmlBuilder:(g,f)=>g.delim==="."?pe.makeSpan([g.mclass]):Pr.sizedDelim(g.delim,g.size,f,g.mode,[g.mclass]),mathmlBuilder:g=>{const f=[];g.delim!=="."&&f.push(ki(g.delim,g.mode));const $=new jt.MathNode("mo",f);g.mclass==="mopen"||g.mclass==="mclose"?$.setAttribute("fence","true"):$.setAttribute("fence","false"),$.setAttribute("stretchy","true");const S=O(Pr.sizeToMaxHeight[g.size]);return $.setAttribute("minsize",S),$.setAttribute("maxsize",S),$}});function yi(g){if(!g.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Pt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const $=g.parser.gullet.macros.get("\\current@color");if($&&typeof $!="string")throw new m("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:g.parser.mode,delim:Ss(f[0],g).text,color:$}}}),Pt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const $=Ss(f[0],g),S=g.parser;++S.leftrightDepth;const N=S.parseExpression(!1);--S.leftrightDepth,S.expect("\\right",!1);const G=mr(S.parseFunction(),"leftright-right");return{type:"leftright",mode:S.mode,body:N,left:$.text,right:G.delim,rightColor:G.color}},htmlBuilder:(g,f)=>{yi(g);const $=Fn(g.body,f,!0,["mopen","mclose"]);let S=0,N=0,G=!1;for(let we=0;we<$.length;we++)$[we].isMiddle?G=!0:(S=Math.max($[we].height,S),N=Math.max($[we].depth,N));S*=f.sizeMultiplier,N*=f.sizeMultiplier;let K;if(g.left==="."?K=ti(f,["mopen"]):K=Pr.leftRightDelim(g.left,S,N,f,g.mode,["mopen"]),$.unshift(K),G)for(let we=1;we<$.length;we++){const rt=$[we].isMiddle;rt&&($[we]=Pr.leftRightDelim(rt.delim,S,N,rt.options,g.mode,[]))}let he;if(g.right===".")he=ti(f,["mclose"]);else{const we=g.rightColor?f.withColor(g.rightColor):f;he=Pr.leftRightDelim(g.right,S,N,we,g.mode,["mclose"])}return $.push(he),pe.makeSpan(["minner"],$,f)},mathmlBuilder:(g,f)=>{yi(g);const $=Ps(g.body,f);if(g.left!=="."){const S=new jt.MathNode("mo",[ki(g.left,g.mode)]);S.setAttribute("fence","true"),$.unshift(S)}if(g.right!=="."){const S=new jt.MathNode("mo",[ki(g.right,g.mode)]);S.setAttribute("fence","true"),g.rightColor&&S.setAttribute("mathcolor",g.rightColor),$.push(S)}return Vi($)}}),Pt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{const $=Ss(f[0],g);if(!g.parser.leftrightDepth)throw new m("\\middle without preceding \\left",$);return{type:"middle",mode:g.parser.mode,delim:$.text}},htmlBuilder:(g,f)=>{let $;if(g.delim===".")$=ti(f,[]);else{$=Pr.sizedDelim(g.delim,1,f,g.mode,[]);const S={delim:g.delim,options:f};$.isMiddle=S}return $},mathmlBuilder:(g,f)=>{const $=g.delim==="\\vert"||g.delim==="|"?ki("|","text"):ki(g.delim,g.mode),S=new jt.MathNode("mo",[$]);return S.setAttribute("fence","true"),S.setAttribute("lspace","0.05em"),S.setAttribute("rspace","0.05em"),S}});const Fs=(g,f)=>{const $=pe.wrapFragment(Wn(g.body,f),f),S=g.label.slice(1);let N=f.sizeMultiplier,G,K=0;const he=ge.isCharacterBox(g.body);if(S==="sout")G=pe.makeSpan(["stretchy","sout"]),G.height=f.fontMetrics().defaultRuleThickness/N,K=-.5*f.fontMetrics().xHeight;else if(S==="phase"){const Ue=St({number:.6,unit:"pt"},f),rt=St({number:.35,unit:"ex"},f),at=f.havingBaseSizing();N=N/at.sizeMultiplier;const _t=$.height+$.depth+Ue+rt;$.style.paddingLeft=O(_t/2+Ue);const Yt=Math.floor(1e3*_t*N),bn=Xn(Yt),An=new Pe([new Qe("phase",bn)],{width:"400em",height:O(Yt/1e3),viewBox:"0 0 400000 "+Yt,preserveAspectRatio:"xMinYMin slice"});G=pe.makeSvgSpan(["hide-tail"],[An],f),G.style.height=O(_t),K=$.depth+Ue+rt}else{/cancel/.test(S)?he||$.classes.push("cancel-pad"):S==="angl"?$.classes.push("anglpad"):$.classes.push("boxpad");let Ue=0,rt=0,at=0;/box/.test(S)?(at=Math.max(f.fontMetrics().fboxrule,f.minRuleThickness),Ue=f.fontMetrics().fboxsep+(S==="colorbox"?0:at),rt=Ue):S==="angl"?(at=Math.max(f.fontMetrics().defaultRuleThickness,f.minRuleThickness),Ue=4*at,rt=Math.max(0,.25-$.depth)):(Ue=he?.2:0,rt=Ue),G=al.encloseSpan($,S,Ue,rt,f),/fbox|boxed|fcolorbox/.test(S)?(G.style.borderStyle="solid",G.style.borderWidth=O(at)):S==="angl"&&at!==.049&&(G.style.borderTopWidth=O(at),G.style.borderRightWidth=O(at)),K=$.depth+rt,g.backgroundColor&&(G.style.backgroundColor=g.backgroundColor,g.borderColor&&(G.style.borderColor=g.borderColor))}let we;if(g.backgroundColor)we=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:K},{type:"elem",elem:$,shift:0}]},f);else{const Ue=/cancel|phase/.test(S)?["svg-align"]:[];we=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:0},{type:"elem",elem:G,shift:K,wrapperClasses:Ue}]},f)}return/cancel/.test(S)&&(we.height=$.height,we.depth=$.depth),/cancel/.test(S)&&!he?pe.makeSpan(["mord","cancel-lap"],[we],f):pe.makeSpan(["mord"],[we],f)},fo=(g,f)=>{let $=0;const S=new jt.MathNode(g.label.indexOf("colorbox")>-1?"mpadded":"menclose",[qr(g.body,f)]);switch(g.label){case"\\cancel":S.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":S.setAttribute("notation","downdiagonalstrike");break;case"\\phase":S.setAttribute("notation","phasorangle");break;case"\\sout":S.setAttribute("notation","horizontalstrike");break;case"\\fbox":S.setAttribute("notation","box");break;case"\\angl":S.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if($=f.fontMetrics().fboxsep*f.fontMetrics().ptPerEm,S.setAttribute("width","+"+2*$+"pt"),S.setAttribute("height","+"+2*$+"pt"),S.setAttribute("lspace",$+"pt"),S.setAttribute("voffset",$+"pt"),g.label==="\\fcolorbox"){const N=Math.max(f.fontMetrics().fboxrule,f.minRuleThickness);S.setAttribute("style","border: "+N+"em solid "+String(g.borderColor))}break;case"\\xcancel":S.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return g.backgroundColor&&S.setAttribute("mathbackground",g.backgroundColor),S};Pt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(g,f,$){let{parser:S,funcName:N}=g;const G=mr(f[0],"color-token").color,K=f[1];return{type:"enclose",mode:S.mode,label:N,backgroundColor:G,body:K}},htmlBuilder:Fs,mathmlBuilder:fo}),Pt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(g,f,$){let{parser:S,funcName:N}=g;const G=mr(f[0],"color-token").color,K=mr(f[1],"color-token").color,he=f[2];return{type:"enclose",mode:S.mode,label:N,backgroundColor:K,borderColor:G,body:he}},htmlBuilder:Fs,mathmlBuilder:fo}),Pt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(g,f){let{parser:$}=g;return{type:"enclose",mode:$.mode,label:"\\fbox",body:f[0]}}}),Pt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(g,f){let{parser:$,funcName:S}=g;const N=f[0];return{type:"enclose",mode:$.mode,label:S,body:N}},htmlBuilder:Fs,mathmlBuilder:fo}),Pt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(g,f){let{parser:$}=g;return{type:"enclose",mode:$.mode,label:"\\angl",body:f[0]}}});const xs={};function kr(g){let{type:f,names:$,props:S,handler:N,htmlBuilder:G,mathmlBuilder:K}=g;const he={type:f,numArgs:S.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:N};for(let we=0;we<$.length;++we)xs[$[we]]=he;G&&(Sn[f]=G),K&&(gn[f]=K)}const os={};function ue(g,f){os[g]=f}class _i{constructor(f,$,S){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=f,this.start=$,this.end=S}static range(f,$){return $?!f||!f.loc||!$.loc||f.loc.lexer!==$.loc.lexer?null:new _i(f.loc.lexer,f.loc.start,$.loc.end):f&&f.loc}}class Qi{constructor(f,$){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=f,this.loc=$}range(f,$){return new Qi($,_i.range(this,f))}}function cl(g){const f=[];g.consumeSpaces();let $=g.fetch().text;for($==="\\relax"&&(g.consume(),g.consumeSpaces(),$=g.fetch().text);$==="\\hline"||$==="\\hdashline";)g.consume(),f.push($==="\\hdashline"),g.consumeSpaces(),$=g.fetch().text;return f}const no=g=>{if(!g.parser.settings.displayMode)throw new m("{"+g.envName+"} can be used only in display mode.")};function po(g){if(g.indexOf("ed")===-1)return g.indexOf("*")===-1}function Ys(g,f,$){let{hskipBeforeAndAfter:S,addJot:N,cols:G,arraystretch:K,colSeparationType:he,autoTag:we,singleRow:Ue,emptySingleRow:rt,maxNumCols:at,leqno:_t}=f;if(g.gullet.beginGroup(),Ue||g.gullet.macros.set("\\cr","\\\\\\relax"),!K){const jr=g.gullet.expandMacroAsText("\\arraystretch");if(jr==null)K=1;else if(K=parseFloat(jr),!K||K<0)throw new m("Invalid \\arraystretch: "+jr)}g.gullet.beginGroup();let Yt=[];const bn=[Yt],An=[],Rr=[],gr=we!=null?[]:void 0;function Tr(){we&&g.gullet.macros.set("\\@eqnsw","1",!0)}function ai(){gr&&(g.gullet.macros.get("\\df@tag")?(gr.push(g.subparse([new Qi("\\df@tag")])),g.gullet.macros.set("\\df@tag",void 0,!0)):gr.push(!!we&&g.gullet.macros.get("\\@eqnsw")==="1"))}for(Tr(),Rr.push(cl(g));;){let jr=g.parseExpression(!1,Ue?"\\end":"\\\\");g.gullet.endGroup(),g.gullet.beginGroup(),jr={type:"ordgroup",mode:g.mode,body:jr},$&&(jr={type:"styling",mode:g.mode,style:$,body:[jr]}),Yt.push(jr);const zi=g.fetch().text;if(zi==="&"){if(at&&Yt.length===at){if(Ue||he)throw new m("Too many tab characters: &",g.nextToken);g.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}g.consume()}else if(zi==="\\end"){ai(),Yt.length===1&&jr.type==="styling"&&jr.body[0].body.length===0&&(bn.length>1||!rt)&&bn.pop(),Rr.length<bn.length+1&&Rr.push([]);break}else if(zi==="\\\\"){g.consume();let gs;g.gullet.future().text!==" "&&(gs=g.parseSizeGroup(!0)),An.push(gs?gs.value:null),ai(),Rr.push(cl(g)),Yt=[],bn.push(Yt),Tr()}else throw new m("Expected & or \\\\ or \\cr or \\end",g.nextToken)}return g.gullet.endGroup(),g.gullet.endGroup(),{type:"array",mode:g.mode,addJot:N,arraystretch:K,body:bn,cols:G,rowGaps:An,hskipBeforeAndAfter:S,hLinesBeforeRow:Rr,colSeparationType:he,tags:gr,leqno:_t}}function ls(g){return g.slice(0,1)==="d"?"display":"text"}const lr=function(g,f){let $,S;const N=g.body.length,G=g.hLinesBeforeRow;let K=0,he=new Array(N);const we=[],Ue=Math.max(f.fontMetrics().arrayRuleWidth,f.minRuleThickness),rt=1/f.fontMetrics().ptPerEm;let at=5*rt;g.colSeparationType&&g.colSeparationType==="small"&&(at=.2778*(f.havingStyle(le.SCRIPT).sizeMultiplier/f.sizeMultiplier));const _t=g.colSeparationType==="CD"?St({number:3,unit:"ex"},f):12*rt,Yt=3*rt,bn=g.arraystretch*_t,An=.7*bn,Rr=.3*bn;let gr=0;function Tr(Or){for(let fi=0;fi<Or.length;++fi)fi>0&&(gr+=.25),we.push({pos:gr,isDashed:Or[fi]})}for(Tr(G[0]),$=0;$<g.body.length;++$){const Or=g.body[$];let fi=An,pi=Rr;K<Or.length&&(K=Or.length);const Mi=new Array(Or.length);for(S=0;S<Or.length;++S){const go=Wn(Or[S],f);pi<go.depth&&(pi=go.depth),fi<go.height&&(fi=go.height),Mi[S]=go}const ui=g.rowGaps[$];let qi=0;ui&&(qi=St(ui,f),qi>0&&(qi+=Rr,pi<qi&&(pi=qi),qi=0)),g.addJot&&(pi+=Yt),Mi.height=fi,Mi.depth=pi,gr+=fi,Mi.pos=gr,gr+=pi+qi,he[$]=Mi,Tr(G[$+1])}const ai=gr/2+f.fontMetrics().axisHeight,jr=g.cols||[],zi=[];let gs,as;const $s=[];if(g.tags&&g.tags.some(Or=>Or))for($=0;$<N;++$){const Or=he[$],fi=Or.pos-ai,pi=g.tags[$];let Mi;pi===!0?Mi=pe.makeSpan(["eqn-num"],[],f):pi===!1?Mi=pe.makeSpan([],[],f):Mi=pe.makeSpan([],Fn(pi,f,!0),f),Mi.depth=Or.depth,Mi.height=Or.height,$s.push({type:"elem",elem:Mi,shift:fi})}for(S=0,as=0;S<K||as<jr.length;++S,++as){let Or=jr[as]||{},fi=!0;for(;Or.type==="separator";){if(fi||(gs=pe.makeSpan(["arraycolsep"],[]),gs.style.width=O(f.fontMetrics().doubleRuleSep),zi.push(gs)),Or.separator==="|"||Or.separator===":"){const ui=Or.separator==="|"?"solid":"dashed",qi=pe.makeSpan(["vertical-separator"],[],f);qi.style.height=O(gr),qi.style.borderRightWidth=O(Ue),qi.style.borderRightStyle=ui,qi.style.margin="0 "+O(-Ue/2);const go=gr-ai;go&&(qi.style.verticalAlign=O(-go)),zi.push(qi)}else throw new m("Invalid separator type: "+Or.separator);as++,Or=jr[as]||{},fi=!1}if(S>=K)continue;let pi;(S>0||g.hskipBeforeAndAfter)&&(pi=ge.deflt(Or.pregap,at),pi!==0&&(gs=pe.makeSpan(["arraycolsep"],[]),gs.style.width=O(pi),zi.push(gs)));let Mi=[];for($=0;$<N;++$){const ui=he[$],qi=ui[S];if(!qi)continue;const go=ui.pos-ai;qi.depth=ui.depth,qi.height=ui.height,Mi.push({type:"elem",elem:qi,shift:go})}Mi=pe.makeVList({positionType:"individualShift",children:Mi},f),Mi=pe.makeSpan(["col-align-"+(Or.align||"c")],[Mi]),zi.push(Mi),(S<K-1||g.hskipBeforeAndAfter)&&(pi=ge.deflt(Or.postgap,at),pi!==0&&(gs=pe.makeSpan(["arraycolsep"],[]),gs.style.width=O(pi),zi.push(gs)))}if(he=pe.makeSpan(["mtable"],zi),we.length>0){const Or=pe.makeLineSpan("hline",f,Ue),fi=pe.makeLineSpan("hdashline",f,Ue),pi=[{type:"elem",elem:he,shift:0}];for(;we.length>0;){const Mi=we.pop(),ui=Mi.pos-ai;Mi.isDashed?pi.push({type:"elem",elem:fi,shift:ui}):pi.push({type:"elem",elem:Or,shift:ui})}he=pe.makeVList({positionType:"individualShift",children:pi},f)}if($s.length===0)return pe.makeSpan(["mord"],[he],f);{let Or=pe.makeVList({positionType:"individualShift",children:$s},f);return Or=pe.makeSpan(["tag"],[Or],f),pe.makeFragment([he,Or])}},Ks={c:"center ",l:"left ",r:"right "},Ai=function(g,f){const $=[],S=new jt.MathNode("mtd",[],["mtr-glue"]),N=new jt.MathNode("mtd",[],["mml-eqn-num"]);for(let at=0;at<g.body.length;at++){const _t=g.body[at],Yt=[];for(let bn=0;bn<_t.length;bn++)Yt.push(new jt.MathNode("mtd",[qr(_t[bn],f)]));g.tags&&g.tags[at]&&(Yt.unshift(S),Yt.push(S),g.leqno?Yt.unshift(N):Yt.push(N)),$.push(new jt.MathNode("mtr",Yt))}let G=new jt.MathNode("mtable",$);const K=g.arraystretch===.5?.1:.16+g.arraystretch-1+(g.addJot?.09:0);G.setAttribute("rowspacing",O(K));let he="",we="";if(g.cols&&g.cols.length>0){const at=g.cols;let _t="",Yt=!1,bn=0,An=at.length;at[0].type==="separator"&&(he+="top ",bn=1),at[at.length-1].type==="separator"&&(he+="bottom ",An-=1);for(let Rr=bn;Rr<An;Rr++)at[Rr].type==="align"?(we+=Ks[at[Rr].align],Yt&&(_t+="none "),Yt=!0):at[Rr].type==="separator"&&Yt&&(_t+=at[Rr].separator==="|"?"solid ":"dashed ",Yt=!1);G.setAttribute("columnalign",we.trim()),/[sd]/.test(_t)&&G.setAttribute("columnlines",_t.trim())}if(g.colSeparationType==="align"){const at=g.cols||[];let _t="";for(let Yt=1;Yt<at.length;Yt++)_t+=Yt%2?"0em ":"1em ";G.setAttribute("columnspacing",_t.trim())}else g.colSeparationType==="alignat"||g.colSeparationType==="gather"?G.setAttribute("columnspacing","0em"):g.colSeparationType==="small"?G.setAttribute("columnspacing","0.2778em"):g.colSeparationType==="CD"?G.setAttribute("columnspacing","0.5em"):G.setAttribute("columnspacing","1em");let Ue="";const rt=g.hLinesBeforeRow;he+=rt[0].length>0?"left ":"",he+=rt[rt.length-1].length>0?"right ":"";for(let at=1;at<rt.length-1;at++)Ue+=rt[at].length===0?"none ":rt[at][0]?"dashed ":"solid ";return/[sd]/.test(Ue)&&G.setAttribute("rowlines",Ue.trim()),he!==""&&(G=new jt.MathNode("menclose",[G]),G.setAttribute("notation",he.trim())),g.arraystretch&&g.arraystretch<1&&(G=new jt.MathNode("mstyle",[G]),G.setAttribute("scriptlevel","1")),G},mo=function(g,f){g.envName.indexOf("ed")===-1&&no(g);const $=[],S=g.envName.indexOf("at")>-1?"alignat":"align",N=g.envName==="split",G=Ys(g.parser,{cols:$,addJot:!0,autoTag:N?void 0:po(g.envName),emptySingleRow:!0,colSeparationType:S,maxNumCols:N?2:void 0,leqno:g.parser.settings.leqno},"display");let K,he=0;const we={type:"ordgroup",mode:g.mode,body:[]};if(f[0]&&f[0].type==="ordgroup"){let rt="";for(let at=0;at<f[0].body.length;at++){const _t=mr(f[0].body[at],"textord");rt+=_t.text}K=Number(rt),he=K*2}const Ue=!he;G.body.forEach(function(rt){for(let at=1;at<rt.length;at+=2){const _t=mr(rt[at],"styling");mr(_t.body[0],"ordgroup").body.unshift(we)}if(Ue)he<rt.length&&(he=rt.length);else{const at=rt.length/2;if(K<at)throw new m("Too many math in a row: "+("expected "+K+", but got "+at),rt[0])}});for(let rt=0;rt<he;++rt){let at="r",_t=0;rt%2===1?at="l":rt>0&&Ue&&(_t=1),$[rt]={type:"align",align:at,pregap:_t,postgap:0}}return G.colSeparationType=Ue?"align":"alignat",G};kr({type:"array",names:["array","darray"],props:{numArgs:1},handler(g,f){const N=(H0(f[0])?[f[0]]:mr(f[0],"ordgroup").body).map(function(K){const we=nu(K).text;if("lcr".indexOf(we)!==-1)return{type:"align",align:we};if(we==="|")return{type:"separator",separator:"|"};if(we===":")return{type:"separator",separator:":"};throw new m("Unknown column alignment: "+we,K)}),G={cols:N,hskipBeforeAndAfter:!0,maxNumCols:N.length};return Ys(g.parser,G,ls(g.envName))},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(g){const f={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[g.envName.replace("*","")];let $="c";const S={hskipBeforeAndAfter:!1,cols:[{type:"align",align:$}]};if(g.envName.charAt(g.envName.length-1)==="*"){const K=g.parser;if(K.consumeSpaces(),K.fetch().text==="["){if(K.consume(),K.consumeSpaces(),$=K.fetch().text,"lcr".indexOf($)===-1)throw new m("Expected l or c or r",K.nextToken);K.consume(),K.consumeSpaces(),K.expect("]"),K.consume(),S.cols=[{type:"align",align:$}]}}const N=Ys(g.parser,S,ls(g.envName)),G=Math.max(0,...N.body.map(K=>K.length));return N.cols=new Array(G).fill({type:"align",align:$}),f?{type:"leftright",mode:g.mode,body:[N],left:f[0],right:f[1],rightColor:void 0}:N},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(g){const f={arraystretch:.5},$=Ys(g.parser,f,"script");return $.colSeparationType="small",$},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["subarray"],props:{numArgs:1},handler(g,f){const N=(H0(f[0])?[f[0]]:mr(f[0],"ordgroup").body).map(function(K){const we=nu(K).text;if("lc".indexOf(we)!==-1)return{type:"align",align:we};throw new m("Unknown column alignment: "+we,K)});if(N.length>1)throw new m("{subarray} can contain only one column");let G={cols:N,hskipBeforeAndAfter:!1,arraystretch:.5};if(G=Ys(g.parser,G,"script"),G.body.length>0&&G.body[0].length>1)throw new m("{subarray} can contain only one column");return G},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(g){const f={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},$=Ys(g.parser,f,ls(g.envName));return{type:"leftright",mode:g.mode,body:[$],left:g.envName.indexOf("r")>-1?".":"\\{",right:g.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:mo,htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(g){["gather","gather*"].includes(g.envName)&&no(g);const f={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:po(g.envName),emptySingleRow:!0,leqno:g.parser.settings.leqno};return Ys(g.parser,f,"display")},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:mo,htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(g){no(g);const f={autoTag:po(g.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:g.parser.settings.leqno};return Ys(g.parser,f,"display")},htmlBuilder:lr,mathmlBuilder:Ai}),kr({type:"array",names:["CD"],props:{numArgs:0},handler(g){return no(g),ru(g.parser)},htmlBuilder:lr,mathmlBuilder:Ai}),ue("\\nonumber","\\gdef\\@eqnsw{0}"),ue("\\notag","\\nonumber"),Pt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(g,f){throw new m(g.funcName+" valid only within array environment")}});var Ll=xs;Pt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(g,f){let{parser:$,funcName:S}=g;const N=f[0];if(N.type!=="ordgroup")throw new m("Invalid environment name",N);let G="";for(let K=0;K<N.body.length;++K)G+=mr(N.body[K],"textord").text;if(S==="\\begin"){if(!Ll.hasOwnProperty(G))throw new m("No such environment: "+G,N);const K=Ll[G],{args:he,optArgs:we}=$.parseArguments("\\begin{"+G+"}",K),Ue={mode:$.mode,envName:G,parser:$},rt=K.handler(Ue,he,we);$.expect("\\end",!1);const at=$.nextToken,_t=mr($.parseFunction(),"environment");if(_t.name!==G)throw new m("Mismatch: \\begin{"+G+"} matched by \\end{"+_t.name+"}",at);return rt}return{type:"environment",mode:$.mode,name:G,nameGroup:N}}});const v0=(g,f)=>{const $=g.font,S=f.withFont($);return Wn(g.body,S)},Ko=(g,f)=>{const $=g.font,S=f.withFont($);return qr(g.body,S)},nc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Pt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=Pn(f[0]);let G=S;return G in nc&&(G=nc[G]),{type:"font",mode:$.mode,font:G.slice(1),body:N}},htmlBuilder:v0,mathmlBuilder:Ko}),Pt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(g,f)=>{let{parser:$}=g;const S=f[0],N=ge.isCharacterBox(S);return{type:"mclass",mode:$.mode,mclass:G0(S),body:[{type:"font",mode:$.mode,font:"boldsymbol",body:S}],isCharacterBox:N}}}),Pt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(g,f)=>{let{parser:$,funcName:S,breakOnTokenText:N}=g;const{mode:G}=$,K=$.parseExpression(!0,N),he="math"+S.slice(1);return{type:"font",mode:G,font:he,body:{type:"ordgroup",mode:$.mode,body:K}}},htmlBuilder:v0,mathmlBuilder:Ko});const Dl=(g,f)=>{let $=f;return g==="display"?$=$.id>=le.SCRIPT.id?$.text():le.DISPLAY:g==="text"&&$.size===le.DISPLAY.size?$=le.TEXT:g==="script"?$=le.SCRIPT:g==="scriptscript"&&($=le.SCRIPTSCRIPT),$},hl=(g,f)=>{const $=Dl(g.size,f.style),S=$.fracNum(),N=$.fracDen();let G;G=f.havingStyle(S);const K=Wn(g.numer,G,f);if(g.continued){const Tr=8.5/f.fontMetrics().ptPerEm,ai=3.5/f.fontMetrics().ptPerEm;K.height=K.height<Tr?Tr:K.height,K.depth=K.depth<ai?ai:K.depth}G=f.havingStyle(N);const he=Wn(g.denom,G,f);let we,Ue,rt;g.hasBarLine?(g.barSize?(Ue=St(g.barSize,f),we=pe.makeLineSpan("frac-line",f,Ue)):we=pe.makeLineSpan("frac-line",f),Ue=we.height,rt=we.height):(we=null,Ue=0,rt=f.fontMetrics().defaultRuleThickness);let at,_t,Yt;$.size===le.DISPLAY.size||g.size==="display"?(at=f.fontMetrics().num1,Ue>0?_t=3*rt:_t=7*rt,Yt=f.fontMetrics().denom1):(Ue>0?(at=f.fontMetrics().num2,_t=rt):(at=f.fontMetrics().num3,_t=3*rt),Yt=f.fontMetrics().denom2);let bn;if(we){const Tr=f.fontMetrics().axisHeight;at-K.depth-(Tr+.5*Ue)<_t&&(at+=_t-(at-K.depth-(Tr+.5*Ue))),Tr-.5*Ue-(he.height-Yt)<_t&&(Yt+=_t-(Tr-.5*Ue-(he.height-Yt)));const ai=-(Tr-.5*Ue);bn=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:he,shift:Yt},{type:"elem",elem:we,shift:ai},{type:"elem",elem:K,shift:-at}]},f)}else{const Tr=at-K.depth-(he.height-Yt);Tr<_t&&(at+=.5*(_t-Tr),Yt+=.5*(_t-Tr)),bn=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:he,shift:Yt},{type:"elem",elem:K,shift:-at}]},f)}G=f.havingStyle($),bn.height*=G.sizeMultiplier/f.sizeMultiplier,bn.depth*=G.sizeMultiplier/f.sizeMultiplier;let An;$.size===le.DISPLAY.size?An=f.fontMetrics().delim1:$.size===le.SCRIPTSCRIPT.size?An=f.havingStyle(le.SCRIPT).fontMetrics().delim2:An=f.fontMetrics().delim2;let Rr,gr;return g.leftDelim==null?Rr=ti(f,["mopen"]):Rr=Pr.customSizedDelim(g.leftDelim,An,!0,f.havingStyle($),g.mode,["mopen"]),g.continued?gr=pe.makeSpan([]):g.rightDelim==null?gr=ti(f,["mclose"]):gr=Pr.customSizedDelim(g.rightDelim,An,!0,f.havingStyle($),g.mode,["mclose"]),pe.makeSpan(["mord"].concat(G.sizingClasses(f)),[Rr,pe.makeSpan(["mfrac"],[bn]),gr],f)},rc=(g,f)=>{let $=new jt.MathNode("mfrac",[qr(g.numer,f),qr(g.denom,f)]);if(!g.hasBarLine)$.setAttribute("linethickness","0px");else if(g.barSize){const N=St(g.barSize,f);$.setAttribute("linethickness",O(N))}const S=Dl(g.size,f.style);if(S.size!==f.style.size){$=new jt.MathNode("mstyle",[$]);const N=S.size===le.DISPLAY.size?"true":"false";$.setAttribute("displaystyle",N),$.setAttribute("scriptlevel","0")}if(g.leftDelim!=null||g.rightDelim!=null){const N=[];if(g.leftDelim!=null){const G=new jt.MathNode("mo",[new jt.TextNode(g.leftDelim.replace("\\",""))]);G.setAttribute("fence","true"),N.push(G)}if(N.push($),g.rightDelim!=null){const G=new jt.MathNode("mo",[new jt.TextNode(g.rightDelim.replace("\\",""))]);G.setAttribute("fence","true"),N.push(G)}return Vi(N)}return $};Pt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=f[0],G=f[1];let K,he=null,we=null,Ue="auto";switch(S){case"\\dfrac":case"\\frac":case"\\tfrac":K=!0;break;case"\\\\atopfrac":K=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":K=!1,he="(",we=")";break;case"\\\\bracefrac":K=!1,he="\\{",we="\\}";break;case"\\\\brackfrac":K=!1,he="[",we="]";break;default:throw new Error("Unrecognized genfrac command")}switch(S){case"\\dfrac":case"\\dbinom":Ue="display";break;case"\\tfrac":case"\\tbinom":Ue="text";break}return{type:"genfrac",mode:$.mode,continued:!1,numer:N,denom:G,hasBarLine:K,leftDelim:he,rightDelim:we,size:Ue,barSize:null}},htmlBuilder:hl,mathmlBuilder:rc}),Pt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=f[0],G=f[1];return{type:"genfrac",mode:$.mode,continued:!0,numer:N,denom:G,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Pt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(g){let{parser:f,funcName:$,token:S}=g,N;switch($){case"\\over":N="\\frac";break;case"\\choose":N="\\binom";break;case"\\atop":N="\\\\atopfrac";break;case"\\brace":N="\\\\bracefrac";break;case"\\brack":N="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:f.mode,replaceWith:N,token:S}}});const _o=["display","text","script","scriptscript"],ic=function(g){let f=null;return g.length>0&&(f=g,f=f==="."?null:f),f};Pt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(g,f){let{parser:$}=g;const S=f[4],N=f[5],G=Pn(f[0]),K=G.type==="atom"&&G.family==="open"?ic(G.text):null,he=Pn(f[1]),we=he.type==="atom"&&he.family==="close"?ic(he.text):null,Ue=mr(f[2],"size");let rt,at=null;Ue.isBlank?rt=!0:(at=Ue.value,rt=at.number>0);let _t="auto",Yt=f[3];if(Yt.type==="ordgroup"){if(Yt.body.length>0){const bn=mr(Yt.body[0],"textord");_t=_o[Number(bn.text)]}}else Yt=mr(Yt,"textord"),_t=_o[Number(Yt.text)];return{type:"genfrac",mode:$.mode,numer:S,denom:N,continued:!1,hasBarLine:rt,barSize:at,leftDelim:K,rightDelim:we,size:_t}},htmlBuilder:hl,mathmlBuilder:rc}),Pt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(g,f){let{parser:$,funcName:S,token:N}=g;return{type:"infix",mode:$.mode,replaceWith:"\\\\abovefrac",size:mr(f[0],"size").value,token:N}}}),Pt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=f[0],G=fe(mr(f[1],"infix").size),K=f[2],he=G.number>0;return{type:"genfrac",mode:$.mode,numer:N,denom:K,continued:!1,hasBarLine:he,barSize:G,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:hl,mathmlBuilder:rc});const Bl=(g,f)=>{const $=f.style;let S,N;g.type==="supsub"?(S=g.sup?Wn(g.sup,f.havingStyle($.sup()),f):Wn(g.sub,f.havingStyle($.sub()),f),N=mr(g.base,"horizBrace")):N=mr(g,"horizBrace");const G=Wn(N.base,f.havingBaseStyle(le.DISPLAY)),K=al.svgSpan(N,f);let he;if(N.isOver?(he=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:G},{type:"kern",size:.1},{type:"elem",elem:K}]},f),he.children[0].children[0].children[1].classes.push("svg-align")):(he=pe.makeVList({positionType:"bottom",positionData:G.depth+.1+K.height,children:[{type:"elem",elem:K},{type:"kern",size:.1},{type:"elem",elem:G}]},f),he.children[0].children[0].children[0].classes.push("svg-align")),S){const we=pe.makeSpan(["mord",N.isOver?"mover":"munder"],[he],f);N.isOver?he=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:we},{type:"kern",size:.2},{type:"elem",elem:S}]},f):he=pe.makeVList({positionType:"bottom",positionData:we.depth+.2+S.height+S.depth,children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:we}]},f)}return pe.makeSpan(["mord",N.isOver?"mover":"munder"],[he],f)};Pt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(g,f){let{parser:$,funcName:S}=g;return{type:"horizBrace",mode:$.mode,label:S,isOver:/^\\over/.test(S),base:f[0]}},htmlBuilder:Bl,mathmlBuilder:(g,f)=>{const $=al.mathMLnode(g.label);return new jt.MathNode(g.isOver?"mover":"munder",[qr(g.base,f),$])}}),Pt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(g,f)=>{let{parser:$}=g;const S=f[1],N=mr(f[0],"url").url;return $.settings.isTrusted({command:"\\href",url:N})?{type:"href",mode:$.mode,href:N,body:Kn(S)}:$.formatUnsupportedCmd("\\href")},htmlBuilder:(g,f)=>{const $=Fn(g.body,f,!1);return pe.makeAnchor(g.href,[],$,f)},mathmlBuilder:(g,f)=>{let $=Rs(g.body,f);return $ instanceof ni||($=new ni("mrow",[$])),$.setAttribute("href",g.href),$}}),Pt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(g,f)=>{let{parser:$}=g;const S=mr(f[0],"url").url;if(!$.settings.isTrusted({command:"\\url",url:S}))return $.formatUnsupportedCmd("\\url");const N=[];for(let K=0;K<S.length;K++){let he=S[K];he==="~"&&(he="\\textasciitilde"),N.push({type:"textord",mode:"text",text:he})}const G={type:"text",mode:$.mode,font:"\\texttt",body:N};return{type:"href",mode:$.mode,href:S,body:Kn(G)}}}),Pt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(g,f){let{parser:$}=g;return{type:"hbox",mode:$.mode,body:Kn(f[0])}},htmlBuilder(g,f){const $=Fn(g.body,f,!1);return pe.makeFragment($)},mathmlBuilder(g,f){return new jt.MathNode("mrow",Ps(g.body,f))}}),Pt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(g,f)=>{let{parser:$,funcName:S,token:N}=g;const G=mr(f[0],"raw").string,K=f[1];$.settings.strict&&$.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let he;const we={};switch(S){case"\\htmlClass":we.class=G,he={command:"\\htmlClass",class:G};break;case"\\htmlId":we.id=G,he={command:"\\htmlId",id:G};break;case"\\htmlStyle":we.style=G,he={command:"\\htmlStyle",style:G};break;case"\\htmlData":{const Ue=G.split(",");for(let rt=0;rt<Ue.length;rt++){const at=Ue[rt].split("=");if(at.length!==2)throw new m("Error parsing key-value for \\htmlData");we["data-"+at[0].trim()]=at[1].trim()}he={command:"\\htmlData",attributes:we};break}default:throw new Error("Unrecognized html command")}return $.settings.isTrusted(he)?{type:"html",mode:$.mode,attributes:we,body:Kn(K)}:$.formatUnsupportedCmd(S)},htmlBuilder:(g,f)=>{const $=Fn(g.body,f,!1),S=["enclosing"];g.attributes.class&&S.push(...g.attributes.class.trim().split(/\s+/));const N=pe.makeSpan(S,$,f);for(const G in g.attributes)G!=="class"&&g.attributes.hasOwnProperty(G)&&N.setAttribute(G,g.attributes[G]);return N},mathmlBuilder:(g,f)=>Rs(g.body,f)}),Pt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(g,f)=>{let{parser:$}=g;return{type:"htmlmathml",mode:$.mode,html:Kn(f[0]),mathml:Kn(f[1])}},htmlBuilder:(g,f)=>{const $=Fn(g.html,f,!1);return pe.makeFragment($)},mathmlBuilder:(g,f)=>Rs(g.mathml,f)});const W0=function(g){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(g))return{number:+g,unit:"bp"};{const f=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(g);if(!f)throw new m("Invalid size: '"+g+"' in \\includegraphics");const $={number:+(f[1]+f[2]),unit:f[3]};if(!xt($))throw new m("Invalid unit: '"+$.unit+"' in \\includegraphics.");return $}};Pt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(g,f,$)=>{let{parser:S}=g,N={number:0,unit:"em"},G={number:.9,unit:"em"},K={number:0,unit:"em"},he="";if($[0]){const rt=mr($[0],"raw").string.split(",");for(let at=0;at<rt.length;at++){const _t=rt[at].split("=");if(_t.length===2){const Yt=_t[1].trim();switch(_t[0].trim()){case"alt":he=Yt;break;case"width":N=W0(Yt);break;case"height":G=W0(Yt);break;case"totalheight":K=W0(Yt);break;default:throw new m("Invalid key: '"+_t[0]+"' in \\includegraphics.")}}}}const we=mr(f[0],"url").url;return he===""&&(he=we,he=he.replace(/^.*[\\/]/,""),he=he.substring(0,he.lastIndexOf("."))),S.settings.isTrusted({command:"\\includegraphics",url:we})?{type:"includegraphics",mode:S.mode,alt:he,width:N,height:G,totalheight:K,src:we}:S.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(g,f)=>{const $=St(g.height,f);let S=0;g.totalheight.number>0&&(S=St(g.totalheight,f)-$);let N=0;g.width.number>0&&(N=St(g.width,f));const G={height:O($+S)};N>0&&(G.width=O(N)),S>0&&(G.verticalAlign=O(-S));const K=new fs(g.src,g.alt,G);return K.height=$,K.depth=S,K},mathmlBuilder:(g,f)=>{const $=new jt.MathNode("mglyph",[]);$.setAttribute("alt",g.alt);const S=St(g.height,f);let N=0;if(g.totalheight.number>0&&(N=St(g.totalheight,f)-S,$.setAttribute("valign",O(-N))),$.setAttribute("height",O(S+N)),g.width.number>0){const G=St(g.width,f);$.setAttribute("width",O(G))}return $.setAttribute("src",g.src),$}}),Pt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(g,f){let{parser:$,funcName:S}=g;const N=mr(f[0],"size");if($.settings.strict){const G=S[1]==="m",K=N.value.unit==="mu";G?(K||$.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" supports only mu units, "+("not "+N.value.unit+" units")),$.mode!=="math"&&$.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" works only in math mode")):K&&$.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+S+" doesn't support mu units")}return{type:"kern",mode:$.mode,dimension:N.value}},htmlBuilder(g,f){return pe.makeGlue(g.dimension,f)},mathmlBuilder(g,f){const $=St(g.dimension,f);return new jt.SpaceNode($)}}),Pt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=f[0];return{type:"lap",mode:$.mode,alignment:S.slice(5),body:N}},htmlBuilder:(g,f)=>{let $;g.alignment==="clap"?($=pe.makeSpan([],[Wn(g.body,f)]),$=pe.makeSpan(["inner"],[$],f)):$=pe.makeSpan(["inner"],[Wn(g.body,f)]);const S=pe.makeSpan(["fix"],[]);let N=pe.makeSpan([g.alignment],[$,S],f);const G=pe.makeSpan(["strut"]);return G.style.height=O(N.height+N.depth),N.depth&&(G.style.verticalAlign=O(-N.depth)),N.children.unshift(G),N=pe.makeSpan(["thinbox"],[N],f),pe.makeSpan(["mord","vbox"],[N],f)},mathmlBuilder:(g,f)=>{const $=new jt.MathNode("mpadded",[qr(g.body,f)]);if(g.alignment!=="rlap"){const S=g.alignment==="llap"?"-1":"-0.5";$.setAttribute("lspace",S+"width")}return $.setAttribute("width","0px"),$}}),Pt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(g,f){let{funcName:$,parser:S}=g;const N=S.mode;S.switchMode("math");const G=$==="\\("?"\\)":"$",K=S.parseExpression(!1,G);return S.expect(G),S.switchMode(N),{type:"styling",mode:S.mode,style:"text",body:K}}}),Pt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(g,f){throw new m("Mismatched "+g.funcName)}});const b0=(g,f)=>{switch(f.style.size){case le.DISPLAY.size:return g.display;case le.TEXT.size:return g.text;case le.SCRIPT.size:return g.script;case le.SCRIPTSCRIPT.size:return g.scriptscript;default:return g.text}};Pt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(g,f)=>{let{parser:$}=g;return{type:"mathchoice",mode:$.mode,display:Kn(f[0]),text:Kn(f[1]),script:Kn(f[2]),scriptscript:Kn(f[3])}},htmlBuilder:(g,f)=>{const $=b0(g,f),S=Fn($,f,!1);return pe.makeFragment(S)},mathmlBuilder:(g,f)=>{const $=b0(g,f);return Rs($,f)}});const su=(g,f,$,S,N,G,K)=>{g=pe.makeSpan([],[g]);const he=$&&ge.isCharacterBox($);let we,Ue;if(f){const _t=Wn(f,S.havingStyle(N.sup()),S);Ue={elem:_t,kern:Math.max(S.fontMetrics().bigOpSpacing1,S.fontMetrics().bigOpSpacing3-_t.depth)}}if($){const _t=Wn($,S.havingStyle(N.sub()),S);we={elem:_t,kern:Math.max(S.fontMetrics().bigOpSpacing2,S.fontMetrics().bigOpSpacing4-_t.height)}}let rt;if(Ue&&we){const _t=S.fontMetrics().bigOpSpacing5+we.elem.height+we.elem.depth+we.kern+g.depth+K;rt=pe.makeVList({positionType:"bottom",positionData:_t,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:we.elem,marginLeft:O(-G)},{type:"kern",size:we.kern},{type:"elem",elem:g},{type:"kern",size:Ue.kern},{type:"elem",elem:Ue.elem,marginLeft:O(G)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else if(we){const _t=g.height-K;rt=pe.makeVList({positionType:"top",positionData:_t,children:[{type:"kern",size:S.fontMetrics().bigOpSpacing5},{type:"elem",elem:we.elem,marginLeft:O(-G)},{type:"kern",size:we.kern},{type:"elem",elem:g}]},S)}else if(Ue){const _t=g.depth+K;rt=pe.makeVList({positionType:"bottom",positionData:_t,children:[{type:"elem",elem:g},{type:"kern",size:Ue.kern},{type:"elem",elem:Ue.elem,marginLeft:O(G)},{type:"kern",size:S.fontMetrics().bigOpSpacing5}]},S)}else return g;const at=[rt];if(we&&G!==0&&!he){const _t=pe.makeSpan(["mspace"],[],S);_t.style.marginRight=O(G),at.unshift(_t)}return pe.makeSpan(["mop","op-limits"],at,S)},q0=["\\smallint"],y0=(g,f)=>{let $,S,N=!1,G;g.type==="supsub"?($=g.sup,S=g.sub,G=mr(g.base,"op"),N=!0):G=mr(g,"op");const K=f.style;let he=!1;K.size===le.DISPLAY.size&&G.symbol&&!q0.includes(G.name)&&(he=!0);let we;if(G.symbol){const at=he?"Size2-Regular":"Size1-Regular";let _t="";if((G.name==="\\oiint"||G.name==="\\oiiint")&&(_t=G.name.slice(1),G.name=_t==="oiint"?"\\iint":"\\iiint"),we=pe.makeSymbol(G.name,at,"math",f,["mop","op-symbol",he?"large-op":"small-op"]),_t.length>0){const Yt=we.italic,bn=pe.staticSvg(_t+"Size"+(he?"2":"1"),f);we=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:we,shift:0},{type:"elem",elem:bn,shift:he?.08:0}]},f),G.name="\\"+_t,we.classes.unshift("mop"),we.italic=Yt}}else if(G.body){const at=Fn(G.body,f,!0);at.length===1&&at[0]instanceof me?(we=at[0],we.classes[0]="mop"):we=pe.makeSpan(["mop"],at,f)}else{const at=[];for(let _t=1;_t<G.name.length;_t++)at.push(pe.mathsym(G.name[_t],G.mode,f));we=pe.makeSpan(["mop"],at,f)}let Ue=0,rt=0;return(we instanceof me||G.name==="\\oiint"||G.name==="\\oiiint")&&!G.suppressBaseShift&&(Ue=(we.height-we.depth)/2-f.fontMetrics().axisHeight,rt=we.italic),N?su(we,$,S,f,K,rt,Ue):(Ue&&(we.style.position="relative",we.style.top=O(Ue)),we)},Aa=(g,f)=>{let $;if(g.symbol)$=new ni("mo",[ki(g.name,g.mode)]),q0.includes(g.name)&&$.setAttribute("largeop","false");else if(g.body)$=new ni("mo",Ps(g.body,f));else{$=new ni("mi",[new Bs(g.name.slice(1))]);const S=new ni("mo",[ki("","text")]);g.parentIsSupSub?$=new ni("mrow",[$,S]):$=co([$,S])}return $},Jo={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Pt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(g,f)=>{let{parser:$,funcName:S}=g,N=S;return N.length===1&&(N=Jo[N]),{type:"op",mode:$.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:N}},htmlBuilder:y0,mathmlBuilder:Aa}),Pt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(g,f)=>{let{parser:$}=g;const S=f[0];return{type:"op",mode:$.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Kn(S)}},htmlBuilder:y0,mathmlBuilder:Aa});const Ia={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Pt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(g){let{parser:f,funcName:$}=g;return{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:$}},htmlBuilder:y0,mathmlBuilder:Aa}),Pt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(g){let{parser:f,funcName:$}=g;return{type:"op",mode:f.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:$}},htmlBuilder:y0,mathmlBuilder:Aa}),Pt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(g){let{parser:f,funcName:$}=g,S=$;return S.length===1&&(S=Ia[S]),{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:S}},htmlBuilder:y0,mathmlBuilder:Aa});const Pl=(g,f)=>{let $,S,N=!1,G;g.type==="supsub"?($=g.sup,S=g.sub,G=mr(g.base,"operatorname"),N=!0):G=mr(g,"operatorname");let K;if(G.body.length>0){const he=G.body.map(Ue=>{const rt=Ue.text;return typeof rt=="string"?{type:"textord",mode:Ue.mode,text:rt}:Ue}),we=Fn(he,f.withFont("mathrm"),!0);for(let Ue=0;Ue<we.length;Ue++){const rt=we[Ue];rt instanceof me&&(rt.text=rt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}K=pe.makeSpan(["mop"],we,f)}else K=pe.makeSpan(["mop"],[],f);return N?su(K,$,S,f,f.style,0,0):K};Pt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(g,f)=>{let{parser:$,funcName:S}=g;const N=f[0];return{type:"operatorname",mode:$.mode,body:Kn(N),alwaysHandleSupSub:S==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Pl,mathmlBuilder:(g,f)=>{let $=Ps(g.body,f.withFont("mathrm")),S=!0;for(let K=0;K<$.length;K++){const he=$[K];if(!(he instanceof jt.SpaceNode))if(he instanceof jt.MathNode)switch(he.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const we=he.children[0];he.children.length===1&&we instanceof jt.TextNode?we.text=we.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break}default:S=!1}else S=!1}if(S){const K=$.map(he=>he.toText()).join("");$=[new jt.TextNode(K)]}const N=new jt.MathNode("mi",$);N.setAttribute("mathvariant","normal");const G=new jt.MathNode("mo",[ki("","text")]);return g.parentIsSupSub?new jt.MathNode("mrow",[N,G]):jt.newDocumentFragment([N,G])}}),ue("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),tr({type:"ordgroup",htmlBuilder(g,f){return g.semisimple?pe.makeFragment(Fn(g.body,f,!1)):pe.makeSpan(["mord"],Fn(g.body,f,!0),f)},mathmlBuilder(g,f){return Rs(g.body,f,!0)}}),Pt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(g,f){let{parser:$}=g;const S=f[0];return{type:"overline",mode:$.mode,body:S}},htmlBuilder(g,f){const $=Wn(g.body,f.havingCrampedStyle()),S=pe.makeLineSpan("overline-line",f),N=f.fontMetrics().defaultRuleThickness,G=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$},{type:"kern",size:3*N},{type:"elem",elem:S},{type:"kern",size:N}]},f);return pe.makeSpan(["mord","overline"],[G],f)},mathmlBuilder(g,f){const $=new jt.MathNode("mo",[new jt.TextNode("")]);$.setAttribute("stretchy","true");const S=new jt.MathNode("mover",[qr(g.body,f),$]);return S.setAttribute("accent","true"),S}}),Pt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:$}=g;const S=f[0];return{type:"phantom",mode:$.mode,body:Kn(S)}},htmlBuilder:(g,f)=>{const $=Fn(g.body,f.withPhantom(),!1);return pe.makeFragment($)},mathmlBuilder:(g,f)=>{const $=Ps(g.body,f);return new jt.MathNode("mphantom",$)}}),Pt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:$}=g;const S=f[0];return{type:"hphantom",mode:$.mode,body:S}},htmlBuilder:(g,f)=>{let $=pe.makeSpan([],[Wn(g.body,f.withPhantom())]);if($.height=0,$.depth=0,$.children)for(let S=0;S<$.children.length;S++)$.children[S].height=0,$.children[S].depth=0;return $=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$}]},f),pe.makeSpan(["mord"],[$],f)},mathmlBuilder:(g,f)=>{const $=Ps(Kn(g.body),f),S=new jt.MathNode("mphantom",$),N=new jt.MathNode("mpadded",[S]);return N.setAttribute("height","0px"),N.setAttribute("depth","0px"),N}}),Pt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(g,f)=>{let{parser:$}=g;const S=f[0];return{type:"vphantom",mode:$.mode,body:S}},htmlBuilder:(g,f)=>{const $=pe.makeSpan(["inner"],[Wn(g.body,f.withPhantom())]),S=pe.makeSpan(["fix"],[]);return pe.makeSpan(["mord","rlap"],[$,S],f)},mathmlBuilder:(g,f)=>{const $=Ps(Kn(g.body),f),S=new jt.MathNode("mphantom",$),N=new jt.MathNode("mpadded",[S]);return N.setAttribute("width","0px"),N}}),Pt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(g,f){let{parser:$}=g;const S=mr(f[0],"size").value,N=f[1];return{type:"raisebox",mode:$.mode,dy:S,body:N}},htmlBuilder(g,f){const $=Wn(g.body,f),S=St(g.dy,f);return pe.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:$}]},f)},mathmlBuilder(g,f){const $=new jt.MathNode("mpadded",[qr(g.body,f)]),S=g.dy.number+g.dy.unit;return $.setAttribute("voffset",S),$}}),Pt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(g){let{parser:f}=g;return{type:"internal",mode:f.mode}}}),Pt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(g,f,$){let{parser:S}=g;const N=$[0],G=mr(f[0],"size"),K=mr(f[1],"size");return{type:"rule",mode:S.mode,shift:N&&mr(N,"size").value,width:G.value,height:K.value}},htmlBuilder(g,f){const $=pe.makeSpan(["mord","rule"],[],f),S=St(g.width,f),N=St(g.height,f),G=g.shift?St(g.shift,f):0;return $.style.borderRightWidth=O(S),$.style.borderTopWidth=O(N),$.style.bottom=O(G),$.width=S,$.height=N+G,$.depth=-G,$.maxFontSize=N*1.125*f.sizeMultiplier,$},mathmlBuilder(g,f){const $=St(g.width,f),S=St(g.height,f),N=g.shift?St(g.shift,f):0,G=f.color&&f.getColor()||"black",K=new jt.MathNode("mspace");K.setAttribute("mathbackground",G),K.setAttribute("width",O($)),K.setAttribute("height",O(S));const he=new jt.MathNode("mpadded",[K]);return N>=0?he.setAttribute("height",O(N)):(he.setAttribute("height",O(N)),he.setAttribute("depth",O(-N))),he.setAttribute("voffset",O(N)),he}});function X0(g,f,$){const S=Fn(g,f,!1),N=f.sizeMultiplier/$.sizeMultiplier;for(let G=0;G<S.length;G++){const K=S[G].classes.indexOf("sizing");K<0?Array.prototype.push.apply(S[G].classes,f.sizingClasses($)):S[G].classes[K+1]==="reset-size"+f.size&&(S[G].classes[K+1]="reset-size"+$.size),S[G].height*=N,S[G].depth*=N}return pe.makeFragment(S)}const Eo=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Pt({type:"sizing",names:Eo,props:{numArgs:0,allowedInText:!0},handler:(g,f)=>{let{breakOnTokenText:$,funcName:S,parser:N}=g;const G=N.parseExpression(!1,$);return{type:"sizing",mode:N.mode,size:Eo.indexOf(S)+1,body:G}},htmlBuilder:(g,f)=>{const $=f.havingSize(g.size);return X0(g.body,$,f)},mathmlBuilder:(g,f)=>{const $=f.havingSize(g.size),S=Ps(g.body,$),N=new jt.MathNode("mstyle",S);return N.setAttribute("mathsize",O($.sizeMultiplier)),N}}),Pt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(g,f,$)=>{let{parser:S}=g,N=!1,G=!1;const K=$[0]&&mr($[0],"ordgroup");if(K){let we="";for(let Ue=0;Ue<K.body.length;++Ue)if(we=K.body[Ue].text,we==="t")N=!0;else if(we==="b")G=!0;else{N=!1,G=!1;break}}else N=!0,G=!0;const he=f[0];return{type:"smash",mode:S.mode,body:he,smashHeight:N,smashDepth:G}},htmlBuilder:(g,f)=>{const $=pe.makeSpan([],[Wn(g.body,f)]);if(!g.smashHeight&&!g.smashDepth)return $;if(g.smashHeight&&($.height=0,$.children))for(let N=0;N<$.children.length;N++)$.children[N].height=0;if(g.smashDepth&&($.depth=0,$.children))for(let N=0;N<$.children.length;N++)$.children[N].depth=0;const S=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$}]},f);return pe.makeSpan(["mord"],[S],f)},mathmlBuilder:(g,f)=>{const $=new jt.MathNode("mpadded",[qr(g.body,f)]);return g.smashHeight&&$.setAttribute("height","0px"),g.smashDepth&&$.setAttribute("depth","0px"),$}}),Pt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(g,f,$){let{parser:S}=g;const N=$[0],G=f[0];return{type:"sqrt",mode:S.mode,body:G,index:N}},htmlBuilder(g,f){let $=Wn(g.body,f.havingCrampedStyle());$.height===0&&($.height=f.fontMetrics().xHeight),$=pe.wrapFragment($,f);const N=f.fontMetrics().defaultRuleThickness;let G=N;f.style.id<le.TEXT.id&&(G=f.fontMetrics().xHeight);let K=N+G/4;const he=$.height+$.depth+K+N,{span:we,ruleWidth:Ue,advanceWidth:rt}=Pr.sqrtImage(he,f),at=we.height-Ue;at>$.height+$.depth+K&&(K=(K+at-$.height-$.depth)/2);const _t=we.height-$.height-K-Ue;$.style.paddingLeft=O(rt);const Yt=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$,wrapperClasses:["svg-align"]},{type:"kern",size:-($.height+_t)},{type:"elem",elem:we},{type:"kern",size:Ue}]},f);if(g.index){const bn=f.havingStyle(le.SCRIPTSCRIPT),An=Wn(g.index,bn,f),Rr=.6*(Yt.height-Yt.depth),gr=pe.makeVList({positionType:"shift",positionData:-Rr,children:[{type:"elem",elem:An}]},f),Tr=pe.makeSpan(["root"],[gr]);return pe.makeSpan(["mord","sqrt"],[Tr,Yt],f)}else return pe.makeSpan(["mord","sqrt"],[Yt],f)},mathmlBuilder(g,f){const{body:$,index:S}=g;return S?new jt.MathNode("mroot",[qr($,f),qr(S,f)]):new jt.MathNode("msqrt",[qr($,f)])}});const t0={display:le.DISPLAY,text:le.TEXT,script:le.SCRIPT,scriptscript:le.SCRIPTSCRIPT};Pt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(g,f){let{breakOnTokenText:$,funcName:S,parser:N}=g;const G=N.parseExpression(!0,$),K=S.slice(1,S.length-5);return{type:"styling",mode:N.mode,style:K,body:G}},htmlBuilder(g,f){const $=t0[g.style],S=f.havingStyle($).withFont("");return X0(g.body,S,f)},mathmlBuilder(g,f){const $=t0[g.style],S=f.havingStyle($),N=Ps(g.body,S),G=new jt.MathNode("mstyle",N),he={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[g.style];return G.setAttribute("scriptlevel",he[0]),G.setAttribute("displaystyle",he[1]),G}});const Wo=function(g,f){const $=g.base;return $?$.type==="op"?$.limits&&(f.style.size===le.DISPLAY.size||$.alwaysHandleSupSub)?y0:null:$.type==="operatorname"?$.alwaysHandleSupSub&&(f.style.size===le.DISPLAY.size||$.limits)?Pl:null:$.type==="accent"?ge.isCharacterBox($.base)?wa:null:$.type==="horizBrace"&&!g.sub===$.isOver?Bl:null:null};tr({type:"supsub",htmlBuilder(g,f){const $=Wo(g,f);if($)return $(g,f);const{base:S,sup:N,sub:G}=g,K=Wn(S,f);let he,we;const Ue=f.fontMetrics();let rt=0,at=0;const _t=S&&ge.isCharacterBox(S);if(N){const ai=f.havingStyle(f.style.sup());he=Wn(N,ai,f),_t||(rt=K.height-ai.fontMetrics().supDrop*ai.sizeMultiplier/f.sizeMultiplier)}if(G){const ai=f.havingStyle(f.style.sub());we=Wn(G,ai,f),_t||(at=K.depth+ai.fontMetrics().subDrop*ai.sizeMultiplier/f.sizeMultiplier)}let Yt;f.style===le.DISPLAY?Yt=Ue.sup1:f.style.cramped?Yt=Ue.sup3:Yt=Ue.sup2;const bn=f.sizeMultiplier,An=O(.5/Ue.ptPerEm/bn);let Rr=null;if(we){const ai=g.base&&g.base.type==="op"&&g.base.name&&(g.base.name==="\\oiint"||g.base.name==="\\oiiint");(K instanceof me||ai)&&(Rr=O(-K.italic))}let gr;if(he&&we){rt=Math.max(rt,Yt,he.depth+.25*Ue.xHeight),at=Math.max(at,Ue.sub2);const jr=4*Ue.defaultRuleThickness;if(rt-he.depth-(we.height-at)<jr){at=jr-(rt-he.depth)+we.height;const gs=.8*Ue.xHeight-(rt-he.depth);gs>0&&(rt+=gs,at-=gs)}const zi=[{type:"elem",elem:we,shift:at,marginRight:An,marginLeft:Rr},{type:"elem",elem:he,shift:-rt,marginRight:An}];gr=pe.makeVList({positionType:"individualShift",children:zi},f)}else if(we){at=Math.max(at,Ue.sub1,we.height-.8*Ue.xHeight);const ai=[{type:"elem",elem:we,marginLeft:Rr,marginRight:An}];gr=pe.makeVList({positionType:"shift",positionData:at,children:ai},f)}else if(he)rt=Math.max(rt,Yt,he.depth+.25*Ue.xHeight),gr=pe.makeVList({positionType:"shift",positionData:-rt,children:[{type:"elem",elem:he,marginRight:An}]},f);else throw new Error("supsub must have either sup or sub.");const Tr=Zi(K,"right")||"mord";return pe.makeSpan([Tr],[K,pe.makeSpan(["msupsub"],[gr])],f)},mathmlBuilder(g,f){let $=!1,S,N;g.base&&g.base.type==="horizBrace"&&(N=!!g.sup,N===g.base.isOver&&($=!0,S=g.base.isOver)),g.base&&(g.base.type==="op"||g.base.type==="operatorname")&&(g.base.parentIsSupSub=!0);const G=[qr(g.base,f)];g.sub&&G.push(qr(g.sub,f)),g.sup&&G.push(qr(g.sup,f));let K;if($)K=S?"mover":"munder";else if(g.sub)if(g.sup){const he=g.base;he&&he.type==="op"&&he.limits&&f.style===le.DISPLAY||he&&he.type==="operatorname"&&he.alwaysHandleSupSub&&(f.style===le.DISPLAY||he.limits)?K="munderover":K="msubsup"}else{const he=g.base;he&&he.type==="op"&&he.limits&&(f.style===le.DISPLAY||he.alwaysHandleSupSub)||he&&he.type==="operatorname"&&he.alwaysHandleSupSub&&(he.limits||f.style===le.DISPLAY)?K="munder":K="msub"}else{const he=g.base;he&&he.type==="op"&&he.limits&&(f.style===le.DISPLAY||he.alwaysHandleSupSub)||he&&he.type==="operatorname"&&he.alwaysHandleSupSub&&(he.limits||f.style===le.DISPLAY)?K="mover":K="msup"}return new jt.MathNode(K,G)}}),tr({type:"atom",htmlBuilder(g,f){return pe.mathsym(g.text,g.mode,f,["m"+g.family])},mathmlBuilder(g,f){const $=new jt.MathNode("mo",[ki(g.text,g.mode)]);if(g.family==="bin"){const S=Zl(g,f);S==="bold-italic"&&$.setAttribute("mathvariant",S)}else g.family==="punct"?$.setAttribute("separator","true"):(g.family==="open"||g.family==="close")&&$.setAttribute("stretchy","false");return $}});const Zo={mi:"italic",mn:"normal",mtext:"normal"};tr({type:"mathord",htmlBuilder(g,f){return pe.makeOrd(g,f,"mathord")},mathmlBuilder(g,f){const $=new jt.MathNode("mi",[ki(g.text,g.mode,f)]),S=Zl(g,f)||"italic";return S!==Zo[$.type]&&$.setAttribute("mathvariant",S),$}}),tr({type:"textord",htmlBuilder(g,f){return pe.makeOrd(g,f,"textord")},mathmlBuilder(g,f){const $=ki(g.text,g.mode,f),S=Zl(g,f)||"normal";let N;return g.mode==="text"?N=new jt.MathNode("mtext",[$]):/[0-9]/.test(g.text)?N=new jt.MathNode("mn",[$]):g.text==="\\prime"?N=new jt.MathNode("mo",[$]):N=new jt.MathNode("mi",[$]),S!==Zo[N.type]&&N.setAttribute("mathvariant",S),N}});const No={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},oc={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};tr({type:"spacing",htmlBuilder(g,f){if(oc.hasOwnProperty(g.text)){const $=oc[g.text].className||"";if(g.mode==="text"){const S=pe.makeOrd(g,f,"textord");return S.classes.push($),S}else return pe.makeSpan(["mspace",$],[pe.mathsym(g.text,g.mode,f)],f)}else{if(No.hasOwnProperty(g.text))return pe.makeSpan(["mspace",No[g.text]],[],f);throw new m('Unknown type of space "'+g.text+'"')}},mathmlBuilder(g,f){let $;if(oc.hasOwnProperty(g.text))$=new jt.MathNode("mtext",[new jt.TextNode("")]);else{if(No.hasOwnProperty(g.text))return new jt.MathNode("mspace");throw new m('Unknown type of space "'+g.text+'"')}return $}});const lc=()=>{const g=new jt.MathNode("mtd",[]);return g.setAttribute("width","50%"),g};tr({type:"tag",mathmlBuilder(g,f){const $=new jt.MathNode("mtable",[new jt.MathNode("mtr",[lc(),new jt.MathNode("mtd",[Rs(g.body,f)]),lc(),new jt.MathNode("mtd",[Rs(g.tag,f)])])]);return $.setAttribute("width","100%"),$}});const Fl={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ac={"\\textbf":"textbf","\\textmd":"textmd"},es={"\\textit":"textit","\\textup":"textup"},Wi=(g,f)=>{const $=g.font;if($){if(Fl[$])return f.withTextFontFamily(Fl[$]);if(ac[$])return f.withTextFontWeight(ac[$]);if($==="\\emph")return f.fontShape==="textit"?f.withTextFontShape("textup"):f.withTextFontShape("textit")}else return f;return f.withTextFontShape(es[$])};Pt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(g,f){let{parser:$,funcName:S}=g;const N=f[0];return{type:"text",mode:$.mode,body:Kn(N),font:S}},htmlBuilder(g,f){const $=Wi(g,f),S=Fn(g.body,$,!0);return pe.makeSpan(["mord","text"],S,$)},mathmlBuilder(g,f){const $=Wi(g,f);return Rs(g.body,$)}}),Pt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(g,f){let{parser:$}=g;return{type:"underline",mode:$.mode,body:f[0]}},htmlBuilder(g,f){const $=Wn(g.body,f),S=pe.makeLineSpan("underline-line",f),N=f.fontMetrics().defaultRuleThickness,G=pe.makeVList({positionType:"top",positionData:$.height,children:[{type:"kern",size:N},{type:"elem",elem:S},{type:"kern",size:3*N},{type:"elem",elem:$}]},f);return pe.makeSpan(["mord","underline"],[G],f)},mathmlBuilder(g,f){const $=new jt.MathNode("mo",[new jt.TextNode("")]);$.setAttribute("stretchy","true");const S=new jt.MathNode("munder",[qr(g.body,f),$]);return S.setAttribute("accentunder","true"),S}}),Pt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(g,f){let{parser:$}=g;return{type:"vcenter",mode:$.mode,body:f[0]}},htmlBuilder(g,f){const $=Wn(g.body,f),S=f.fontMetrics().axisHeight,N=.5*($.height-S-($.depth+S));return pe.makeVList({positionType:"shift",positionData:N,children:[{type:"elem",elem:$}]},f)},mathmlBuilder(g,f){return new jt.MathNode("mpadded",[qr(g.body,f)],["vcenter"])}}),Pt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(g,f,$){throw new m("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(g,f){const $=Hr(g),S=[],N=f.havingStyle(f.style.text());for(let G=0;G<$.length;G++){let K=$[G];K==="~"&&(K="\\textasciitilde"),S.push(pe.makeSymbol(K,"Typewriter-Regular",g.mode,N,["mord","texttt"]))}return pe.makeSpan(["mord","text"].concat(N.sizingClasses(f)),pe.tryCombineChars(S),N)},mathmlBuilder(g,f){const $=new jt.TextNode(Hr(g)),S=new jt.MathNode("mtext",[$]);return S.setAttribute("mathvariant","monospace"),S}});const Hr=g=>g.body.replace(/ /g,g.star?"":"");var zs=nn;const n0=`[ \r
	]`,r0="\\\\[a-zA-Z@]+",ih="\\\\[^\uD800-\uDFFF]",sh="("+r0+")"+n0+"*",Ma=`\\\\(
|[ \r	]+
?)[ \r	]*`,i0="[-]",Kc=new RegExp(i0+"+$"),Ra="("+n0+"+)|"+(Ma+"|")+"([!-\\[\\]---]"+(i0+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(i0+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+sh)+("|"+ih+")");class uc{constructor(f,$){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=f,this.settings=$,this.tokenRegex=new RegExp(Ra,"g"),this.catcodes={"%":14,"~":13}}setCatcode(f,$){this.catcodes[f]=$}lex(){const f=this.input,$=this.tokenRegex.lastIndex;if($===f.length)return new Qi("EOF",new _i(this,$,$));const S=this.tokenRegex.exec(f);if(S===null||S.index!==$)throw new m("Unexpected character: '"+f[$]+"'",new Qi(f[$],new _i(this,$,$+1)));const N=S[6]||S[3]||(S[2]?"\\ ":" ");if(this.catcodes[N]===14){const G=f.indexOf(`
`,this.tokenRegex.lastIndex);return G===-1?(this.tokenRegex.lastIndex=f.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=G+1,this.lex()}return new Qi(N,new _i(this,$,this.tokenRegex.lastIndex))}}class j0{constructor(f,$){f===void 0&&(f={}),$===void 0&&($={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=$,this.builtins=f,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new m("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const f=this.undefStack.pop();for(const $ in f)f.hasOwnProperty($)&&(f[$]==null?delete this.current[$]:this.current[$]=f[$])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(f){return this.current.hasOwnProperty(f)||this.builtins.hasOwnProperty(f)}get(f){return this.current.hasOwnProperty(f)?this.current[f]:this.builtins[f]}set(f,$,S){if(S===void 0&&(S=!1),S){for(let N=0;N<this.undefStack.length;N++)delete this.undefStack[N][f];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][f]=$)}else{const N=this.undefStack[this.undefStack.length-1];N&&!N.hasOwnProperty(f)&&(N[f]=this.current[f])}$==null?delete this.current[f]:this.current[f]=$}}var _0=os;ue("\\noexpand",function(g){const f=g.popToken();return g.isExpandable(f.text)&&(f.noexpand=!0,f.treatAsRelax=!0),{tokens:[f],numArgs:0}}),ue("\\expandafter",function(g){const f=g.popToken();return g.expandOnce(!0),{tokens:[f],numArgs:0}}),ue("\\@firstoftwo",function(g){return{tokens:g.consumeArgs(2)[0],numArgs:0}}),ue("\\@secondoftwo",function(g){return{tokens:g.consumeArgs(2)[1],numArgs:0}}),ue("\\@ifnextchar",function(g){const f=g.consumeArgs(3);g.consumeSpaces();const $=g.future();return f[0].length===1&&f[0][0].text===$.text?{tokens:f[1],numArgs:0}:{tokens:f[2],numArgs:0}}),ue("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ue("\\TextOrMath",function(g){const f=g.consumeArgs(2);return g.mode==="text"?{tokens:f[0],numArgs:0}:{tokens:f[1],numArgs:0}});const Ul={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ue("\\char",function(g){let f=g.popToken(),$,S="";if(f.text==="'")$=8,f=g.popToken();else if(f.text==='"')$=16,f=g.popToken();else if(f.text==="`")if(f=g.popToken(),f.text[0]==="\\")S=f.text.charCodeAt(1);else{if(f.text==="EOF")throw new m("\\char` missing argument");S=f.text.charCodeAt(0)}else $=10;if($){if(S=Ul[f.text],S==null||S>=$)throw new m("Invalid base-"+$+" digit "+f.text);let N;for(;(N=Ul[g.future().text])!=null&&N<$;)S*=$,S+=N,g.popToken()}return"\\@char{"+S+"}"});const Oa=(g,f,$,S)=>{let N=g.consumeArg().tokens;if(N.length!==1)throw new m("\\newcommand's first argument must be a macro name");const G=N[0].text,K=g.isDefined(G);if(K&&!f)throw new m("\\newcommand{"+G+"} attempting to redefine "+(G+"; use \\renewcommand"));if(!K&&!$)throw new m("\\renewcommand{"+G+"} when command "+G+" does not yet exist; use \\newcommand");let he=0;if(N=g.consumeArg().tokens,N.length===1&&N[0].text==="["){let we="",Ue=g.expandNextToken();for(;Ue.text!=="]"&&Ue.text!=="EOF";)we+=Ue.text,Ue=g.expandNextToken();if(!we.match(/^\s*[0-9]+\s*$/))throw new m("Invalid number of arguments: "+we);he=parseInt(we),N=g.consumeArg().tokens}return K&&S||g.macros.set(G,{tokens:N,numArgs:he}),""};ue("\\newcommand",g=>Oa(g,!1,!0,!1)),ue("\\renewcommand",g=>Oa(g,!0,!1,!1)),ue("\\providecommand",g=>Oa(g,!0,!0,!0)),ue("\\message",g=>{const f=g.consumeArgs(1)[0];return console.log(f.reverse().map($=>$.text).join("")),""}),ue("\\errmessage",g=>{const f=g.consumeArgs(1)[0];return console.error(f.reverse().map($=>$.text).join("")),""}),ue("\\show",g=>{const f=g.popToken(),$=f.text;return console.log(f,g.macros.get($),zs[$],br.math[$],br.text[$]),""}),ue("\\bgroup","{"),ue("\\egroup","}"),ue("~","\\nobreakspace"),ue("\\lq","`"),ue("\\rq","'"),ue("\\aa","\\r a"),ue("\\AA","\\r A"),ue("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),ue("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ue("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),ue("","\\mathscr{B}"),ue("","\\mathscr{E}"),ue("","\\mathscr{F}"),ue("","\\mathscr{H}"),ue("","\\mathscr{I}"),ue("","\\mathscr{L}"),ue("","\\mathscr{M}"),ue("","\\mathscr{R}"),ue("","\\mathfrak{C}"),ue("","\\mathfrak{H}"),ue("","\\mathfrak{Z}"),ue("\\Bbbk","\\Bbb{k}"),ue("","\\cdotp"),ue("\\llap","\\mathllap{\\textrm{#1}}"),ue("\\rlap","\\mathrlap{\\textrm{#1}}"),ue("\\clap","\\mathclap{\\textrm{#1}}"),ue("\\mathstrut","\\vphantom{(}"),ue("\\underbar","\\underline{\\text{#1}}"),ue("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ue("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),ue("\\ne","\\neq"),ue("","\\neq"),ue("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),ue("","\\notin"),ue("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),ue("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),ue("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),ue("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),ue("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),ue("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),ue("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),ue("","\\perp"),ue("","\\mathclose{!\\mkern-0.8mu!}"),ue("","\\notni"),ue("","\\ulcorner"),ue("","\\urcorner"),ue("","\\llcorner"),ue("","\\lrcorner"),ue("","\\copyright"),ue("","\\textregistered"),ue("","\\textregistered"),ue("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ue("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ue("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ue("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ue("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ue("","\\vdots"),ue("\\varGamma","\\mathit{\\Gamma}"),ue("\\varDelta","\\mathit{\\Delta}"),ue("\\varTheta","\\mathit{\\Theta}"),ue("\\varLambda","\\mathit{\\Lambda}"),ue("\\varXi","\\mathit{\\Xi}"),ue("\\varPi","\\mathit{\\Pi}"),ue("\\varSigma","\\mathit{\\Sigma}"),ue("\\varUpsilon","\\mathit{\\Upsilon}"),ue("\\varPhi","\\mathit{\\Phi}"),ue("\\varPsi","\\mathit{\\Psi}"),ue("\\varOmega","\\mathit{\\Omega}"),ue("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ue("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ue("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ue("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ue("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ue("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ue("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ue("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const Qo={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ue("\\dots",function(g){let f="\\dotso";const $=g.expandAfterFuture().text;return $ in Qo?f=Qo[$]:($.slice(0,4)==="\\not"||$ in br.math&&["bin","rel"].includes(br.math[$].group))&&(f="\\dotsb"),f});const E0={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ue("\\dotso",function(g){return g.future().text in E0?"\\ldots\\,":"\\ldots"}),ue("\\dotsc",function(g){const f=g.future().text;return f in E0&&f!==","?"\\ldots\\,":"\\ldots"}),ue("\\cdots",function(g){return g.future().text in E0?"\\@cdots\\,":"\\@cdots"}),ue("\\dotsb","\\cdots"),ue("\\dotsm","\\cdots"),ue("\\dotsi","\\!\\cdots"),ue("\\dotsx","\\ldots\\,"),ue("\\DOTSI","\\relax"),ue("\\DOTSB","\\relax"),ue("\\DOTSX","\\relax"),ue("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ue("\\,","\\tmspace+{3mu}{.1667em}"),ue("\\thinspace","\\,"),ue("\\>","\\mskip{4mu}"),ue("\\:","\\tmspace+{4mu}{.2222em}"),ue("\\medspace","\\:"),ue("\\;","\\tmspace+{5mu}{.2777em}"),ue("\\thickspace","\\;"),ue("\\!","\\tmspace-{3mu}{.1667em}"),ue("\\negthinspace","\\!"),ue("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ue("\\negthickspace","\\tmspace-{5mu}{.277em}"),ue("\\enspace","\\kern.5em "),ue("\\enskip","\\hskip.5em\\relax"),ue("\\quad","\\hskip1em\\relax"),ue("\\qquad","\\hskip2em\\relax"),ue("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ue("\\tag@paren","\\tag@literal{({#1})}"),ue("\\tag@literal",g=>{if(g.macros.get("\\df@tag"))throw new m("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ue("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ue("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ue("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ue("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ue("\\newline","\\\\\\relax"),ue("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const ou=O(on["Main-Regular"][84][1]-.7*on["Main-Regular"][65][1]);ue("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+ou+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ue("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+ou+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ue("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ue("\\@hspace","\\hskip #1\\relax"),ue("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ue("\\ordinarycolon",":"),ue("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ue("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ue("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ue("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ue("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ue("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ue("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ue("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ue("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ue("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ue("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ue("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ue("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ue("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ue("","\\dblcolon"),ue("","\\eqcolon"),ue("","\\coloneqq"),ue("","\\eqqcolon"),ue("","\\Coloneqq"),ue("\\ratio","\\vcentcolon"),ue("\\coloncolon","\\dblcolon"),ue("\\colonequals","\\coloneqq"),ue("\\coloncolonequals","\\Coloneqq"),ue("\\equalscolon","\\eqqcolon"),ue("\\equalscoloncolon","\\Eqqcolon"),ue("\\colonminus","\\coloneq"),ue("\\coloncolonminus","\\Coloneq"),ue("\\minuscolon","\\eqcolon"),ue("\\minuscoloncolon","\\Eqcolon"),ue("\\coloncolonapprox","\\Colonapprox"),ue("\\coloncolonsim","\\Colonsim"),ue("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ue("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ue("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ue("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ue("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),ue("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ue("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ue("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ue("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ue("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ue("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ue("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ue("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ue("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),ue("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),ue("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),ue("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),ue("\\nleqq","\\html@mathml{\\@nleqq}{}"),ue("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),ue("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),ue("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),ue("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),ue("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),ue("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),ue("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),ue("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),ue("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),ue("\\imath","\\html@mathml{\\@imath}{}"),ue("\\jmath","\\html@mathml{\\@jmath}{}"),ue("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ue("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),ue("","\\llbracket"),ue("","\\rrbracket"),ue("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ue("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),ue("","\\lBrace"),ue("","\\rBrace"),ue("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),ue("","\\minuso"),ue("\\darr","\\downarrow"),ue("\\dArr","\\Downarrow"),ue("\\Darr","\\Downarrow"),ue("\\lang","\\langle"),ue("\\rang","\\rangle"),ue("\\uarr","\\uparrow"),ue("\\uArr","\\Uparrow"),ue("\\Uarr","\\Uparrow"),ue("\\N","\\mathbb{N}"),ue("\\R","\\mathbb{R}"),ue("\\Z","\\mathbb{Z}"),ue("\\alef","\\aleph"),ue("\\alefsym","\\aleph"),ue("\\Alpha","\\mathrm{A}"),ue("\\Beta","\\mathrm{B}"),ue("\\bull","\\bullet"),ue("\\Chi","\\mathrm{X}"),ue("\\clubs","\\clubsuit"),ue("\\cnums","\\mathbb{C}"),ue("\\Complex","\\mathbb{C}"),ue("\\Dagger","\\ddagger"),ue("\\diamonds","\\diamondsuit"),ue("\\empty","\\emptyset"),ue("\\Epsilon","\\mathrm{E}"),ue("\\Eta","\\mathrm{H}"),ue("\\exist","\\exists"),ue("\\harr","\\leftrightarrow"),ue("\\hArr","\\Leftrightarrow"),ue("\\Harr","\\Leftrightarrow"),ue("\\hearts","\\heartsuit"),ue("\\image","\\Im"),ue("\\infin","\\infty"),ue("\\Iota","\\mathrm{I}"),ue("\\isin","\\in"),ue("\\Kappa","\\mathrm{K}"),ue("\\larr","\\leftarrow"),ue("\\lArr","\\Leftarrow"),ue("\\Larr","\\Leftarrow"),ue("\\lrarr","\\leftrightarrow"),ue("\\lrArr","\\Leftrightarrow"),ue("\\Lrarr","\\Leftrightarrow"),ue("\\Mu","\\mathrm{M}"),ue("\\natnums","\\mathbb{N}"),ue("\\Nu","\\mathrm{N}"),ue("\\Omicron","\\mathrm{O}"),ue("\\plusmn","\\pm"),ue("\\rarr","\\rightarrow"),ue("\\rArr","\\Rightarrow"),ue("\\Rarr","\\Rightarrow"),ue("\\real","\\Re"),ue("\\reals","\\mathbb{R}"),ue("\\Reals","\\mathbb{R}"),ue("\\Rho","\\mathrm{P}"),ue("\\sdot","\\cdot"),ue("\\sect","\\S"),ue("\\spades","\\spadesuit"),ue("\\sub","\\subset"),ue("\\sube","\\subseteq"),ue("\\supe","\\supseteq"),ue("\\Tau","\\mathrm{T}"),ue("\\thetasym","\\vartheta"),ue("\\weierp","\\wp"),ue("\\Zeta","\\mathrm{Z}"),ue("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ue("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ue("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ue("\\bra","\\mathinner{\\langle{#1}|}"),ue("\\ket","\\mathinner{|{#1}\\rangle}"),ue("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ue("\\Bra","\\left\\langle#1\\right|"),ue("\\Ket","\\left|#1\\right\\rangle");const el=g=>f=>{const $=f.consumeArg().tokens,S=f.consumeArg().tokens,N=f.consumeArg().tokens,G=f.consumeArg().tokens,K=f.macros.get("|"),he=f.macros.get("\\|");f.macros.beginGroup();const we=at=>_t=>{g&&(_t.macros.set("|",K),N.length&&_t.macros.set("\\|",he));let Yt=at;return!at&&N.length&&_t.future().text==="|"&&(_t.popToken(),Yt=!0),{tokens:Yt?N:S,numArgs:0}};f.macros.set("|",we(!1)),N.length&&f.macros.set("\\|",we(!0));const Ue=f.consumeArg().tokens,rt=f.expandTokens([...G,...Ue,...$]);return f.macros.endGroup(),{tokens:rt.reverse(),numArgs:0}};ue("\\bra@ket",el(!1)),ue("\\bra@set",el(!0)),ue("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ue("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ue("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ue("\\angln","{\\angl n}"),ue("\\blue","\\textcolor{##6495ed}{#1}"),ue("\\orange","\\textcolor{##ffa500}{#1}"),ue("\\pink","\\textcolor{##ff00af}{#1}"),ue("\\red","\\textcolor{##df0030}{#1}"),ue("\\green","\\textcolor{##28ae7b}{#1}"),ue("\\gray","\\textcolor{gray}{#1}"),ue("\\purple","\\textcolor{##9d38bd}{#1}"),ue("\\blueA","\\textcolor{##ccfaff}{#1}"),ue("\\blueB","\\textcolor{##80f6ff}{#1}"),ue("\\blueC","\\textcolor{##63d9ea}{#1}"),ue("\\blueD","\\textcolor{##11accd}{#1}"),ue("\\blueE","\\textcolor{##0c7f99}{#1}"),ue("\\tealA","\\textcolor{##94fff5}{#1}"),ue("\\tealB","\\textcolor{##26edd5}{#1}"),ue("\\tealC","\\textcolor{##01d1c1}{#1}"),ue("\\tealD","\\textcolor{##01a995}{#1}"),ue("\\tealE","\\textcolor{##208170}{#1}"),ue("\\greenA","\\textcolor{##b6ffb0}{#1}"),ue("\\greenB","\\textcolor{##8af281}{#1}"),ue("\\greenC","\\textcolor{##74cf70}{#1}"),ue("\\greenD","\\textcolor{##1fab54}{#1}"),ue("\\greenE","\\textcolor{##0d923f}{#1}"),ue("\\goldA","\\textcolor{##ffd0a9}{#1}"),ue("\\goldB","\\textcolor{##ffbb71}{#1}"),ue("\\goldC","\\textcolor{##ff9c39}{#1}"),ue("\\goldD","\\textcolor{##e07d10}{#1}"),ue("\\goldE","\\textcolor{##a75a05}{#1}"),ue("\\redA","\\textcolor{##fca9a9}{#1}"),ue("\\redB","\\textcolor{##ff8482}{#1}"),ue("\\redC","\\textcolor{##f9685d}{#1}"),ue("\\redD","\\textcolor{##e84d39}{#1}"),ue("\\redE","\\textcolor{##bc2612}{#1}"),ue("\\maroonA","\\textcolor{##ffbde0}{#1}"),ue("\\maroonB","\\textcolor{##ff92c6}{#1}"),ue("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ue("\\maroonD","\\textcolor{##ca337c}{#1}"),ue("\\maroonE","\\textcolor{##9e034e}{#1}"),ue("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ue("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ue("\\purpleC","\\textcolor{##aa87ff}{#1}"),ue("\\purpleD","\\textcolor{##7854ab}{#1}"),ue("\\purpleE","\\textcolor{##543b78}{#1}"),ue("\\mintA","\\textcolor{##f5f9e8}{#1}"),ue("\\mintB","\\textcolor{##edf2df}{#1}"),ue("\\mintC","\\textcolor{##e0e5cc}{#1}"),ue("\\grayA","\\textcolor{##f6f7f7}{#1}"),ue("\\grayB","\\textcolor{##f0f1f2}{#1}"),ue("\\grayC","\\textcolor{##e3e5e6}{#1}"),ue("\\grayD","\\textcolor{##d6d8da}{#1}"),ue("\\grayE","\\textcolor{##babec2}{#1}"),ue("\\grayF","\\textcolor{##888d93}{#1}"),ue("\\grayG","\\textcolor{##626569}{#1}"),ue("\\grayH","\\textcolor{##3b3e40}{#1}"),ue("\\grayI","\\textcolor{##21242c}{#1}"),ue("\\kaBlue","\\textcolor{##314453}{#1}"),ue("\\kaGreen","\\textcolor{##71B307}{#1}");const Js={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class lu{constructor(f,$,S){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=$,this.expansionCount=0,this.feed(f),this.macros=new j0(_0,$.macros),this.mode=S,this.stack=[]}feed(f){this.lexer=new uc(f,this.settings)}switchMode(f){this.mode=f}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(f){this.stack.push(f)}pushTokens(f){this.stack.push(...f)}scanArgument(f){let $,S,N;if(f){if(this.consumeSpaces(),this.future().text!=="[")return null;$=this.popToken(),{tokens:N,end:S}=this.consumeArg(["]"])}else({tokens:N,start:$,end:S}=this.consumeArg());return this.pushToken(new Qi("EOF",S.loc)),this.pushTokens(N),new Qi("",_i.range($,S))}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(f){const $=[],S=f&&f.length>0;S||this.consumeSpaces();const N=this.future();let G,K=0,he=0;do{if(G=this.popToken(),$.push(G),G.text==="{")++K;else if(G.text==="}"){if(--K,K===-1)throw new m("Extra }",G)}else if(G.text==="EOF")throw new m("Unexpected end of input in a macro argument, expected '"+(f&&S?f[he]:"}")+"'",G);if(f&&S)if((K===0||K===1&&f[he]==="{")&&G.text===f[he]){if(++he,he===f.length){$.splice(-he,he);break}}else he=0}while(K!==0||S);return N.text==="{"&&$[$.length-1].text==="}"&&($.pop(),$.shift()),$.reverse(),{tokens:$,start:N,end:G}}consumeArgs(f,$){if($){if($.length!==f+1)throw new m("The length of delimiters doesn't match the number of args!");const N=$[0];for(let G=0;G<N.length;G++){const K=this.popToken();if(N[G]!==K.text)throw new m("Use of the macro doesn't match its definition",K)}}const S=[];for(let N=0;N<f;N++)S.push(this.consumeArg($&&$[N+1]).tokens);return S}countExpansion(f){if(this.expansionCount+=f,this.expansionCount>this.settings.maxExpand)throw new m("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(f){const $=this.popToken(),S=$.text,N=$.noexpand?null:this._getExpansion(S);if(N==null||f&&N.unexpandable){if(f&&N==null&&S[0]==="\\"&&!this.isDefined(S))throw new m("Undefined control sequence: "+S);return this.pushToken($),!1}this.countExpansion(1);let G=N.tokens;const K=this.consumeArgs(N.numArgs,N.delimiters);if(N.numArgs){G=G.slice();for(let he=G.length-1;he>=0;--he){let we=G[he];if(we.text==="#"){if(he===0)throw new m("Incomplete placeholder at end of macro body",we);if(we=G[--he],we.text==="#")G.splice(he+1,1);else if(/^[1-9]$/.test(we.text))G.splice(he,2,...K[+we.text-1]);else throw new m("Not a valid argument number",we)}}}return this.pushTokens(G),G.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const f=this.stack.pop();return f.treatAsRelax&&(f.text="\\relax"),f}throw new Error}expandMacro(f){return this.macros.has(f)?this.expandTokens([new Qi(f)]):void 0}expandTokens(f){const $=[],S=this.stack.length;for(this.pushTokens(f);this.stack.length>S;)if(this.expandOnce(!0)===!1){const N=this.stack.pop();N.treatAsRelax&&(N.noexpand=!1,N.treatAsRelax=!1),$.push(N)}return this.countExpansion($.length),$}expandMacroAsText(f){const $=this.expandMacro(f);return $&&$.map(S=>S.text).join("")}_getExpansion(f){const $=this.macros.get(f);if($==null)return $;if(f.length===1){const N=this.lexer.catcodes[f];if(N!=null&&N!==13)return}const S=typeof $=="function"?$(this):$;if(typeof S=="string"){let N=0;if(S.indexOf("#")!==-1){const Ue=S.replace(/##/g,"");for(;Ue.indexOf("#"+(N+1))!==-1;)++N}const G=new uc(S,this.settings),K=[];let he=G.lex();for(;he.text!=="EOF";)K.push(he),he=G.lex();return K.reverse(),{tokens:K,numArgs:N}}return S}isDefined(f){return this.macros.has(f)||zs.hasOwnProperty(f)||br.math.hasOwnProperty(f)||br.text.hasOwnProperty(f)||Js.hasOwnProperty(f)}isExpandable(f){const $=this.macros.get(f);return $!=null?typeof $=="string"||typeof $=="function"||!$.unexpandable:zs.hasOwnProperty(f)&&!zs[f].primitive}}const au=/^[]/,cc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Jc={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},oh={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class is{constructor(f,$){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new lu(f,$,this.mode),this.settings=$,this.leftrightDepth=0}expect(f,$){if($===void 0&&($=!0),this.fetch().text!==f)throw new m("Expected '"+f+"', got '"+this.fetch().text+"'",this.fetch());$&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(f){this.mode=f,this.gullet.switchMode(f)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const f=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),f}finally{this.gullet.endGroups()}}subparse(f){const $=this.nextToken;this.consume(),this.gullet.pushToken(new Qi("}")),this.gullet.pushTokens(f);const S=this.parseExpression(!1);return this.expect("}"),this.nextToken=$,S}parseExpression(f,$){const S=[];for(;;){this.mode==="math"&&this.consumeSpaces();const N=this.fetch();if(is.endOfExpression.indexOf(N.text)!==-1||$&&N.text===$||f&&zs[N.text]&&zs[N.text].infix)break;const G=this.parseAtom($);if(G){if(G.type==="internal")continue}else break;S.push(G)}return this.mode==="text"&&this.formLigatures(S),this.handleInfixNodes(S)}handleInfixNodes(f){let $=-1,S;for(let N=0;N<f.length;N++)if(f[N].type==="infix"){if($!==-1)throw new m("only one infix operator per group",f[N].token);$=N,S=f[N].replaceWith}if($!==-1&&S){let N,G;const K=f.slice(0,$),he=f.slice($+1);K.length===1&&K[0].type==="ordgroup"?N=K[0]:N={type:"ordgroup",mode:this.mode,body:K},he.length===1&&he[0].type==="ordgroup"?G=he[0]:G={type:"ordgroup",mode:this.mode,body:he};let we;return S==="\\\\abovefrac"?we=this.callFunction(S,[N,f[$],G],[]):we=this.callFunction(S,[N,G],[]),[we]}else return f}handleSupSubscript(f){const $=this.fetch(),S=$.text;this.consume(),this.consumeSpaces();let N;do{var G;N=this.parseGroup(f)}while(((G=N)==null?void 0:G.type)==="internal");if(!N)throw new m("Expected group after '"+S+"'",$);return N}formatUnsupportedCmd(f){const $=[];for(let G=0;G<f.length;G++)$.push({type:"textord",mode:"text",text:f[G]});const S={type:"text",mode:this.mode,body:$};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[S]}}parseAtom(f){const $=this.parseGroup("atom",f);if($?.type==="internal"||this.mode==="text")return $;let S,N;for(;;){this.consumeSpaces();const G=this.fetch();if(G.text==="\\limits"||G.text==="\\nolimits"){if($&&$.type==="op"){const K=G.text==="\\limits";$.limits=K,$.alwaysHandleSupSub=!0}else if($&&$.type==="operatorname")$.alwaysHandleSupSub&&($.limits=G.text==="\\limits");else throw new m("Limit controls must follow a math operator",G);this.consume()}else if(G.text==="^"){if(S)throw new m("Double superscript",G);S=this.handleSupSubscript("superscript")}else if(G.text==="_"){if(N)throw new m("Double subscript",G);N=this.handleSupSubscript("subscript")}else if(G.text==="'"){if(S)throw new m("Double superscript",G);const K={type:"textord",mode:this.mode,text:"\\prime"},he=[K];for(this.consume();this.fetch().text==="'";)he.push(K),this.consume();this.fetch().text==="^"&&he.push(this.handleSupSubscript("superscript")),S={type:"ordgroup",mode:this.mode,body:he}}else if(cc[G.text]){const K=au.test(G.text),he=[];for(he.push(new Qi(cc[G.text])),this.consume();;){const Ue=this.fetch().text;if(!cc[Ue]||au.test(Ue)!==K)break;he.unshift(new Qi(cc[Ue])),this.consume()}const we=this.subparse(he);K?N={type:"ordgroup",mode:"math",body:we}:S={type:"ordgroup",mode:"math",body:we}}else break}return S||N?{type:"supsub",mode:this.mode,base:$,sup:S,sub:N}:$}parseFunction(f,$){const S=this.fetch(),N=S.text,G=zs[N];if(!G)return null;if(this.consume(),$&&$!=="atom"&&!G.allowedInArgument)throw new m("Got function '"+N+"' with no arguments"+($?" as "+$:""),S);if(this.mode==="text"&&!G.allowedInText)throw new m("Can't use function '"+N+"' in text mode",S);if(this.mode==="math"&&G.allowedInMath===!1)throw new m("Can't use function '"+N+"' in math mode",S);const{args:K,optArgs:he}=this.parseArguments(N,G);return this.callFunction(N,K,he,S,f)}callFunction(f,$,S,N,G){const K={funcName:f,parser:this,token:N,breakOnTokenText:G},he=zs[f];if(he&&he.handler)return he.handler(K,$,S);throw new m("No function handler for "+f)}parseArguments(f,$){const S=$.numArgs+$.numOptionalArgs;if(S===0)return{args:[],optArgs:[]};const N=[],G=[];for(let K=0;K<S;K++){let he=$.argTypes&&$.argTypes[K];const we=K<$.numOptionalArgs;($.primitive&&he==null||$.type==="sqrt"&&K===1&&G[0]==null)&&(he="primitive");const Ue=this.parseGroupOfType("argument to '"+f+"'",he,we);if(we)G.push(Ue);else if(Ue!=null)N.push(Ue);else throw new m("Null argument, please report this as a bug")}return{args:N,optArgs:G}}parseGroupOfType(f,$,S){switch($){case"color":return this.parseColorGroup(S);case"size":return this.parseSizeGroup(S);case"url":return this.parseUrlGroup(S);case"math":case"text":return this.parseArgumentGroup(S,$);case"hbox":{const N=this.parseArgumentGroup(S,"text");return N!=null?{type:"styling",mode:N.mode,body:[N],style:"text"}:null}case"raw":{const N=this.parseStringGroup("raw",S);return N!=null?{type:"raw",mode:"text",string:N.text}:null}case"primitive":{if(S)throw new m("A primitive argument cannot be optional");const N=this.parseGroup(f);if(N==null)throw new m("Expected group as "+f,this.fetch());return N}case"original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new m("Unknown group type as "+f,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(f,$){const S=this.gullet.scanArgument($);if(S==null)return null;let N="",G;for(;(G=this.fetch()).text!=="EOF";)N+=G.text,this.consume();return this.consume(),S.text=N,S}parseRegexGroup(f,$){const S=this.fetch();let N=S,G="",K;for(;(K=this.fetch()).text!=="EOF"&&f.test(G+K.text);)N=K,G+=N.text,this.consume();if(G==="")throw new m("Invalid "+$+": '"+S.text+"'",S);return S.range(N,G)}parseColorGroup(f){const $=this.parseStringGroup("color",f);if($==null)return null;const S=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec($.text);if(!S)throw new m("Invalid color: '"+$.text+"'",$);let N=S[0];return/^[0-9a-f]{6}$/i.test(N)&&(N="#"+N),{type:"color-token",mode:this.mode,color:N}}parseSizeGroup(f){let $,S=!1;if(this.gullet.consumeSpaces(),!f&&this.gullet.future().text!=="{"?$=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):$=this.parseStringGroup("size",f),!$)return null;!f&&$.text.length===0&&($.text="0pt",S=!0);const N=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec($.text);if(!N)throw new m("Invalid size: '"+$.text+"'",$);const G={number:+(N[1]+N[2]),unit:N[3]};if(!xt(G))throw new m("Invalid unit: '"+G.unit+"'",$);return{type:"size",mode:this.mode,value:G,isBlank:S}}parseUrlGroup(f){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const $=this.parseStringGroup("url",f);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),$==null)return null;const S=$.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:S}}parseArgumentGroup(f,$){const S=this.gullet.scanArgument(f);if(S==null)return null;const N=this.mode;$&&this.switchMode($),this.gullet.beginGroup();const G=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const K={type:"ordgroup",mode:this.mode,loc:S.loc,body:G};return $&&this.switchMode(N),K}parseGroup(f,$){const S=this.fetch(),N=S.text;let G;if(N==="{"||N==="\\begingroup"){this.consume();const K=N==="{"?"}":"\\endgroup";this.gullet.beginGroup();const he=this.parseExpression(!1,K),we=this.fetch();this.expect(K),this.gullet.endGroup(),G={type:"ordgroup",mode:this.mode,loc:_i.range(S,we),body:he,semisimple:N==="\\begingroup"||void 0}}else if(G=this.parseFunction($,f)||this.parseSymbol(),G==null&&N[0]==="\\"&&!Js.hasOwnProperty(N)){if(this.settings.throwOnError)throw new m("Undefined control sequence: "+N,S);G=this.formatUnsupportedCmd(N),this.consume()}return G}formLigatures(f){let $=f.length-1;for(let S=0;S<$;++S){const N=f[S],G=N.text;G==="-"&&f[S+1].text==="-"&&(S+1<$&&f[S+2].text==="-"?(f.splice(S,3,{type:"textord",mode:"text",loc:_i.range(N,f[S+2]),text:"---"}),$-=2):(f.splice(S,2,{type:"textord",mode:"text",loc:_i.range(N,f[S+1]),text:"--"}),$-=1)),(G==="'"||G==="`")&&f[S+1].text===G&&(f.splice(S,2,{type:"textord",mode:"text",loc:_i.range(N,f[S+1]),text:G+G}),$-=1)}}parseSymbol(){const f=this.fetch();let $=f.text;if(/^\\verb[^a-zA-Z]/.test($)){this.consume();let G=$.slice(5);const K=G.charAt(0)==="*";if(K&&(G=G.slice(1)),G.length<2||G.charAt(0)!==G.slice(-1))throw new m(`\\verb assertion failed --
                    please report what input caused this bug`);return G=G.slice(1,-1),{type:"verb",mode:"text",body:G,star:K}}oh.hasOwnProperty($[0])&&!br[this.mode][$[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+$[0]+'" used in math mode',f),$=oh[$[0]]+$.slice(1));const S=Kc.exec($);S&&($=$.substring(0,S.index),$==="i"?$="":$==="j"&&($=""));let N;if(br[this.mode][$]){this.settings.strict&&this.mode==="math"&&Ji.indexOf($)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+$[0]+'" used in math mode',f);const G=br[this.mode][$].group,K=_i.range(f);let he;if(Sr.hasOwnProperty(G)){const we=G;he={type:"atom",mode:this.mode,family:we,loc:K,text:$}}else he={type:G,mode:this.mode,loc:K,text:$};N=he}else if($.charCodeAt(0)>=128)this.settings.strict&&(Jt($.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+$[0]+'" used in math mode',f):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+$[0]+'"'+(" ("+$.charCodeAt(0)+")"),f)),N={type:"textord",mode:"text",loc:_i.range(f),text:$};else return null;if(this.consume(),S)for(let G=0;G<S[0].length;G++){const K=S[0][G];if(!Jc[K])throw new m("Unknown accent ' "+K+"'",f);const he=Jc[K][this.mode]||Jc[K].text;if(!he)throw new m("Accent "+K+" unsupported in "+this.mode+" mode",f);N={type:"accent",mode:this.mode,loc:_i.range(f),label:he,isStretchy:!1,isShifty:!0,base:N}}return N}}is.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var w0=function(g,f){if(!(typeof g=="string"||g instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const $=new is(g,f);delete $.gullet.macros.current["\\df@tag"];let S=$.parse();if(delete $.gullet.macros.current["\\current@color"],delete $.gullet.macros.current["\\color"],$.gullet.macros.get("\\df@tag")){if(!f.displayMode)throw new m("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:$.subparse([new Qi("\\df@tag")])}]}return S};let S0=function(g,f,$){f.textContent="";const S=Qc(g,$).toNode();f.appendChild(S)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),S0=function(){throw new m("KaTeX doesn't work in quirks mode.")});const Zc=function(g,f){return Qc(g,f).toMarkup()},Na=function(g,f){const $=new ke(f);return w0(g,$)},Y0=function(g,f,$){if($.throwOnError||!(g instanceof m))throw g;const S=pe.makeSpan(["katex-error"],[new me(f)]);return S.setAttribute("title",g.toString()),S.setAttribute("style","color:"+$.errorColor),S},Qc=function(g,f){const $=new ke(f);try{const S=w0(g,$);return Ml(S,g,$)}catch(S){return Y0(S,g,$)}};var Ii={version:"0.16.25",render:S0,renderToString:Zc,ParseError:m,SETTINGS_SCHEMA:re,__parse:Na,__renderToDomTree:Qc,__renderToHTMLTree:function(g,f){const $=new ke(f);try{const S=w0(g,$);return Rl(S,g,$)}catch(S){return Y0(S,g,$)}},__setFontMetrics:Zn,__defineSymbol:L,__defineFunction:Pt,__defineMacro:ue,__domTree:{Span:Qr,Anchor:ds,SymbolNode:me,SvgNode:Pe,PathNode:Qe,LineNode:Dt}},dl=Ii;return a=a.default,a})()})})(p5)),p5.exports}var eS=Y2.exports,bm;function tS(){return bm||(bm=1,(function(o,s){(function(n,a){a(s,w5(),wm(),Qw())})(eS,function(n,a,d,m){Object.defineProperty(n,"__esModule",{value:!0});function b(ge,re){for(var ie in re)Object.defineProperty(ge,ie,{enumerable:!0,get:re[ie]})}b(n,{BlockMath:()=>fe,InlineMath:()=>ve}),a=k(a),d=C(d),m=C(m);function C(ge){return ge&&ge.__esModule?ge:{default:ge}}function x(ge){if(typeof WeakMap!="function")return null;var re=new WeakMap,ie=new WeakMap;return(x=function(ke){return ke?ie:re})(ge)}function k(ge,re){if(ge&&ge.__esModule)return ge;if(ge===null||typeof ge!="object"&&typeof ge!="function")return{default:ge};var ie=x(re);if(ie&&ie.has(ge))return ie.get(ge);var ke={},Be=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ke in ge)if(Ke!=="default"&&Object.prototype.hasOwnProperty.call(ge,Ke)){var ye=Be?Object.getOwnPropertyDescriptor(ge,Ke):null;ye&&(ye.get||ye.set)?Object.defineProperty(ke,Ke,ye):ke[Ke]=ge[Ke]}return ke.default=ge,ie&&ie.set(ge,ke),ke}const E=(ge,{displayMode:re})=>{const ie=({children:ke,errorColor:Be,math:Ke,renderError:ye})=>{const Ve=Ke??ke,{html:st,error:Xe}=(0,a.useMemo)(()=>{try{return{html:m.default.renderToString(Ve,{displayMode:re,errorColor:Be,throwOnError:!!ye}),error:void 0}}catch(Qt){if(Qt instanceof m.default.ParseError||Qt instanceof TypeError)return{error:Qt};throw Qt}},[Ve,Be,ye]);return Xe?ye?ye(Xe):a.default.createElement(ge,{html:`${Xe.message}`}):a.default.createElement(ge,{html:st})};return ie.propTypes={children:d.default.string,errorColor:d.default.string,math:d.default.string,renderError:d.default.func},ie},R={html:d.default.string.isRequired},q=({html:ge})=>a.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:ge}});q.propTypes=R;const z=({html:ge})=>a.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:ge}});z.propTypes=R;const fe=E(q,{displayMode:!0}),ve=E(z,{displayMode:!1})})})(Y2,Y2.exports)),Y2.exports}var n7=tS();function nS({state:o}){const s=o||{lhs:"",rhs:"",sign:"="},[n,a]=Dn.useState(s),[d,m]=Dn.useState(!1);Dn.useEffect(()=>{if(o&&o.lastOp){m(!0);const E=setTimeout(()=>{m(!1),a(o)},1500);return()=>clearTimeout(E)}else o&&a(o)},[o]);const b=E=>E==="*"?"\\times":E==="/"?"\\div":E;let C=String(n.lhs||""),x=String(n.rhs||"");const k=String(n.sign||"=");if(d&&o.lastOp){const E=`{\\color{#e74c3c} ${b(o.lastOp.op)} ${o.lastOp.val}}`;C=`${C} ${E}`,x=`${x} ${E}`}return xe.jsxs("div",{style:v4.board,children:[xe.jsxs("div",{style:v4.equation,children:[xe.jsx("div",{style:v4.member,children:C?xe.jsx(n7.InlineMath,{math:C}):xe.jsx("span",{children:"?"})}),xe.jsx("div",{style:v4.sign,children:xe.jsx(n7.InlineMath,{math:k})}),xe.jsx("div",{style:v4.member,children:x?xe.jsx(n7.InlineMath,{math:x}):xe.jsx("span",{children:"?"})})]}),xe.jsx("div",{style:v4.hint,children:d?"Calcul en cours...":"En attente d'instructions"})]})}const v4={board:{width:"100%",height:"100%",background:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"sans-serif"},equation:{display:"flex",alignItems:"center",gap:"20px",fontSize:"2.5rem",color:"#2c3e50"},member:{padding:"10px 20px",background:"#f8f9fa",borderRadius:"10px",borderBottom:"4px solid #bdc3c7",minWidth:"100px",textAlign:"center",minHeight:"60px",display:"flex",alignItems:"center",justifyContent:"center"},sign:{fontSize:"2rem",color:"#7f8c8d"},hint:{marginTop:"30px",color:"#95a5a6",fontStyle:"italic"}};var m5={exports:{}},rS=m5.exports,ym;function iS(){return ym||(ym=1,(function(o){var s=(function(n){var a="1.1.13",d=new xi,m=n.bigInt,b=n.bigDec;b.set({precision:250});var C={},x=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083],k={},E={callPeekers:!1,init_primes:1e3,exclude:[],suppress_errors:!1,PARSE2NUMBER:!1,SAFE:!1,IMAGINARY:"i",FUNCTION_MODULES:[Math],ALLOW_CHARS:[""],USE_MULTICHARACTER_VARS:!0,POWER_OPERATOR:"^",VALIDATION_REGEX:/^[a-z_ABEZHIKMNoOPTX][0-9a-z_ABEZHIKMNoOPTX]*$/i,IMPLIED_MULTIPLICATION_REGEX:/([\+\-\/\*]*[0-9]+)([a-z_ABEZHIKMNoOPTX]+[\+\-\/\*]*)/gi,ALIASES:{:"pi","":"Infinity"},POSITIVE_MULTIPLIERS:!1,CACHE:{},SILENCE_WARNINGS:!1,PRECISION:21,EXPRESSION_DECP:19,DEFAULT_DECP:16,VECTOR:"vector",PARENTHESIS:"parens",SQRT:"sqrt",ABS:"abs",FACTORIAL:"factorial",DOUBLEFACTORIAL:"dfactorial",LONG_PI:"3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196",LONG_E:"2.71828182845904523536028747135266249775724709369995957496696762772407663035354759457138217852516642742746639193200305992181741359662904357290033429526059563073813232862794349076323382988075319525101901",PI:Math.PI,E:Math.E,LOG:"log",LOG10:"log10",LOG10_LATEX:"log_{10}",MAX_EXP:2e5,SCIENTIFIC_MAX_DECIMAL_PLACES:14,SCIENTIFIC_IGNORE_ZERO_EXPONENTS:!0};(function(){E.CACHE.roots={};for(var h=40,w=40,D=2;D<=h;D++)for(var U=2;U<=w;U++){var te=m(D).pow(U);E.CACHE.roots[te+"-"+U]=D}})();var R=C.N=1,q=C.P=2,z=C.S=3,fe=C.EX=4,ve=C.FN=5,ge=C.PL=6,re=C.CB=7,ie=C.CP=8,ke=E.CONST_HASH="#",Be=E.PARENTHESIS,Ke=E.SQRT,ye=E.ABS,Ve=E.FACTORIAL,st=E.DOUBLEFACTORIAL,Xe=[],Qt={},It=[],De=[],Bt=function(h,w){if(!E.suppress_errors)throw w?new w(h):new Error(h)},kt=function(h){var w=function(D){this.name=h,this.message=D!==void 0?D:"";var U=new Error(this.message);U.name=this.name,this.stack=U.stack};return w.prototype=Object.create(Error.prototype),w},nt=function(h){return It.indexOf(h)!==-1},Ze=function(h){for(var w=h[0],D=1,U=h.length;D<U;D++)if(!h[D].equals(w))return!1;return!0},vt=function(h){De.push(h),E.SHOW_WARNINGS&&console&&console.warn&&console.warn(h)},ft=function(h,w){if(w=w||"variable",E.ALLOW_CHARS.indexOf(h)===-1){var D=E.VALIDATION_REGEX;if(!D.test(h))throw new wn(h+" is not a valid "+w+" name")}},Ut=function(h){var w=Math.sign(h);if(h=Math.abs(h),/\d+\.?\d*e[\+\-]*\d+/i.test(h)){var D="0",U=String(h).toLowerCase().split("e"),te=U.pop(),ae=Math.abs(te),Ae=te/ae,pe=U[0].split(".");if(Ae===-1)ae=ae-pe[0].length,ae<0?h=pe[0].slice(0,ae)+"."+pe[0].slice(ae)+(pe.length===2?pe[1]:""):h=D+"."+new Array(ae+1).join(D)+pe.join("");else{var dt=pe[1];dt&&(ae=ae-dt.length),ae<0?h=pe[0]+dt.slice(0,ae)+"."+dt.slice(ae):h=pe.join("")+new Array(ae+1).join(D)}}return w<0?"-"+h:h},le=function(h){for(var w=Math.floor(Math.sqrt(h)),D=2;D<=w;D++)if(h%D===0)return!1;return!0},ze=function(h,w){var D={};return D[h]=w,D},ct=function(h){return/^\d+\.?\d*$/.test(h)},Se=function(h){for(var w=0;w<h.length;w++)if(!ct(h[w]))return!1;return!0},Jt=function(h){return Ot(h)?Jt(h.multiplier.toDecimal()):h%1!==0},Ot=function(h){return h instanceof ce},sn=function(h){return h instanceof si},yn=function(h,w,D){if(D=D||{c:[],add:function(pe){this.c.indexOf(pe)===-1&&isNaN(pe)&&this.c.push(pe)}},Ot(h)){var U=h.group,te=h.previousGroup;if(U===fe&&yn(h.power,w,D),U===ie||U===re||te===ie||te===re)for(var ae in h.symbols)yn(h.symbols[ae],w,D);else if(U===z||te===z)h.value==="e"||h.value==="pi"||h.value===E.IMAGINARY||D.add(h.value);else if(U===ge||te===ge)yn(Ce(h.symbols),w,D);else if(U===fe)isNaN(h.value)||D.add(h.value),yn(h.power,w,D);else if(U===ve&&!w)for(var Ae=0;Ae<h.args.length;Ae++)yn(h.args[Ae],w,D)}return D.c.sort()},hr=function(h,w){for(var D=new ce(0),U=0;U<h.length;U++){var te=h[U];D=d.add(D,Ot(te)?te:d.parse(te))}return w?Number(D):D},Yn=function(h,w){h=d.expand(h),w=w||{};var D=function(U,te){w[U]||(w[U]=new ce(0)),w[U]=d.add(w[U],te.clone())};return h.each(function(U){if(U.isConstant("all"))D("constants",U);else if(U.group===z)D(U.value,U);else if(U.group===ve&&(U.fname===ye||U.fname===""))Yn(U.args[0]);else{if(U.group===fe||U.group===ve)throw new Error("Unable to separate. Term cannot be a function!");D(yn(U).join(" "),U)}}),w},an=function(h,w){w=w||h.length;for(var D=0;D<w;D++){var U=h[D];U||(h[D]=new ce(0))}return h},Xn=function(h){return h instanceof Lr},ht=function(h){return h instanceof $n},tn=function(h){return h instanceof er},Wr=function(h){return h.group===R||h.group===q},Jn=function(h){return h.group===z&&h.multiplier.equals(1)&&h.power.equals(1)},pr=function(h){return Array.isArray(h)},on=function(h){return/^[-+]?\d+e?\+?\d*$/gim.test(h.toString())},Ti=function(h){return Ot(h)&&(h=h.multiplier),h.lessThan(0)},Bi=function(h){return h&&String(h)},Zn=function(h){return"("+h+")"},ss=function(h,w,D,U){return h.substr(0,w)+U+h.substr(D,h.length)},vi=function(h){return h!==void 0&&h.custom},sr=function(h,w){return h<0==w<0},Vn=function(){var h=[].slice.call(arguments),w=h.shift(),D=w.replace(/{(\d+)}/g,function(U,te){var ae=h[te];return typeof ae=="function"?ae():ae});return D},F=function(h,w,D){var U=[];D=D||1;for(var te=h;te<=w;te++)U.push(te*D);return U},ee=Object.keys,Ce=function(h,w,D){for(var U in h)break;return w?U:D?{key:U,obj:h[U]}:h[U]},Ne=function(h,w,D){for(var U=5,te={},ae,Ae=0;Ae<D.length;Ae++)te[D[Ae]]=new ce(Math.floor(Math.random()*U)+1);return Sr("PARSE2NUMBER",function(){ae=d.parse(h,te).equals(d.parse(w,te))}),ae},et=function(h,w,D){return ft(h),nt(h)?null:(w=w||yn(d.parse(D)),d.functions[h]=[d.mapped_function,w.length,{name:h,params:w,body:D}],D)},Je=function(h){return Math.max.apply(void 0,h)},xt=function(h){return Math.min.apply(void 0,h)},St=function(h,w){if(h.sort(),w.sort(),h.length===w.length){for(var D=0;D<h.length;D++)if(h[D]!==w[D])return!1;return!0}return!1},O=function(h){for(var w=[],D=h.length,U=0;U<D;U++)w[U]=h[U].clone();return w},oe=function(h,w){w=w||20;var D=[],U,te,ae;D.push(h[0]);for(var Ae=0;Ae<h.length-1;Ae++){U=h[Ae],te=h[Ae+1]-U,ae=te/w;for(var pe=0;pe<w;pe++)U+=ae,D.push(U)}return D},Le=function(h){var w,D;if(h.group===ve&&h.fname===""?(w=ce.unwrapPARENS(d.parse(h).toLinear()),D=d.parse(h.power)):h.group===q&&(w=d.parse(h.value),D=d.parse(h.power)),w&&D&&w.group===R&&D.group===R&&w.multiplier.isNegative()){for(var U=[],te=ce.toPolarFormArray(L(h)),ae=te[0],Ae=d.arg(w),pe=D.multiplier.den.toString(),dt=D.multiplier.num.toString(),Ct="(({0})^({1})*(cos({3})+({2})*sin({3})))^({4})",bt=0;bt<pe;bt++){var hn=L(d.parse(Vn("(({0})+2*pi*({1}))/({2})",Ae,bt,pe))).multiplier.toDecimal();U.push(L(d.parse(Vn(Ct,ae,pe,E.IMAGINARY,hn,dt))))}return Lr.fromArray(U)}else if(h.isConstant(!0,!0)){var Wt=h.sign(),Ae=L(h.abs()),nn=d.sqrt(Ae),U=[nn.clone(),nn.negate()];Wt<0&&(U=U.map(function(Pt){return d.multiply(Pt,ce.imaginary())}))}else U=[d.parse(h)];return Lr.fromArray(U)},Me=function(h,w){for(var D=h.length,U=[],te=0;te<h.length;te++)U.push([h[te],w[te]]);U.sort(function(pe,dt){return pe[0]-dt[0]});var ae=[],Ae=[];for(te=0;te<D;te++)ae.push(U[te][0]),Ae.push(U[te][1]);return[ae,Ae]},Nt=function(h,w,D){w=String(w);var U,te,ae,Ae;if(h.group===ie){var pe=d.expand(h.clone()).stripVar(w);U=d.subtract(h.clone(),pe.clone()),Ae=pe}else U=h.clone();return te=U.stripVar(w),ae=d.divide(U.clone(),te.clone()),Ae=Ae||new ce(0),D?{a:te,x:ae,ax:U,b:Ae}:[te,ae,U,Ae]},Cn=function(h,w){return on(h)?h>=Number.MAX_VALUE?h.toString():Number(h):(w=typeof w>"u"?14:w,Math.round(h*Math.pow(10,w))/Math.pow(10,w))},Qr=function(h){for(var w="u",D=w,U=0,te=yn(h);!(It.indexOf(D)===-1&&te.indexOf(D)===-1);)D=w+U++;for(var ae=0,Ae=It.length;ae<=Ae;ae++)if(!It[ae]){It[ae]=D;break}return D},ds=function(h){var w=It.indexOf(h);w!==-1&&(It[w]=void 0)},fs=function(h,w){if(pr(h))for(var D=h.length,U=0;U<D;U++)w.call(h,U);else for(var te in h)h.hasOwnProperty(te)&&w.call(h,te)},H=function(h){return h%2===0},me=function(h){return 1/(h%1)%2===0},Pe=function(h){for(var w=h.length,D=[],U=0;U<w;U++){var te=h[U];D.indexOf(te)===-1&&D.push(te)}return D},Qe=function(h){for(var w=yn(h[0],null,null),D=1,U=h.length;D<U;D++)w=w.concat(yn(h[D]));return w=Pe(w).sort(),w},Dt=function(h,w){var D=typeof w;(D!=="function"||D==="undefined")&&(w=function(dt,Ct){return dt===Ct});for(var U=[];h.length;){var te=h[0];if(h.length===1){U.push(te);break}var ae=[];U.push(te);for(var Ae=1;Ae<h.length;Ae++){var pe=h[Ae];w(te,pe)||ae.push(pe)}h=ae}return U},dn=function(h){var w=function(D){It.indexOf(D)===-1&&It.push(D)};typeof h=="string"?w(h):fs(h,function(D){w(D)})},Hn=function(h,w){var D;return pr(h)?D=h.splice(w,1)[0]:(D=h[w],delete h[w]),D},Sr=function(h,w,D,U){var te=E[h];E[h]=D===void 0?!0:!!D;var ae=w.call(U);return E[h]=te,ae},Al=function(){var h={};for(var w in d.functions)h[w]=d.functions[w][0];return h},yo=function(h){return[].slice.call(h)},br=function(h,w,D){var U=[];h.each(function(ae){if(ae.contains(w))var Ae=ae.stripVar(w),pe=d.divide(ae.clone(),Ae.clone()),dt=pe.power.toDecimal();else Ae=ae,dt=0;var Ct=U[dt];U[dt]=Ct?d.add(Ct,Ae):Ae},!0);for(var te=0;te<U.length;te++)U[te]||(U[te]=new ce(0));return U},L=function(h,w){return Sr("PARSE2NUMBER",function(){return d.parse(h,w)},!0)},V=function(h){if(pr(h)){for(var w=new Lr([]),D=0;D<h.length;D++)w.elements.push(V(h[D]));return w}return Ot(h)?h:d.parse(h)},Kt=function(h){for(var w=x[x.length-1]||2,D=w;D<h;D++)le(D)&&x.push(D)},_=function(h){for(var w=0;w<h.length;w++)if(h[w].group!==R)return!1;return!0},B=function(h){for(var w=0;w<h.length;w++)if(!(h[w].isPi()||h[w].isE())&&!h[w].isConstant(!0))return!1;return!0},Y=function(h,w,D){(w.isComposite()&&!h.isComposite()||w.isLinear()&&!h.isLinear())&&([h,w]=[w,h]);var U=new ce(0);return h.isLinear()?h.each(function(te){if(w.isComposite())w.isLinear()?w.each(function(Ae){var pe=d.multiply(d.parse(te),d.parse(Ae)),dt=d.expand(d.parse(pe),D);U=d.add(U,dt)},!0):U=d.add(U,d.multiply(te,d.parse(w)));else{var ae=d.multiply(d.parse(te),d.parse(w));U=d.add(U,d.expand(ae,D))}},!0):U=d.multiply(h,w),U},j=kt("DivisionByZero"),_e=kt("ParseError"),J=kt("UndefinedError"),Te=kt("OutOfFunctionDomainError"),He=kt("MaximumIterationsReached"),Ye=kt("NerdamerTypeError"),it=kt("ParityError"),Q=kt("OperatorError"),Rt=kt("OutOfRangeError"),Ee=kt("DimensionError"),wn=kt("InvalidVariableNameError"),kn=kt("ValueLimitExceededError"),Nr=kt("NerdamerValueError"),cr=kt("SolveError"),On=kt("InfiniteLoopError"),Ji=kt("UnexpectedTokenError"),ii={DivisionByZero:j,ParseError:_e,OutOfFunctionDomainError:Te,UndefinedError:J,MaximumIterationsReached:He,NerdamerTypeError:Ye,ParityError:it,OperatorError:Q,OutOfRangeError:Rt,DimensionError:Ee,InvalidVariableNameError:wn,ValueLimitExceededError:kn,NerdamerValueError:Nr,SolveError:cr,InfiniteLoopError:On,UnexpectedTokenError:Ji},fn={csc:function(h){return 1/Math.sin(h)},sec:function(h){return 1/Math.cos(h)},cot:function(h){return 1/Math.tan(h)},acsc:function(h){return Math.asin(1/h)},asec:function(h){return Math.acos(1/h)},acot:function(h){return Math.PI/2-Math.atan(h)},erf:function(h){var w=1/(1+.5*Math.abs(h)),D=1-w*Math.exp(-h*h-1.26551223+w*(1.00002368+w*(.37409196+w*(.09678418+w*(-.18628806+w*(.27886807+w*(-1.13520398+w*(1.48851587+w*(-.82215223+w*.17087277)))))))));return h>=0?D:-D},diff:function(h){var w=.001,D=function(U){return(h(U+w)-h(U-w))/(2*w)};return D},median:function(...h){h.sort(function(D,U){return D-U});var w=Math.floor(h.length/2);return h.length%2?h[w]:(h[w-1]+h[w])/2},fromContinued:function(h){for(var w=h.fractions.slice(),D=1/w.pop(),U=0,te=w.length;U<te;U++)D=1/(w.pop()+D);return h.sign*(h.whole+D)},continuedFraction:function(h,w){w=w||20;for(var D=Math.sign(h),U=Math.abs(h),te=Math.floor(U),ae=U-te,Ae=0,pe=!1,dt=1e-14,Ct=1e7,bt,hn,Wt={whole:te,sign:D,fractions:[]};!pe&&ae!==0;){if(bt=1/ae,hn=Math.floor(bt),hn>Ct){var nn=fn.fromContinued(Wt)-h;if(nn<=Number.EPSILON)break}Wt.fractions.push(hn),ae=bt-hn,(ae<=dt||Ae>=w-1)&&(pe=!0),Ae++}var Sn=Wt.fractions.length-1;return Wt.fractions[Sn]===1&&(Wt.fractions.pop(),Wt.fractions[--Sn]++),Wt},bigpow:function(h,w){h instanceof Zt||(h=Zt.create(h)),w instanceof Zt||(w=Zt.create(w));var D=new Zt(0);if(w.isInteger())D.num=h.num.pow(w.toString()),D.den=h.den.pow(w.toString());else{var U=Zt.create(Math.pow(h.num,w.num)),te=Zt.create(Math.pow(h.den,w.num));D.num=fn.nthroot(U,w.den.toString()),D.den=fn.nthroot(te,w.den)}return D},gamma:function(h){var w=7,D=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(h<.5)return Math.PI/(Math.sin(Math.PI*h)*fn.gamma(1-h));h-=1;for(var U=D[0],te=1;te<w+2;te++)U+=D[te]/(h+te);var ae=h+w+.5;return Math.sqrt(2*Math.PI)*Math.pow(ae,h+.5)*Math.exp(-ae)*U},bigfactorial:function(h){for(var w=new m(1),D=2;D<=h;D++)w=w.times(D);return new Zt(w)},bigLog:function(h){var w=["-253631954333118718762629409109262279926288908775918712466601196032/39970093576053625963957478139049824030906352922262642968060706375","0","24553090145869607172412918483124184864289170814122579923404694986469653261608528681589949629750677407356463601998534945057511664951799678336/35422621391945757431676178435630229283255250779216421054188228659061954317501699707236864189383591478024245495110561124597124995986978302375","369017335340917140706044240090243368728616279239227943871048759140274862131699550043150713059889196223917527172547/335894053932612728969975338549993764554481173661218585876475837409922537622385232776657791604345125227005476864000","24606853025626737903121303930100462245506322607985779603220820323211395607931699126390918477501325805513849611930008427268176602460462988972957593458726734897129954728102144/17750092415977639787139561330326170936321452137635322313122938207611787444311735251389066106937796085669460151963285086542745859461943369606018450213014148175716400146484375","399073568781976806715759409052286641738926636328983929439450824555613704676637191564699164303012247386095942144825603522401740680808466858044/247958349743620302021733249049411604982786755454514947379317600613433680222511897950658049325685140346169718465773927872179874971908848116625","1468102989495846944084741146947295378041808701256909016224309866143294556551407470861354311593351276612463858816796714569499021375899793849136855085849133702029337910502448189055357182595424959360/819363879309286303497217527375463120404739098260200279520788950777458900438307356738082930586032462601215802636320993648007907724899611296693997216938989854861043298494990214825163523387600982777","5896704855274661767824574093605344871722790278354431422729640950821239030785642943033153793245906863203822369276271050164634206965056233097479117980782641839669/3030306850569309344013726745100070601277982132543905537366562638553198167007159067544789592089960911065181606283478843359856123992707598685058297067179343872000","76631772943534985713873427262830314617912556928476573358548256872141516989538374761909611879922349479420014771499018155447198112155515453671128814488139633810493264352294560043912066253026059140653027326566801398784/36852092933388988649396042883218509607503204211148493545892849595498822817623842579026942621098851631842754395231561679671400197056377380063233740202370686144673585955581403046886083948450136247134308381940165804875","3159076083816399509754948610929467278257473888282947311280653574634802580912280940686954763313882823327077171624015737719617373932318151594325834524000275847475866299387913048/1437757485694188822758304467756419845842037623148461107362957994816554782989250555362514354661961482939226272309026092009962414616417412938087494467254146002233028411865234375","22266067259907364984531611601870291368272674573653403965630628996687370994139884833897773468149149664829922302484782423514167405397665098388400450149078982462318781750661005833037235183394221496186539779712428265837926417581952/9670030144664428565128962309657100138096047028794689249320859276197340398920725569428532293373676415359965773460364494998334259893079003125373872108770534788283842907318071170285038777091588292539102269617376180390982915567375","14604654564989239958569331443385369522850975185358647132770022716433280072271007767111036877803328768910274400515590151934676819262085211828028638417329558229123989556376108454497813055/6090614019162516693013973409650613208227889078878781039105047015752493519149314227721984436973374032279421344818329285207124280297611253861173835238379831004010748379874393292231671808","1901241885407696031217292877862925220917660047127261026827869027159993239567933534052663335498281439239753018507182016153657409777749792228538380379703411298411623469292891476969894084838876001545818141543890273256985768690847587711270930688/765116019778838839812655402103512685695769161212360553099732689795578904762091216998790589926057819838537805856579109910198553330075924857419395160755642371550113347465300208422126945265887065434116781678702741657275181694851670325469434625","139459806786604751793737926146840623607010208216289543036026206208962059593900745886202214788747453279179283344350478734275973878932538430194363355795823581315329311220701640235653288975569812161436/54371368534412517053056101353618694718215711767266376573138772968257303578467926450212293233332401067673270853953399269852376592855992724934941173346260129257754416412476202526978443681584633116375","1045669091124493070709683241190022970908640501171378776604126771144008324358233819560649021940145166254659028524319517244711645162132513416238958170819347361185944945680269442845829390112062101255500836072082817820950448463314034677353723256969344/396228259004446234921310936915931611736815598535963504660076315228798989932959459406702091180060429080345146735173591749448509810270759531977278642135591672189002006272326131885315743181289970885337574780897529347356567086535505950450897216796875","9912919238915437302006264477931031611447467070103973106567538528951878797932559935860738745374437522819124347510590800370471910492338584284092534264608801221235029062881964101996762011296996851893455828946521/3660537472668264151218961634689665210933936249986285290553357254224360417386515311493310199319523687171757653216994741150377508234317025158302057758196429623723072084157928224798322861732880034847243894784000","9263710175433181746575186369318246002919895649622127410824041370079225200282403368319370743363303164313395723904510539050157032684710468364067204876434546848634842333436957245275217583248805993142227630297924119330553308466662488683624783307023014909360640/3341177182697517248552428837661919299725031035849865632511882688786226888137634168024976033652753689210700218163621739078534353578510364301481093730054725078138658805025014615651043313990684347632166030359086885561104034510990826655289288319840595753002771","5116082230713622171832327542439052727465114322479570603905499496221224653983960598946033081212909066917137546065542953865612718836914393275681318667667521726785633638189373998191090501201427906618075889744489190209584/1805752553736060443820406101277706970767657006346276183748749630179442318063568286372320188433843729960294965366346522303898609655762491623098453269916163621089005711823488749297418113474056676109581110715068124438875","246569125619713282434448566970352231845414317018379160824176638351574938993535464763890962336882760882398479702237564384291290459961036068916857265499633061660562532011248501476114401629839742058389195725393702000011860799793778295606988057303225493814005789533570432/85307063020836305797178273029353623060860009152114361453434032434699636078115114412588719432277441055049132559782203988387794711585368296817222565434951256788867244687081233632650953850383220864394261763844194948389861147622944651546912394593164406926489862036343375","133672026303452911046163998480860917119290576658330909785707604886881155606725822685088929236266583416708668502760907677019598002175122453170574729028452721476464728566191464897928696630979863154661704374206171469014225143/45398130975270785045482567762871405072140548998125471025451666500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","6041693953360002800224091673336562508913199995987479264605216252220579740134601435770085920869376641180763419907442721705887169884230643795126568815123647603047739799302562095542459344811429882053086550900803768964612193941424128649976704727183797495759082741166938351872/2016766992122395667828553277997478570503475626107286343497917705446132017125079612756035254750822860815515899557855166824523851779156336235294914777307802256439645525835223691751931866188957324792276149549076500784191791380803500156776088683900346065830066370370083309875","705868391597244582764749229356331441978820024796066870551110486625729826111158236686696326058778874201639006234449557592353247542995871491078308187261304930042019640830629526023972693107193897009168955674240659026247094657679060/231848642748474339277532000336338632910990823562381469441716922006107433404523316252618490265927265734670539384485699132080062215196462178933963957679882342083893417545858074378754089719547920901917516016346211301054206383643383","101832160604157943093944673541651013907278188571533075311673249923948856034633446617630054761681006062910980371900782781226979391765818325065031889334563981235894369036439929651260587335544056975715076598739977065390678221999918899003881778449092038750712969437519295878491018112/32944277910571666002449086492515464541550138004002141571670657643770713783329063548790202120805341989608877739811787937782240802963962520261844114327432160788193314874913687387269408387417806176202979244637915812905426565263196954203487934225589622864145960079736633434831996625","10655703119271468913597640479490594180964700448340778168715956712130636958373270202484276402718566314881119559090842449610957974112230306343486091910217340665146602598568991520563987490686996746558858366002301982443029430290679385551/3398412687366638541233365137084722368200311117891192348532156645374786104142009695796409107380345795998400850838706661851176885183144928701608654514812261697598380070746520197171576610572921007069104300695592751543563472456384512000","1903039332876763837419920240543738799531131775028971323439870868730321221615515008394327723508670975623498588291298064320786970626232668956372004004897872810230178526101184611242511193415796638694370503100219710864543168952682617801833318493436174387568067811938490953495819438108686336/598806534367503338307287246320963280558134937382149405305466709787179429317914803617527827862441615350396864359976273212272586892074799651088317544101755361439294687323233086696182687664637422796995789967075271448560870681210580691574924544896656175563265378514188341796398162841796875","525573915563826130963525826191411949262846916750432019596028344808298471293378917508549164993368392834023782480702893643486699787870059946429810070222126260200026332874480239090370088123833491499400991181659445914352500247596757005142623368/163278727324937389095822405034435687776345799835442022795533783889356344755225815267819508608559076191292900367982490827396869405536484846115955581043091229202052407483776587687967125885665493681707461345895999542381476164157058393971431375","9263815657177858787273494705338516861045771674838057329170239610953039987023429736752079544014780707408666628475997291124805562998227296677616204140605356257712022384368492575381355563976330347792504605666631512343447560301417325154003481040250148561839861837778597346623630046623751094400/2843321709948499955095590862256744532227698001408929142548057792217790532624003190447363578048562448168721539177458065482170148482375585867230123873178100117094533143052886527452665480614620123764036974180917207421482431983407742154634391264619615289225747664532332469783301704643254076601","407959339726114455622180187758753007349209016396248763075759257357925636039752474207685682218422721827857994768023399625060206708378433960993946156803948655098667156937949174400873748557248801874735834957795040139401560494087476967548060208243867/123780218751812156744401121690996305978134694678934447237402511116731459214498784497436358160964198336874043702652746834763131444030185151143987331404604087778514863973633941401826334750268416015224906056576641018962863645043976537664227639296000","2547676391598917379516698439971914695230548782904479778605691338364453606537643088857116141939170899135026552016969320061900926954008522781162186995856580955090548471448276736878300717869625651893741316530109438876067419826217901657017506157997588944233677467357220316084583383623602865379325184/764562034757392298786420374672266498815021229519853724850874576419885380830752931701831256959159800764672605004880389358601658343203513177084389490286723240185146570925957286083025676875197029662038213216541352875570101363668917766225709569356861275434470568767077844675593176178611021135573625","186545352286463730559933346565311535598243666022232037054735807289501173444103692309735768703898330430135399033529355360391658728987379385732098960609744313878477967971557204207043802935782878745271859468248704012618254203101767841517569443555143252/55399179641621656233589820996143825959365789093262978988289445625153099592463372579496245442338653053662134699646413817866770218574795378644415019944304868289119443774932782235638737888469746745621382139263856603239588594078668393194675445556640625","664884440164786473344854955309049113269357314957985265728106924238588705533437169796551912202931185746193155801905841712503407258166135075966280435780812714252670362202091663287095423712596462690753468682634261029392794173636943978404002804413009590005984736612421172979101972556772005594499779860608/195485517776407145286424460448995460754674039560651791192647586550615878988380153730602665795647187884543361218962125172808792176382956599256188706636727418572541254480798303566840010217729386905041217793614214518363859058348249961790104618910877813067510758225302884815410347238200133693756493703875","2614957283934314904315471338485451166053664494383241929385424599389309215073267052860464009981063483440201193771607520572077231889699858482582363845275452280606276949653970992719332472370351170732899676316967244504534154616036371979031399425846100527685/761493664432749089312665480773496290658029971027686543404885407644062485746072719559288231362060149626237939029641098328278650939665665969011529293869562636656650999759724704272743235210867676873525147820749560155294022488994426729939894753293900972032","124843380518493746761140367283007507854364503961156704095198010255465940085534099747297600085903814014415830785663764373057896014399822131175202342399536439284123918855893825207202244831315575594886675813256448846863723093240955901916229136393454605455444105444987028391748121054399538064686074523506176/36022228212051654395480210378626648518430280334458144892889271272122662467638331091863215146548048144675657239846337165813938424387499358852301016926312083940212100001220180762189978024821166744964908871443681332664798940660421469519997746775275873085770018269706847741064037876137315001228315806659875","827992369063043155578730871896750570951766628472810506926098505028264552046829097082095665194000002802661600196840639204300804225352337632259980703832713031790922485730615305441309917696044954289187837653933158950774246017223571461858939407386087081525130831392/236805932823686534991153393869288530368011574665859226704279685567723830696754821658770176385138917722808377962346690757191122309876922069867472518117628639913077442806147910884267694879089753138429767401700283014143248445966474839193628309668702223994071394625","17347276886878323736540051321582548724378497839789943634071026331001588645519865992773157565595886250230140452154269197770615097377486013097979087647774513500701793885978192218455687078883766086309728287172567466406449372659680040183273634701092561727514713494914793425407149186041796935055187281744386432/4919325621804683623339606849970832094714371903709195539440424738973575902329797546592497378000858196173718145883783709223158260700365224756081275272021856393735663399552166737690038832550853145831185979094979556715294990257315369124065787473707136464772247917156232366320267601622617803514003753662109375","137984231830526866236186357461458917020538108058615632801298091031540729111527734872044790487396302545910108285921421417358113055522725197998483383380192391312304647004240060970929072498293210057120617332323445379424867965764749534125081131327565507524502163460761/38810445792642817561168950890315210470940006613819790543653745327778579787694809782601777514116858514049585074667085399925278459138508514838268321349069481334967221455722811414399738756151414906092225265355449011152267068726417045644222323488445626292574879744000","746567120547823334914136339633766098626636643449144032626270358619125402826113269699709721071135471625588981126637674402048519990010499180844665151971356149292818375448504122545400227696621572263621729512461528550588108384619064912224884465737417596190735966915167530332762203074440688676123756162572829692160/208334337057923929636884170505570363171441147899816815785150954417598643614152856767186132467069365605496210036171429712485182162940460120834349006784956522600679357307849981862006710239311750261522832996877712350330290831638640913932265004107623954913155144975252743257846945609734368518424172846119306643431","64649371728330695076928013661001819989330953381731372450140483779536126948957993261299287753791770622512248630224724990234903928056275080682537641377393210728546364176267034339221558641084730052304770498929958838997239635790469536857863963589118888238069738647239076/17903951498200212327802847425913723358452100686246224008745414214690047078122925247086521362329833307849817944645647750649290248110509395628305970523384831671737569872597295947593410067364379687588919135621621162007748635920864926867870502568935739725312687094047375","2454918942158003099688922026016393688092399295166304634317616773083386087532869193458590448918958337530406410803840837646465522656670050113548208618655070231274778592766244282964463702354872753657766121825196898916725498553882689210280080206627916046484942827487726300822318764058084323314109595329304407466188383616/674880185931325925966586583820010578979699141814417326552629206140252348822939845006845669570885271576698771404162512001549922909048916000017837898649100825976232784446638776021483802989797501705685620612986771521390439936066527738682396560462899753657942715306792783283782238662155922082005591512296007820682995125","74018558041066162916454010680594042518462756234254788158141115244349044958441521749277686851928706433556285971088455226217644009628399441967508838553345152310730562224910795446341601049647392069373970101491741830623078126344928804029524181578945586663110848142571149861/20204153620006780689923328634586091101021423979622170579036140596085566172775051595588438592742563923428900864000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","2127032036758045513335690185608563023954009095206088224487365541995326714285119384743928987635752931664240752323937321097955456543854943206092931247498833001499955456190701695430459583885125382086777607021670447795321669948733328973350279846928613949120929250312666393359442423066212311060931469017737106028339882830848/576612418511902928757340062840968526862381326698309578771238715462180282212422302261044980131594522407066369222998903808960617461164985318633518680304995784614308979881735537678182134128319596636920719106506829571072447362052319438091347699720147003209417806230149598345068078717948025207635448205253184540936478445125","35289653975561083576641954928762116897061274899517309102784750384002335187117263273488751066569234386120759866204372398611196356888479036949053282301027789530999737306501029700128744408015642211359442183943916106790666114870974212159410284751571905275610921784716184508440/9503006066880728386808143045924119024212377150217533250562188228062174064693375135306438120385877320162710918716613546077156389583384656340709638430674364232343609717735574035535102953482366914421205216675248471695111720986346092738728929878538430662191272737183832556131","102633551023964794485575491065909467125458972250222581133681080524371507544152979467328048718122409841060527545925136196267751819689935599599321090571687632103850847605493223603751038996548520557330016046032671961857623066292962260173840972332108111505971231021442896036760967107060309991355545554631003681544611731245475968/27459658121882266328752886605529964804078316737648012166874496015808620265471203512606463219297059547428855195782384236337998738233668399173746663289852416697917397644234441300570212555870401420579737973722145663287124151049692290432756231390864184491891697469874600345958989433125942336757049639797225309327019275689074625","10034393558388390065766795008210457368713365491566387292163814915435906649268119060550511145023450790393353937124495488860451123302412204483570913557762460385297770427946219119911920640306914453207097103853766023934602534502476962159682750262143380527529536498215384467975023/2667919902603322771586358077760621955455470781865624844984169443739075976572061827709528710108877015489050369589117491611045518221354793418884447632063538994046714401229510497599783726376490260140723032102883617341970952663947646017489439179953454964374887388652792446976000","248528145263843375390386172800048509380966183384567983242213959113927668429802237067505890436957693495616107089384741585283620097982859345081736730899912519273262934785992235852866637878831878448348444611412764161078458068549719800733237024285525816723480868704742804077255242682077291713092790250511567621735004237450946304/65676865669148624809340872151906045781446981664561196686217551358486802274698228825404698950974939545099727242259547145392352658637333562345477931951890984276718673618736565926663528625796412420753961231404680876558659735251469326707567479071881966875336951133475135427640218972722939427821842173216282390058040618896484375","7805448718805635696495809414501206964843262114470109146341305656318015059743127114324245035489577134938579856003956861881125856595981500593426840968087618241785931128978516340812066502964561231235073012672356530509663384739132686548934288703179479011016719045530855033205271548/2050525178024039744126592505352202216905491833360272553169520915020715464206141942151086176509423406413311520838568324134077402841030113427309725873344806030836314500267104070131451720947531994814710189000076651895520222646974590481497382830325485174899169093049299764813276375","3355325071293197839434119105039673324264765809771192815982246040415580387729382404624613875653005261578877047405365032178619450963731719777167015959920645055600439987161800547901539269321100559393048973255388860193948274255340335876890491746900991668165565729269698196233805991206691196045182214641935483083662356666996922240/876402579119117579582569839757462461050855174353108858954282915644790659429341853404829661899850841645529640454766173209897510988090318303454542547519850473808789222552969933222203420847859171250332350076509996295844203965564448154484566493395403967626596213792922784509892086361572955175655987334882030766001799867659814117","218871061991045868372866381545267589365410350294028138778572466235486397478028823720846191998825628156716190463263492304639890659254282445466806224943413446008645087186307985343574807361972238230520975439736199291019544576443791916302825193643774360055545186783819367378492631806297/56849560726416896431557940314760680962653658127458002233782028041537121216487790008085876994020812492987733987414743604239935223783349870516284048368761617736127892160849065895223288023531930411718807065209903593668117085505482007061969339237404945180379460053180570404846043136000","5008685108365226931582937964451700746853986170633433728409171904803795018146152804690759530990140552460596075588463394200510044617816085275660078502126507209302951286606953039953843685800941558212440519542602092919776366067720586295390886070120828199562643208637974347390938772070049344991272621102622931576339988103674070876518912/1293888539680354282541277646947380627241979967611883341823378331667976045287311988103163380651334828012840330710760757271860219584371109472132211215957402251594055009937397184768184517621978947384029376766290498101728971145633139541827544539988344772578184316843734267915665730981857376872622787627370859411909330227080697966353375","15388340113525711660227566446101909585796746979396093776960989868457211684028149502578116456785221720682202816140911944661051001675127262774824593420825587319436537346311831003212424497488485098543512314062112948777572038731823948224734505930748371522309451168088057190162878224801232/3954220582960831691377435160890656173654063611768428458807273708040518769541211737927975894584024448193835165167801976423275767590502552964407494549049777006346189436817215329891530811451811864579644894987864267389290848598289794977382504890216219362031324635609053075313568115234375","5099039333987561374222193551155323470675617979816941646196895589439391685938046865391119484510329634015275893520725135141878751153360264368353595348921951280561029028912953500944814771064409611917475818956659775131751121312316084465321917769679881052144364834485866477379437705913911371481828140817759401117780199246301705600020671104/1303503600297679371136943454060319958680553228879031326679449263682048703103464872914972900105569835004878963701599765030590097739639045890060548760692125546754294514068052902543220382104483822438283040090444827980927544440984823535260277595466339403795403200720622852069244768910603820007632395190204569927612348189089161551951106625","4902837141334073026145827027361937996261324349722726869116185158777439337041263482852376194988371853413467559557923410949898048139830183335197992754748294810838187068126867611615800383834975563313220497573778480109264178673389149671194149749735833378557143135481387904961537942569904075/1247045310545991266291285730016853118981099516935251861146038369985109288084420528171217942065832292739130145780833406014673689119563698528225048800794718789218267628507713621235056538202070171596177775095071513194885568843375526804796016261173388452184505503341132236719484809714335744","38114743522716832107917466438257616720476488812538316101658139632867788464381862291240727309611460187159930652186486096300862388591521625093237019662273764387591494074792574929490381910446287947994150655077877204446864004067956087975012773988833339521775463977233068498404144221045837190392670308437391686081418318624745039402145439223552/9647001083383999453668111809775451078976046488746916070976218645431946648087171586252172936600115032316383427265217993193444199863138429602138841976586190525451324093772097241349417938578878934577091671046050326087898259692917931230974174799815198493279413438192301437068820185757869608523761456160341754512329264442115351926967120404125","573695055225225727008803730767518906490704995929177617646275646884555707960986625481944101622708415415988844740028718027554452662358957933526173824325955904005404113684003841990198157072540659184995738719040024647370869010473254071681533880576462368600901824622431045529064651675640055917092/144509482511118816399089096021290587489594541280398871255876563615464628718527634679330291741479135415168539765887291789615790513527330600394937614433502341116068305347468133950204152174094704092402978083370792135432486240914953928188835819767755172666693219213868545854371103120604946200875","23876960329653589647925126180903391687666378233201794403339630995420215267415575142266707357255726330536094448314199602616026935251126469221925945960901748679919435908556550271504767784553484434363646489174587463466333864577705745452492395785557425904735048180164697040313528831173448025400634629163795223739061661461986923675833880378496/5986312408594306954013526197465608559068621248896320652512228238115589875514604632230098997609482248000888567135685167138762172475788060284232459813998201719590208742091697294562538265829954186149162974972471533202880368317237508987477069872431064075005305838801862900501819963793062041081601844759452202282545840716920793056488037109375","58168289917567723171226992383559866214094157894992327555495441698028867727845766488121900626912848698952863438654895252811583144479300382761129433911280049009362667380001406579175563745824368613319103673817094498117944856004415812877213722455299491145649879676787079744410765053845551958756701/14517067289347903655500020160671113450349743650636953726251191692074385521975132268313263723831804150872238173602847065423463131917373356798750100313145228608894881457107689499956903046984443545789053438946050974567665049237414588435796381674590098629779384355275820782532479708807512981504000","728621890568281859295409481422447012528302594365693410763821707074444799793690738137592101239862736313347273167450056625929591960610208335290882047413011571781161008296084630072829079783328937418641417642857196346026366370059522990813537731394823630207433267854616768658990289454635793326766697884798538576055949457122067828153655416688640/181030730759516991863708593747964787874073354051675597050399087612142539517308720603687322924426591889179726492403913356461908748733972707460063017057809060190437917851790767968877215795679844983288935075688219234885360839984681619084834228226744165610073685719017596630302462070188937998558312507638434329299017584329479516410907786681093","86855946923438322218622470067224691860808273886184997065663554841573982963995340977083049132518812923329423480393306918856650577072525633920456721265953575424233701929892019410099166322511413146891121248381648145391642571638857576890568882512129960291171866772665863159474602604647289052079991768/21485753507365901947528588896402264670781310878547726104482740647554738151100954835784115119035980523529677083504495839730499664052882400915208251594384038810917282207449860876251558307288700200910747338758723324686939379138206117634546981163355060740270734146780942696291669461182599512320099625","2158989152301022938148680102142188531448821359505188055264665167313418619665693092337665573150374231484840948447637297247277576415460889296724813940128955070240137590073233263168835678714131062764247434144994737610229909964847568491446606012581370840699582055341626266533733744293929658949697805855362114229666626620766245630122333733703618176/531794915405164005613733454597931482878479882704956110685223892325074211694837836221759995948610212818642789132749082430059593652854659130217225506942675608692701447738732031302987802196501895840510235161825501235133794449421919927396142470196961877376701957829921152848178076410141813926924749057304222282687697297216661687583257901415465125","139432548574396829074586704387656697097760057897628994548358619815052936481650396157428747411173567801047221928593253479330480454469358220685854351236980383914223693722868233819483137401339800304943891968050399345430243790898955416907228948287367356990263740207046902209563417267686591994743547621/34201151688775214071963206765436083445901621442002061707492082843232231754829227303539041286301398668437202547003300396162741375435703188500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","11008517174872833286150985180322584448162884832099344969609291070844193524816852920942383850580217443209402836100467940651581092350600329145627967515818684442171571156446321228596914355704205623857871497315955269266498229823278800717909321269179839084452384509142712677235552103459737790674103994445173074670347080506698168482564009465276165824768/2689223396936080856855299215659204161946704205931885125148201643087176556822542895325191478283706585400237901215485150928036895428721912118467760766508162631903585126377676412573187912443878232521444786090510891599171741773242011017926658231638022943018461086517502584854390836347781674626615709751386455292026775663545470794167629144456268750125","16108638074211260588800537540680707641986073914251424878121255234668558067988171568946079848860335948991834525552515669040163026131919804987340113244760738846884911038097907756220945883750502673899084880578229601870882631165510396775126850307838505063922101682333806284668762825609556049426829531780/3919363961344261777100658318137884299575193089462944554282218278496298610828757650104922583359642384253066896538203596057302203635134833545580869871333892935330950583664400555463557735723364497947986885146043017010159347046389604172186788902608216894094289769850517098027486468084407618748895626853","34420755849180279597302103726180110022640946692592540634353734157479505420320000324260530767186132260970572450489530034440214259559325114511265075416512316229177952140217732655405289808326341696986755141965043719344169685611217958619102774617224847284122901023774956887687026904767714958090256282893003000752947427857703259704682455375442735857024/8342030311716679826889917494957593165464748884572298173556257652389845294530325764837124998293398445804458613956489096007564811101361266196542129764287084823604897187311540561857741285793447174119667215803837719660675298308873496219385226998078648428368061868944322478384684509466965129972030932418920415308276430355882329457342937549162000252625","345888075261020004071220843714060353763382280664960929903544964118831237876694384053904571498830068831026644303797377762345709976595360421502594656308937649239978525713471393570536680412814805076323426256584504251728507416368609420882442293831684681071553766603478479006495757222912500012444787804577811/83505703731469734628961395063481893801938371516752417759131774530720075262459158384433785006689548434701904106312038822969658455364219435022841597243178757423598248565463985786213156556523685666430799283870548238467817226915680747412191245046634279766450629886904716776719219698922088211154187845632000","1061717830619177527082296723099890392273896386613997004874669053445943252046748251883532634529759169500795452576392700472771365240996842610207274128102329096619028487369622001737128463631016494371635687841733644339636164570819431573829173533941056258744442930643735587780907310433371453992062647737259587563398111688659657406089003293576961475848704/255359631537215747979895955806995352799574790340218399351168178555478073997876110889483456972687438702262017800167048243754141722496276537685853311434069991222324039005160057724073156957530106623908696241268268096879569794431919729620178375212905203484165745866913773304319069321426245521467122472046370356725530914587807274074293673038482666015625","274122944106300296738399632684955400761495830361663966466225652918683099779465438024846903286816813856490888796372134557295699980528187779624865098445756013563535339056233912394908544185885547842235097677765325396255649207317018754967666450708249125316192200151505568416495274671679500594656671785202496/65687592621976546250581560102201535533608158256953087745856906437400149205693427285162333502528793675585022025602144243543064185647792948495372442630333800126269123531636800213405254045262127593759539706750242430153456891792533267948231185296091297979933562727112487057234422009426868531651634706262125","7842680480716516803148821198697967237136721860017131244266974996267074742248599085253569637183007740566941125452215834642683053334607896723447140851344501084122965014242091312411884985569341166545074688756440728922408743841592658677792796881188604773469108807869960161395759837407978596679911066586626885830991556090978327508459276025943279064965688960/1872528612245648675720382138045071131304652050696842872529163720558126655075937845539792108048310219395746259570506175902206215101518698490144716531697689534559827422735649881381597761684154409796315455445459537515308174919488497154409643876490472215352056502193150125644288086294418253309947229151074464928874881827227706992859640236086417889990541889","5300824422251242070074569186825929119848111723012841627275830216301188228660779008353049603527567784119877706984722171178137272986345560485784907345500893648715341273841147320288851034078863843374665850852481747000237834238703248634174397792745914847774297223176674917912406659831206869442510948965571661/1261140476013707338477604677428573831791396352814802149994640617701773078174882455512668089072441176857892331468691160991310474734143842336092636848492066592397892638052212250229129355009939118431643425836944282456647571558383755315238500832868535816144280088644939696339160092963629012001958205063168000","2220223718762215584659309059880106334425515875615107369399767892051551634000614327272260081056973863669004224981561870246078120862256383581012183852291444462730018546753183156982897386563561418424093883164027305254176874653780425452987066512563140531367766900610414277825262239199580925879453806414860409441845631158680721091621460775043562065815179617536/526383206607841251253861841374779803798480623722760367843070466043030228662340154304405180907941079883976168609082254331465595267209149963786388600028701073430773581228212441424400748220833542964971495005714483235359479470452593264280645360131482713147116366500300066771223383007216182988263355451923333319170174755334598973202740108032097242475554128875","521891797109626296684891455959263713257353500867652268541535940159815152120871142196535233326890353914761242025931373491906127275561002910157909306979093246574207104081108188995072105948138299097848175016082947174156278439986705241571619793059501724269644447572323501261424770743329858038040685313621446524/123310256826873923765604825413207481739886340225713108649758575106598510022338480189649787216845041382860899099250547657534972156328080736149239332330143771138115695598493059325064119176038137294863053148618656356436332991079150723235214278848602671333076219529535123842212129829931654967367649078369140625","66086044538329677372986118727999622900471937619891337714357792768200341519193500393739322894033303245376225584865369486696276607060432449792893028061817203932068085863800494054274423512956136695211796751845295921015953538329385253280866669403169919614982155350899648626481405781514434761541281229159396787287553493046927448595964103589100429722948913403008/15562137339474350565671240515273666798063901504051979980452491653975250630723677279081058884163396938548780856293034775459223871281049026140999055923743471466471830572672766633086347312178711643724485955576579988182546105048041649947277672869613992334541438784737993706482731696809943027528882927942967419447250586964258807454003775693567366165507144866375","335377615394100148751647837967017467711612297170079949298328061159559939969228226474615711044891085626519877634842694983669611974807129333052471799687426665556738316626171408219730853872410792831871526174987402129691897433888027072807302411474690613948951673562473758814664346259109886876538510453475290967835/78715592752271462306588358880337347638000605031000575876214116610339827495261512281635361568951675037834544811575026718101166562072917855004822606752296233435017284127594847656529606648345533195437635894948829857913798336356647286032372695130461573940500785137424365840081503133157308796505622439791698116608","20090879701618729602554170716780970848925039917987945471322994867171660307998603515745066411687983450400412739285577269751603921163835619296822801840348319742203974023505186187060251544248644338412667631232247108675504629538319425769464277309915502144443973397371136256151336255138506001292355330875114245901820438821732843540725116728866301271466614762497024/4700223519410528857298732096729483544820841497820611795617923063440946097326817340637303431283005509904481323205480729806879570430868897342398783028649633951362398196137429076844504529051072393709154483678349272930361110568616112723747726853614661953537957117231900032044221535502745676310313569997665352252492568100075191900969170979460298189170486601502625","2904778979985524171206573028445379872240558084236464200857594814631031581387804621371822074061289363372523364167184697785570324832815972970658633551879143187709707164796663015180877412717910872234647704536817108676736661804878068078543241390828229923424191204586313620612539678930999769543756218765870513049986792/677408099044823641581658869221044375312077929976719183424865834811543737800956896926637625166844372424044003929341361734886232742770909683021563822987505236295727478159938135467975522336774471915167606673489722102077041330652185811196423400701795791669780695158730756241178262962515917389382302757366325768069625","31270155809329751863885224732454397292230969002004953832354065319735530624996254695453061851449600345977646455072512400760539747054003851289540339425848681804190284451253462663731135337775088379954403740058084949675460445909826322297817535400604180338201322667139062500269285493417563095365899631360901732684124930296643108551710704785906431324876072470231424/7269578038000504017073007978844992319987411732848567116655821196644382777088703228960020894756722675887473977480537577509061256138261063926845643360849217556370868752909531088361229374467207196928745673402380473721018157327193509586295879051411183657185176812738231456253321187419224704301236205478184115996135940848503487199394612616742961108684539794921875","432538822079707760382094121020421735679118830363764570640789368235407853152380328891350816400541189148550353337874309885334920995713154225799660601389784410911658967499100610376065640785585342035058364676314084595283850213942576431310823836792440218271879354669291052589804956435743500204185107215929849054782893113/100246574739326291035824954677502591279343311051719151327066341370995390423713403739043396503785261917771859220535505691760472395306543276314938287868734009582906895763073519374099272340577921671298878837400921045252035507925021904954445172372479744465666760762909731237634082051855588025732494461939980856983552000","1914333673689206389116942789116917579088664511118582610293383428712902211612554212779880638065888518488492298586641997844141510832940409501694726851666478650414191249534733087933879981733561565249818572204932715347752949087800778646065986244657260832234479202201129845117955957242616947361016603702640821256099895469088229339240402478576285854783063612307200/442333801076281757298117784528962837115323835962460661601905131618341609371649347131724700192551574625400701487125984359494804828935577124602622582550626336986871791407398609915208114339012374456785705161994343348351473385887949809051796407340988735853810174589261300681030826392672282630613354461927208579993042968520650313621522933214063366558703422757071","5704691626402072213006354545292364761246893919997531024861408248746241619817955824682639582830486790618668221530365426203424888737658778881721063941495350237419723855000515747725926735319471480027293210991869255971365522170749568996651406002311020883635577590045650037569906001924971041810547543163363976464780729932/1314240362076792592671773873754757443276256223533339004339330559325754574023619698171225777585408160438834449576526997055649849875516310105297894855264038450585295422343454458568152668980131977005808840141079502436391909349182185596381509091427752151860204235071122788499996991078935216686010888734471173124487937875","451219364084386208718456142329444023337343409261545444643031014769484085278440612677813682892926852469540118625738238137458321112005189595703619178533263706811689687213128887082197330137502064260105387500552856851972124172206996205919556553246133218441769325133725631665593372188755090094541462474970525820334385058333756591222492801647110594428922046641945259392/103648250172203340865458115839764297558925693061798169434516001775068769911768281084188883278842546791612199025413573394167639925287068809631958006622842716869211374513136766899877504136929177267362862319748507372147243911522667591375015611312165464514308451222180272935398828092646393830572838772085366567154646425598388620105539619174837489536378605144891769625","1591076564577634575701791393842535460875733974464805197283632670013516183281542903377750304419996681222758401497321278555686661981435637461350320471258386388843198706277657208526372100698700615835733712519332548607115875288787602084336341594576426630670911478276101702119972195558314357975365863803265163991961173/364433108410193393847203348728981296285742202617988970384277162225847256295865554341611171460436362780497179090329831885853324392923449579538286804729856000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","5307507148709435807261229345132535134848030343901300324623409721698217134932866488937772986386501538026693956121121771089740095760486362654754229904633476234090792827930433598453200536551779789049352131005222659995845427680686677324963223653949277037520711609343166926627713758990384011274777087968799793410506391884872456420041494598273703914689586637995139580794368/1212244290381524115082005575105703496583315188540177702780216570265159923654197746388568151706509243638302707511238539845531608313334248788980188054651601536067740709977678222790481348003085034888244447626347312094586389347535167903408519024105748523384932942441843118813819781347089702286481924493361058339731949844620763272778960860509570622673048786968660129650125","3046577098843580578619955603029073328361298436129791931304665777036152915858575282362742008136721284817899542475666054101957899858138590963789072530710775790433466847100422875906866496318804986202089528198912098377828580031852152997907433335176267300286466072997014023120087988748396598176622765923059385876855303940720/693911859077752895978833241338902695755528613729508555938416419864772385336777924892434701804078893822446727762077537955240605927550548046309823051841326355655848406646248595628715185413852040295631448250459076043816328082561248420925930431777502622148019371383254316636979070731427737764160145097293260938978413488819","155310926743873343426312607182060072939030765297630534544899230213054714482456829198485999782086944271490229412707980997432528653509945301574794242118433868747172279224118534460563400440670015323324602117517342201640016853927923976796453577048995243600967202462466681112804476672348206491490513419336308575442086511015101999847896197546900512764233674747415844045184/35278162986589659300679088538176070649273991865663041616088851923111175518405117391134863644540911005782372831496121355954470744169969774540892096320978686548284501139861783292226140413769665461494668479430833892857992401391262903582109993838728281915806394747833588629467613308837196269424421131934859079260185052081536487462257809987002198437182539441349474426375","46729591025621874782758519074451728476386657576036360734358719976400940301493939192083339293779149127132651616972817165172116269307276487158069293114860391502484125554406945249728802484128756924044633825692779783425628292959170597009935305429239702926898931975023598456207165067568919757902764815108751735753431153581849/10585868084079030838651390738371141142245086465033459640458366146849314274285871375459898014414833295804139979016362796357043372316321872357817727821559232353993714062535883074661734509440994664726425399880995133711038483607773782532430879196405793694658185175583691180757783597895616920432527125993118171361116684288000","3736372348124144720852190769710129461145889011598636925228657393934132828633132357232883470466940330848177425542748100211498184494252714616379450272611850068867816250209867530921278645286769418080018709947826876461419654782341309127709703626401211996255743831998918894661053669189312375159058718767082163156988766821194002596331826150321864927832618126580509732359424/844176851007504003627016945212023239308348428094023437269532743221937069345682900884618378849283002998220513307273333096775669556093005637615012750733216460458689282791632437851364674879152695438589692227159038555722539345972833161146108367329370564838671791241431125003401861887477969954740544092178721327724620450947646209914621007186497081420384347438812255859375","1258774755828991281578968023382624723772927642002016270484090409043454336040857926581316994594109169123354553321469500848146015719851609220423736153365139804086413284787598253618361769125996755159571523632747129480387254164008968993734442164892486441152227433281625391753702577143985047832519062595123255569172968685060844/283659859661671181526547833415653453506477950678651675193210969173130116121017723360258249430884213011988678011357458727603413521688184521573094783291496368005697481333739504490647194454695504722542014845706216224432373442438242355188461951883454664693262684873988061018976711201351382163527093784753398257094429403691625","84932063355292829988908961192574710493098897148701473172754949846455626381329456661808566365329266898990829247446356970454502007127269708487563279536825277374133681167235811080298134899629580318813382668399644553111080625918213250223197440426147821225593304993621451053135332451997633132772608233430131400186571793929377129211228689703376067763625568623535588709576320/19089978133324852910950469658566458037096027722326716800113107848115231563787455584278193954518442601810776347091253561956877155673550458955562102935555510392954425196165785410319126098393353878286400877305164869548380670204577544630353859009177051698096136470072137579698473017257397949994722015089768745013713383769765609613514021200888647472804720456494757423299627","802638881530832431828249604040579750916118423833791608589560402449036920165704012070349537114920882938466635598602387718300074733476150548724726460209016834416094317724261857969955414000155807312852092720310159572547644569797512233899495300028159721348599816083166712365215075728968005941610056018023633235372936903015771583/179951197386119079732438617407921535065140503043429174394605652913879982486051627760652197484142547447000508189455126493868229565647284332735552462525598465192073558793335913005459266977086104359621022691931002488052727597513413492393525660272900161375677499228252863529934576881596384036401784035248649026076581302370304000","25208742399375362881099811032135575360109715964024747212026245529087599633280142314962581193303683759605084995818253124445773115574470717199218828756449187055537877478033129862600982068782249943150019637186466260707552416433010545437321814115233841687700051830170191107127799355485920046505591193770164750886037885397478191534797655616745528343172318318678405576430544896/5637713398995569614196397857525646325234056219513202928587580534159596897880731043336790273040813044077153051260989730372846713618900145444802234629922717464041261370803598799826604841654608724727320798324006129524610666235998113655193642594744544226880944882342204407750193512869672849910003246504052298022468012594459974209940607450480609190841893267203392880360823875","732332637178584560220688900268566130246820235956768724845747830959547501950765063982943061181526237061809052444110437930100210105274824607344902764184151030827266142225894655531497849161692760385938786736436977268616029862577293984376170905024712952813234949508186306774257035535805330366742322777611063402455261391021097128/163377988152179636922409938163005948596822656868040662831003991395905185823836089887990201522673196719628247106777881741843786365701135555917263285268753605514812568258179391272113405920369587922702002732667842511108732068683407168090725712401954314293193572654347237716691784386690948494003094992876867763698101043701171875","22391374854299462107923583267570593886002658786775211597896252879708753450794332301142909715845151746786016535157797023153041007263258732991465037648536702217273897876864351559736449481285518249846264600935543582562018874574655740660800634883403597181876364712521253650744197321080655028374602772696770227741610874399454362583980465225235674816785988164157351243193265401728/4983275997188967758382167867656806681565521964135131710678447245984239733544941881418957694612909599261843693554043504855207170782744518943778096768859337980470219783210191765678908537645270392500777411134164918803949155037581108678968701961544979451081836872425574123683574475790997414488641534074873248802450108535183413970057319247033379016606809226547805269752123746375","21252344995592269775107236774689012760750850598567799560343535731251766780016530978663079386453430272698006977668063208502408607227544322945446079708000304179073184745623740466334127867464883762843346619853325415963062181018736410570113171387891518398846617197097407612852037905687899800932343156979591740310928257766081697645/4718515378484509142377558412184183991357747235892194234377932213613746008373918923611236346330189287336493794499188640380975364991548794341177060325509698404571318037298112293926833877103554546466055612498927474225619680186119313129604319096374924037870803554153458104225741255753314955115645304948564151765516183663634546688","76703085666560609319365659209445044957052359500745196718269665234646121134787807938680787341023203786904308047981099228357850016602203539979246579454229078497537148799349353250167621935384193502383187510928609818011142642954550330069991570983902841318203794113898871515702445720207144863877026526025447819537396146822201819435536435835285098485990260677737192230985069824/16989892821104122916312992616665764943723222199277412857053896319814438961475117951904867066845412639236790762432996309717924037467863024360211163971190006272168845197000304328480920483651558672879967350982199768255256753110375467976246339260326422891913564151453729285191351273342206198366624882195135056176502724912849575385576554208844814085228696838834665339811027625","40153831166521391225489894857551838468150576827129133168972859441122728710165233865309084872159583787083130713473702296122465319276461991457173085312407612757280915853584698420083436946976844240063731333638150599017886937783470942007376523947840104246927580254612991191040951001539641947153847776050138532219595746056076776809812/8873576113581065493273519627544307418139908640325227196912114520903505426722086265723900326735989771660987609604507503750212298754414472822477243293638486047313990878348820573874809636084574108909615044524663712495422565151340037564156235745628465172219286664653343193162657374410926171153516871765680561505768223660055617934625","200736374277835272485186523480177159453030082779872429648449412313247640312479214261681899286513818912991945046297334418102711629933437654377760028476767482162031641781499114859553677502002901248124750539270235098492377826240319766677856465093871367817683734079621359186477306173620331748496369122143019303740252461824523590096923561928354020960176605008889579578495073283712/44259440065125442964014453739391594153290923937737136823355312892557975399035370631521014554980129291582486968083228888083079118116286312583989433037097397252506140224404130371160608365777625538148303917306340620019882928744151294738308047800711028158277500317134537540772759486365658024194428796846364486187105343266398338060080611643110071184992193593643605709075927734375","488459049325494693259159444507437983381645757291858092983371672334043029615965882574409808932509285079401239403272414271652617474184321852388397021836909585659327974611273820676128650810907598106588433939541654215766888212287311943387232664417347883717203611092450971786083806323404432266197250919880225892099146722474124874256523/107455855466267410923480140898552598306699341366032095904938430084768624148829473848763761936703072253841751966906142283640379336131083461646777390874405323298406517250231389493084918065243079819898691146841695350589992171102939046740169198394671965069747042621265775948217054519855346617967866614303497258042439052681849864192000","8430374068596413768975326329313648683222744787097373111477788794692418932056901235174019333392845529821722488982447683794746518712070635063397464904489452840169472596494433874412726723065560358405027764015273789053064830528919091414531400589850704395887250756457780868677553068164933299802944396576360356896758745030955907258232257358056931680617626606715393885378887657377280/1850480358582748412767893656294669486390769246349349706200869446679212812264400876685764762211659843658541567071977813110496329850010288179702589501255367345935389050373021591572539260951149696801665953123597521983257852207280970577287472932167362521740230973547070264273850381896786822127290397075758780174083415923482640313277341120938690594859118603017930500014640169211239","58273615882491925540881784328370957720539797010816130007322211512070634295154626813477498607761260613353633996451797686143131893884559909668805628269959901044961666535533876340116728982072626875010391195372759135469446048394835148654407846242721443845351855234347422256700864370273092971804207514736924787577569355949601385705517152/12763172138328432984573837529764902730448666594097466544652830703737195804747682450548488162227364538052585484418491914323658215406327363805353540266048943197822838925184942600367647278764952826664684839953902567694832690683467635727409976388280092262839126779730168889686628630302519063225007497707028600865624133968363921915016625","2685278694947152969468407055109959900160804835228466214479525891103128459065131221736713585038130737099067040196326815283171857977706979990467444622550497565521863441617001097354649972660183038850033950647594754644997436624623325003537308428828750008305464174443210079059253920383411910911594636045517662796811001285984447671371943267419151220518726940455756833040934506414133888/586864816044968996825907488721678304211296267371936463272955488077666796280028127333229453342355554450708284934221461946991556216095213627059047984199091625921432110913096253352065238765240063555347292393427726758010888546427415276046238297382474708612526770055488323003698641493939145624184943388159614111350839555141202024991876221874110644879676602924730506882384603409121625","27700345710264347957758638741952394530538598225904772664391173119594616680996031886665218221392453628824570256438960349220263575741495285780845399187013582169907518462437966962923592601721119258663490655013419675469864809004562272799012227293974254329929404036071055528766397079743200179924243479370594973626764330855493789112414191/6040997839051213541001279276287478343874107660287651711609067205111574718442229224212245187655300348484144001298428958025052162253854676210451657425437588244676589965820312500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","80160269787574270953020489212619791839643207793889009503234879683494928396231769167082355143564723274576166638869430572977442020236299319718643894871736539109822173538266278165276591962215927816541165548699380129014840956895931285215480350321259054359835472320394089646764361802445068798451796525897304221529850133401768027469126408090577121172238802281079916258951770135485696/17444957084936455555074876721808241311651668802091828589911310253709517226715880722948267977560381436307152342821304525073651379763144281678911047276389231713860392794975453518107055568765009486973017341479560154792340888780337029481646046233967923289468141293699236815196553819373828280398488966665994092877680860643266914861837639322607761804740256920429518434353839878280875","2352816897072623416220002134476921108405735955266703519252095150412419264317091785317803024028565851487861978477208755211589867803009700996828082850796103789009194767813611798769297617674631277847910238088040257037678126316866517601388289837575778165301828137259948173292658462765645645868094197736382683775415645307647043205988394700/510973411316690313485681833991645423802776865720580280058344111363363091616558230182669376841383375321912553771027107891991318313938505988903735114191313214327683449514676737796942389784957658395806951715454372568523597420866050825822028817422805046287798054682484158011143949412956697442991898914560191411624040490122951328364833797","6403295584873165688372907494046202150046769667837790834896334486679541887567517050446119511695248926941383207478170182650927368177009669717288184903306689332746127845953193587519575304974203099873732502605739219028995266139383163062837007982999189114810534856227848568800302527760100163350814120545587074865568436789021082619398126713943637898657861949091545516403987546145915409024/1387794272010111535893205703999712437783041553900341112488641528986385462810448493444968969845352401058333929711237978223214186693177251566069419805757440174840170213159651962686467523533938145629444468366235554597245713128812532716616087753947246800626006504878203666972651384731498770435755225220796872155249202960801768048854869001310722927230237083418017482134588865244642658875","82993247683514419570466529457059660634483860665557779709153549045427987672829778520201315148149878525274005978368939092115193636113741972236218502664881450367443614971109677363668874484696543982239492409231870942414193419634675024621942196087473557914167832058111113476295926250739099284241826553737074679953551191767148712684157318697/17950946423927357725787689855263532224005643859095168852729513034456208872420513601894508438640531171097082516559962755244698695622824386001219435651555513795509616906355363573638916895074349491513539093024980575852693293474288638209680085037286354050958859425647536735341886663074581909148323105020337857959651624760873736590065664000","584891611376763781852144397260140844977346305541197362434227194779766612939978629636198589818106137319267243431810481928639442343946346034433828599323416877248326356345631611148749005937144684862502198147087702668524450709118588741606955966569427636630159793409544653944608958808602551061186799401212712216156799273254257486955348236914237644151956226336750212957092204830385441792/126256710861549838395499078249922986417488985866522660521294610280820007499099176190820291214370699289977888813109514854178180265382471972583921477022411657285850911270389720508719377071949050253246021921916685716353393018411683757067093259101151481189635423399611625009617884983318141463140199839724797412514785751549277231259345923662499623640886881048572831787168979644775390625","4743054867460856425399742072925732465660626340183690464743217147109403130730445842673866624947360862438925194786600531200056131309608642363389833474026007798643235346104937733349791667694862514383520689594596660275306247615314272223660862212527346572811422915223417783887717426641317921972456913534338708745549252254865615725859881457906376/1021840037832289788284691535543138164288462770384961802287250236519983887262771944174557087207566030730743075334169628971336358708580124427857321953981475719503574867471090607795242192417162791762511940848493176847925838738242153177311649130718886794249673254183907621449520415060660496225939963471753122766421338241291756892571824984344625","3784664074155769467702999785016514468281913375341134899878893061325465790589101335015569840325786070795267055386681356241209412947116340524588831510768864231937929260236754881829005065056310226407358204278658699999612596866156294195316867934035877283950841910726224355461522065773816109849107487214275801829843762482082803559183694631856772777313673086715631547326400170962722842240/813783281473223559981291694175087508812520505931454895884442580280342455516154674683217348039336712901850738745276445107477919518905155156380620466135946654952837573797479076027688866326359448543065305071605591497778941561986579230698384305536224430794233462949056326864499827444363206162251104552740175503996670997705423888382328014210171324376593090187604268086334796245552762333","1946671258536842642381655747294621776070051525209940130115769153666368932042152311477746728678182920842238801763565726086459485050237860693394471644023999467670017470376746609892484192072297938254898880354014176373253875722410186683852253828299669530022166361304397631667133689128358365296701757782382475692465977794960109690362462330857/417774039698408581013003883929127512062321623871486379101498968145670269174833505080260389860863417408848209525427705249526516766731427603641806256289098209429110794311660844125377702016056984573671024035213045475132134896835814746425864304907974005950155657789157496389234919107772201305672421982198984613601511388413381215220924416000","328578487723377153600821813410631465225159589727320893988991729306688663770697528156625398176929288628930496338036815910669579019719633124832162035588583242320537435554101841406566009219059042888412893352417446437227440076869427577701706713564212185163005644118869496869980925214424591264870388237079776503547314587137721633918824664946974571838634860386893404364499977966899068777016064/70382695927096628347637455030970644630942872888311870124896575877585692281624151103204551947776906510366521972834357031777287506848887607457751667816514216907338309372900327919413372044625602555866294337672022362865161523684052940126509854895320132828009551012639156341878073682501185688461720664801829933689280752623773789373199210473995823367199793407048741191786377993390965297664875","2617201476921368517857942326432090876874414269689140439151907982631768946799200744678055980827789859579196832718849393046147656447672531861353456343821196812881882023188898815179947651274131166835133965629115749368441605680383605331300030886676081418867305170012032824011912531673468215561506423833911621270680104083533917562622600478548/559567121085534865189976875600841717161617153776904752351231210970240323460800785728739412474960421770806162360125774000625035522428160837855944215417821324758873127567654244465281354654299068546570789547691342609793050301258532586131013585959164719533123826201937801986942606844854123769532447570107525081084531848318874835968017578125","636225736038986537559880265988431731529837451289737542395494683393492040808565905376235074534207026537145408562785279823547657299565440309510931336394031904920056464959974743525662459433889398003683078967642651812081450227654478095420306880762753401111260630654049389197602389949892636943971690212484981672010398108426002137114819838399222096538921225458913266993881960732663394566024064/135776510176793971074115131648637508758953050390591773574951317807919051619690313331192027871176160424663811116849856489187562728496099757910540362703888937768555824513740118941387831822900198029266206334350448626733139136083404404120210893986654422850183837974770675600952078956326317698998103770833069712616832650406225828969036781514645731022616236082175582937900731419575337473384125","266695771933124633677367149389643417608461366874310588884377151539325854547826373711099517873721616543570605935954334944030816383858485296542260152894035979141266909050267414072982042090341712035518685997484257326212454742816979806460287972757626105526907510197321350895873473656215941034605746494172316089636216915825022339855304925515685/56811706665210352283362623728191218698295056176625217939528332247537278605113496147630185544004654583441448319260578659922931798845493756189402805173037491645434052737405379674607517658118427614090338938517963215812444779184193933749520313676564187507594274551791388039139409235056119788261689087831209441779870873305232021728002651979776","3511806683161697708497547617957719390189982761002154386881580160856792742952365159764830433511949678304281539875366378131195670004345568047690216126001067194904446295336734931691743477531830892015690816210752795806120303198745685394015161323982229908105397857791180342330098240702332072396030780386362735967021055250450666535422528637737695053315137238368787607412459874094164027214953984/746741569878639983491390741637813989978804202898438708743258000150996080386381281307609038830698579358879333079215327202911977568726258527646560497079622703052765164031089590965199628534477381843079892123440214378949632707668935001371616475282883095939750704292616758568964786737752325652839226013335092148777788733453702438432279149298482004122593243860829060557386699231448957232420125","499543951252504651717279461487337168721376180441322735807713499521878076780205427598086756686061009718016175215146305489885835839673419698751530207404115002383180054704927695269921072232395828258826213554806570423602966743337801741633869267620843626804016742412046844770601322513184123515405692795346790813502805238635003099976693786012816/106032986203682550514602969462803214831559442358811656484036951559991322084935692953211120289352600484987931812632505499612220494311324679562152078883141464406938524087376964935494245010636163705698220308243980789514815579319533341929989455211613890905485981353837321342730307819060825125980500975023479813757024395422041501208805339176375","8540849722242122835873311629952985285477986765819584558233324868363310302206006773828897816547299245727087876984857726652932481899766510637403577175623031467933486823994040576431755172220921921877192006685053572215922347418846423419683723609799729359551828522978186208983138345476801247634773975311405913274552616037005854836040162212761099347518242200807692224460514057530656658616850816/1809694575992816440924165741094996511361288430727981159314194000585536832192004274726651828760263522962868944612215633976203596150606503849595633388319338251977160257979846235995654357082321611719654136058257458753105122024859078420173515189641515736029725847315662215778251370398007468665986604529263071981040014321717598469319370651877296085250322599247141397427185438573360443115234375","51377057693118720457387330519321684810411289582445982078756989158447711080414032055843805733348558621949380554029375294451303430269197115810494758213980833379214402452992657502777067850631862453239349835215260705131864911194740832694498014048717871429797341104227759557199716944554347879767916801106279081864127192611546757627038037780244683/10867246748205139797826516105458406878398263495890048637741584969144406206902037615496936724683237700974333817527350121106320991054058406504571347680049945745432432384570515723033245430148177097144850158758462968940525568041926860856763884474605057056550146491001458649244094211354153171337463406192651150028767064600270112838159624568832000","2517199821548153657910904242290029026229621935918771922146425373057248090467388430999870036608278542449661971830076845113363443421757278612394167195431759807908413353743377586893872930828548256216510734912027450642648789925142482023713336937258932978503310551945630359646777080073329099268529064437120002567758664419443374110941824106727218341795100740316967386497091058915066147604481280/531524260324016969370728057738851340792702640911631807178654723224511108065633433027773388768889035083734041289308124943130099580765995149865288328550751289346866467755881013217287175392101334538392596956248952430438673292186779006015549928829953979591250274457658042926539541422697852390294886719770034058916886894408015624288115732154492554105512936468520265305162358665491880968652687","937159485027553069020805864547349554547661693803137696125140510201297417077233061462068930061915381468160677500445535971818609631674361074587732183297775728389124966713749450996643183965795829780345678634356741756033039293590264355732129789110416943789326482663579413229893878422643110852069225671783017610387570935863228248464396615988222968188/197552642195166614912991396771845374656891854357948006221100585931656016640982345159207601253599235265353060942313995345483862152489766993442419668492877390774016299878943454249209917002169480134131612530977452579520564400124908392339263545911443803619972765231094502745980083350567509014991735227390978850048088378721210219321877150756855372125","5119346675109082499980756672052066247676641510661024682574296075659671743397880591881419516307292610449161239233139088348510165442597278965718490070997173182184417648987611422446347235659085092530927312760229499083348217392125906851921500360553758600756698605047197529446594606336369425040236883171542367713951500007600355406492128741649090501989105696576697387613035366083536629358444229248/1077349190930018641197987339365056771667455373500846354778079878558146320193384166982231171317419356136237346389570422332278447217033773023556383420372685049620361481309067017697564760747047839930422553324681218253359586320952896352245366885171583221864112040038531116947187482413031483309534553461613717398523132176948321964066833901215878133594739833910960843185464241840039390204295097875","58469980853327028628854378052548435225264353747414624620847476036979290604604988637469977624105451959796142112200285366199247075503424204044884512269071061176877225315884188402954249683107639777479663275428465242905314418930053869461904934138752031124685541853599407727446896558064252696813370692668496452783003306386669962110734257851955001481/12284458784412533668960387046583440199646081362484321078872891438551639470826582933879934711861551014258493898870867541349962531447724393381011633785884743889445407749238183080941846528000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","632694338036291086868292541736272151517212971647680989553388199374739841494700315711180961760384484042159533979873604395621016272772109619401112452105475906812313548587880899058905419220497456502543971131226430775692744506047039958551641270070996110661036371362526401525207493270590999387476275629412687473362310414634469788979236895300129227082421021999210841384596617452097273320509348159488/132710874087075221626157136110978536488168313127228703025408943153782802265472978945703742152954881438058373686972477195846162708986982742647038014147903817539418442869011995988024638278746664230046452545499722614320284478925059527086663455478374200352375121910000967044366831275681254530914306064535110528723482282501358749001657608122307686482720926189537227492041135055090784059994118192625","2022422468242151190347511883185841333968390991430363660248687284021524206079162212007263606819387821055183192871951076644707111802972354128011904720586729919826758651167984507804867954970064938022106484656560866447290934136610214175516487579122328055482392137619829739560923807880779865442016530712986750711199998190148885726144596663143651240/423528009127070458603837580844559347493775236970253513203186912091140251858605354218715508091394564000304400858761758838182654201653901408046974668599216804223721114331085507752600832390227068985693006017591304916519540245902645712532993889000048992026931475754508248265356181099817467608863068068953756055334213584649136541490530849577363647","150542201776735231618709653388506394887777837646651406023174643241783006776019388336318216053045300417086929061565868663031237502137150880313922488106751241006715449458736723129545400133450376339156062387859536289694727635468338235084533552501618659272047966040838509286942825414463511175531001410923014751124732748099355476332649458471135027773371541572374016038525336728276024676601778299264/31475618522527975728853391146702172347290819252268551219771201846701658848754300838383637247014705706066050673096278897933831272607774110183488615338021656923433335661890414740664480671162459271850877855521869741833030384682549648626038314686632195158507693321505500888988183270276134667071014075017317692121986144742473139078857816578133693776368882596780120407949076129685719314703426278875","162664351499283182546788129866259011542529017155637405328005084357078048074065548349602626724265307733005745244338982661090506394708170105916177679714664432754153795772811389612700051002336719842784098507498286260450939289109123759859710248621544296008356071415713931721102824434964336667980062728653562369697289761913925215639430496443820411811651/33956433298509232632327667206936379248172049619640091186698677954874297837764235300806836350019565970550533206216590639008637925266405524715041372407701947953283803854153876844320283735281209725651036513491246238622967031979233265136280687995181375582844780830517825595245506321879177965868747546127685256867456319112247572348416655367667187712000","27228583713734183629451808889147559240254570554044667607519238865891084165382075658707675405673276615039702916443152954157535195508033284355580742761569101934821088036084480297442018005972653124248838420021440899368869744141698556359295489470499243402799483082406238128875386939389123336303631993557844565927960009744780823166462314116039469622216263221278402673028225214534859076857413557466368/5675134787340359276387085910732530678163604187009567576895331134521132071092293139167824957253050637085885426100206370974479279292804959049999647539684766632278449357893560561608633329561385765035738071726214510832066885156767060324427330401967034889966727638276371320401053302413136551142103678412692111973028587922399670456670380189570979581674699102934733563330382821732200682163238525390625","1340937726818688387636018677960518622106989311577445614347061615417831160296369500704524022869612973331444242000788110133157689786976834913297544087249593601420972111789552905846168933014570399562460789075871112224533723259660967481288525220689577290386781169316008987012566216235876842757183233207943071523447855623001920854571597886491163165150556/279054368814522483241446594911968519760869180429079780837994812436395792594449929617293503975169489945136244602350941695478861584261665582123038340824700224583170270427163469762789603657025958695551448477050958557681299495041994050951692916032501884523150972841782658389836059236040091605838583126400660344344601879969354053137568588338096589095875","8910951660339249479517731530773509037034977353457185453617569046885132434552771722727442649095007828468878374139001808825741829728375370140505088133244952288239619141544661695065318568074863317054989982620944602245967155400712702259180443238473885690297281525960618905625084639870407113029712510345262279507055197024677292523214467306898573956604928730377318210588837126450942086527893437954864000/1851573255256476362977604759655284263358595254392797078730401113550522214182030016660458780180636930591149034499142464357511158868625309442843792189394292787657774627425816694628839987456477799348874853555586931850788645677998004186437300173080088839930384424797706381282430208961565555953254145002318893188197561315855286173276564036402546798318351229978103276843822345004757661005876638005274037","84997663352987536417038496128111159210386455419431137931308301989414462311135708114322046234708053448098538629166672456703651524480738219822858469100454933583774404032968304328859365484249897913676382909050450855222567147661842184538302991526635974158862033287154321908483007506326807469239745851379559259262425675035790574846229470041596801343087041/17634687575122715507915388096857069366146981156897230620371714518707518105157483283253374797127075689236298114335734874553183291806268149747826050838089931351158483980735336772879045027213982661634865556129548356487722537193914986994283729746578044621115589195066212043187229606921062007047940293972381121200723292297716621231320254309060321476608000","1648849257486312935416274009474520589799750757877252390543329851029437452988499485179026845292068377957697884739052491455807688429630524210823560524122596610276957537756142278585091315141096146341773982302888007751632401090642472506538817998043326415693840862261701364114923327286462650797963969289743571514890723145251583881752876340628073395708716735192690808352188867334842743895738955762067968/341580411902962140529547622267381834425264893226447658723654120920549166416114849731588552578626041597847002946105459812230979900480135423787717825697955152193526724029890829615845314765605770060975538542976523177976182401820926854406945392167140347444433885786340415437006775075196031433365827874254477351374236932624514469241634422312990555534789607377023339236417434574755566856489013828206625","4899626659231633406569362199187192352933567344960498139854460545644210119722856870634652562532083546344965166340063297647520613455037240144734014575196764021102614748218834054157165781057405100578668000290493431869797883155764963238760612333048336953434663867580862692267574574465371615023999531030446250351305046572267686566999209229202587258144318592/1013522377571209303732207048597964555261512342860326827024786500686692475697570284120359840724596444209277948648863014479460188496587721578075151793081823795161404110811480269106846359964436993190293615381593756076515012514100289406862487971220020752628653845345780766244842386136740768474703009091552043945843632199999007070800871588289737701416015625","362903847358088423032098939589019598036593525722040887883164115981767777873860799955715587436566233010543937498922435963385091400670303956612881974450548904906949032005878241638546734597308786514086678561900713741746905742866635779432216761799371793260025549698865319760786921444505323758235164807966277024031605673481480590193724980659448692487108892154809490199414370023696404259691299614147712/74959603173756091922435708504751461448318819548943586676159545028063979695880930926805574951275602951047845904770828900645717477098988124553474616764040938121171776556999069351772286262529729056288451037717198273521810585868307402693261479298923209587143468206907278220909447483738730657438961435587752873879244136801168836767273934997417156543866722171766794171623224855358640156858606843576125","8521348154958613550574095745596657249924328336262127244827955886474742319277424381360677655239017583606851483318951440691757875270001283229585075137091617073509041644097526047127618954293881264113694362598157456878784814696577083997902588926421675843291157049153701100218784481406086810264243143337016042301806376864424632290226377881206765051896745/1757584673254145109614914862134217345456065873908262753169404848658913774363650863904627183104777337461445063704655164325930891269843669860409763569362863600932267319335889540453302785099532688264425988677082044905948179153286276609910158854349711054144968131934713419772852663860893241364433872853338630216232313607969790083448433666334742108176384","1802461420562646993856730082999823508145602238125054717836501201545920604020389361370931345491160549787411668288359013059160331370751496329806488246135100776263777863399096485894306306621852596694700845918608199329091852956315870664531614358379176680326508877329862713333336188556181470928613423972314983964578645688876556351433429494008513812136152576866650152623510296911708111085518974142728903424/371238439252064016214448115231139360835481920731625321084601566992497057371416121407293286027832357816257507287295719261141426130159269433199862002841433235955835172774430690352481806933860390015899973299268361513643524088242973968537595085600335021120523852420135081643310663869327371821064862449426404044951571585406092523478861879148545678639697679215289523234342337347529225543852787599016265125","88795280670112240977945082069219541902481768504536167808816453021962616596410396813316064685579412429940019071114917828928080181638058444302439626425155946562362550070187433083541414569447612195370911498321149367969974762244140788494955146280201020345849385865084095189982291190135293114489407801749533448443222584092575861096946605418438181411489276/18262596223069549313969288693970246663726147886364354584825624311486557881239003216971630599389642752648815377795018130449384513824927138566203714891090017787258920529990523519479383032564209629983810866231367438270859421572641494420831435563580050954867101292568399107965982704216434467243223964964535464624988344342084084237484262612100980519602625","752911409358158070688133336918078236438086521781731735123294741731669530734909563155732092406099003582749182967246236657021875488130304108082404134004381196925042617909108654109138702993903561036987511410396567636331465803949049946947888490287210013788802287247422993384874670368649616782837096233384279817294778916419067404863458318451722971117669642134894906235066332205740872938406767767019265664/154635332883086377656813458754577288834216641577439356891585125701020579768315520324293435008561626926046988056302745604248220408154454267643222328696606367409715369481567213640103076112146615938180089303294709009813772509602954514391675152597458428326644988225555987883250642389550531163153338541870029415077982539614784206119074702022117790679351778993541426110436276530890609137713909149169921875","15286089077439918584953144558775765002061832952090847117286473868694909713791678395221438112006475047633028543501632631679316850512797978594476229228325228403849089079675681042224057234415951253954044235099139983386056610384489202589484570852048157272551098909455253037561994944665563291526597323199530997923272894119350512727802414680772513760081360291/3135161418037836259442831302977219750614726139657718770206960776514822107155928800694375522572523712277389679035632531727155957120566617736817225541673148354829212969778664144907503411589126111888917929495106029890532891919001138770210977012708107496187227751496980000137223047079127096028939624830654227758737339725345681745847598157538483308068864000","17723482381737693269787076798246423310802126092500438681864673375704464394105734049099094818738115345706100191580982712146882034618103161268453808819471603805345990162762722549964406042295355916458624836894291267553138041035528315839108252422478610879301656207772491548742981990469454529537049123948604931661837539943536878260665617524824604291547373872716194154198824107266275716083848262625068958720/3630091565725887087605600771358216927099748013831912080380983545872077197366172619225751217619097657405660172801849926220948413919823038425519006413005998509677472226729295278652284861834178791332630676772284971762683579047508016687969040658592436230062049051143001484384767836353233324570686249824980508520186643477313941054900197268584495128610811273834192099099592687485176400539748616360799518357","39160514032490258389003214587901781721548011632821053230881239001436341012396166857515197251499460842954863342641015306304854226194551189224721257664420778416733889030680295206179109679627522113592373938602737416822981698362363553492610842201005420727750505681358595340127099855823746410663750133019743170700888375554918213182862789028531284364877435896/8009919337434786244380818390213546866794958389603666737562053423775386173149395943310276429895991903753441584557917565343673605019989336264748588735390182130334278887642569515202100870042209261561001627386525182096090194076839370589780431326097965428311786635366819094633651297179987340498215947144870164066409654464551017761658775207392803825996394875","18188388167811476762477659006849121912679763597132233588170406666718758511478154418948855160838212151370453213943784067796172102916618102024199200086478021533171984254799008541948973652219533819511807681148179806051835318645591102296256347927018942348574774821478499092054497390790734798143983945096982240517058861467440217558586822663985584775920517755909444876443211404222400335500608733284461685888/3715278241795087610941547133490827711133909145414878217965273061493740719983191775105550559905283733134189195190321643965858771461560130864714477448011225816210219450040558581571206711791272284197614810026220745160693898421068168630870850392739817340370146186703867097982858560347971281142766235850971837330222970900661653800041795020382847588362774677568059355238174402415384788280852059532958121625","46353430636874284402376008361176880938798775506236714098123916668545331718677407145199311191108199195405139575147933283523305343027297808443653460575141799729554209181454676876263582758919969948546918471128299522715691694855904535448703118221685887195383025133924852224568922999317583667985459047407473419196367812949579858081181660610155317911318937349/9455890179897829052705408931064120820559254220394152447502395298827357144081378513080398823188243663943177539817982481713456798757563952162598464929784370305696420245648035222083207596797327498500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","13607414211126412689435920170832779523235279308039712294681570127241403406455725064605210473923965685858012114332021572088551127762628892611459785625407107300355287623761046438724706918300976102581928643740596336865698485838431972050267114940079353996100620311097561405192365496385584164725035842307146351211183443267583872067352881387294766804298681841402861626441205037637282007810811602289501477350144/2772205947240095684743358245950494400934136973845543049938212403703005150954425087866758842625041409060217562878157900197951382737615822655863548356735553650755342108183641353142157728364469706919993519071329069805875834057743793434164720370026073143626055293058601124362130539040404491770346043977106988100969901297669523170508321703496903672333781306743488573086901583022550356345156457496396749797875","23264350093315690507131500726914401771633259602904894387312742275462601574788485574913195967854009886824436237740789910851843045306673524324611130536719802717912615609109285261163220007241492964833933975789257681755002054890453747803418465119567389315754801791950553304034666399677630030683759466627797123971742061866928213780452325847848901682792886840980/4733430508316851445525799359992627142007028326865116523033957869609125212251136452396410236930025876982265915963089597825393317909648054808274488356887197933393799241941120691826916741647173843634076299630884655997401370400734954098249519111198509015387869462198674657171808841005212058822254513429836457539629035675822719720295352508916898476137111981397","538960934807826161927564251064896730663918579817797131801326848839524373936888402762331254883505157846659830555799909822861853145306547699817986010353774500545305596630924815657016569444824389893996399550343022444937690798126189162954188680257730893424775303801562327757655350002001080811866451425665301674688928515041429654624970707803336800125648742168380676815769457467038849213225206824671025803392/109517448833211208909213522579666376007937648875042608355810687327424621469323788799169718267715808580775296460944943658428295481347915131091297305260674731651980547668762317138753250458639043477453950774629862540017034566407286963562574188172753764978963685535201028286359818524519980885827473904574840285411260037264057197155527809916623487144493019982419606308144576939532055057697567269576800542875","24451481554350251656598350124163983489544445991992661049829014268366250968046589127810466483349378560701491445658725080497078590986743512397927747885285095846398852574219367580068049729894667374214861939897557930527646930793431512683750733092448862551580494245486308114129295467976874843852138144539250235632985676953662288536669286915983261820949386845806781/4962240683851186225340479316959605207278948397833849899236383273145853045488131674290332609876751222112917095096150531825255611911377071887145019702433883343849119017643117746273523770961304609989779231048095665388209125939879595509516490230961558353074751312876252070889983946768175488341370453053495319823381943793679003096504200440997908071027962806272000","166591964685609920525429719961758335887941461052357297159523350448241484106515158310298216150030768812873781356326923214637847449893575074813991141092681107583183275003570804134461187213143832123628701876041315736048451374824101256980832991214945762266748755723551899001458245164317581617731332466039757786839492869211248064662857987111284518155462148044812626055842061283907063784492325693994911811072/33765943466859756347231737285768516240749714264564410814839966011490233598006227246396923594069488496368994857718734549787000213944990695920130591750377483911116845697231074543526982580529937081378303555262933800375576494067959129682770065443667091668104132884375840812635624862495548888467575848428463895756394050252457592540570490061561616914443009224917652440212112452400106121785938739776611328125","142464729519206642943985715465196065680101634264787375740459792619754842396453535646509170066091478069799080172299369994438836484938378991283020978342879057271045033903518255546705211647900945143546293360496661466657600494787228476009216508124736254967761901224547269496682078470378676865981855568197705507111970901389105723589666709580851611656838285777566736/28839643075889294346635430272525349651555039807615358795334663734940126053968249608601725991946342449660829847322517564370606746964714098508298705743689729306507554363954348780144675937510900983622836770223945538844314468550644543502501484521561567788992156632892028591678742014134130878101553633195551605796158103033794695984958987367799607407626319024034625","380457154857422076784416625436182734840012277442496600178664323821064977485271288502806124740204295811759917468598315932331219906040253463960961995849761235911145436552991677050565022181516596464968316292789048809559129516930574340710998611088996508613850407294743457197519091160170604426002924022923388338999324182261954685794522778833029950214443271526469607532589775916381786492089432407550224137344640/76922142291839859196033215395526448408989799722090330866256930898223012427332209054699494033511478050536463051459450844520020426942553107946282832072826069342120835351421637970462054707566481086202287686453371483126873188020538661871147778312986131920021929455276187425940666580158173676284545586944833678819622895550345083175685846944633982680908505900099388037050135210936852210263717185637166725605577","79999800708369666670693340813609265988600461251844239982904928629083975986385235816587497657678297663151298709076884516168798694292862559083730259839524968813932151813233366175091317046758260934357096757322369138747731224414176608247605314668045838769433811781490030635374856042786947109101585097035794969502111354126773165391577217071956928171336060247633607/16154850265413610119312596299635391433380319311682208755390341659152160578366244774029302281068833963848811596545791104919556346810193385001196395489740571188884873246131813864782581356887110499639544662322008824704830818136660544673293865921754569356583698951612797219776290835161780326945625621758204931298948625885081325268123344406261740843197232316416000","26517014004241498798848003208133111307300592620947908933072661812816683085261359696887064436611747292468717739609776825664344064024535028242737616786238200200498291226984541942836459188328346609549239724653950302145388877472274074665166631509490297630344351573245265440164082334092997307729007429218385933622623935704482371360985836659823269511115937443161532987660855490906546130131716829909388620539153152/5348257529530073524280989257577050878033239486885664777340947102417077875628238501791711336803418503616042922880218860266611595594400020206192599559925169589023339295256084579966533260861249529670141854632965231468533448709363477120437277477668173149958267956654411822360053335695956270719680086524322530514249891157439878407417971839744392044064720476417844056346174795601710447583861127956455406902139625","71197348290771978405602732839537012310626009318133570890482364371056186523989330157966045289127980687764218363064941391483781008265266963537623770685390148810455244349859354857421474277963009857011653865476081389968122418691934354122230780300833008753686234433642072919923583176333668289998661499146617277981691372057042930131717336250309680764289256080895092/14342680993892886303954853579883363225921109635079605392320944523109187641283117181461662846411912306480691901515655220490850586434947504504317080144378185989596578890875561336496479576651516902048606328604696610314441229321219627021610788398730173161473456954861916116391687748151443335513249810808309201830214153565966339609616397865465842187404632568359375","342401018754023891059352629509715357053454506037284788725127073168445189422181540408896452651232759821766616850264122591225331120588918865882061344322996688880669665450231982002597398732201789017495427566260651180470635467002453249479483900268320570004293679361696197905823690145326531180324429318916092471863347575533714871355651558610515931373080997536792242278529575700808878786732127630024064418468916608/68894647682461956089382461406499759613691148650738957016015844830333168307020284281532026442272618372290646283794122772122665531108484704223311663270836645399554940741928358317884620420886609705267248656765357348477857852684140561714900614303731786621656041881975328169543884661780531057279582784036689401206706069028229798913082362331334839997133771880514515972024899408556517159759907883793675672065360125","190286571838805495686895463752492174798162827967490343625540320679760700551286395956241059969689020885714190883323266375067607282890063444652926151862650426323339187596278760962390404656342309737428214493422028545912504503974763216230927196187743439226243880933947417760147785405444976177822143722569696182520826218120595298059020305548681823408268556482981325/38242608291912408815838081993045123864617058390583394828737640036167893859507494091864963383596867701436244007905770284939991912884465101575490548813894148831966132970730263562113961685364216989999844961688441914455435934703797359360780356482629495214859917249465567846934284121032247250332634283689409883499295469118485912489058982596725212975311140618764288","15345379701153714436938289567639102307887273898834051456693981514956329731572600026866162286097662958712922836383881840211072389867463987895894067288699955858337488812343674818565432780224654423872618380928462939482247900055572079914753652915184313685270722583926261499687728814560680092231526501970431280783177357735398580700300402036873780385926225005561766822479878280891130232036389707452005183370152749056/3080426623087819678602049171756961824196425548529619576972793653585089380165862889092832375934535464160425580449193072125955685099151500755278763306599307218302635233595329082702148677300945556130106197481236122437978375963261172524503625593066102601042060541617791008722569799735202779005407381267021641545644264334109052258081225159748043792288699674153722046659880085850980843460715080965607434114275256125","36443601662144279337033484452272105547257065463167427418525882851507989449375452076227652634440476502702584889057376829320548464677623038648843251719168810701744338735202853412651160681259533015293997501525430222870696235141468274274064390273214484922080219643095978640300874086585386991338440415203863901714217818222666715642467237183267303214471854472286478344/7307237990148312451155090506264642657872224684879860008436735430879314349554023096366846856470375025555139219961666754780864835035902856314981482268319886395881809659368275720375576152008289949085453326722156553603358879420820012964006978808113307340321824660484441618487292138631579616351777191144073820686595597986548374588839763719082323114663844043046087375","1575294930860663922843149113097927168024893739962464327016763741314068438447271326302129681931564068796631337571133444163024224071270063174829664848259482066723104251718808936762938249028582992557822551950212098797718627418782376027133576209718376784834456568694813577764300716139817031545408608110880973380162736536313173329973171844528083756524804574267826691156368696436273087171467254161930265910972517504/315498546654512047637461608750018349421492986465373840347519942494904200733840189483934245529561231604050629653992944140351106887747105945984325466452136415067807666316202346895657914393512001212656936450425268507235863153258769360296536050028695266363553141327896064944506216017933135251875087069031098099192325817395958019524956320840925176589616439477134480262100237057953933117460110224783420562744140625","7692057599553133417225997786980128299372439542315125030077404519679450372805989755158000864378924877036225189784045171045139667691524763609840822628706422918926410377185494048355128046783294954373197082851501927410350313585640237550107070936498164597231431242858771457898152684298047446530220873884022213114819556822050178579707210264243087257050468000092842761/1538814487241112760739561704846381585063002784795057066438330325566843108114787083741788078680861495340026117682606689156065008672344707615420501964123121620401073675430690541617930520947170306763541251152854304975131871537939618684186766168376514664494488691311397307418298556185724993104760692216619178358268934740746932420562664234738576394742559349407744000","15190836470550557926140012263310230378455340797095100474720776113765300081463960235506950799869073894127884189857505951314428810423734978025409205413789025720642609035117121385453856877706229778165533034683130064865256448444765902482146676668197546098809055341050873494446231793312407516463576380102073171090898973046611572020564659042146465345334273595086941562425006763960197801018796906114925005810069684480/3035556598829526968124942916297025416522606357010637652635799096498208643970273828496655227572100159414352020909846298817521082538898702393916708804775798552206401718323929157863173504795127180177622667376867235806208021329981136637175570409791442328468473111768140746895005561471574356889047981458002257872092408771959478275534098789982899056118498417649167444480913552548249005268380838457505944462494874581","2923754549090941424546974281011770689534961442264350984393235983189168024079617848190236639328676436485460311093391982825027512234467853098757486086492333410753919927528867817406389678461354257841007722472106464785557179844602277350411593959136520732862935740433163383885526249897183805981219416420390137516812715245569037561966929572448247077578419534651990827044/583599691615378545100950777601104007812792435102945248411439102112424251478512952087517463400054567832353967731887062349496616445419782499817548928078665212077449420216892583997505908858360011413290038645573504472422610780073975450391707084016931661068694024023083417126286468909117254531307085545768412513447197205482285022417611018126886491416133665625891075125","441922815213568908489589193556560586318864326425397702047965372289295962228254658331201274291697626694859414786292266008476137667843874780506886929181835469302142365772763129838217316953835831059616268288399119642314758261677639945004547833810080700127847214666763863338091523753898362699222880772298183760217731228628442782431573977490761665091005756534420789258276075174436091798475838370152192077494553263232/88113527373573049332749294663402406454524640221866407165839162576979477138694653404281889227416977618913249275712917582743426231744980461918772793673202077716234026090308791893409200158969108910565467273725064769890443408324386897017825489615600787634985397885230455168591240328585041836771921929567914891379235573982442311269392541694564675053636078990836491104116280492254795616055818375774141667319774630875","91197133767962483852278456285591810579974783077874307589555559715577599604626819245000672929518645004771085106770784762994476973842713035791487204122653245797126906189270204029735872508462106527240320932458036231707311992868347221176460407003487373754014365881209649632547685657666691589606571865740595829983849941049450471212387808617247938941417000965198123059467/18163679611214677813643455199979098261849405189805364986036911945012016248297645596270602508015864371788974684317239728239847888960155365342460843559658233069613218442910226128113196984801126248862273503232000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","733396724434554481470656964167233690851279923085197144879644750437402627936723531635898542414136943003236478432848965516925891956615111678444586384493883113385335463639674699443808084827715994137410743992130712903997815471369201406683862985677774155704267039224546352414417632475628136460919900347977754644214725932476856018335195927604771408949980634142255497812566866795799230501026066145434755838336990365184/145912495644159810313026420025053989609942265686388630266226856650796088768164358961644113076809511566125145395699271530802891523741636707532676065833327082092521989958971154798465784847092870457944857590623097781956884297103961713362268264159015928554707158239398721416218953003215109202771651993622244788505649098445109438104466256408060944298437033058380804126574878377874459371251056800895394904459469832875","167606423853658713615749101123336326908381619586838606922565378505211386185130407423587264776519589295420758009764678759213587906216543160801059029133457062067529468464636376639307690657945597847080706144898920305379653754920571797771178341550808041652360635584401789901525709166172283390177673009483341826911179861584213314395893323035527116283758445038413646757280/33310364848744488727470761889861069993071965180756187311178124887286133554324042422503263994717993129539448310743598138364172889305532401505890384806078790034557049074169245078416704866867380089103064821732673967120808611636618526737138435792818828990403374766228037003927569643972203993263329403469747342204808360947840103843317533210523853631711601450617095736473","22466735478643771803624909352181817912387732117378538284107485621001246177152644141853604633676939694208131243081227668237716194316732125445041260568403752325416203858329469477774720998849334961751541191761521224644520742691981372782009394826739249604257098248751626957528543558542443122470657230835176462612530464044652140581367666271771882198747182114685116336512604038833327707163107207664705120728068987996560512/4460342260599110071819142535903990817893424192972341872394014748315090430999224107274777695306032783105944721337053156074851240201179902835353097683269298594190456286888326067932777720561181760369783486872666974623910515795208353605697065447942804414120030678603538761538385793829787734830129764152263691296719726909633580318897787729004972323599773548689272008712427926734258913271101899780538635213826239542884125","1972862002066252798837977155272535342727415329632252213508267781390870646909686724955861608046325765650407340102472833428905279473185818898693854344138403744757857928883601637909604082588338869612221777263582365745419719805587946558326048087138197694016224613118304623864709183681172362693106460535117459192992832969130895829916210933710820035479169562970982784580861/391262854245936198649509275719624152305206807261382621390946060636032376057385723427601113233050260359684153963520782285097664628279596618521963444574543409076428660874564026651742234728997339844161514273669735686516761239076529088145208958938384732800586298943281728435207452253170935715239392534815683367114290676180839217919539381651841151674859715992309727232000","25408691426286653276004556426513401767718328640048945917745783225459709487487356095164164652218100925888847689099153320777389381851598236046402124684511968385325107497047025485302333503075085562533472482645023963717347867696861885363417595298751490212495932766872748125111115039311507374363000062513977436921772096443948159289707996749061007112458126301618769295162649600673247799961118662602756889448152517364992/5033870770817104909025512331238419776407331281944565644457345507262881100618908405924951559853352841154730802006750688581603270849880756026262217651685813584900300357685874044482329601894134443542753690048962260914642678445058891387041919581376195543193199307524572671344323361282633828144708683536721118910549933336800461248338059209853766305058943888965279863852107507075916981165164543199352920055389404296875","616565940481577765011174617619124841631603944267256178093555235591208387588894068005162766513720546626399308168923904625210748051788652328072241494243040185611373035059619136712559505023703153194815611268503291295059648269772663939137446253437248541496631852986499688052678961495116210133458596866684413931188348798244969797973846568160999564540652111599082181871436/122025682149627484528651507368051367620578469392233875493556828623437869650284356703295836998178256875766319508797903923638967073687991229708051285605187358616531926112736402511567721889845693991963610192161413692928378708223712791930113386840109729368772998347036090902364801014045328348830748307179590755723160142468563977011700764517880467116766150322736003147125","979882056834583241477188686550561625289337025747787132773853690143359657519481397575561812727394470125172272246774578404543257210124412718725081536309818383310896102958167337333430555168671327992395916735022711297435263157670501117734412587691271084981140167017421900852550822579410636184333142944411060788723653596377015359036101170054828623669169047118551010102258802465554033173968468183492058271365801755986560/193732066620504775981759812703028757608600125742477178751189607602983198559778039141192492589734277739017909889924488699372940787977794555519474807920198944109549023547259912324279741006975129518191081373554817584214941629021088206977532599055014150433581544599721903881284581257812850697423350805715586436114842183295730680490110793225514602133304729484547181740290534056445482186430729398701311563285494964645419","1138059441890428903336718712159907364975959482163004276901676063186939296217569849990951930955270849692775077813359573394435924934540269310629731801376134549169322946310756738187834128956671195358413024062230774111935109203207768898525882417078119314003162592087920755572050993355843681931139257303484526223461840939880759908449181135029327442039666513325916729112853/224777393704985303260433439401503507705148576727364388720387174977154204629336985298082893443205223017966145098064861566754244624732671470935725326043491911142467178027013112527668183783450932992534517827863293825061296257420183669383719043873666284378647952385401303733274771042385666436214517205678674213118374889121542369996042313879258622144464565403138392064000","614262617634904509410555695398092190166323289787703954329113412647342230855826568873946233136303566178604275296873234926652080462259552775254755109931312516616838091852915397846984381183732773411263828600108443070778861986849272794442105107285234729077818614332155890946804257724112143631642663084660012362691100872465148864413343598067567142977134846266425075195546265101720326272502009234689388355365794889444257557504/121200854655310345878069155190734381476914416893031941761756379148622591310152793328910334357724762079139509813381997287954319983165971628429295803162563856219211627796200599196263868781937234015821367575512548522790158101892507996780675863234181700253545912643548466256938936835469646114659598727592390628209362096738343417775009361678599075671154405137663077798419897932404104579113056038271753988669813988076515476125","106893445531995430131837569895703697604978445859412739331042151546083234373443601923983714252801103551874986033841637079479794895452077803182698291822629713500021995241940133037200268381793282318691568234728329378829301282121562652452936297422136961147432559766896143081059518238234777055931999714973999553456547746825617168005650221542417216291412324174772893635832/21070287546583154895102927029203125577385528350171457634203261197137238923923245382493868134869009844094435068284335909266152042903157700510534904847257436666980671067329084409346149729385625108233234542133838924281113454526471855573271066865534480974484196644173270141056470857666632902827625475719738076524047736123182255306429677688129231682978570461273193359375","1112742798776748551928744983308584493817112400536084744850969025063360679785378789764875076529575583792571198510306186417773101346425704969671256564494135750783642910394213727189639661184379341961737135764570942961692159177189753139209638929302928699705042832922774012622017270172331722295881412111812933593370743210214549038212395941675257558442878012136484052827439007483777859391215222647499741572327725689840850048/219121905514652575155579185322367175400669386131891843382447432851122462422992147756333729893028362013318264155489537138133372703295804002840920402482110260590055749843170064921843460498824128274420925357547023876488939786863662801268798987685503391058250902634999352652063668663245829496836853509616873246554292796823779397317819134891873583857621623143253788854530146303641400986028503534408870194989478421253057625","983995170259637497940121707857673268620603982844439610076334749792119502557380361624096960070148627663305171311646851566811683351232268240169848810658089698606409195744471343416197434926513684882439596141368794175162315633192028977211909698595778839497844847281262559899914504080092844816319298286511436690429175757804604673752838786852277255064434365401871903307643705/193579499709739777577893639665643417521924510242119561765932078835121983190401762561436208758210519231103767232899529457440602166918701550386152070813526760823513884391055054076485295945972185402977095815609448651316824455250005505410192101148149284756928250258632031981439345164037318129987999546683113483700660879431801728391911161900686707231543216283304182063038464","30691013076836380319652884848585431917439358375118437035944950498156836885409110087616602043242747413728866747975631727566613593257623099549583001362246649928075859944695060947434885707102684568632559339383409378997568182445019183928058902445738702610436187907199482604867148445903921474846103586253320950728989228898324829144701782792767763794895137313050381112872972806712570559942583906619373159053654481250809168128/6031936190594376585238407905469035598668211679521553144958053099463931217856780171872253258738635531385711702176347575597387389685526098889278278029314982721284691198967204664771178761416891317672705719303088746953644978471289001577698554025410820041497108311270431130911021653860874238212040640737171103823631718483572464361276703378587106311153455557896527384426327053165214814954154328483257657424873929502112904625","33633002641218571027682690377239300567277297301791434890431645909447040830457253186262970747405514897340315490970846553666201190386457221846694126637998462873786334837901001833771510353365825087187582807843940479192544772559118293851131234910638705258664901225494129023244916125545283621607920983287799648992632814461828998517949449887522866259724675318233522060729654796/6603800575190864815125307817934327053530311915572323544225173935830559756077637251538096164499112411672913910767032482188570876526606118068929913515497400397562722669603861813453418621246538114872330536044519242663538662076583511078523573320035084744399535581216815034837553165853576616422592790103728141443697362408727056813977234078214386771115586436985105038873998875","9090550743395453237608373761422705922989356346696677314277463900103283296889488490217663400349361962695279888433677856471792856853109469433355422802663947305503479561493033851081993247556828544308258821557994512133708656174864544457143793106703578476914924328960109390350040954158797845288786321215010324565010420734044059968931558099077932776525974187717655105951506223649947806568984848883258144616897526257038550656/1783219994432430133950472014582130883873515063182143523712063859964133099770763874744121895885645346884371273930727450069430704145915261127061538288702855011220545530326588799412076879985026006593893648911637986337776174555198865379578424838210466703683642106934154603710587408512357351455891557594977191641529451749437270208258072920514602243985184744955476557012910446023911358037761232253615162335336208343505859375","396226087129511787616470716244996965529391571019620342657409150252952330537366537352182763477820160355931003174946109480036915624974500187179367618457008802667089004678925595775249725629495848146669773574395699032785024522882892752987825063933573399691764866816284097232869198405981830106568826923407996367321353003569052419999880089180418759265274331299787468134974811/77651132902382550540201641628906752945078964002822585000619340261128555048628863996784740469908853602590877726845475670110127527874088625214912598995012971630852593597027649154487264595100300180591016581254965295280089902497540043916128232871685159131211213497239568483141031137909208031392464815187505714066235868748950184065923236670418822911614780061752905170944000","1288523130900767412477856952035690867153496584747510253984686336382980221603917538996138294311274357713893956725672062832264871415025750136690143411884111580335458539824573239771267043414225271729141508235839982033182605445173050590151912297720800168687369852280323356691345317649445843078291369394324862039143247087442309135074453265658730028145500871559458519282433012494054724678302957276371418936282902434203225600/252284450515080370603949213084529993395050575951188044032908270470514999880554862449223347761507020354321422785760279154913310488296485989979706208254206974075438570521939826124860483842758137231373182496438568202110337751291106165654945352183167578675508602832478752400011567482434301614269579368882858973850914513870297071866544875650189106576672289734326492492059816669288907018095832842249738081022227281715919357","559506782175368748187145067236900803925823792088293851453005882621173124590368101213652371965740365119375069053747415415684193092607523211636912074219215053809881814859129515591479780669511533619258835199715146655774919418434080807837587396115955105126806762961292429904380132116986984435528307613054828929294602185927322238461491059740342387266084431988727321711184308176/109446188216864405154936682374609448082436347600301765944233278303643744736544109262794383069197271409398615846380701459882784547857821831816863216080069944818453908760476475874319791512782445408136169878207358663250499628002971644430164185578966399908622640732411885568638054229180673755690889471388585521113862492432946110902070139679164884208988489955874131206343597375","365842109776085256207829452385781129402656684569922320812625438296958174120084800064669048017227033185969596458778213306152397766619692644694641677223213185977626940193107608138827771259334379895020377700759789774994800008933137569543592829220611543060189849601828342989023692876182148818363689293009174358168826340010491728715549904988196347316703985894355217235339548078187164176255405596310602921647203428200269666176/71497266937783826306774367225149833789788300609530680399994804704196212252148324552193149332755057982662844988588678159610516634667597707204818296457616315484973288944637139939912166034691155272078609876888919170894915224022982785138928008133003473320018151370486895637936102520353951511525996197267572355782608352075229547764732602557133494648237258900273354364050662921889937355682486287799239363976556848320046933875","59378684894605773397070783936113244261297966863668546282887298999811950599772732377979382620766180662159460666220894896896564357533604962977968843474062092083279165837424210591042655271577974272394203253875965589611493384384257117088518521598379301169916060951350650621757237206805037261878212424267780312614942173870651684587166691539909068452932891649554575072205080763/11593916877920131260484148322810317629326850763057953025674154928920977965095141485536566217873796019006709247938019404840440511433467040918770165456925609124166970862430104329357419669175323763143377917913760028500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","440706629842402075137926797732405268015915199334341565218443748798479563505125605478061664327658137598204192554352688830679475840386882350034150077506804799859586772904929402683276898098601814091430598259347980573084686932949502809068565420937301632494387691284902026088950093888426872222813857928092871267130505744095697172494119689779474840037266295586359244899477781345249657455186847452249040895151288114085352974933708544/85971876318334010542313048056773419567285701852816309711738644074302467763075671531248793080425349570584102078764464196653843973936119037322000695949209283327606280423406302517302874806092835694196353778161663338667091195199032831587897410329509487165187753418615356836636352319310103639079123698118997500068644500893282438137614420288839230827096109835206605385673197123994357393257304049093683934224826006704198171592304125","13220371178312284248107863849287558696210741535280184003301555188086761767176560823174196915070378763091889333203635784037294769747641959860810039816533609140662043493962707445564057197150603226797446933532133956054671103942520142568674339411250001585991743608723150284270101326419464088290151483823061613403673956918458456165552482913079283537536214967294211244361353060/2576683013797055224377707713704899315377379548630511095136568220145808780162671473907260623503552385384482723173913562423316997528913651044277418227616447815609873991028073011738113927961824632868956802271260292075825561646156680740323686126811928372672670917332613490241615850953660246271541592056143611581223295045062157404996958100136358649109693659623847024011265147","1538372578072246705266078247950089219881197139399081643650271348770110178217959856819170325400476655944115553238940541695152110949081675985299189913515975242840473616169775880272489805123124548256666658584129873597192213080038937409046114908719298170078476325423466734429870048697383304265342125425087105698152643145531760853127801123272389134514333752173173161562273487752064850461823726948588221913540799816489566883798912/299566102446745552813544808169323270315327122249327394279467999308669285416179486075255023523726449428151807672528368606071047812907935426406886253284580296349349558797128593446316786243666290649442956134448480598303527795996222703837663605600624271807461605295956674925277658331760000117761013381199880905748188151556184620779667670278558839116983636972680749836497346863752662521197700717702790359162307617024566689271625","281696937222363685333688097915539146272117417024070728031063821781398985795813333650547982965341298894634762289669256129805545549280355643122501181852136332529515756074502902204877664395456278205770206019663082511098956468724829475220996427130295010430751942126263620206886404244432409164651524408198286831329682605959881993845189585640874220032515465014097345759490750307207/54806274927935495596891312029173862473687610099325998583092091915101265393157631244775387832621032230434007486602816972765210205596482942091518459849775458089575743699797096697542306049628939919466378189656065461708686421130956996965004776108499273871055615413566043083634090083096967567965373203683231171594922347812966905149873265654962896456451681332216735396249206784000","228506238533410805238253122961471637501498406104430046727793420497895852412513560203475440156216063574654372726194215013407325207763369075250819386897086702757125418327084312933061738392406321003231853349865003322697360659712771167066453430309997639548320673279964210730701373707765051246595806673865646607841876463608039111252607452843372970797479959213447237540830563469297144446069689149549515457318899981763489792/44418759813188470246596822974281932219088697005123285598909329328419879212164564561558656547678211265529803086702843380128457744445765859393426675396393053094588240457569380155526179040891009717323059641035189017918495485630657360525410506453554255734005459614858972904374739673834145083512160883402151636664208253116362089211658645312778404886460203600762546810897889629330022309705583438699250109493732452392578125","2396110297187570506257836426251930521245117960980667897194680897478996322590925380310917400763581787981992131769075961259393685331523600287377841990678117113566991100720996059187144934569703045966210306282348527729533806882408323961336166190162075154579344185244957673138372347997134388801085788353482276257401005734929059700346687783400772331280644647089520646562669857652648/465370154262863030800729180763091967573522779260407615567563274096037297593764955820626213827962697601334935773802201919483657310282236100250543992334865461800976838791035335861420892967699843608855185710753433852279737724446294443337363478679601049432404435672469098850676302728116369979460222148206944323730586138087862719386327396334468302608499235112520318322763857676375","1188272888075247520453568790651819187486389546755745961952033150576243575862120569399808467067800830890874391487822723879717525264875722720416173276963170672622214121308038530968291758445510982186014289745026439477197148445087614813262170975056866881909056450023324743409114115141145340480846088869807540798073417035168139476153897066325127540609756310068558610112731607522096096821938163134080426356894899245575410494080/230586762395914863625709048789913840511134004337945700368117795195769576856434588144361459740833007125516905017415184787078710001969815416281381427387949263792200577791644278234661952852149216540491852757174842146376788280677956350901082838474705227642420261641783722891948710833898248566893322144435457967452449965772543077421407816225704952270697016152452032506898311260979594550143344971416786595888053149375287120733","1072184299258468249004114536023934869518152618369895613271618698908405514630154819453979477077738526673716264830106745031385951736108376866253955319711026042389282009348594845497252059906901748860111986811345742998968284077119165082435598381810306691078037018432766116865792677955520465319184311529667642995217214507658693259694586107847099911341219913576038605872218680562047/207882129535607118520818565811162643811811563516006836924341123976848022970024793004700710992938987476728640943834012473687892481059618823520721737479364352887178017866425027953255856440099446112508663603319745066750522936408781591578321031173620445865113295407603090322283539974563690157418931060565698315406021569491751612761888641141446406531645379264720684248398299136000","158094023904374464057702010126993231151433474361820266584020400101533651587072432728050776506672527718975042616651177034635188178967462982926261516748842073587981953038445977514446838733557926696939591069712397947055261777416704028506441173540338327591514650398349069348381309688677335132100441905603664282735310299686268721634369502296867409514777359935022301425165750780988231639828675424239931533849896744198012747670272/30626384366513923671063955469537776291182594080083494737341604579575446319190916924682809546024369330706012653799783122328775875399363759308193432327358837772825609356553955350401725689682838701996446404559005896479618311357573203081153855961484398360670837599853294627153740224543175497655414585918231215639906924313779933211774291565425360415684556655021031131349317390382320286092667852173815259422737956767922154798375","12216278924286401897470540169822542417611356797676160128176706721343511598951866107858729405615631246003458062949723290192242594609994613705183460814797527214549142043573863947658832694800184691222426521703728394203722420336773310908687071670107794543022567943478843065246011544888390757810534211554666736239506503613750756246364621509359804902243487113673014588325806249988332/2364584127734680580481708368927921125934330000162935118371174269642831409084634375654239735054363928748162229294829526339927907778510530444646754603322373712788147193691037688552857183116332292048731726305451516954679277320777955342295564000586923227775208580772868590742136150431152495718132142742153643081187691849828217592954519485869135930755646768375299870967864990234375","578939195017447864385837341975558679292903716580114421030538728778491606282153588930983966100514147976321305616196463174070345884292672842497715966933722088536619333912687108737657068701352918582656105418491672377271304970407730786932913490869797471081081431072836814581099271832696990064828717287258860166842791984158634684078346453202928137987930328826212011774670396356151265781053547412633310327737900786639842674288716416/111966291649651600701875186827360807558960817589719096407887999108024557254221008849510152469119211567152616745769256123968832250104006560061907741567034087109512483357851919402017950812795426393415409198268246337542639470834168040295134130657073201020340432236723824670803498949071870597039309004562024033656488150406105175401372709011082725359382691270659245312133919518760328422827067578306005644825927050994860723405473375","8041514821545833865350873212853873042112343327573364523948780030849543753072688526717886590013028227714585965095216381829914996539132359247488639692828639170075726301411777307168737667077730792892326979446426349813642680537699905651125068091362135055902152994216233622733424128982011248923051410141033146604688083721413402395290842738021365861670415833356403364696759583009635/1553937833499559104910551811592138833189892464446761247731330672284191313590708439680460540329836344767557599746234213006493842842879398684745864919973051635127080738612248150108793397855113122368507483429209127035263504194847798809612278864438287815470711036548695032421148125849669175729331459149833945183228413961985381338162155596008680906676498435954178226973272371625984","12059659399309169167301353842123191409306995788633965680414620302285606896146667751472818541537183787935352700725982053536032930866708413010971856856768384974849695774437178790890015242323873769697407411558706626105140596160049735605389301414460825674631122462760014451298494875244754354054447697502521388381253293175367558014453865905104467382184997528879171136492277222127399012368677604910497789360212571238146627048080568400384/2328494054002703067219004484782931471919751585969487160602269605916676223315055450845942763690581877771159615428854802721943114463834992106300185328876910271612375509166975628540839858771078495267566008071532876816826751069408153323840515037497664871689085370699991860738368371510578076683395101062439493831773194498579620513073693022191702398601471237166387045790480861932005012807234071429628725981935147069738988682858417182625","683009426705008850682549700382901603742691705123356866338951397347368059105140826655486518416578697931244347554322654428162554903861783227680935341690740579867651545205562690172425016836559678937794312287639193745517811234257062356826622207475918293015140472942579713388671782202262396642735640315948612572908444501108579457520714632371056288874351015666995549139003946314085696/131769214246522869780429817236150406548549044658474416909806179734873399109656411633488099249198882165279745627038984487365589625562901914030850178330133080409420340227179447548044572594184601425691821617928130423410997853384425373999967759499571890326740433081063424903098252502791477854302204200941376983295622430177445507316706609802292121282957519571162158620971952084486375","1418116259749091420309271913909337143756589314597557128553117870573928055109322864794169592355058370891251425125187770724828108988587888087023982451205475980371440423992838481547236638456717520835668859093413956339261802305597694403381021863258753441889536361061407579332570493634254542013337999844407181346815549594836374497512447969751514466481466717590255369810506813543577735080228718660747940956248427356785784199073569408/273368882980516556922532339653303822104510203916024760371844491705599093435133738774975538364241630079468712981056336655766117378160822393876348755370711942273876284944422610974149712212944211513462921649872232656449940987552227525504529710373144228818606127541937831103642415534318303187393593236209298242574677293352798419428712873685798636474667204083938875672934235816396371477146089168375198141802684403955936431884765625","546411077581845999248238069684194831621691193366466972898628141511422317954477211865167402284211971296286346492698354214043840080181702652132835681239302798339667835439189275457116051279366194551632712819028177402221815140045210690908631767786711675029194359998826252332434573121740830827417293557234891406021102083555472155479148332697839972702631641910213821827820374586459319/105246945889799140338072754365901705544530661781295362563214285953881890233987516230568663143342952799036341701952267011236663118111226623815975847494372076420199418712941018288738590264475520229651370015377608638075866459684692488079223686296541020897904588347083045723167762682959422858996673894180805702299907478685374065593161226849447131100462022089783265346597553176576000","2398330640958841474772606439916070050977544535580605737383995160447105736276950196885906408317628083110923322157113892928963237845914017845444295040924101784423382681801754191301860383927129006953354739240926643562987838836997453985855576402628166875869041032631651591871962852884189548538272285387092843044669499688035134181859376665409767886188304314888753894905317929877238322615838524354191263502347881033855441181420399360/461588070868590122892265681879734295007029130965626060552783760068897000195207878227714842617470320231527222074701444349530952699708435668339712860464533455345665068841333232359698449088497137068713309811942968433868609329301082001752617420002377892756821532220676085014874112083615054550278903960627185675459015343606391094523511117705747842645927349130302549554534056269331809016770715819934970200483161548527932617036185253","6041015879424725383006424536130409209607854044642113747266098198777011981328765528361630516108680392500990580908509403483891763219659726090675140672989657743882183951954294745396417829943469201306594018454995862321821016087416840247422350906412007336103086620396467456181771583200365740253389107968122850063607085957109965406634738740996318415514360956028575560979203447735121436/1161752799109428422288020947061281540989708937450568100764830251908850596717606701047413407636907934320789870175907792017513896999208892282137299070761467096211814586909598705615312819596495636017728313513520193786266452836805291464826226833593878504804389728477191170027729963773716267868284479768397603444919008915279522376004326398403851684761808785381609370767169521034383625","13240077436443988749179508462267267187169441948722358165090554769250505713747934643200804819418670147225695324432684266924694524337920816452346599774452681831320005286326986675907899608537972384924882996757503264622991355949039882526389342174307168805166215838138277557052303430492669193939212362638263582899713198716541723383138016564027766560215944409353427176135895982596327685665844815618402881202645610620284792793420780517248/2544223084468158291883698813309541801455311468982232546872485444308211415529998472787377800559884210837213042932180479090277285630234238711851480232520137856848809986631784843528381778520727465146661792797924458540957133423665746229799675650290296217658444899605236550972043549278128087645211909479009099766619355677984218929672461506691980442071860591767266913041147587815452007726513853820116629482732060593116624596368806566625","1953999166296955830935495158735359200362904181792947794529339487489730042568305997099959302322956898299616194932283060554261566410988618045107398092345476532371402134206635235570281738377188438407703089325315446371127042537576093536896282955524842632708645655481028161471313608974238110718242273935956977555610147714316158486553633871312187084618154014921190595222799283957140353/375191165084882521037046014569185165885459082629136124177286500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"];if(w[h])return Zt.quick.apply(null,w[h].split("/"));h=new Zt(h);for(var D=80,U=new Zt(0),te=h.subtract(new Zt(1)),ae=h.add(new Zt(1)),Ae=0;Ae<D;Ae++){var pe=new Zt(2*Ae+1),dt=fn.bigpow(te.divide(ae),pe),Ct=pe.clone().invert().multiply(dt);U=U.add(Ct)}return U.multiply(new Zt(2))},factorial:function(h){var w=h%1===0;if(w&&h<0)return NaN;if(!w)return fn.gamma(h+1);for(var D=1,U=2;U<=h;U++)D=D*U;return D},dfactorial:function(h){if(on(h)){var w=h%2===0,D=w?h/2:(h+1)/2,U=new Zt(1);if(w)for(var te=1;te<=D;te++)U=U.multiply(new Zt(2).multiply(new Zt(te)));else for(var te=1;te<=D;te++)U=U.multiply(new Zt(2).multiply(new Zt(te)).subtract(new Zt(1)))}else U=Math.pow(2,(1+2*h-Math.cos(Math.PI*h))/4)*Math.pow(Math.PI,(Math.cos(Math.PI*h)-1)/4)*fn.gamma(1+h/2);return U},GCD:function(){for(var h=Pe([].slice.call(arguments).map(function(te){return Math.abs(te)})).sort(),w=Math.abs(h.shift()),D=h.length;D-- >0;)for(var U=Math.abs(h.shift());;){if(w%=U,w===0){w=U;break}if(U%=w,U===0)break}return w},QGCD:function(){for(var h=[].slice.call(arguments),w=h[0],D=1;D<h.length;D++){var U=h[D],te=w.isNegative()&&U.isNegative()?-1:1;w=U.gcd(w),te<0&&w.negate()}return w},LCM:function(h,w){return h*w/fn.GCD(h,w)},pow:function(h,w){return h<0&&Math.abs(w)<1?1/w%2===0?NaN:-Math.pow(Math.abs(h),w):Math.pow(h,w)},factor:function(h){h=Number(h);var w=Math.sign(h);h=Math.abs(h);var D=fn.ifactor(h),U=new ce;U.symbols={},U.group=re;for(var te in D){var ae=new ce(1);ae.group=q,ae.value=te,ae.power=new ce(D[te]),U.symbols[te]=ae}return U.updateHash(),h===1&&(U=new ce(h)),w<0&&U.negate(),U},sfactor:function(h,w){w=w||{};var D=Math.floor(Math.sqrt(h)),U=x[x.length-1];D>U&&h<1e6&&Kt(D);for(var te=x.length,ae=0;ae<te;ae++)for(var Ae=x[ae];h%Ae===0;)h=h/Ae,w[Ae]=(w[Ae]||0)+1;return h>1&&(w[h]=1),w},ifactor:function(h){var w=new m(h);if(h=String(h),h==="0")return{0:1};h=new m(h);var D=h.sign?-1:1;h=h.abs();var U={};if(h.lt("65536"))U=fn.sfactor(h,U);else{var te=function(bt){bt.isPrime()?U[bt]=(U[bt]||0)+1:U=fn.sfactor(bt,U)};try{for(var ae=1e3,Ae=0;!h.abs().equals(1);)if(h.isPrime()){te(h);break}else{let bt=function(hn){for(var Wt=new m(hn),nn=2,Sn=new m(hn),gn=new m(1);gn.equals(1);){for(var Pt=0;Pt<=nn&&gn.equals(1);Pt++){if(Ae++>ae)throw new Error("stopping");Sn=Sn.pow(2).add(1).mod(h),gn=m.gcd(Sn.minus(Wt).abs(),h)}nn=nn*2,Wt=Sn}return gn.equals(h)?bt(hn+1):gn};var Ct=bt,pe=bt(2);te(pe),h=h.divide(pe)}}catch{U={},te(w)}}if(D===-1){var dt=xt(ee(U));U["-"+dt]=U[dt],delete U[dt]}return U},boxfactor:function(h,w){w=w||200;for(var D,U,te=Math.floor(5/12*h),ae=0,Ae=!1;D=Math.floor(h/te),U=h%te,U!==0;){if(Ae)return[h,1];te=Math.max(U,te-U),ae++,Ae=ae>w}return[D,te,ae]},fib:function(h){var w=Math.sign(h);h=Math.abs(h),w=H(h)?w:Math.abs(w);for(var D=0,U=1,te=1,ae=2;ae<=h;ae++)te=D+U,D=U,U=te;return te*w},mod:function(h,w){return h%w},integer_part:function(h){var w=Math.sign(h);return w*Math.floor(Math.abs(h))},simpson:function(h,w,D,U){var te=function(nn,Sn,gn){var Pt=nn(Sn),tr=1e-12;return isNaN(Pt)&&(Pt=nn(gn===1?Sn+tr:Sn-tr)),Pt};U=U||1e-4;var ae=Math.abs(Math.floor((D-w)/U));ae%2!==0&&ae++;for(var Ae=(D-w)/ae,pe=te(h,w,1),dt=!1,Ct=w+Ae,bt,hn,Wt=1;Wt<ae;Wt++)bt=dt?2:4,hn=bt*te(h,Ct,1),pe+=hn,dt=!dt,Ct+=Ae;return(pe+te(h,Ct,2))*(Ae/3)},num_integrate:function(h,w,D,U,te){if(te<0)throw new Error("max depth cannot be negative");function ae(dt,Ct,bt,hn,Wt,nn,Sn,gn,Pt,tr,Pn){if(Pn.nanEncountered)return NaN;var Kn,Dr,rr,ei,js,rs,Fn,oi,Ci,Pi;if(Kn=bt-Ct,Dr=dt(Ct+Kn*.25),rr=dt(bt-Kn*.25),isNaN(Dr)){Pn.nanEncountered=!0;return}if(isNaN(rr)){Pn.nanEncountered=!0;return}if(ei=Kn*(hn+4*Dr+Wt)/12,js=Kn*(Wt+4*rr+nn)/12,rs=ei+js,Pi=(rs-Sn)/15,!(Pn.maxDepthCount>1e3*Pt))return tr>Pt?(Pn.maxDepthCount++,rs+Pi):Math.abs(Pi)<gn?rs+Pi:(Fn=Ct+Kn*.5,oi=ae(dt,Ct,Fn,hn,Dr,Wt,ei,gn*.5,Pt,tr+1,Pn),isNaN(oi)?(Pn.nanEncountered=!0,NaN):(Ci=ae(dt,Fn,bt,Wt,rr,nn,js,gn*.5,Pt,tr+1,Pn),isNaN(Ci)?(Pn.nanEncountered=!0,NaN):oi+Ci))}function Ae(dt,Ct,bt,hn,Wt){var nn={maxDepthCount:0,nanEncountered:!1};hn===void 0&&(hn=1e-9),Wt===void 0&&(Wt=45);var Sn=dt(Ct),gn=dt(.5*(Ct+bt)),Pt=dt(bt),tr=(Sn+4*gn+Pt)*(bt-Ct)/6,Pn=ae(dt,Ct,bt,Sn,gn,Pt,tr,hn,Wt,1,nn);if(nn.maxDepthCount>0&&vt("integrate-adaptive-simpson: Warning: maximum recursion depth ("+Wt+") reached "+nn.maxDepthCount+" times"),nn.nanEncountered)throw new Error("Function does not converge over interval!");return Pn}var pe;try{pe=Ae(h,w,D,U,te)}catch{return fn.simpson(h,w,D)}return Cn(pe,12)},Ci:function(h){for(var w=20,D=.5772156649015329,U=0,te=1;te<w;te++){var ae=2*te;U+=Math.pow(-1,te)*Math.pow(h,ae)/(ae*fn.factorial(ae))}return Math.log(h)+D+U},Si:function(h){for(var w=20,D=0,U=0;U<w;U++){var te=2*U;D+=Math.pow(-1,U)*Math.pow(h,te+1)/((te+1)*fn.factorial(te+1))}return D},Ei:function(h){if(Number(h)===0)return-1/0;for(var w=30,D=.5772156649015329,U=0,te=1;te<w;te++)U+=Math.pow(h,te)/(te*fn.factorial(te));return D+Math.abs(Math.log(h))+U},Shi:function(h){for(var w=30,D=0,U,te,ae=0;ae<w;ae++)U=2*ae,te=U+1,D+=Math.pow(h,te)/(te*te*fn.factorial(U));return D},Chi:function(h){var w,D,U;return w=.001,D=.5772156649015329,U=function(te){return(Math.cosh(te)-1)/te},Math.log(h)+D+fn.num_integrate(U,.002,h,w)},Li:function(h){return fn.Ei(fn.bigLog(h))},gamma_incomplete:function(h,te){for(var D=h-1,U=0,te=te||0,ae=0;ae<D;ae++)U+=Math.pow(te,ae)/fn.factorial(ae);return fn.factorial(D)*Math.exp(-te)*U},step:function(h){return h>0?1:h<0?0:.5},rect:function(w){var w=Math.abs(w);return w===.5?w:w>.5?0:1},sinc:function(h){return h.equals(0)?1:Math.sin(h)/h},tri:function(h){return h=Math.abs(h),h>=1?0:1-h},nthroot:function(h,w){if(h instanceof Zt||(h=new Zt(h.toString())),w instanceof Zt||(w=new Zt(w.toString())),w.equals(1))return h;var D=h.divide(new Zt(2)),U=new Zt(1e-15),te,ae,Ae,pe=w.clone().invert(),dt=w.subtract(new Zt(1));do{var Ct=fn.bigpow(D,dt),bt=pe.multiply(h.divide(Ct).subtract(D)).toDecimal(25);if(te=Zt.create(bt),Ae)break;D=D.add(te);var bt=te.toDecimal();Ae=ae?ae===bt:!1,ae=bt}while(te.abs().gte(U));return D},sqrt:function(h){h instanceof Zt||(h=new Zt(h));var w,D,U,te,ae=0,Ae=!1,pe=new Zt(1e-20);w=h.divide(new Zt(2));var dt=1e3;do{if(ae>dt)throw new Error("Unable to calculate square root for "+h);w=w.add(h.divide(w)).divide(new Zt(2)),w=new Zt(w.decimal(30)),D=h.subtract(w.multiply(w)),te=U?U.equals(D):!1,(D.clone().abs().lessThan(pe)||te)&&(Ae=!0),U=D,ae++}while(!Ae);return w}};E.FUNCTION_MODULES.push(fn),dn(fn),Math.sign=Math.sign||function(h){return h=+h,h===0||isNaN(h)?h:h>0?1:-1},Math.cosh=Math.cosh||function(h){var w=Math.exp(h);return(w+1/w)/2},Math.sech=Math.sech||function(h){return 1/Math.cosh(h)},Math.csch=Math.csch||function(h){return 1/Math.sinh(h)},Math.coth=Math.coth||function(h){return 1/Math.tanh(h)},Math.sinh=Math.sinh||function(h){var w=Math.exp(h);return(w-1/w)/2},Math.tanh=Math.tanh||function(h){if(h===1/0)return 1;if(h===-1/0)return-1;var w=Math.exp(2*h);return(w-1)/(w+1)},Math.asinh=Math.asinh||function(h){return h===-1/0?h:Math.log(h+Math.sqrt(h*h+1))},Math.acosh=Math.acosh||function(h){return Math.log(h+Math.sqrt(h*h-1))},Math.atanh=Math.atanh||function(h){return Math.log((1+h)/(1-h))/2},Math.log10=Math.log10||function(h){return Math.log(h)*Math.LOG10E},Math.trunc=Math.trunc||function(h){return isNaN(h)?NaN:h>0?Math.floor(h):Math.ceil(h)};function xr(h,w,D,U){var te=w==="hash",ae=void 0,Ae=te?void 0:w,pe=Ae==="decimal"||Ae==="decimals";pe&&typeof U>"u"&&(U=E.DEFAULT_DECP);function dt(Fn){switch(w){case"decimals":case"decimal":return ae=ae||function(Go){return!1},Fn.valueOf();case"recurring":ae=ae||function(Go){return Go.indexOf("'")!==-1};var jt=Fn.toString(),ki=/^-?\d+(?:\/\d+)?$/.exec(jt);if(ki.length===0)return jt;var Vi=ki[0].split("/"),oi=!1,Ci=Number(Vi[0]);Ci<0&&(Ci=-Ci,oi=!0);var Pi=Number(Vi[1]);Pi||(Pi=1);var Rs=Math.floor(Ci/Pi),Zi=10*(Ci-Rs*Pi);for(Rs=Rs.toString()+".";Zi&&Zi<Pi;)Zi*=10,Rs+="0";for(var ti="",Wn=[],Yr=0;;){if(typeof Wn[Zi]<"u"){var di=ti.slice(0,Wn[Zi]),co=ti.slice(Wn[Zi]),ni=Rs+di+"'"+co+"'";return(oi?"-":"")+ni.replace("'0'","").replace(/\.$/,"")}var Bs=Math.floor(Zi/Pi),To=Zi-Bs*Pi;Wn[Zi]=Yr,ti+=Bs.toString(),Yr+=1,Zi=10*To}case"mixed":ae=ae||function(Go){return Go.indexOf("/")!==-1};var jt=Fn.toString(),ki=/^-?\d+(?:\/\d+)?$/.exec(jt);if(ki.length===0)return jt;var Vi=ki[0].split("/"),Zl=new m(Vi[0]),Ql=new m(Vi[1]);Ql.equals(0)&&(Ql=new m(1));var Ps=Zl.divmod(Ql),Rs=Ps.quotient,qr=Ps.remainder,ws=Vi[0][0]==="-"||Rs.equals(0)||qr.equals(0)?"":"+";return(Rs.equals(0)?"":Rs.toString())+ws+(qr.equals(0)?"":qr.toString()+"/"+Vi[1]);case"scientific":return ae=ae||function(Go){return!1},new Ir(Fn.valueOf()).toString(E.SCIENTIFIC_MAX_DECIMAL_PLACES);default:return ae=ae||function(Go){return Go.indexOf("/")!==-1},Fn.toString()}}if(Ot(h)){var Ct="",bt="",hn="",Wt=h.group||D,nn=h.value;if(!te){var Sn=dt(h.multiplier);Sn=="-1"&&String(h.multiplier)==="-1"&&(hn="-",Sn="1"),Sn!="1"&&(Ct=Sn);var gn=h.power?dt(h.power):"";gn!="1"&&(Ot(gn)?bt=xr(gn,Ae):bt=gn)}switch(Wt){case R:Ct="";var Pt=U&&pe?h.multiplier.toDecimal(U):dt(h.multiplier);nn=String(h.multiplier)=="-1"?"1":Pt,bt="";break;case ge:nn=h.collectSymbols().map(function(Fn){var oi=xr(Fn,Ae,D,U);return oi=="0"&&(oi=""),oi}).sort().join("+").replace(/\+\-/g,"-");break;case ie:nn=h.collectSymbols().map(function(Fn){var oi=xr(Fn,Ae,D,U);return oi=="0"&&(oi=""),oi}).sort().join("+").replace(/\+\-/g,"-");break;case re:nn=h.collectSymbols(function(Fn){var oi=Fn.group;return(oi===ge||oi===ie)&&Fn.power.equals(1)&&Fn.multiplier.equals(1)?Zn(xr(Fn,Ae)):xr(Fn,Ae)}).join("*");break;case fe:var tr=h.previousGroup,Pn=h.power.group;tr===ge&&(nn=h.collectSymbols(xr,Ae).join("+").replace("+-","-")),!(tr===R||tr===z||tr===ve)&&!te&&(nn=Zn(nn)),(Pn===ie||Pn===re||Pn===ge||h.power.multiplier.toString()!="1")&&bt&&(bt=Zn(bt));break}if(Wt===ve&&(nn=h.fname+Zn(h.args.map(function(Fn){return xr(Fn,Ae)}).join(","))),Wt===ve&&h.fname in k){var Kn=xr(h.args[0]),Dr=xr(h.args[1]);h.args[0].isComposite()&&(Kn=Zn(Kn)),h.args[1].isComposite()&&(Dr=Zn(Dr)),nn=Kn+k[h.fname]+Dr}bt&&Wt!==fe&&ae(bt)&&(bt=Zn(bt)),((Wt===ie||Wt===ge)&&(Ct&&Ct!="1"||hn==="-")||(Wt===re||Wt===ie||Wt===ge)&&bt&&bt!="1"||!te&&Wt===q&&nn==-1||h.fname===Be)&&(nn=Zn(nn)),U&&(w==="decimal"||w==="decimals"&&Ct)&&(Ct=Cn(Ct,U));var rr=hn+Ct;if(Ct&&ae(Ct)&&(rr=Zn(rr)),bt<0&&(bt=Zn(bt)),Ct&&(rr=rr+"*"),bt){if(nn==="e"&&E.E_TO_EXP)return rr+"exp"+Zn(bt);bt=E.POWER_OPERATOR+bt}Wt===fe&&nn.charAt(0)==="-"&&(nn=Zn(nn));var ei=rr+nn;return h.parens&&(ei=Zn(ei)),ei+bt}else if(Xn(h)){for(var js=h.elements.length,rr=[],rs=0;rs<js;rs++)rr.push(h.elements[rs].text(w));return"["+rr.join(",")+"]"}else try{return h.toString()}catch{return""}}function Ms(h){if(le(h))return[h];for(var w=h,D=1,U=[],te=2220446049250313e-31;D<w;){var ae=h/D,Ae=Math.floor(ae),pe=ae-Ae;if(pe<=te&&D>1){if(le(D)&&(x.indexOf(D)===-1&&x.push(D),U.push(D)),le(Ae)){U.push(Ae);break}w=Ae}D++}return U.sort(function(dt,Ct){return dt-Ct})}Ms(314146179365);function si(h){this.symbol=h}si.getExpression=function(h,w){(h==="last"||!h)&&(h=Xe.length),h==="first"&&(h=1);var D=h-1,U=Xe[D],te=U&&new si(U);return te},si.prototype={text:function(h,w){return w=w||E.EXPRESSION_DECP,h=h||"decimals",this.symbol.text_?this.symbol.text_(h):xr(this.symbol,h,void 0,w)},latex:function(h){return this.symbol.latex?this.symbol.latex(h):dr.latex(this.symbol,h)},valueOf:function(){return this.symbol.valueOf()},evaluate:function(){if(Xn(this.symbol)&&this.symbol.dimensions()===0)return this;var h=arguments[0],w,D=1;typeof h=="string"?w=h.charAt(0)==="%"?si.getExpression(h.substr(1)).text():h:h instanceof si||Ot(h)?w=h.text():(w=this.symbol.text(),D--);var U=arguments[D]||{},te=new si(Sr("PARSE2NUMBER",function(){return d.parse(w,U)},!0));return te},buildFunction:function(h){return Ur.build(this.symbol,h)},isNumber:function(){return Wr(this.symbol)},isInfinity:function(){return Math.abs(this.symbol.multiplier)===1/0},isImaginary:function(){return L(d.parse(this.symbol)).isImaginary()},variables:function(){return yn(this.symbol)},toString:function(){try{return pr(this.symbol)?"["+this.symbol.toString()+"]":this.symbol.toString()}catch{return""}},toDecimal:function(h){E.precision=h;var w=xr(this.symbol,"decimals");return E.precision=void 0,w},isFraction:function(){return Jt(this.symbol)},isPolynomial:function(){return this.symbol.isPoly()},sub:function(h,w){return new si(this.symbol.sub(d.parse(h),d.parse(w)))},operation:function(h,w){return sn(w)?w=w.symbol:Ot(w)||(w=d.parse(w)),new si(d[h](this.symbol.clone(),w.clone()))},add:function(h){return this.operation("add",h)},subtract:function(h){return this.operation("subtract",h)},multiply:function(h){return this.operation("multiply",h)},divide:function(h){return this.operation("divide",h)},pow:function(h){return this.operation("pow",h)},expand:function(){return new si(d.expand(this.symbol))},each:function(h,w){if(this.symbol.each)this.symbol.each(h,w);else if(pr(this.symbol))for(var w=0;w<this.symbol.length;w++)h.call(this.symbol,this.symbol[w],w);else h.call(this.symbol)},eq:function(h){Ot(h)||(h=d.parse(h));try{var w=d.subtract(this.symbol.clone(),h);return w.equals(0)}catch{return!1}},lt:function(h){Ot(h)||(h=d.parse(h));try{var w=L(d.subtract(this.symbol.clone(),h));return w.lessThan(0)}catch{return!1}},gt:function(h){Ot(h)||(h=d.parse(h));try{var w=L(d.subtract(this.symbol.clone(),h));return w.greaterThan(0)}catch{return!1}},gte:function(h){return this.gt(h)||this.eq(h)},lte:function(h){return this.lt(h)||this.eq(h)},numerator:function(){return new si(this.symbol.getNum())},denominator:function(){return new si(this.symbol.getDenom())},hasFunction:function(h){return this.symbol.containsFunction(h)},contains:function(h){return this.symbol.contains(h)}},si.prototype.toTeX=si.prototype.latex;function Ir(h){return this instanceof Ir?(h=String(typeof h>"u"?0:h),h.startsWith("-")?(this.sign=-1,h=h.substr(1,h.length)):this.sign=1,Ir.isScientific(h)?this.fromScientific(h):this.convert(h),this):new Ir(h)}Ir.prototype={fromScientific:function(h){var w=String(h).toLowerCase().split("e");return this.coeff=w[0],this.exponent=w[1],this},convert:function(h){var w=h.split("."),D=w[0]||"",U=w[1]||"";D=Ir.removeLeadingZeroes(D),U=Ir.removeTrailingZeroes(U);var te=D.length,ae=D+U,Ae=Ir.leadingZeroes(ae).length;this.exponent=te-(Ae+1);var pe=Ir.removeLeadingZeroes(ae);this.coeff=pe.charAt(0)+"."+(pe.substr(1,pe.length)||"0");var dt=this.coeff.split(".")[1]||"";return this.decp=dt==="0"?0:dt.length,this.dec=U,this.wholes=D,this},round:function(h){var w=this.copy();if(h=Number(h),h===0)w.coeff=w.coeff.charAt(0);else{var D=this.coeff.substring(0,h+1),U=this.coeff.substring(h+1,h+3),te=U.charAt(0);U.charAt(1)>4&&te++,w.coeff=D+te}return w},copy:function(){var h=new Ir(0);return h.coeff=this.coeff,h.exponent=this.exponent,h.sign=this.sign,h},toString:function(h){var w;if(E.SCIENTIFIC_IGNORE_ZERO_EXPONENTS&&this.exponent===0&&this.decp<h)this.decp===0?w=this.wholes:w=this.coeff;else{var D=typeof h>"u"?this.coeff:Ir.round(this.coeff,Math.min(h,this.decp||1));w=this.exponent===0?D:D+"e"+this.exponent}return(this.sign===-1?"-":"")+w}},Ir.isScientific=function(h){return/\d+\.?\d*e[\+\-]*\d+/i.test(h)},Ir.leadingZeroes=function(h){var w=h.match(/^(0*).*$/);return w?w[1]:""},Ir.removeLeadingZeroes=function(h){var w=h.match(/^0*(.*)$/);return w?w[1]:""},Ir.removeTrailingZeroes=function(h){var w=h.match(/0*$/);return w?h.substring(0,h.length-w[0].length):""},Ir.round=function(h,w){var D=Cn(h,w),U=String(D).split(".").pop(),te=w-U.length;return te>0&&(D=D+new Array(te+1).join(0)),D};function Zt(h){if(h instanceof Zt)return h;if(h===void 0)return this;try{if(on(h))try{this.num=m(h),this.den=m(1)}catch{return Zt.simple(h)}else{var w=h instanceof b?ps.quickConversion(h):ps.convert(h);this.num=new m(w[0]),this.den=new m(w[1])}}catch{return Zt.simple(h)}}Zt.create=function(h){if(h instanceof Zt)return h;h=h.toString();var w=h.charAt(0)==="-";w&&(h=h.substr(1,h.length-1));var D=new Zt(h);return w&&D.negate(),D},Zt.isFrac=function(h){return h instanceof Zt},Zt.quick=function(h,w){var D=new Zt;return D.num=new m(h),D.den=new m(w),D},Zt.simple=function(h){for(var w=String(Ut(h)),D=w.split("."),U=D.join(""),te=1,ae=(D[1]||"").length,Ae=0;Ae<ae;Ae++)te+="0";var pe=Zt.quick(U,te);return pe.simplify()},Zt.prototype={multiply:function(h){if(this.isOne())return h.clone();if(h.isOne())return this.clone();var w=this.clone();return w.num=w.num.multiply(h.num),w.den=w.den.multiply(h.den),w.simplify()},divide:function(h){if(h.equals(0))throw new j("Division by zero not allowed!");return this.clone().multiply(h.clone().invert()).simplify()},subtract:function(h){return this.clone().add(h.clone().neg())},neg:function(){return this.num=this.num.multiply(-1),this},add:function(h){var w=this.den,D=h.den,U=this.clone(),te=U.num,ae=h.num;return w.equals(D)?U.num=te.add(ae):(U.num=te.multiply(D).add(ae.multiply(w)),U.den=w.multiply(D)),U.simplify()},mod:function(h){var w=this.clone(),D=h.clone();return w.num=w.num.multiply(D.den),w.den=w.den.multiply(D.den),D.num=D.num.multiply(this.den),D.den=D.den.multiply(this.den),w.num=w.num.mod(D.num),w.simplify()},simplify:function(){var h=m.gcd(this.num,this.den);return this.num=this.num.divide(h),this.den=this.den.divide(h),this},clone:function(){var h=new Zt;return h.num=new m(this.num),h.den=new m(this.den),h},decimal:function(h){var w=this.num.isNegative()?"-":"";if(this.num.equals(this.den))return"1";h=h||E.PRECISION,h++;for(var D=[],U=this.num.abs(),te=this.den,ae=0;ae<h;ae++){var Ae=U.divide(te),pe=U.subtract(Ae.multiply(te));if(D.push(Ae),pe.equals(0))break;U=pe.times(10)}var dt=D.shift();if(D.length===0)return w+dt.toString();if(ae===h){for(var Ct=[],ae=0;ae<2;ae++)Ct.unshift(D.pop());D.push(Math.round(Ct.join(".")))}var bt=dt.toString()+"."+D.join("");return w+bt},toDecimal:function(h){return h=h||E.PRECISION,h?this.decimal(h):this.num/this.den},qcompare:function(h){return[this.num.multiply(h.den),h.num.multiply(this.den)]},equals:function(h){isNaN(h)||(h=new Zt(h));var w=this.qcompare(h);return w[0].equals(w[1])},absEquals:function(h){isNaN(h)||(h=new Zt(h));var w=this.qcompare(h);return w[0].abs().equals(w[1])},greaterThan:function(h){isNaN(h)||(h=new Zt(h));var w=this.qcompare(h);return w[0].gt(w[1])},gte:function(h){return this.greaterThan(h)||this.equals(h)},lte:function(h){return this.lessThan(h)||this.equals(h)},lessThan:function(h){isNaN(h)||(h=new Zt(h));var w=this.qcompare(h);return w[0].lt(w[1])},isInteger:function(){return this.den.equals(1)},negate:function(){return this.num=this.num.multiply(-1),this},invert:function(){var h=this.den;if(!this.num.equals(0)){var w=this.num.isNegative();this.den=this.num.abs(),this.num=h,w&&(this.num=this.num.multiply(-1))}return this},isOne:function(){return this.num.equals(1)&&this.den.equals(1)},sign:function(){return this.num.isNegative()?-1:1},abs:function(){return this.num=this.num.abs(),this},gcd:function(h){return Zt.quick(m.gcd(h.num,this.num),m.lcm(h.den,this.den))},toString:function(){return this.den.equals(1)?this.num.toString():this.num.toString()+"/"+this.den.toString()},valueOf:function(){if(E.USE_BIG)return new b(this.num.toString()).div(new b(this.den.toString()));var h=this.num/this.den;return h},isNegative:function(){return this.toDecimal()<0}};function ce(h){var w=h==="Infinity";return this instanceof ce?(h instanceof b&&(h=h.toString()),/^(\-?\+?\d+)\.?\d*e?\-?\+?\d*/i.test(h)||h instanceof b?(this.group=R,this.value=ke,this.multiplier=new Zt(h)):(this.group=z,ft(h),this.value=h,this.multiplier=new Zt(1),this.imaginary=h===E.IMAGINARY,this.isInfinity=w),this.power=new Zt(1),this):new ce(h)}ce.imaginary=function(){var h=new ce(E.IMAGINARY);return h.imaginary=!0,h},ce.infinity=function(h){var w=new ce("Infinity");return h===-1&&w.negate(),w},ce.shell=function(h,w){var D=new ce(w);return D.group=h,D.symbols={},D.length=0,D},ce.unwrapSQRT=function(h,w){var D=h.power;if(h.fname===Ke&&(h.isLinear()||w)){var U=h.args[0].clone();U.power=U.power.multiply(new Zt(.5)),U.multiplier=U.multiplier.multiply(h.multiplier),h=U,w&&(h.power=D.multiply(new Zt(.5)))}return h},ce.hyp=function(h,w){return h=h||new ce(0),w=w||new ce(0),d.sqrt(d.add(d.pow(h.clone(),new ce(2)),d.pow(w.clone(),new ce(2))))},ce.toPolarFormArray=function(h){var w,D,U,te;return w=h.realpart(),D=h.imagpart(),U=ce.hyp(w,D),te=w.equals(0)?d.parse("pi/2"):d.trig.atan(d.divide(D,w)),[U,te]},ce.unwrapPARENS=function(h){if(h.fname===""){var w=h.args[0];return w.power=w.power.multiply(h.power),w.multiplier=w.multiplier.multiply(h.multiplier),h.fname===""?ce.unwrapPARENS(w):w}return h},ce.create=function(h,w){return w=w===void 0?1:w,d.parse("("+h+")^("+w+")")},ce.prototype={getNth:function(h){var w=L(d.pow(d.parse(this.multiplier),d.parse(h).invert())),D=d.parse(Cn(w)),U=L(d.pow(D,d.parse(h)));return U.equals(d.parse(this.multiplier))?D:w},isToNth:function(h){var w=this.getNth(h),D=on(w),U;return this.group===re?(U=!0,this.each(function(te){var ae=te.isToNth(h);ae||(U=!1)})):U=this.group===R?!0:on(d.divide(d.parse(this.power),d.parse(h))),D&&U},isSquare:function(){return this.isToNth(2)},isCube:function(){return this.isToNth(3)},isSimple:function(){return this.power.equals(1)&&this.multiplier.equals(1)},powSimp:function(){if(this.group===re){var h=[],D=this.multiplier.sign();this.each(function(hn){var Wt=hn.power;if(Ot(Wt)||Wt.equals(1))return this.clone();h.push(Wt)});var w=new Zt(xt(h)),D=this.multiplier.sign(),U=this.multiplier.clone().abs(),te=fn.ifactor(U),ae=new Zt(1),Ae=new Zt(1);for(var pe in te){var dt=new Zt(te[pe]);dt.lessThan(w)||(dt=dt.divide(w).subtract(new Zt(1)),Ae=Ae.multiply(new Zt(pe))),ae=ae.multiply(d.parse(Zn(pe)+"^"+Zn(dt)).multiplier)}var Ct=new ce(Ae);this.each(function(hn){hn=hn.clone(),hn.power=hn.power.divide(w),Ct=d.multiply(Ct,hn)});var bt=d.symfunction(Be,[Ct]);return bt.power=w,bt.multiplier=D<0?ae.negate():ae,bt}return this.clone()},equals:function(h){return Ot(h)||(h=new ce(h)),this.value===h.value&&this.power.equals(h.power)&&this.multiplier.equals(h.multiplier)&&this.group===h.group},abs:function(){var h=this.clone();return h.multiplier.abs(),h},gt:function(h){return Ot(h)||(h=new ce(h)),this.isConstant()&&h.isConstant()&&this.multiplier.greaterThan(h.multiplier)},gte:function(h){return Ot(h)||(h=new ce(h)),this.equals(h)||this.isConstant()&&h.isConstant()&&this.multiplier.greaterThan(h.multiplier)},lt:function(h){return Ot(h)||(h=new ce(h)),this.isConstant()&&h.isConstant()&&this.multiplier.lessThan(h.multiplier)},lte:function(h){return Ot(h)||(h=new ce(h)),this.equals(h)||this.isConstant()&&h.isConstant()&&this.multiplier.lessThan(h.multiplier)},isPoly:function(h){var w=this.group,D=this.power;if(!on(D)||D<0)return!1;if(w===R||w===z||this.isConstant(!0))return!0;var U=yn(this);if(w===re&&U.length===1){var te=U[0];if(!te)return!0;for(var ae in this.symbols){var Ae=this.symbols[ae];if(Ae.group===ve&&!Ae.args[0].isConstant()||!Ae.contains(te)&&!Ae.isConstant(!0))return!1}return!0}if(this.isComposite()||w===re&&h){if(!h&&U.length>1)return!1;for(var ae in this.symbols)if(!this.symbols[ae].isPoly(h))return!1;return!0}else return!1},stripVar:function(h,w){var D;return(this.group===ge||this.group===z)&&this.value===h?D=new ce(w?0:this.multiplier):this.group===re&&this.isLinear()?(D=new ce(1),this.each(function(U){U.contains(h,!0)||(D=d.multiply(D,U.clone()))}),D.multiplier=D.multiplier.multiply(this.multiplier)):this.group===ie&&!this.isLinear()?D=new ce(this.multiplier):this.group===ie&&this.isLinear()?(D=new ce(0),this.each(function(U){if(!U.contains(h)){var te=U.clone();te.multiplier=te.multiplier.multiply(this.multiplier),D=d.add(D,te)}}),D.equals(0)&&(D=new ce(this.multiplier))):this.group===fe&&this.power.contains(h,!0)?D=new ce(this.multiplier):this.group===ve&&this.contains(h)?D=new ce(this.multiplier):D=this.clone(),D},toArray:function(h,w){w=w||{arr:[],add:function(pe,dt){var Ct=this.arr[dt];this.arr[dt]=Ct?d.add(Ct,pe):pe}};var D=this.group;if(D===z&&this.contains(h))w.add(new ce(this.multiplier),this.power);else if(D===re){var U=this.stripVar(h),te=d.divide(this.clone(),U.clone()),ae=te.isConstant()?0:te.power;w.add(U,ae)}else if(D===ge&&this.value===h)this.each(function(pe,dt){w.add(pe.stripVar(h),dt)});else if(D===ie)this.each(function(pe){pe.toArray(h,w)});else{if(this.contains(h))throw new Ye("Cannot convert to array! Exiting");w.add(this.clone(),0)}w=w.arr;for(var Ae=0;Ae<w.length;Ae++)w[Ae]||(w[Ae]=new ce(0));return w},hasFunc:function(h){var w=this.group===ve||this.group===fe;if(w&&!h||w&&this.contains(h))return!0;if(this.symbols){for(var D in this.symbols)if(this.symbols[D].hasFunc(h))return!0}return!1},sub:function(h,w){h=Ot(h)?h.clone():d.parse(h),w=Ot(w)?w.clone():d.parse(w),(h.group===R||h.group===q)&&Bt("Cannot substitute a number. Must be a variable");var D=!1,U=h.multiplier.equals(1),te=this.multiplier.clone(),ae;if(this.value===h.value&&(this.group!==ge&&h.group!==ge||this.group===ge&&h.group===ge))(U||h.multiplier.equals(this.multiplier))&&(h.isLinear()?ae=w:h.power.equals(this.power)&&(ae=w,D=!0),h.multiplier.equals(this.multiplier)&&(te=new Zt(1)));else if(this.group===re||this.previousGroup===re)ae=new ce(1),this.each(function(nn){var Sn=d.parse(nn.sub(h,w));ae=d.multiply(ae,Sn)});else if(this.isComposite()){var Ae=this.clone();if(h.isComposite()&&Ae.isComposite()&&Ae.isLinear()&&h.isLinear()){var pe=function(nn,Sn){for(var gn in nn.symbols){var Pt=nn.symbols[gn];if(Pt.isComposite()&&pe(Pt,Sn)||Pt.equals(Sn))return!0}return!1};for(var dt in h.symbols)if(!pe(Ae,h.symbols[dt]))return Ae.clone();ae=d.add(d.subtract(Ae.clone(),h),w)}else ae=new ce(0),Ae.each(function(nn){ae=d.add(ae,nn.sub(h,w))})}else if(this.group===fe)ae=d.parse(this.value).sub(h,w);else if(this.group===ve){for(var Ct=[],bt=0;bt<this.args.length;bt++){var hn=this.args[bt];Ot(hn)||(hn=d.parse(hn)),Ct.push(hn.sub(h,w))}ae=d.symfunction(this.fname,Ct)}if(ae){if(!D){var Wt=this.group===fe?this.power.sub(h,w):d.parse(this.power);ae=d.pow(ae,Wt)}return ae.multiplier=ae.multiplier.multiply(te),ae}return this.clone()},isMonomial:function(){if(this.group===z)return!0;if(this.group===re){for(var h in this.symbols)if(this.symbols[h].group!==z)return!1}else return!1;return!0},isPi:function(){return this.group===z&&this.value==="pi"},sign:function(){return this.multiplier.sign()},isE:function(){return this.value==="e"},isSQRT:function(){return this.fname===Ke},isConstant:function(h,w){if(w&&this.group===re){for(var D in this.symbols)if(this.symbols[D].isConstant(!0))return!0}if(h==="functions"&&this.isComposite()){var U=!0;return this.each(function(ae){ae.isConstant(h,w)||(U=!1)},!0),U}if(h==="all"&&(this.isPi()||this.isE()))return!0;if(h&&this.group===ve){for(var te=0;te<this.args.length;te++)if(!this.args[te].isConstant(h))return!1;return!0}return h?Wr(this):this.value===ke},isImaginary:function(){if(this.imaginary)return!0;if(this.symbols){for(var h in this.symbols)if(this.symbols[h].isImaginary())return!0}return!1},realpart:function(){if(this.isConstant())return this.clone();if(this.imaginary)return new ce(0);if(this.isComposite()){var h=new ce(0);return this.each(function(w){h=d.add(h,w.realpart())}),h}else if(this.isImaginary())return new ce(0);return this.clone()},imagpart:function(){if(this.group===z&&this.isImaginary())return new ce(this.multiplier);if(this.isComposite()){var h=new ce(0);return this.each(function(w){h=d.add(h,w.imagpart())}),h}return this.group===re?this.stripVar(E.IMAGINARY):new ce(0)},isInteger:function(){return this.isConstant()&&this.multiplier.isInteger()},isLinear:function(h){if(h){if(this.isConstant())return!0;if(this.group===z)return this.value===h?this.power.equals(1):!0;if(this.isComposite()&&this.power.equals(1)){for(var w in this.symbols)if(!this.symbols[w].isLinear(h))return!1;return!0}return this.group===re&&this.symbols[h]?this.symbols[h].isLinear(h):!1}else return this.power.equals(1)},containsFunction:function(h){if(typeof h=="string"&&(h=[h]),this.group===ve&&h.indexOf(this.fname)!==-1)return!0;if(this.symbols){for(var w in this.symbols)if(this.symbols[w].containsFunction(h))return!0}return!1},multiplyPower:function(h){if(this.group===R&&this.multiplier.equals(1))return this;var w=this.power;if(this.group!==fe&&h.group===R){var D=h.multiplier;this.group===R&&!D.isInteger()&&this.convert(q),this.power=w.equals(1)?D.clone():w.multiply(D),this.group===q&&on(this.power)&&(this.value=Math.pow(this.value,this.power),this.toLinear(),this.convert(R))}else this.group!==fe&&(w=new ce(w),this.convert(fe)),this.power=d.multiply(w,h);return this},setPower:function(h,w){if(this.group===R&&this.multiplier.equals(1))return this;if(this.group===fe&&!Ot(h))this.group=this.previousGroup,delete this.previousGroup,this.group===R?(this.multiplier=new Zt(this.value),this.value=ke):this.power=h;else{var D=!1;Ot(h)&&(h.group===R?h=h.multiplier:D=!0);var U=D?fe:q;this.power=h,this.group===R&&U&&this.convert(U,w)}return this},isInverse:function(){return this.group===fe?this.power.multiplier.lessThan(0):this.power<0},clone:function(h){var w=h||new ce(0),D=["value","group","length","previousGroup","imaginary","fname","args","isInfinity","scientific"],U=D.length,te;if(this.symbols){w.symbols={};for(var ae in this.symbols)w.symbols[ae]=this.symbols[ae].clone()}for(te=0;te<U;te++)this[D[te]]!==void 0&&(w[D[te]]=this[D[te]]);return w.power=this.power.clone(),w.multiplier=this.multiplier.clone(),this.isConversion&&(w.isConversion=this.isConversion),this.isUnit&&(w.isUnit=this.isUnit),w},toUnitMultiplier:function(h){return this.multiplier.num=new m(this.multiplier.num.isNegative()&&h?-1:1),this.multiplier.den=new m(1),this},toLinear:function(){return this.power.equals(1)?this:(this.setPower(new Zt(1)),this)},each:function(h,w){if(!this.symbols)h.call(this,this,this.value);else for(var D in this.symbols){var U=this.symbols[D];if(U.group===ge&&w)for(var te in U.symbols)h.call(D,U.symbols[te],te);else h.call(this,U,D)}},valueOf:function(){return this.group===R?this.multiplier.valueOf():this.power===0?1:this.multiplier===0?0:xr(this,"decimals")},contains:function(h,w){h=String(h);var D=this.group;if(this.value===h)return!0;if(this.symbols){for(var U in this.symbols)if(this.symbols[U].contains(h,w))return!0}if(D===ve||this.previousGroup===ve){for(var te=0;te<this.args.length;te++)if(this.args[te].contains(h,w))return!0}return D===fe&&(w&&this.power.contains(h,w)||this.value===h)?!0:this.value===h},negate:function(){return this.multiplier.negate(),(this.group===ie||this.group===ge)&&this.distributeMultiplier(),this},invert:function(h,w){return h||(this.multiplier=this.multiplier.invert()),Ot(this.power)?this.power.negate():this.group===re&&w?this.each(function(D){return D.invert()}):this.power&&this.group!==R&&this.power.negate(),this},distributeMultiplier:function(h){var w=h?this.power.absEquals(1):this.power.equals(1);if(this.symbols&&w&&this.group!==re&&!this.multiplier.equals(1)){for(var D in this.symbols){var U=this.symbols[D];U.multiplier=U.multiplier.multiply(this.multiplier),U.distributeMultiplier()}this.toUnitMultiplier()}return this},distributeExponent:function(){if(!this.power.equals(1)){var h=this.power;for(var w in this.symbols){var D=this.symbols[w];D.group===fe?D.power=d.multiply(D.power,new ce(h)):this.symbols[w].power=this.symbols[w].power.multiply(h)}this.toLinear()}return this},convert:function(h,w){if(h>ve){var D=this.clone();this.symbols={},h===re?D.toUnitMultiplier():this.toUnitMultiplier(),this.group===ve&&(D.args=this.args,delete this.args,delete this.fname),this.isImgSymbol&&delete this.isImgSymbol,this.toLinear(),this.symbols[D.keyForGroup(h)]=D,this.group=h,this.length=1}else if(h===fe)this.group===R&&this.multiplier.equals(1)||(this.group!==fe&&(this.previousGroup=this.group),this.group===R?(this.value=this.multiplier.num.toString(),this.toUnitMultiplier()):this.value=xr(this,"hash"),this.group=fe);else if(h===R){var U=this.multiplier.toDecimal();this.symbols&&(this.symbols=void 0),new ce(this.group===q?U*Math.pow(this.value,this.power):U).clone(this)}else h===q&&this.group===R&&(this.value=w?this.multiplier.num.toString():Math.abs(this.multiplier.num.toString()),this.toUnitMultiplier(!w),this.group=q);return this},insert:function(h,w){if(Ot(h)||Bt("Object "+h+" is not of type Symbol!"),this.symbols){var D=this.group;if(D>ve){var U=h.keyForGroup(D),te=U in this.symbols?this.symbols[U]:!1;if(w==="add"){var ae=U;te?(this.symbols[ae]=d.add(te,h),this.symbols[ae].multiplier.equals(0)&&(delete this.symbols[ae],this.length--,this.length===0&&(this.convert(R),this.multiplier=new Zt(0)))):(this.symbols[U]=h,this.length++)}else h.group===q&&on(h.power)&&h.convert(R),h.group!==fe?(this.multiplier=this.multiplier.multiply(h.multiplier),h.toUnitMultiplier()):(h.parens=h.multiplier.lessThan(0),this.multiplier=this.multiplier.multiply(h.multiplier.clone().abs()),h.toUnitMultiplier(!0)),te&&(h=d.multiply(Hn(this.symbols,U),h),h.isConstant()&&(this.multiplier=this.multiplier.multiply(h.multiplier),h=new ce(1)),this.length--),h.isOne(!0)?h.multiplier.lessThan(0)&&this.negate():(this.symbols[U]=h,this.length++);this.length===0&&this.convert(R),(this.group===ie||this.group===re)&&this.updateHash()}}return this},attach:function(h){if(pr(h)){for(var w=0;w<h.length;w++)this.insert(h[w],"add");return this}return this.insert(h,"add")},combine:function(h){if(pr(h)){for(var w=0;w<h.length;w++)this.insert(h[w],"multiply");return this}return this.insert(h,"multiply")},updateHash:function(){if(this.group!==R)if(this.group===ve){for(var h="",w=this.args,D=this.fname===Be,U=0;U<w.length;U++)h+=(U===0?"":",")+xr(w[U]);var te=D?"":this.fname;this.value=te+(D?h:Zn(h))}else this.group===z||this.group===ge||(this.value=xr(this,"hash"))},keyForGroup:function(h){var w=this.group,D;if(w===R)D=this.value;else if(w===z||w===q)h===ge?D=this.power.toDecimal():D=this.value;else if(w===ve)h===ge?D=this.power.toDecimal():D=xr(this,"hash");else{if(w===ge)return h===re?D=xr(this,"hash"):h===ie?this.power.equals(1)?D=this.value:D=Zn(xr(this,"hash"))+E.POWER_OPERATOR+this.power.toDecimal():h===ge?D=this.power.toString():D=this.value,D;w===ie?(h===ie&&(D=xr(this,"hash")),h===ge?D=this.power.toDecimal():D=this.value):w===re?h===ge?D=this.power.toDecimal():D=xr(this,"hash"):w===fe&&(h===ge?D=xr(this.power):D=xr(this,"hash"))}return D},collectSymbols:function(h,w,D,U){var te=[];if(!this.symbols)te.push(this);else for(var ae in this.symbols){var Ae=this.symbols[ae];U&&(Ae.group===ge||Ae.group===ie)?te=te.concat(Ae.collectSymbols()):te.push(h?h(Ae,w):Ae)}return D===null&&(D=void 0),te.sort(D)},latex:function(h){return dr.latex(this,h)},text:function(h){return xr(this,h)},isOne:function(h){var w=h?"absEquals":"equals";return this.group===R?this.multiplier[w](1):this.power.equals(0)},isComposite:function(){var h=this.group,w=this.previousGroup;return h===ie||h===ge||w===ge||w===ie},isCombination:function(){var h=this.group,w=this.previousGroup;return h===re||w===re},lessThan:function(h){return this.multiplier.lessThan(h)},greaterThan:function(h){return Ot(h)||(h=new ce(h)),!this.isConstant(!0)||!h.isConstant(!0)?!1:this.multiplier.greaterThan(h.multiplier)},getDenom:function(){var h,w;if(w=this.clone(),this.group===re&&this.power.lessThan(0)&&(w=d.expand(w)),w.power.lessThan(0)||w.group===fe&&w.power.multiplier.lessThan(0)){var D=d.parse(w.multiplier.den);h=w.toUnitMultiplier(),h.power.negate(),h=d.multiply(D,h)}else if(w.group===re){h=d.parse(w.multiplier.den);for(var U in w.symbols){var te=w.symbols[U];(te.power<0||te.group===fe&&te.power.multiplier.lessThan(0))&&(h=d.multiply(h,w.symbols[U].clone().invert()))}}else h=d.parse(w.multiplier.den);return h},getNum:function(){var h,w;return w=this.clone(),w.group===re&&w.power.lessThan(0)&&(w=d.expand(w)),w.power.greaterThan(0)&&w.group!==re||w.group===fe&&w.power.multiplier.greaterThan(0)?h=d.multiply(d.parse(w.multiplier.num),w.toUnitMultiplier()):w.group===re?(h=d.parse(w.multiplier.num),w.each(function(D){(D.power>0||D.group===fe&&D.power.multiplier>0)&&(h=d.multiply(h,D.clone()))})):h=d.parse(w.multiplier.num),h},toString:function(){return this.text()}};function xi(){var h=this,w={},D={names:[],actions:[]};function U(y,I){this.start=y,this.end=I}U.prototype.isConstant=function(){return this.start.isConstant()&&this.end.isConstant()},U.prototype.text=function(){return xr(this.start)+":"+xr(this.end)};function te(){this.elements=[]}te.prototype.append=function(y){this.elements.push(y)},te.prototype.getItems=function(){return this.elements},te.prototype.toString=function(){return h.pretty_print(this.elements)},te.create=function(y){var I=new te;return y&&I.append(y),I};function ae(y,I,ne){if(this.type=I,this.value=y,ne!==void 0&&(this.column=ne+1),I===ae.OPERATOR){var $e=Ct[y];for(var Re in $e)this[Re]=$e[Re]}else I===ae.FUNCTION&&(this.precedence=ae.MAX_PRECEDENCE,this.leftAssoc=!1)}ae.prototype.toString=function(){return this.value},ae.prototype.toString=function(){return this.is_prefix?"`"+this.value:this.value},ae.OPERATOR="OPERATOR",ae.VARIABLE_OR_LITERAL="VARIABLE_OR_LITERAL",ae.FUNCTION="FUNCTION",ae.UNIT="UNIT",ae.KEYWORD="KEYWORD",ae.MAX_PRECEDENCE=999,this.classes={Collection:te,Slice:U,Token:ae};var Ae={prec:void 0,cos:function(y,I){var ne,$e;return ne=h.parse(Math.cos(y)*Math.cosh(I)),$e=h.parse(Math.sin(y)*Math.sinh(I)),h.subtract(ne,h.multiply($e,ce.imaginary()))},sin:function(y,I){var ne,$e;return ne=h.parse(Math.sin(y)*Math.cosh(I)),$e=h.parse(Math.cos(y)*Math.sinh(I)),h.subtract(ne,h.multiply($e,ce.imaginary()))},tan:function(y,I){var ne,$e;return ne=h.parse(Math.sin(2*y)/(Math.cos(2*y)+Math.cosh(2*I))),$e=h.parse(Math.sinh(2*I)/(Math.cos(2*y)+Math.cosh(2*I))),h.add(ne,h.multiply($e,ce.imaginary()))},sec:function(y,I){var ne=this.removeDen(this.cos(y,I));return h.subtract(ne[0],h.multiply(ne[1],ce.imaginary()))},csc:function(y,I){var ne=this.removeDen(this.sin(y,I));return h.add(ne[0],h.multiply(ne[1],ce.imaginary()))},cot:function(y,I){var ne=this.removeDen(this.tan(y,I));return h.subtract(ne[0],h.multiply(ne[1],ce.imaginary()))},acos:function(y,I){var ne,$e,Re,qe,lt,Et;return ne=this.fromArray([y,I]),Et=h.pow(ne.clone(),new ce(2)),$e=h.expand(Et),Re=h.multiply(ti(h.subtract(new ce(1),$e)),ce.imaginary()),qe=h.expand(h.add(ne.clone(),Re)),lt=ws(qe),h.expand(h.multiply(ce.imaginary().negate(),lt))},asin:function(y,I){return h.subtract(h.parse("pi/2"),this.acos(y,I))},atan:function(y,I){if(y.equals(0)&&(I.equals(1)||I.equals(-1)))return h.parse(`${ce.infinity()}*${E.IMAGINARY}*${I}`);var ne,$e,Re,qe;return qe=Ae.fromArray([y,I]),ne=h.expand(h.multiply(ce.imaginary(),qe.clone())),$e=ws(h.expand(h.subtract(new ce(1),ne.clone()))),Re=ws(h.expand(h.add(new ce(1),ne.clone()))),h.expand(h.multiply(h.divide(ce.imaginary(),new ce(2)),h.subtract($e,Re)))},asec:function(y,I){var ne=this.removeDen([y,I]);return ne[1].negate(),this.acos.apply(this,ne)},acsc:function(y,I){var ne=this.removeDen([y,I]);return ne[1].negate(),this.asin.apply(this,ne)},acot:function(y,I){var ne=this.removeDen([y,I]);return ne[1].negate(),this.atan.apply(this,ne)},cosh:function(y,I){var ne,$e;return ne=h.parse(Math.cosh(y)*Math.cos(I)),$e=h.parse(Math.sinh(y)*Math.sin(I)),h.add(ne,h.multiply($e,ce.imaginary()))},sinh:function(y,I){var ne,$e;return ne=h.parse(Math.sinh(y)*Math.cos(I)),$e=h.parse(Math.cosh(y)*Math.sin(I)),h.add(ne,h.multiply($e,ce.imaginary()))},tanh:function(y,I){var ne,$e;return ne=h.parse(Math.sinh(2*y)/(Math.cos(2*I)+Math.cosh(2*y))),$e=h.parse(Math.sin(2*I)/(Math.cos(2*I)+Math.cosh(2*y))),h.subtract(ne,h.multiply($e,ce.imaginary()))},sech:function(y,I){var ne=this.removeDen(this.cosh(y,I));return h.subtract(ne[0],h.multiply(ne[1],ce.imaginary()))},csch:function(y,I){var ne=this.removeDen(this.sinh(y,I));return h.subtract(ne[0],h.multiply(ne[1],ce.imaginary()))},coth:function(y,I){var ne=this.removeDen(this.tanh(y,I));return h.add(ne[0],h.multiply(ne[1],ce.imaginary()))},acosh:function(y,I){var ne,$e,Re;return Re=this.fromArray([y,I]),ne=ti(h.add(Re.clone(),new ce(1))),$e=ti(h.subtract(Re.clone(),new ce(1))),h.expand(ws(h.add(Re,h.expand(h.multiply(ne,$e)))))},asinh:function(y,I){var ne,$e;return $e=this.fromArray([y,I]),ne=ti(h.add(new ce(1),h.expand(h.pow($e.clone(),new ce(2))))),h.expand(ws(h.add($e,ne)))},atanh:function(y,I){var ne,$e,Re;return Re=this.fromArray([y,I]),ne=ws(h.add(Re.clone(),new ce(1))),$e=ws(h.subtract(new ce(1),Re)),h.expand(h.divide(h.subtract(ne,$e),new ce(2)))},asech:function(y,I){var ne=this.removeDen([y,I]);return ne[1].negate(),this.acosh.apply(this,ne)},acsch:function(y,I){var ne=this.removeDen([y,I]);return ne[1].negate(),this.asinh.apply(this,ne)},acoth:function(y,I){var ne=this.removeDen([y,I]);return ne[1].negate(),this.atanh.apply(this,ne)},sqrt:function(y){var I,ne,$e,Re,qe;return I=y.realpart(),ne=y.imagpart(),$e=ce.hyp(I,ne),Re=h.add(I.clone(),$e),qe=ti(h.multiply(new ce(2),Re.clone())),h.add(h.divide(Re.clone(),qe.clone()),h.multiply(h.divide(ne,qe),ce.imaginary()))},log:function(y,I){var ne,$e,Re;return ne=ws(ce.hyp(y,I)),Re=E.USE_BIG?ce(b.atan2(I.multiplier.toDecimal(),y.multiplier.toDecimal())):Math.atan2(I,y),$e=h.parse(Re),h.add(ne,h.multiply(ce.imaginary(),$e))},erf(y,I){return h.symfunction("erf",[y])},removeDen:function(y){var I,ne,$e,Re,qe;return pr(y)?(ne=y[0],$e=y[1]):(ne=y.realpart(),$e=y.imagpart()),I=Math.pow(ne,2)+Math.pow($e,2),Re=h.parse(ne/I),qe=h.parse($e/I),[Re,qe]},fromArray:function(y){return h.add(y[0],h.multiply(ce.imaginary(),y[1]))},evaluate:function(y,I){var ne,$e,Re;if(Re=y.power.sign(),y.power=y.power.abs(),y.power.greaterThan(1)&&(y=h.expand(y)),Re<0){var qe=this.removeDen(y);ne=qe[0],$e=qe[1]}else ne=y.realpart(),$e=y.imagpart();return ne.isConstant("all")&&$e.isConstant("all")?this[I].call(this,ne,$e):h.symfunction(I,[y])}},pe=this.trig={cos:function(y){if(y.equals("pi")&&y.multiplier.den.equals(2))return new ce(0);if(E.PARSE2NUMBER){if(y.equals(new ce(E.PI/2)))return new ce(0);if(y.isConstant())return E.USE_BIG?new ce(b.cos(y.multiplier.toDecimal())):new ce(Math.cos(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"cos")}if(y.equals(0))return new ce(1);var I,ne=!1,$e=Il(y.multiplier.toDecimal()),Re=y.multiplier.abs();if(y.multiplier=Re,y.isPi()&&y.isLinear())if(on(Re))I=new ce(H(Re)?1:-1);else{Number(Re.num);var qe=Number(Re.den);qe===2?I=new ce(0):qe===3?(I=h.parse("1/2"),ne=!0):qe===4?(I=h.parse("1/sqrt(2)"),ne=!0):qe===6?(I=h.parse("sqrt(3)/2"),ne=!0):I=h.symfunction("cos",[y])}return ne&&($e===2||$e===3)&&I.negate(),I||(I=h.symfunction("cos",[y])),I},sin:function(y){if(E.PARSE2NUMBER){if(y.isConstant())return y%Math.PI===0?new ce(0):E.USE_BIG?new ce(b.sin(y.multiplier.toDecimal())):new ce(Math.sin(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"sin")}if(y.equals(0))return new ce(0);var I,ne=!1,$e=Il(y.multiplier.toDecimal()),Re=y.multiplier.sign(),qe=y.multiplier.abs();if(y.multiplier=qe,y.equals("pi"))I=new ce(0);else if(y.isPi()&&y.isLinear())if(on(qe))I=new ce(0);else{qe.num;var lt=qe.den;lt==2?(I=new ce(1),ne=!0):lt==3?(I=h.parse("sqrt(3)/2"),ne=!0):lt==4?(I=h.parse("1/sqrt(2)"),ne=!0):lt==6?(I=h.parse("1/2"),ne=!0):I=h.multiply(new ce(Re),h.symfunction("sin",[y]))}return I||(I=h.multiply(new ce(Re),h.symfunction("sin",[y]))),ne&&($e===3||$e===4)&&I.negate(),I},tan:function(y){if(E.PARSE2NUMBER){if(y%Math.PI===0&&y.isLinear())return new ce(0);if(y.isConstant())return E.USE_BIG?new ce(b.tan(y.multiplier.toDecimal())):new ce(Math.tan(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"tan")}var I,ne=!1,$e=Il(y.multiplier.toDecimal()),Re=y.multiplier;if(y.multiplier=Re,y.isPi()&&y.isLinear())if(on(Re))I=new ce(0);else{Re.num;var qe=Re.den;if(qe==2)throw new J("tan is undefined for "+y.toString());qe==3?(I=h.parse("sqrt(3)"),ne=!0):qe==4?(I=new ce(1),ne=!0):qe==6?(I=h.parse("1/sqrt(3)"),ne=!0):I=h.symfunction("tan",[y])}return I||(I=h.symfunction("tan",[y])),ne&&($e===2||$e===4)&&I.negate(),I},sec:function(y){if(E.PARSE2NUMBER)return y.isConstant()?E.USE_BIG?new ce(new b(1).dividedBy(b.cos(y.multiplier.toDecimal()))):new ce(fn.sec(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"sec"):h.parse(Vn("1/cos({0})",y));var I,ne=!1,$e=Il(y.multiplier.toDecimal()),Re=y.multiplier.abs();if(y.multiplier=Re,y.isPi()&&y.isLinear())if(on(Re))I=new ce(H(Re)?1:-1);else{Re.num;var qe=Re.den;if(qe==2)throw new J("sec is undefined for "+y.toString());qe==3?(I=new ce(2),ne=!0):qe==4?(I=h.parse("sqrt(2)"),ne=!0):qe==6?(I=h.parse("2/sqrt(3)"),ne=!0):I=h.symfunction("sec",[y])}return ne&&($e===2||$e===3)&&I.negate(),I||(I=h.symfunction("sec",[y])),I},csc:function(y){if(E.PARSE2NUMBER)return y.isConstant()?E.USE_BIG?new ce(new b(1).dividedBy(b.sin(y.multiplier.toDecimal()))):new ce(fn.csc(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"csc"):h.parse(Vn("1/sin({0})",y));var I,ne=!1,$e=Il(y.multiplier.toDecimal()),Re=y.multiplier.sign(),qe=y.multiplier.abs();if(y.multiplier=qe,y.isPi()&&y.isLinear()){if(on(qe))throw new J("csc is undefined for "+y.toString());qe.num;var lt=qe.den;lt==2?(I=new ce(1),ne=!0):lt==3?(I=h.parse("2/sqrt(3)"),ne=!0):lt==4?(I=h.parse("sqrt(2)"),ne=!0):lt==6?(I=new ce(2),ne=!0):I=h.multiply(new ce(Re),h.symfunction("csc",[y]))}return I||(I=h.multiply(new ce(Re),h.symfunction("csc",[y]))),ne&&($e===3||$e===4)&&I.negate(),I},cot:function(y){if(E.PARSE2NUMBER)return y%(Math.PI/2)===0?new ce(0):y.isConstant()?E.USE_BIG?new ce(new b(1).dividedBy(b.tan(y.multiplier.toDecimal()))):new ce(fn.cot(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"cot"):h.parse(Vn("1/tan({0})",y));var I,ne=!1,$e=Il(y.multiplier.toDecimal()),Re=y.multiplier;if(y.multiplier=Re,y.isPi()&&y.isLinear()){if(on(Re))throw new J("cot is undefined for "+y.toString());Re.num;var qe=Re.den;qe==2?I=new ce(0):qe==3?(I=h.parse("1/sqrt(3)"),ne=!0):qe==4?(I=new ce(1),ne=!0):qe==6?(I=h.parse("sqrt(3)"),ne=!0):I=h.symfunction("cot",[y])}return I||(I=h.symfunction("cot",[y])),ne&&($e===2||$e===4)&&I.negate(),I},acos:function(y){if(E.PARSE2NUMBER){if(y.isConstant()){if(y.gt(1)||y.lt(-1)){var I=y.toString();return ho(L(`pi/2-asin(${I})`))}return E.USE_BIG?new ce(b.acos(y.multiplier.toDecimal())):new ce(Math.acos(y.valueOf()))}if(y.isImaginary())return Ae.evaluate(y,"acos")}return h.symfunction("acos",arguments)},asin:function(y){if(E.PARSE2NUMBER){if(y.isConstant()){if(y.gt(1)||y.lt(-1)){var I=E.IMAGINARY,ne=y.multiplier.toDecimal();return ho(L(`${I}*log(sqrt(1-${ne}^2)-${I}*${ne})`))}return E.USE_BIG?new ce(b.asin(y.multiplier.toDecimal())):new ce(Math.asin(y.valueOf()))}if(y.isImaginary())return Ae.evaluate(y,"asin")}return h.symfunction("asin",arguments)},atan:function(y){var I;if(y.equals(0))I=new ce(0);else{if(E.PARSE2NUMBER)return y.isConstant()?E.USE_BIG?new ce(b.atan(y.multiplier.toDecimal())):new ce(Math.atan(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"atan"):h.symfunction("atan",arguments);y.equals(-1)?I=h.parse("-pi/4"):I=h.symfunction("atan",arguments)}return I},asec:function(y){if(E.PARSE2NUMBER){if(y.equals(0))throw new Te("Input is out of the domain of sec!");if(y.isConstant())return pe.acos(y.invert());if(y.isImaginary())return Ae.evaluate(y,"asec")}return h.symfunction("asec",arguments)},acsc:function(y){if(E.PARSE2NUMBER){if(y.isConstant())return pe.asin(y.invert());if(y.isImaginary())return Ae.evaluate(y,"acsc")}return h.symfunction("acsc",arguments)},acot:function(y){if(E.PARSE2NUMBER){if(y.isConstant())return new h.add(h.parse("pi/2"),pe.atan(y).negate());if(y.isImaginary())return Ae.evaluate(y,"acot")}return h.symfunction("acot",arguments)},atan2:function(y,I){if(y.equals(0)&&I.equals(0))throw new J("atan2 is undefined for 0, 0");return E.PARSE2NUMBER&&y.isConstant()&&I.isConstant()?new ce(Math.atan2(y,I)):h.symfunction("atan2",arguments)}},dt=this.trigh={cosh:function(y){if(E.PARSE2NUMBER){if(y.isConstant())return new ce(Math.cosh(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"cosh")}return h.symfunction("cosh",arguments)},sinh:function(y){if(E.PARSE2NUMBER){if(y.isConstant())return new ce(Math.sinh(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"sinh")}return h.symfunction("sinh",arguments)},tanh:function(y){if(E.PARSE2NUMBER){if(y.isConstant())return new ce(Math.tanh(y.valueOf()));if(y.isImaginary())return Ae.evaluate(y,"tanh")}return h.symfunction("tanh",arguments)},sech:function(y){return E.PARSE2NUMBER?y.isConstant()?new ce(Math.sech(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"sech"):h.parse(Vn("1/cosh({0})",y)):h.symfunction("sech",arguments)},csch:function(y){return E.PARSE2NUMBER?y.isConstant()?new ce(Math.csch(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"csch"):h.parse(Vn("1/sinh({0})",y)):h.symfunction("csch",arguments)},coth:function(y){return E.PARSE2NUMBER?y.isConstant()?new ce(Math.coth(y.valueOf())):y.isImaginary()?Ae.evaluate(y,"coth"):h.parse(Vn("1/tanh({0})",y)):h.symfunction("coth",arguments)},acosh:function(y){var I;return E.PARSE2NUMBER&&y.isImaginary()?I=Ae.evaluate(y,"acosh"):E.PARSE2NUMBER?I=L(h.parse(Vn(E.LOG+"(({0})+sqrt(({0})^2-1))",y.toString()))):I=h.symfunction("acosh",arguments),I},asinh:function(y){var I;return E.PARSE2NUMBER&&y.isImaginary()?I=Ae.evaluate(y,"asinh"):E.PARSE2NUMBER?I=L(h.parse(Vn(E.LOG+"(({0})+sqrt(({0})^2+1))",y.toString()))):I=h.symfunction("asinh",arguments),I},atanh:function(y){var I;return E.PARSE2NUMBER&&y.isImaginary()?I=Ae.evaluate(y,"atanh"):E.PARSE2NUMBER?I=L(h.parse(Vn("(1/2)*"+E.LOG+"((1+({0}))/(1-({0})))",y.toString()))):I=h.symfunction("atanh",arguments),I},asech:function(y){var I;return E.PARSE2NUMBER&&y.isImaginary()?I=Ae.evaluate(y,"asech"):E.PARSE2NUMBER?I=L(ws(h.add(y.clone().invert(),ti(h.subtract(h.pow(y,new ce(-2)),new ce(1)))))):I=h.symfunction("asech",arguments),I},acsch:function(y){var I;return E.PARSE2NUMBER&&y.isImaginary()?I=Ae.evaluate(y,"acsch"):E.PARSE2NUMBER?I=L(h.parse(Vn(E.LOG+"((1+sqrt(1+({0})^2))/({0}))",y.toString()))):I=h.symfunction("acsch",arguments),I},acoth:function(y){var I;return E.PARSE2NUMBER&&y.isImaginary()?I=Ae.evaluate(y,"acoth"):E.PARSE2NUMBER?y.equals(1)?I=ce.infinity():I=L(h.divide(ws(h.divide(h.add(y.clone(),new ce(1)),h.subtract(y.clone(),new ce(1)))),new ce(2))):I=h.symfunction("acoth",arguments),I}};this.units={};var Ct={"\\":{precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(y){return y}},"!!":{precedence:7,operator:"!!",action:"dfactorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(y){return h.symfunction(E.DOUBLEFACTORIAL,[y])}},"!":{precedence:7,operator:"!",action:"factorial",prefix:!1,postfix:!0,leftAssoc:!0,operation:function(y){return Dr(y)}},"^":{precedence:6,operator:"^",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"**":{precedence:6,operator:"**",action:"pow",prefix:!1,postfix:!1,leftAssoc:!0},"%":{precedence:4,operator:"%",action:"percent",prefix:!1,postfix:!0,leftAssoc:!0,overloaded:!0,overloadAction:"mod",overloadLeftAssoc:!1,operation:function(y){return h.divide(y,new ce(100))}},"*":{precedence:4,operator:"*",action:"multiply",prefix:!1,postfix:!1,leftAssoc:!1},"/":{precedence:4,operator:"/",action:"divide",prefix:!1,postfix:!1,leftAssoc:!1},"+":{precedence:3,operator:"+",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y}},plus:{precedence:3,operator:"plus",action:"add",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y}},"-":{precedence:3,operator:"-",action:"subtract",prefix:!0,postfix:!1,leftAssoc:!1,operation:function(y){return y.negate()}},"=":{precedence:2,operator:"=",action:"equals",prefix:!1,postfix:!1,leftAssoc:!1},"==":{precedence:1,operator:"==",action:"eq",prefix:!1,postfix:!1,leftAssoc:!1},"<":{precedence:1,operator:"<",action:"lt",prefix:!1,postfix:!1,leftAssoc:!1},"<=":{precedence:1,operator:"<=",action:"lte",prefix:!1,postfix:!1,leftAssoc:!1},">":{precedence:1,operator:">",action:"gt",prefix:!1,postfix:!1,leftAssoc:!1},"=>":{precedence:1,operator:"=>",action:"gte",prefix:!1,postfix:!1,leftAssoc:!1},",":{precedence:0,operator:",",action:"comma",prefix:!1,postfix:!1,leftAssoc:!1},":":{precedence:0,operator:",",action:"assign",prefix:!1,postfix:!1,leftAssoc:!1,vectorFn:"slice"},":=":{precedence:0,operator:",",action:"function_assign",prefix:!1,postfix:!1,leftAssoc:!0}},bt={"(":{type:"round",id:1,is_open:!0,is_close:!1},")":{type:"round",id:2,is_open:!1,is_close:!0},"[":{type:"square",id:3,is_open:!0,is_close:!1,maps_to:"vector"},"]":{type:"square",id:4,is_open:!1,is_close:!0},"{":{type:"curly",id:5,is_open:!0,is_close:!1,maps_to:"Set"},"}":{type:"curly",id:6,is_open:!1,is_close:!0}},hn=this.functions={cos:[pe.cos,1],sin:[pe.sin,1],tan:[pe.tan,1],sec:[pe.sec,1],csc:[pe.csc,1],cot:[pe.cot,1],acos:[pe.acos,1],asin:[pe.asin,1],atan:[pe.atan,1],arccos:[pe.acos,1],arcsin:[pe.asin,1],arctan:[pe.atan,1],asec:[pe.asec,1],acsc:[pe.acsc,1],acot:[pe.acot,1],atan2:[pe.atan2,2],acoth:[dt.acoth,1],asech:[dt.asech,1],acsch:[dt.acsch,1],sinh:[dt.sinh,1],cosh:[dt.cosh,1],tanh:[dt.tanh,1],asinh:[dt.asinh,1],sech:[dt.sech,1],csch:[dt.csch,1],coth:[dt.coth,1],acosh:[dt.acosh,1],atanh:[dt.atanh,1],log10:[,1],exp:[oi,1],radians:[Ci,1],degrees:[Pi,1],min:[Ps,-1],max:[Ql,-1],erf:[,1],floor:[,1],ceil:[,1],trunc:[,1],Si:[,1],step:[,1],rect:[,1],sinc:[Fn,1],tri:[,1],sign:[Rs,1],Ci:[,1],Ei:[,1],Shi:[,1],Chi:[,1],Li:[,1],fib:[,1],fact:[Dr,1],factorial:[Dr,1],continued_fraction:[rr,[1,2]],dfactorial:[,1],gamma_incomplete:[,[1,2]],round:[Go,[1,2]],scientific:[Yr,[1,2]],mod:[ei,2],pfactor:[co,1],vector:[p0,-1],matrix:[m0,-1],Set:[Yc,-1],imatrix:[Xc,-1],parens:[Pn,-1],sqrt:[ti,1],cbrt:[Wn,1],nthroot:[di,2],log:[ws,[1,2]],expand:[tu,1],abs:[Kn,1],invert:[Ol,1],determinant:[g0,1],size:[Sa,1],transpose:[$0,1],dot:[G0,2],cross:[Qu,2],vecget:[jc,2],vecset:[Ju,3],vectrim:[rh,[1,2]],matget:[al,3],matset:[Zu,4],matgetrow:[mr,2],matsetrow:[nu,3],matgetcol:[H0,2],matsetcol:[wa,3],rationalize:[Zi,1],IF:[js,3],is_in:[rs,2],realpart:[ni,1],imagpart:[Bs,1],conjugate:[To,1],arg:[jt,1],polarform:[ki,1],rectform:[Vi,1],sort:[qr,[1,2]],integer_part:[,1],union:[ec,2],contains:[ru,2],intersection:[tc,2],difference:[xa,2],intersects:[Ca,2],is_subset:[V0,2],print:[Nl,-1]};this.error=Bt;var Wt=function(y){for(var I=E.FUNCTION_MODULES,ne=I.length,$e=0;$e<ne;$e++){var Re=I[$e];if(y in Re)return Re[y]}Bt("The function "+y+" is undefined!")};this.override=function(y,I){w[y]||(w[y]=[]),w[y].push(this[y]),this[y]=I},this.restore=function(y){this[y]&&(this[y]=w[y].pop())},this.extend=function(y,I,ne){var $e=this,Re=this[y];if(typeof Re=="function"&&typeof I=="function"){var qe=this[y];this[y]=function(lt,Et){return Ot(lt)&&Ot(Et)&&!ne?qe.call($e,lt,Et):I.call($e,lt,Et,qe)}}},this.symfunction=function(y,I){var ne=new ce(y);return ne.group=ve,typeof I=="object"&&(I=[].slice.call(I)),ne.args=I,ne.fname=y===Be?"":y,ne.updateHash(),ne},this.callfunction=function(y,I,ne){var $e=hn[y];$e||Bt("Nerdamer currently does not support the function "+y);var Re=$e[1]||ne,qe=$e[0],lt;if(I instanceof Array||(I=I!==void 0?[I]:[]),Re!==-1){var Et=pr(Re),Gt=Et?Re[0]:Re,qt=Et?Re[1]:Re,pn=I.length,At=y+" requires a {0} of {1} arguments. {2} provided!";pn<Gt&&Bt(Vn(At,"minimum",Gt,pn)),pn>qt&&Bt(Vn(At,"maximum",qt,pn))}var Un=_(I);return qe?lt=qe.apply($e[2],I):(qe=Wt(y),E.PARSE2NUMBER&&Un?lt=Ml(qe.apply(qe,I)):lt=h.symfunction(y,I)),lt},this.operator_filter_regex=(function(){var y="^\\"+Object.keys(Ct).filter(function(I){if(I.length===1)return I}).join("\\");return new RegExp("(["+y+"])\\s+(["+y+"])")})(),this.setOperator=function(y,I,ne){var $e=y.operator;if(Ct[$e]=y,I&&(this[y.action]=I),h[$e]=y.operation,!y.action&&!(y.prefix||y.postif)&&(y.action=$e),ne==="over"||ne==="under"){var Re=y.precedence;for(var qe in Ct){var lt=Ct[qe],Et=ne==="over"?lt.precedence>=Re:lt.precedence>Re;Et&&lt.precedence++}}},this.getOperator=function(y){return Ct[y]},this.aliasOperator=function(y,I){var ne={},$e=Ct[y];for(var Re in $e)ne[Re]=$e[Re];ne.operator=I,this.setOperator(ne)},this.getOperators=function(){return Ct},this.getBrackets=function(){return bt};var nn=function(y){y=String(y);for(var I=0;I<D.actions.length;I++)y=D.actions[I].call(this,y);for(y=y.replace(/\s+/g," "),/e/gi.test(y)&&(y=y.replace(/\-*\d+\.*\d*e\+?\-?\d+/gi,function($e){return Ut($e)})),y=y.replace(E.IMPLIED_MULTIPLICATION_REGEX,function(){var $e=arguments[4],Re=arguments[1],qe=arguments[2],lt=arguments[3],Et=$e.charAt(lt),Gt="",qt="*";return Et.match(/[\+\-\/\*]/)||(Gt=$e.charAt(lt-1)),Gt.match(/[a-z]/i)&&(qt=""),Re+qt+qe}).replace(/([a-z0-9_]+)/gi,function($e,Re){return E.USE_MULTICHARACTER_VARS===!1&&!(Re in hn)&&isNaN(Re)?Re.split("").join("*"):Re}).replace(/\)\(/g,")*(")||"0";;){var ne=y;if(y=y.replace(/([a-z0-9_]+)(\()|(\))([a-z0-9]+)/gi,function($e,Re,qe,lt,Et){var Gt=Re||lt,qt=qe||Et;return Gt in hn?Gt+qt:Gt+"*"+qt}),ne===y)break}return y};this.initConstants=function(){this.CONSTANTS={E:new ce(E.E),PI:new ce(E.PI)}},this.pretty_print=function(y){if(Array.isArray(y)){var I=y.map(ne=>h.pretty_print(ne)).join(", ");return y.type==="vector"?"vector<"+I+">":"("+I+")"}return y.toString()},this.peekers={pre_operator:[],post_operator:[],pre_function:[],post_function:[]},this.callPeekers=function(y){if(E.callPeekers)for(var I=this.peekers[y],ne=yo(arguments).slice(1).map(Bi),$e=0;$e<I.length;$e++)I[$e].apply(null,ne)},this.tokenize=function(y){y=String(y),y=y.trim().replace(/\s+/g," ");for(var I in bt){var ne=new RegExp(bt[I].is_close?"\\s+\\"+I:"\\"+I+"\\s+","g");y=y.replace(ne,I)}for(var $e=0,Re=y.length,qe=0,lt=[],Et=[lt],Gt=Et[0],qt=0,pn=[],At=!1,Un=" ",Nn="",Gn=",",Qn="-",yr="*",Br=function(kr,os){var ue=[];kr!==void 0&&(ue.type=kr),ue.column=os,Et.push(ue),Gt.push(ue),Gt=ue,qt++},en=function(){Et.pop(),Gt=Et[--qt]},Mn=function(kr){kr=kr!==void 0?kr:$e;for(var os=kr+1;y.charAt(os++)in Ct;);return y.substring(kr,os-1)},Mr=function(kr){for(var os=$e-kr.length,ue=[],_i=kr.charAt(0),Qi=1,cl=kr.length;Qi<cl;Qi++){var no=kr.charAt(Qi),po=_i+no;po in Ct?_i=po:(ue.push(new ae(_i,ae.OPERATOR,os+Qi)),_i=no)}return ue.push(new ae(_i,ae.OPERATOR,os+Qi)),ue},or=function(kr,os){os===void 0&&(os=y.substring(qe,kr)),os in h.units?Gt.push(new ae(os,ae.UNIT,qe)):os!==""&&Gt.push(new ae(os,ae.VARIABLE_OR_LITERAL,qe))},Xr=function(kr){Gt.push(new ae(kr,ae.FUNCTION,qe))},li=function(kr){qe=kr+1},Kr=function(){qe=qe+Pr.length-2,$e=qe-1};$e<Re;$e++){var ri=y.charAt($e);if(ri in Ct){or($e);var Jr=Gt[0]&&ct(Gt[0]),bi=Jr&&ri===yr;At&&qe<$e&&!(ri===Gn||bi)&&(At=!1,en()),li($e+1);var Pr=Mn($e);Kr(),Gt.push.apply(Gt,Mr(Pr))}else if(ri in bt){var Fi=bt[ri];if(Fi.is_open){pn.push([Fi,qe]);var ms=y.substring(qe,$e);ms in hn?Xr(ms):ms!==""&&Gt.push(new ae(ms,ae.VARIABLE_OR_LITERAL,qe)),Br(Fi.maps_to,$e)}else if(Fi.is_close){var Ss=pn.pop();if(Ss){if(Ss[0].id!==Fi.id-1)throw new it("Parity error")}else throw new it("Missing open bracket for bracket at: "+($e+1));or($e),en()}li($e)}else if(ri===Un){var yi=y.substring(qe,$e),Fs=y.charAt($e+1);if(At){if(yi in Ct)Gt.push(new ae(yi,ae.OPERATOR,$e));else{or(void 0,yi),en();var fo=Fs in Ct;(fo&&Ct[Fs].value===Qn||!fo)&&Gt.push(new ae(yr,ae.OPERATOR,$e))}At=!1}else{var ms=y.substring(qe,$e);if(ms in hn)At=!0,Xr(ms),Br();else if(ms in Ct)Gt.push(new ae(ms,ae.OPERATOR,$e));else{or(void 0,ms);var Fs=y.charAt($e+1);yi!==Nn&&Fs!==Nn&&!(yi in Ct)&&!(Fs in Ct)&&Gt.push(new ae(yr,ae.OPERATOR,$e))}}li($e)}}if(pn.length){var xs=pn.pop();throw new it("Missing closed bracket for bracket at "+(xs[1]+1))}return or($e),lt},this.toRPN=function(y){var I=y.type,ne=y.length,$e,Re=[],qe=[],lt=[],Et=function(yr,Br){for(;yr.length;)Br.push(yr.pop())};for($e=0;$e<ne;$e++){var Gt=y[$e];if(Gt.type!==ae.OPERATOR)break;if(!Gt.prefix)throw new Q("Not a prefix operator");Gt.is_prefix=!0,qe.push(Gt)}for(;$e<ne;$e++){var qt=y[$e];if(qt.type===ae.OPERATOR){var pn=qt;if(pn.overloaded){var At=y[$e+1];At&&At.type===ae.VARIABLE_OR_LITERAL&&(pn.postfix=!1,pn.action=pn.overloadAction,pn.leftAssoc=pn.overloadLeftAssoc)}for(;qe.length;){var Un=qe[qe.length-1];if(!(Un.precedence>pn.precedence||!pn.leftAssoc&&Un.precedence===pn.precedence))break;Re.push(qe.pop())}if((I==="vector"||I==="set")&&"vectorFn"in pn&&(pn.action=pn.vectorFn),pn.postfix){var Nn=y[$e-1];if(Nn){if(Nn.type===ae.OPERATOR&&!Nn.postfix)throw new Q("Unexpected prefix operator '"+Nn.value+"'! at "+Nn.column)}else throw new Q("Unexpected prefix operator '"+qt.value+"'! at "+qt.column)}else do{var At=y[$e+1],Gn=At?At.type===ae.OPERATOR:!1;if(Gn){if(!At.prefix)throw new Q("A prefix operator was expected at "+At.column);At.is_prefix=!0,lt.push(At),$e++}}while(Gn);for(pn.is_prefix?lt.push(pn):qe.push(pn);lt.length&&(pn.leftAssoc||!pn.leftAssoc&&lt[lt.length-1].precedence>=pn.precedence);)qe.push(lt.pop())}else if(qt.type===ae.VARIABLE_OR_LITERAL){Re.length===0&&Et(lt,qe),Re.push(qt);var Qn=qe[qe.length-1];(!Qn||!Qn.leftAssoc)&&Et(lt,Re)}else qt.type===ae.FUNCTION?qe.push(qt):qt.type===ae.UNIT&&Re.push(qt);Array.isArray(qt)&&(Re.push(this.toRPN(qt)),qt.type&&Re.push(new ae(qt.type,ae.FUNCTION,qt.column)))}return Et(qe,Re),Et(lt,Re),Re},this.parseRPN=function(y,I){try{I=I||{};for(var ne in I)I[ne]=h.parse(I[ne],{});E.PARSE2NUMBER&&("e"in I||(I.e=new ce(E.E)),"pi"in I||(I.pi=new ce(E.PI)));for(var $e=[],Re=0,qe=y.length;Re<qe;Re++){var lt=y[Re];if(Array.isArray(lt)&&(lt=this.parseRPN(lt,I)),lt)if(lt.type===ae.OPERATOR)if(lt.is_prefix||lt.postfix)$e.push(lt.operation($e.pop()));else{var Et=$e.pop(),Gt=$e.pop();if(typeof Gt>"u")throw new Q(lt+" is not a valid postfix operator at "+lt.column);var qt=lt.action==="comma";Gt instanceof er&&!qt&&(Gt=Lr.fromSet(Gt)),Et instanceof er&&!qt&&(Et=Lr.fromSet(Et)),this.callPeekers("pre_operator",Gt,Et,lt);var pn=h[lt.action](Gt,Et);this.callPeekers("post_operator",pn,Gt,Et,lt),$e.push(pn)}else if(lt.type===ae.FUNCTION){var At=$e.pop(),Un=At.parent;At instanceof te||(At=te.create(At));var Nn=lt.value,Gn=At.getItems();this.callPeekers("pre_function",Nn,Gn);var Qn=h.callfunction(Nn,Gn);this.callPeekers("post_function",Qn,Nn,Gn);var yr=$e[$e.length-1],Br=y[Re+1],en=Br&&Br.type===ae.OPERATOR&&Br.value===",";if(!en&&Qn instanceof Lr&&yr&&yr.elements&&!(yr instanceof te)){var Mn=$e.pop(),Mr=Qn.elements[0];if(!Mr.isConstant())Mn.getter=Mr,$e.push(Mn),$e.push(Qn);else if(Mr instanceof U)$e.push(Lr.fromArray(Mn.elements.slice(Mr.start,Mr.end)));else{var or=Number(Mr),Xr=Mn.elements.length;if(or<0&&(or=Xr+or),or<0||or>=Xr)throw new Rt("Index out of range "+(lt.column+1));var li=Mn.elements[or];Mn.getter=or,li.parent=Mn,$e.push(li)}}else Un&&(Qn.parent=Un),$e.push(Qn)}else{var Kr,ri=lt.value;ri in E.ALIASES?lt=h.parse(E.ALIASES[lt]):lt.type===ae.VARIABLE_OR_LITERAL?lt=new ce(ri):lt.type===ae.UNIT&&(lt=new ce(ri),lt.isUnit=!0),ri in h.CONSTANTS?(Kr=lt,lt=new ce(h.CONSTANTS[ri])):ri in I&&ri!==I[ri].toString()?(Kr=lt,lt=I[ri].clone()):ri in Qt&&(Kr=lt,lt=Qt[ri].clone()),Kr&&(lt.subbed=Kr),$e.push(lt)}}var Jr=$e[0];if(["undefined","string","number"].indexOf(typeof Jr)!==-1)throw new Ji("Unexpected token!");return Jr}catch(Pr){var bi=[Te];throw bi.forEach(function(Fi){if(Pr instanceof Fi)throw new Fi(Pr.message+": "+lt.column)}),new _e(Pr.message+": "+lt.column)}};function Sn(y){this.type=y.type,this.value=y.value,this.left=y.left,this.right=y.right}Sn.prototype.toString=function(){var y=this.left?this.left.toString()+"---":"",I=this.right?"---"+this.right.toString():"";return y+"("+this.value+")"+I},Sn.prototype.toHTML=function(y,I){y=y||0,I=typeof I>"u"?4:I;var ne=function(lt){return" ".repeat(I*lt)},qe="",$e=this.left?ne(y+1)+`<li>
`+this.left.toHTML(y+2,I)+ne(y+1)+`</li> 
`:"",Re=this.right?ne(y+1)+`<li>
`+this.right.toHTML(y+2,I)+ne(y+1)+`</li>
`:"",qe=ne(y)+'<div class="'+this.type.toLowerCase()+'"><span>'+this.value+"</span></div>"+ne(y)+`
`;return($e||Re)&&(qe+=ne(y)+`<ul>
`+$e+Re+ne(y)+`</ul>
`),qe+="",qe},this.tree=function(y){for(var I=[],ne=0;ne<y.length;ne++){var $e=y[ne];if(Array.isArray($e)){$e=this.tree($e),I.push($e);continue}if($e.type===ae.OPERATOR)if($e.is_prefix||$e.postfix){var Re=$e.is_prefix?"left":"right",qe=I.pop();$e=new Sn($e),$e[Re]=qe,I.push($e)}else $e=new Sn($e),$e.right=I.pop(),$e.left=I.pop(),I.push($e);else if($e.type===ae.FUNCTION){$e=new Sn($e);var lt=I.pop();if($e.right=lt,$e.value==="object"){var qe=I[I.length-1];if(qe){for(;qe.right;)qe=qe.right;qe.right=$e;continue}}I.push($e)}else I.push(new Sn($e))}return I[0]},this.parse=function(y,I){y=nn(y),I=I||{};var ne=this.tokenize(y),$e=this.toRPN(ne);return this.parseRPN($e,I)},this.toObject=function(y){var I=function(ne){for(var $e=[],Re=0,qe=ne.length;Re<qe;Re++){var lt=ne[Re],Et=lt.value;if(lt.type===ae.VARIABLE_OR_LITERAL)$e.push(new ce(Et));else if(lt.type===ae.FUNCTION){Re++;var Gt=h.symfunction(Et,I(ne[Re]));Gt.isConversion=!0,$e.push(Gt)}else lt.type===ae.OPERATOR?$e.push(Et):$e.push(I(lt))}return $e};return I(h.tokenize(y))};var gn=function(y){for(var I,ne=0,$e=[[]],I=0,Re=y.length;I<Re;I++)y[I]===","?(ne++,$e[ne]=[]):$e[ne].push(y[I]);return $e},Pt=function(y){return y.replace(/^\\left\((.+)\\right\)$/g,function(I,ne){return ne||I})},tr=function(y){for(var I=[];y.length;){var ne=y.shift(),$e=y[0],Re=pr($e),qe=$e==="-";if(ne==="^"&&($e==="+"?y.shift():Re&&$e[0]==="+"&&$e.shift(),Re&&$e.length===1&&y.unshift(y.shift()[0])),ne==="^"&&(Re&&$e[0]==="-"||qe)){var lt=I.pop(),Et=I[I.length-1],Gt="1";Et==="*"?(I.pop(),Gt=I.pop()):pr(Et)&&(Gt=I.pop()),I.push(Gt,"/",lt,ne),Re?$e.shift():y.shift(),Re&&$e.length===1&&I.push(y.shift()[0])}else I.push(ne)}return I};this.toTeX=function(y,I){I=I||{};var ne=I.decimals===!0?"decimals":void 0,$e=typeof y=="string"?this.toObject(y):y,Re=[],qe=typeof I.cdot>"u"?"\\cdot":I.cdot;if($e=tr($e),pr($e)){for(var lt=[],Et,Gt,qt=0;qt<$e.length;qt++)Et=$e[qt],$e[qt+1]==="^"?(Gt=$e[qt+2],lt.push(dr.braces(this.toTeX([Et]))+"^"+dr.braces(this.toTeX([Gt]))),qt+=2):lt.push(Et);$e=lt}for(var qt=0,pn=$e.length;qt<pn;qt++){var At=$e[qt];if(At==="*"&&(At=qe),Ot(At))if(At.group===ve){var Un=At.fname,Nn;if(Un===Ke)Nn="\\sqrt"+dr.braces(this.toTeX(At.args));else if(Un===ye)Nn=dr.brackets(this.toTeX(At.args),"abs");else if(Un===Be)Nn=dr.brackets(this.toTeX(At.args),"parens");else if(Un===E.LOG10)Nn="\\"+E.LOG10_LATEX+"\\left( "+this.toTeX(At.args)+"\\right)";else if(Un==="integrate"){var Gn=gn(At.args),Qn=dr.braces(this.toTeX(Gn[0])),yr=this.toTeX(Gn[1]);Nn="\\int "+Qn+"\\, d"+yr}else if(Un==="defint"){var Gn=gn(At.args),Qn=dr.braces(this.toTeX(Gn[0])),yr=this.toTeX(Gn[3]),Br=this.toTeX(Gn[1]),en=this.toTeX(Gn[2]);Nn="\\int\\limits_{"+Br+"}^{"+en+"} "+Qn+"\\, d"+yr}else if(Un==="diff"){var Gn=gn(At.args),yr="",Qn=dr.braces(this.toTeX(Gn[0]));if(Gn.length===1){var Mn=[];for(or=0;or<Gn[0].length;or++)Gn[0][or].group===3&&Mn.push(Gn[0][or].value);Mn.sort(),yr=Mn.length>0?"\\frac{d}{d "+Mn[0]+"}":"\\frac{d}{d x}"}else Gn.length===2?yr="\\frac{d}{d "+Gn[1]+"}":yr="\\frac{d^{"+Gn[2]+"}}{d "+this.toTeX(Gn[1])+"^{"+Gn[2]+"}}";Nn=yr+"\\left("+Qn+"\\right)"}else if(Un==="sum"||Un==="product"){var Mr=[[],[],[],[]],or=0,qt;for(qt=0;qt<At.args.length;qt++){if(At.args[qt]===","){or++;continue}Mr[or].push(At.args[qt])}Nn=(Un==="sum"?"\\sum_":"\\prod_")+dr.braces(this.toTeX(Mr[1])+" = "+this.toTeX(Mr[2])),Nn+="^"+dr.braces(this.toTeX(Mr[3]))+dr.braces(this.toTeX(Mr[0]))}else if(Un==="limit"){var Xr=gn(At.args).map(function(Kr){return Array.isArray(Kr)?h.toTeX(Kr.join("")):h.toTeX(String(Kr))});Nn="\\lim_"+dr.braces(Xr[1]+"\\to "+Xr[2])+" "+dr.braces(Xr[0])}else Un===Ve||Un===st?Nn=this.toTeX(At.args)+(Un===Ve?"!":"!!"):Nn=dr.latex(At,ne);Re.push(Nn)}else Re.push(dr.latex(At,ne));else pr(At)?Re.push(dr.brackets(this.toTeX(At))):At==="/"?Re.push(dr.frac(Pt(Re.pop()),Pt(this.toTeX([$e[++qt]])))):Re.push(At)}return Re.join(" ")};function Pn(y){return E.PARSE2NUMBER?y:h.symfunction("parens",[y])}function Kn(y){if(y.isInfinity)return ce.infinity();if(y.multiplier.lessThan(0)&&y.multiplier.negate(),y.isImaginary()){var I=y.realpart(),ne=y.imagpart();if(I.isConstant()&&ne.isConstant())return ti(h.add(h.pow(I,new ce(2)),h.pow(ne,new ce(2))))}else if(Wr(y)||H(y.power))return y;if(y.isComposite()){var $e=[];y.each(function(lt){$e.push(lt.multiplier)});var Re=fn.QGCD.apply(null,$e);Re.lessThan(0)&&(y.multiplier=y.multiplier.multiply(new Zt(-1)),y.distributeMultiplier())}var qe=h.parse(y.multiplier);return y.toUnitMultiplier(),h.multiply(qe,h.symfunction(ye,[y]))}function Dr(y){var I;if(Xn(y)){var ne=new Lr;return y.each(function(pn,At){ne.set(At-1,Dr(pn))}),ne}if(ht(y)){var $e=new $n;return y.each(function(pn,At,Un){$e.set(At,Un,Dr(pn))}),$e}if(E.PARSE2NUMBER&&y.isConstant())return on(y)?I=fn.bigfactorial(y):I=fn.gamma(y.multiplier.add(new Zt(1)).toDecimal()),I=Ml(I),I;if(y.isConstant()){var Re=y.getDenom();if(Re.equals(2)){var qe=y.getNum(),lt,Et,Gt,qt;return y.multiplier.isNegative()?(qt=h.subtract(qe.negate(),new ce(1)).multiplier.divide(new Zt(2)),lt=h.pow(new ce(-4),new ce(qt)).multiplier.multiply(fn.bigfactorial(qt)),Et=fn.bigfactorial(new Zt(2).multiply(qt))):(qt=h.add(qe,new ce(1)).multiplier.divide(new Zt(2)),lt=fn.bigfactorial(new Zt(2).multiply(qt)),Et=h.pow(new ce(4),new ce(qt)).multiplier.multiply(fn.bigfactorial(qt))),Gt=lt.divide(Et),h.multiply(h.parse("sqrt(pi)"),new ce(Gt))}}return h.symfunction(Ve,[y])}function rr(y,I){var ne=L(y);if(ne.isConstant()){var $e=fn.continuedFraction(ne,I),Re=Lr.fromArray($e.fractions.map(function(qe){return new ce(qe)}));return Lr.fromArray([new ce($e.sign),new ce($e.whole),Re])}return h.symfunction("continued_fraction",arguments)}function ei(y,I){if(y.isConstant()&&I.isConstant()){var ne=new ce(1);return ne.multiplier=ne.multiplier.multiply(y.multiplier.mod(I.multiplier)),ne}var $e=h.divide(y.clone(),I.clone());return on($e)?new ce(0):h.symfunction("mod",[y,I])}function js(y,I,ne){return typeof y!="boolean"&&Wr(y)&&(y=!!Number(y)),y?I:ne}function rs(y,I){if(ht(y))for(var ne=0,$e=y.rows();ne<$e;ne++)for(var Re=0,qe=y.cols();Re<qe;Re++){var lt=y.elements[ne][Re];if(lt.equals(I))return new ce(1)}else if(y.elements){for(var ne=0,$e=y.elements.length;ne<$e;ne++)if(y.elements[ne].equals(I))return new ce(1)}return new ce(0)}function Fn(y){return E.PARSE2NUMBER?y.isConstant()?new ce(fn.sinc(y)):h.parse(Vn("sin({0})/({0})",y)):h.symfunction("sinc",[y])}function oi(y){return y.fname===E.LOG&&y.isLinear()?h.pow(y.args[0],ce.create(y.multiplier)):h.parse(Vn("e^({0})",y))}function Ci(y){return h.parse(Vn("({0})*pi/180",y))}function Pi(y){return h.parse(Vn("({0})*180/pi",y))}function Zi(y){if(y.isComposite()){var I=new ce(0),ne,$e,Re,qe,lt,Et,Gt,qt;return y.each(function(pn){ne=pn.getNum(),$e=pn.getDenom(),Re=I.getNum(),qe=I.getDenom(),lt=h.multiply($e,Re),Et=h.multiply(ne,qe),Gt=h.expand(h.add(lt,Et)),qt=h.multiply(qe,$e),I=h.divide(Gt,qt)},!0),I}return y}function ti(y){if(Ot(y)||(y=h.parse(y)),y.group===fe)return h.symfunction(Ke,[y]);y.fname===""&&y.power.equals(1)&&(y=y.args[0]);var I=y.multiplier.sign()<0;if(E.PARSE2NUMBER){if(y.isConstant()&&!I)return new ce(b.sqrt(y.multiplier.toDecimal()));if(y.isImaginary())return Ae.sqrt(y);if(y.group===z)return h.symfunction("sqrt",[y])}var ne,$e,Re=y.isConstant();if(y.group===re&&y.isLinear()){var qe=ti(ce(y.multiplier));for(var lt in y.symbols){var Et=y.symbols[lt];qe=h.multiply(qe,ti(Et))}$e=qe}else if(y.fname===Ke){var lt=y.args[0],Gt=y.multiplier;lt.setPower(y.power.multiply(new Zt(.25))),$e=lt,Gt.equals(1)||($e=h.multiply(ti(h.parse(Gt)),$e))}else if(!y.power.isInteger())y.setPower(y.power.multiply(new Zt(.5))),$e=y;else if(y.multiplier<0&&y.group===z){var qt=h.parse(y.multiplier).negate(),pn=h.parse(y).toUnitMultiplier().negate();$e=h.multiply(h.symfunction(E.SQRT,[pn]),ti(qt))}else{var At=y.power.sign();y.power=y.power.abs(),Re&&y.multiplier.lessThan(0)&&(ne=ce.imaginary(),y.multiplier=y.multiplier.abs());var Un=y.multiplier.toDecimal(),Nn=Math.abs(Un),Gn=Math.sqrt(Nn),qe;if(on(Gn))qe=new ce(Gn);else if(on(Un)){var Qn=fn.ifactor(Un),yr=1;for(var Et in Qn){var Br=Qn[Et],en=Br-Br%2;if(en){var Mn=Math.pow(Et,en);yr*=Math.pow(Et,en/2),Un/=Mn}}qe=h.multiply(h.symfunction(Ke,[new ce(Un)]),new ce(yr))}else{for(var Mr=[new ce(y.multiplier.num),new ce(y.multiplier.den)],or=[new ce(1),new ce(1)],Xr=[new ce(1),new ce(1)],li=0;li<2;li++){var Br=Mr[li];co(Br).each(function(Jr){Jr=ce.unwrapPARENS(Jr);var bi=Jr.clone().toLinear(),Pr=Number(Jr.power),Fi=Pr%2,ms=(Pr-Fi)/2;or[li]=h.multiply(or[li],h.pow(bi,new ce(ms))),Xr[li]=h.multiply(Xr[li],ti(h.pow(bi,new ce(Fi))))})}qe=h.divide(h.multiply(or[0],Xr[0]),h.multiply(or[1],Xr[1]))}y=y.toUnitMultiplier(!0),y.isOne()?$e=y:H(y.power.toString())?$e=h.pow(y.clone(),new ce(.5)):$e=h.symfunction(Ke,[y]),At<0&&$e.power.negate(),qe&&($e=h.multiply(qe,$e)),ne&&($e=h.multiply(ne,$e))}return I&&E.PARSE2NUMBER?h.parse($e):$e}function Wn(y){if(!y.isConstant(!0)){var I,ne=y.power/3,$e=h.pow(h.parse(y.multiplier),new ce(1/3)),Re=y.toUnitMultiplier();return on(ne)?I=h.pow(Re.toLinear(),h.parse(ne)):Re.group===re?(I=new ce(1),Re.each(function(qe){I=h.multiply(I,Wn(qe))})):I=h.symfunction("cbrt",[Re]),h.multiply($e,I)}return di(y,new ce(3))}function Yr(y,I){return y.scientific=I||10,y}function di(y,I,ne,$e){if(I=L(h.parse(I)),I.equals(0))throw new J("Unable to calculate nthroots of zero");if(y<0&&H(I))throw new Error("Cannot calculate nthroot of negative number for even powers");if(!y.isConstant(!0))return h.symfunction("nthroot",arguments);y.group!==R&&(y=L(y)),typeof $e>"u"&&($e=!0),ne=ne||25;var Re=y.sign(),qe,lt;if(Re<0&&(y=Kn(y)),on(y)&&I.isConstant()){y<18446744073709552e3?lt=Zt.create(Math.pow(y,1/I)):lt=fn.nthroot(y,I);var qe;return $e&&(qe=new ce(lt)),qe=new ce(lt.toDecimal(ne)),h.multiply(new ce(Re),qe)}}function co(y){if(y.greaterThan(9999999999998891e26)||y.equals(-1))return y;if(y.equals(Math.PI))return new ce(Math.PI);if(y=L(y.clone()),y.isConstant()){var I=new ce(1),ne=y.toString();if(on(ne)){var $e=fn.ifactor(ne);for(var Re in $e){var qe=$e[Re];I=h.multiply(I,h.symfunction("parens",[new ce(Re).setPower(new Zt(qe))]))}}else{var lt=co(new ce(y.multiplier.num)),Et=co(new ce(y.multiplier.den));I=h.multiply(h.symfunction("parens",[lt]),h.symfunction("parens",[Et]).invert())}}else I=h.symfunction("pfactor",arguments);return I}function ni(y){return y.realpart()}function Bs(y){return y.imagpart()}function To(y){var I=y.realpart(),ne=y.imagpart();return h.add(I,h.multiply(ne.negate(),ce.imaginary()))}function jt(y){var I=y.realpart(),ne=y.imagpart();return I.isConstant()&&ne.isConstant()?ne.equals(0)&&I.equals(-1)?h.parse("pi"):ne.equals(1)&&I.equals(0)?h.parse("pi/2"):ne.equals(1)&&I.equals(1)?h.parse("pi/4"):new ce(Math.atan2(ne,I)):h.symfunction("atan2",[ne,I])}function ki(y){var I,ne,$e,Re;return I=ce.toPolarFormArray(y),Re=I[1],ne=I[0],$e=h.parse(Vn("e^({0}*({1}))",E.IMAGINARY,Re)),h.multiply(ne,$e)}function Vi(y){var I=y.clone();try{var ne,$e,Re,qe,lt,Et,Gt;return ne=Nt(y,"e",!0),$e=h.divide(ne.x.power,ce.imaginary()),Re=L(pe.tan($e)),qe=h.pow(ne.a,new ce(2)),Et=Re.getDenom(!0),Gt=Re.getNum(),lt=ce.hyp(Gt,Et),lt.equals(ne.a)?h.add(Et,h.multiply(ce.imaginary(),Gt)):I}catch{return I}}function Zl(y,I){I.map(function(qe){qe.numVal=L(qe).multiplier});for(var ne,$e,Re;;){if(ne=I.length,ne<2)return I[0];$e=I.pop(),Re=I[ne-2],(y==="min"?$e.numVal<Re.numVal:$e.numVal>Re.numVal)&&(I.pop(),I.push($e))}}function Ql(){var y=[].slice.call(arguments);return Ze(y)?y[0]:_(y)?new ce(Math.max.apply(null,y)):E.SYMBOLIC_MIN_MAX&&B(y)?Zl("max",y):h.symfunction("max",y)}function Ps(){var y=[].slice.call(arguments);return Ze(y)?y[0]:_(y)?new ce(Math.min.apply(null,y)):E.SYMBOLIC_MIN_MAX&&B(y)?Zl("min",y):h.symfunction("min",y)}function Rs(y){return y.isConstant(!0)?new ce(Math.sign(L(y))):h.symfunction("sign",arguments)}function qr(y,I){I=I?I.toString():"asc";var ne=function(Re){return Re.group===R?Re.multiplier:Re.group===ve?Re.fname===""?ne(Re.args[0]):Re.fname:Re.group===z?Re.power:Re.value},$e=Xn(y)?y.elements:y.collectSymbols();return new Lr($e.sort(function(Re,qe){var lt=ne(Re),Et=ne(qe);return I==="desc"?Et-lt:lt-Et}))}function ws(y,I){if(y.equals(1))return new ce(0);var ne;if(y.fname===Ke&&y.multiplier.equals(1))return ne=h.divide(ws(y.args[0]),new ce(2)),y.power.sign()<0&&ne.negate(),ne;if(y.equals(0))throw new J(E.LOG+"(0) is undefined!");if(y.isImaginary())return Ae.evaluate(y,E.LOG);if(y.isConstant()&&typeof I<"u"&&I.isConstant()){var $e=Math.log(y),Re=Math.log(I);ne=new ce($e/Re)}else if(y.group===fe&&y.power.multiplier.lessThan(0)||y.power.toString()==="-1")y.power.negate(),ne=ws(y).negate();else if(y.value==="e"&&y.multiplier.equals(1)){var qe=y.power;ne=Ot(qe)?qe:new ce(qe)}else if(y.group===ve&&y.fname==="exp"){var lt=y.args[0];y.multiplier.equals(1)?ne=h.multiply(lt,new ce(y.power)):ne=h.symfunction(E.LOG,[y])}else if(E.PARSE2NUMBER&&Wr(y)){y=h.parse(y);var Et;y.multiplier.lessThan(0)&&(y.negate(),Et=h.multiply(new ce(Math.PI),new ce("i"))),ne=new ce(Math.log(y.multiplier.toDecimal())),Et&&(ne=h.add(ne,Et))}else{var lt;!y.power.equals(1)&&!y.contains("e")&&(lt=y.group===fe?y.power:new ce(y.power),y.toLinear()),arguments.length>1&&Ze(arguments)?ne=new ce(1):ne=h.symfunction(E.LOG,arguments),lt&&(ne=h.multiply(lt,ne))}return ne}function Go(y,I){var ne=I&&I.isConstant()||typeof I>"u";if(y.isConstant()&&ne){var $e,Re,qe,lt;return $e=y,I&&I.lessThan(0)&&(I=Kn(I),Re=Number(y).toExponential().toString().split("e"),$e=Re[0],qe=Re[1]),lt=new ce(Cn($e,Number(I||0))),h.multiply(lt,h.pow(new ce(10),new ce(qe||0)))}return h.symfunction("round",arguments)}function Il(y){var I=y%2,ne;return I<0&&(I=2+I),I>=0&&I<=.5?ne=1:I>.5&&I<=1?ne=2:I>1&&I<=1.5?ne=3:ne=4,ne}function Ml(y){if(!isFinite(y)){var I=Math.sign(y),ne=new ce(String(Math.abs(y)));return ne.multiplier=ne.multiplier.multiply(new Zt(I)),ne}if(Ot(y))return y;if(typeof y=="number")try{y=Zt.simple(y)}catch{y=new Zt(y)}var $e=new ce(0);return $e.multiplier=y,$e}function Rl(y){var I=y.group,ne;if(I===ie){var $e=y.getNum(),Re=y.getDenom()||new ce(1),qe=Number(y.power),lt=new ce(1);if(Math.abs(qe)===1){Re.each(function(qt){qt.group===re?lt=h.multiply(lt,Rl(qt.getDenom())):qt.power.lessThan(0)&&(lt=h.multiply(lt,Rl(qt.clone().toUnitMultiplier())))});var Et=new ce(0);Re.each(function(qt){Et=h.add(h.divide(qt,lt.clone()),Et)}),lt.invert();var Gt;$e.isComposite()?(Gt=new ce(0),$e.each(function(qt){Gt=h.add(h.multiply(Rl(qt),lt.clone()),Gt)})):Gt=h.multiply(lt,$e),ne=h.divide(Gt,Et)}}else I===re?(ne=new ce(1),y.each(function(qt){ne=h.multiply(ne,h.clean(qt))})):I===ve&&y.args.length===1&&y.args[0].isConstant()&&(ne=Sr("PARSE2NUMBER",function(){return h.parse(y)},!0));return ne||(ne=y),ne}function tu(y,I){return I=I||{expand_denominator:!0,expand_functions:!0},ho(y,I)}function ho(y,I){if(Array.isArray(y))return y.map(function(Gn){return ho(Gn,I)});if(I=I||{},y.group===ve&&y.fname===""){var ne=ho(y.args[0],I),$e=ho(h.pow(ne,h.parse(y.power)),I);return h.multiply(h.parse(y.multiplier),$e).distributeMultiplier()}if([R,q,z].indexOf(y.group)!==-1)return y;var Re=y.clone();try{var qe=y.multiplier.toString(),lt=Number(y.power),Et=y;if(y.isComposite()&&on(y.power)&&y.power>0){var Gt=lt-1,ne=new ce(0);y.each(function(Qn){ne=h.add(ne,ho(h.parse(Qn),I))});for(var qt=h.parse(ne),pn=0;pn<Gt;pn++)qt=Y(qt,ne,I);Et=h.multiply(h.parse(qe),qt).distributeMultiplier()}else if(y.group===ve&&I.expand_functions===!0){var At=[];y.args.forEach(function(Gn){At.push(ho(Gn,I))}),Et=h.pow(h.symfunction(y.fname,At),h.parse(y.power)),Et=h.multiply(Et,h.parse(y.multiplier))}else if(y.isComposite()&&on(y.power)&&y.power<0&&I.expand_denominator===!0)y=y.invert(),Et=ho(y,I),Et.invert();else if(y.group===re){var Un=function(Qn){switch(Qn.group){case ie:return 0;case ge:return 1;case re:return 2;case ve:return 3;default:return 4}},Nn=y.collectSymbols().sort(function(Qn,yr){return Un(yr)-Un(Qn)}).map(function(Qn){var yr=h.pow(Qn,h.parse(lt)),Br=ho(yr,I);return Br}),ne=Nn.pop();ne.isComposite()&&ne.isLinear()?(Nn.forEach(function(Qn){ne=Y(ne,Qn,I)}),ne.isComposite()?(ne.power>1&&(ne=ho(h.pow(ne,h.parse(ne.power)),I)),Et=h.multiply(h.parse(qe),ne).distributeMultiplier()):Et=ne):(Et=ne,Nn.forEach(function(Qn){Et=h.multiply(Et,Qn)}),Et=h.multiply(Et,h.parse(qe)).distributeMultiplier()),Et.group===re&&(Et=h.parse(Et))}else Et=y;return Et}catch{return Re}return Re}function Xc(y){return $n.identity(y)}function jc(y,I){return I.isConstant()&&on(I)?y.elements[I]:h.symfunction("vecget",arguments)}function rh(y,I){return I=typeof I>"u"?1e-14:I,y=y.clone(),I=Number(I),y.elements.sort(function(ne,$e){return $e.group-ne.group}),y.elements=Dt(y.elements,function(ne,$e){var Re=Number(h.subtract(L(ne),L($e)).abs());return Re<=I}),y}function Ju(y,I,ne){return I.isConstant?(y.elements[I]=ne,y):h.symfunction("vecset",arguments)}function al(y,I,ne){return I.isConstant()&&ne.isConstant()?y.elements[I][ne]:h.symfunction("matget",arguments)}function mr(y,I){return I.isConstant()?new $n(y.elements[I]):h.symfunction("matgetrow",arguments)}function nu(y,I,ne){if(!I.isConstant())return h.symfunction("matsetrow",arguments);if(y.elements[I].length!==ne.elements.length)throw new Ee("Matrix row must match row dimensions!");var $e=y.clone();return $e.elements[I]=ne.clone().elements,$e}function H0(y,I){if(!I.isConstant())return h.symfunction("matgetcol",arguments);I=Number(I);var ne=$n.fromArray([]);return y.each(function($e,Re,qe){qe===I&&ne.elements.push([$e.clone()])}),ne}function wa(y,I,ne){if(!I.isConstant())return h.symfunction("matsetcol",arguments);if(I=Number(I),y.rows()!==ne.elements.length)throw new Ee("Matrix columns must match number of columns!");return ne.each(function($e,Re){y.set(Re-1,I,$e.elements[0].clone())}),y}function Zu(y,I,ne,$e){return y.elements[I][ne]=$e,y}function p0(){return new Lr([].slice.call(arguments))}function m0(){return $n.fromArray(arguments)}function Yc(){return er.fromArray(arguments)}function g0(y){return ht(y)?y.determinant():y}function Sa(y){var I;return ht(y)?I=[new ce(y.cols()),new ce(y.rows())]:Xn(y)||tn(y)?I=new ce(y.elements.length):Bt("size expects a matrix or a vector"),I}function G0(y,I){if(Xn(y)&&Xn(I))return y.dot(I);Bt("function dot expects 2 vectors")}function Qu(y,I){if(Xn(y)&&Xn(I))return y.cross(I);Bt("function cross expects 2 vectors")}function $0(y){if(ht(y))return y.transpose();Bt("function transpose expects a matrix")}function Ol(y){if(ht(y))return y.invert();Bt("invert expects a matrix")}function ec(y,I){return y.union(I)}function tc(y,I){return y.intersection(I)}function ru(y,I){return y.contains(I)}function xa(y,I){return y.difference(I)}function Ca(y,I){return new ce(Number(y.intersects(I)))}function V0(y,I){return new ce(Number(y.is_subset(I)))}function Nl(){yo(arguments).map(function(y){console.log(y.toString())})}function ka(y){if(!Ot(y.power)&&y.power.absEquals(.5)){var I=y.power.sign(),ne=ti(y.group===q?new ce(y.value):y.toLinear());return I<0&&ne.invert(),ne}return y}function iu(y){if(y.group===q){var I=y.value,ne=Ms(I)[0];if(!ne)return vt("Unable to compute prime factors. This should not happen. Please review and report."),y;var $e=new Zt(Math.log(I)/Math.log(ne)),Re=$e.multiply(y.power);if(Re.den>y.power.den)return y;on(Re)?y=ce(Math.pow(ne,Re)):y=new ce(ne).setPower(Re)}return y}this.expand=ho,this.round=Go,this.clean=Rl,this.sqrt=ti,this.cbrt=Wn,this.abs=Kn,this.log=ws,this.rationalize=Zi,this.nthroot=di,this.arg=jt,this.conjugate=To,this.imagpart=Bs,this.realpart=ni,this.getFunction=function(y){return hn[y][0]},this.addPreprocessor=function(y,I,ne,$e){var Re=D.names,qe=D.actions;if(typeof I!="function")throw new PreprocessorError("Incorrect parameters. Function expected!");ne?$e?(Re.splice(ne,0,y),qe.splice(ne,0,I)):(Re[ne]=y,qe[ne]=I):(Re.push(y),qe.push(I))},this.getPreprocessors=function(){for(var y={},I=0,ne=y.names.length;I<ne;I++){var $e=y.names[I];y[$e]={order:I,action:y.actions[I]}}return y},this.removePreprocessor=function(y,I){var ne=D.names.indexOf(y);I?(Hn(D.names,ne),Hn(D.actions,ne)):(D.names[ne]=void 0,D.actions[ne]=void 0)},this.mapped_function=function(){for(var y={},I=this.params,ne=0;ne<I.length;ne++)y[I[ne]]=String(arguments[ne]);return h.parse(this.body,y)},this.add=function(y,I){var ne=Ot(y),$e=Ot(I);if(ne&&$e){if(y.unit||I.unit)return h.Unit.add(y,I);if(y.isInfinity||I.isInfinity){var Re=y.multiplier.lessThan(0),qe=I.multiplier.lessThan(0);if(y.isInfinity&&I.isInfinity&&Re!==qe)throw new J("("+y+")+("+I+") is not defined!");var lt=ce.infinity();return qe&&lt.negate(),lt}if(y.isComposite()&&y.isLinear()&&I.isComposite()&&I.isLinear()&&(y.distributeMultiplier(),I.distributeMultiplier(),I.length>y.length&&y.group===I.group&&([y,I]=[I,y])),y.multiplier.equals(0))return I;if(I.multiplier.equals(0))return y;if(y.isConstant()&&I.isConstant()&&E.PARSE2NUMBER){var Mn=new ce(y.multiplier.add(I.multiplier).toDecimal(E.PRECISION));return Mn}var Et=y.group,Gt=I.group,qt=y.power.toString(),pn=I.power.toString();if(Et<Gt||Et===Gt&&qt>pn&&pn>0)return this.add(I,y);if(Et===re&&Gt===ge&&y.value===I.value){var At=y;y=I,I=At,Et=y.group,Gt=I.group,qt=y.power.toString(),pn=I.power.toString()}var Un=qt===pn,Nn=y.value,Gn=I.value,Qn=y.isComposite(),yr=I.isComposite(),Br,en,Mn;if(Qn&&(Br=xr(y,"hash")),yr&&(en=xr(I,"hash")),Et===ie&&Gt===ie&&I.isLinear()&&!y.isLinear()&&Br!==en)return this.add(I,y);Et===ge&&Gt===ge&&(Nn=Br,Gn=en);var Mr=Et===q&&Gt===R,or=y.value===I.multiplier.toString(),Xr=Nn===Gn||Br===en&&Br!==void 0||Mr&&or;if(Xr&&Un&&Et===Gt)if(Mr&&(I=I.convert(q)),Et===ge&&(Gt===z||Gt===q))y.distributeMultiplier(),Mn=y.attach(I);else if(Mn=y,y.multiplier.isOne()&&I.multiplier.isOne()&&Et===ie&&y.isLinear()&&I.isLinear())for(var li in I.symbols){var Kr=I.symbols[li];Mn.attach(Kr)}else Mn.multiplier=Mn.multiplier.add(I.multiplier);else if(Xr&&Et!==ge)Et===ie&&Gt===ge?(I.insert(y,"add"),Mn=I):(Mn=ce.shell(ge).attach([y,I]),Mn.value=Et===ge?Br:Nn);else if(Qn&&y.isLinear()){var ri=Et===Gt,Jr=Et===ge&&Gt===ge;if(Jr&&(ri=y.value===I.value),y.distributeMultiplier(),I.isComposite()&&I.isLinear()&&ri){I.distributeMultiplier();for(var li in I.symbols){var Kr=I.symbols[li];y.attach(Kr)}Mn=y}else Jr&&y.value!==en||Et===ge&&!Xr?(Mn=ce.shell(ie).attach([y,I]),Mn.updateHash()):Mn=y.attach(I)}else{if(Et===ve&&y.fname===Ke&&Gt!==fe&&I.power.equals(.5)){var bi=I.multiplier.clone();I=ti(I.toUnitMultiplier().toLinear()),I.multiplier=bi}y.length===2&&I.length===2&&H(y.power)&&H(I.power)?Mn=h.add(ho(y),ho(I)):(Mn=ce.shell(ie).attach([y,I]),Mn.updateHash())}if(Mn.multiplier.equals(0)&&(Mn=new ce(0)),Mn.length===1){var bi=Mn.multiplier;Mn=Ce(Mn.symbols),Mn.multiplier=Mn.multiplier.multiply(bi)}return Mn}else{if($e&&!ne){var At=y;y=I,I=At,At=$e,$e=ne,ne=At}var Pr=ht(I);if(ne&&Pr){var Fi=new $n;I.eachElement(function(Ss,yi,Fs){Fi.set(yi,Fs,h.add(y.clone(),Ss))}),I=Fi}else if(ht(y)&&Pr)I=y.add(I);else if(ne&&Xn(I))I.each(function(Ss,yi){yi--,I.elements[yi]=h.add(y.clone(),I.elements[yi])});else if(Xn(y)&&Xn(I))I.each(function(Ss,yi){yi--,I.elements[yi]=h.add(y.elements[yi],I.elements[yi])});else{if(Xn(y)&&ht(I))return h.add(I,y);if(ht(y)&&Xn(I))if(I.elements.length===y.rows()){var Fi=new $n,ms=y.cols();return I.each(function(yi,Fs){for(var fo=[],xs=0;xs<ms;xs++)fo.push(h.add(y.elements[Fs-1][xs].clone(),yi.clone()));Fi.elements.push(fo)}),Fi}else Bt("Dimensions must match!")}return I}},this.subtract=function(y,I){var ne=ne=Ot(y),$e=Ot(I);if(ne&&$e)return y.unit||I.unit?h.Unit.subtract(y,I):this.add(y,I.negate());if($e&&Xn(y))I=y.map(function(lt){return h.subtract(lt,I.clone())});else if(ne&&Xn(I))I=I.map(function(lt){return h.subtract(y.clone(),lt)});else if(Xn(y)&&Xn(I))y.dimensions()===I.dimensions()?I=y.subtract(I):h.error("Unable to subtract vectors. Dimensions do not match.");else if(ht(y)&&Xn(I))if(I.elements.length===y.rows()){var Re=new $n,qe=y.cols();return I.each(function(lt,Et){for(var Gt=[],qt=0;qt<qe;qt++)Gt.push(h.subtract(y.elements[Et-1][qt].clone(),lt.clone()));Re.elements.push(Gt)}),Re}else Bt("Dimensions must match!");else if(Xn(y)&&ht(I)){var Re=I.clone().negate();return h.add(Re,y)}else if(ht(y)&&ht(I))I=y.subtract(I);else if(ht(y)&&$e){var Re=new $n;y.each(function(Et,Gt,qt){Re.set(Gt,qt,h.subtract(Et,I.clone()))}),I=Re}else if(ne&&ht(I)){var Re=new $n;I.each(function(Et,Gt,qt){Re.set(Gt,qt,h.subtract(y.clone(),Et))}),I=Re}return I},this.multiply=function(y,I){var ne=Ot(y),$e=Ot(I);if(ne&&I instanceof te)return I.elements.push(y),I;if(ne&&$e){if(I.isUnit){var en=y.clone();return y.unit=I,en}if(y.unit||I.unit)return h.Unit.multiply(y,I);if(y.isInfinity||I.isInfinity){if(y.equals(0)||I.equals(0))throw new J(y+"*"+I+" is undefined!");if(I.power.lessThan(0)){if(y.isInfinity)throw new J("Infinity/Infinity is not defined!");return new ce(0)}var Qn=y.multiplier.multiply(I.multiplier).sign(),Re=ce.infinity();if(y.isConstant()||I.isConstant()||y.isInfinity&&I.isInfinity)return Qn<0&&Re.negate(),Re}if(y.isConstant()&&I.isConstant()&&E.PARSE2NUMBER){var qe=new b(y.multiplier.toDecimal()).times(new b(I.multiplier.toDecimal())).toFixed(),lt=new ce(qe);return lt}if(y.isOne())return I.clone();if(I.isOne())return y.clone();if(y.multiplier.equals(0)||I.multiplier.equals(0))return new ce(0);if(I.group>y.group&&I.group!==ie)return this.multiply(I,y);if(y.group===re&&I.group===ge&&y.value===I.value){var qe=y;y=I,I=qe}var Et=y.group,Gt=I.group,qt=I.multiplier.num,pn=I.multiplier.den;if(Et===ve&&y.fname===Ke&&!I.isConstant()&&y.args[0].value===I.value&&!y.args[0].multiplier.lessThan(0)){var At=y.power,Un=h.parse(y.multiplier);y=h.multiply(Un,y.args[0].clone()),y.setPower(new Zt(.5).multiply(At)),Et=y.group}else Et===ve&&y.fname===Ke&&y.multiplier.equals(1)&&y.power.equals(-1)&&I.isConstant()&&y.args[0].equals(I)&&(y=h.symfunction(Ke,[I.clone()]),I=new ce(1));var Nn=y.value,Gn=I.value,Qn=new Zt(y.sign()),yr=Et===q&&Gt===R&&I.multiplier.equals(y.value),Br=yr?new Zt(1).multiply(y.multiplier).abs():y.multiplier.multiply(I.multiplier).abs(),en=y.clone().toUnitMultiplier();if(I=I.clone().toUnitMultiplier(!0),Et===ve&&Gt===ve){var Mn=y.args[0].clone(),Mr=I.args[0].clone();if(y.fname===Ke&&I.fname===Ke&&y.isLinear()&&I.isLinear()){var or=h.divide(Mn,Mr).invert();or.gt(1)&&on(or)&&(en=h.multiply(y.args[0].clone(),ti(or.clone())),I=new ce(1))}else if(y.fname===Ve&&I.fname===Ve&&!Mn.isConstant()&&!Mr.isConstant()&&I.power<0){var Xr=h.subtract(Mn.clone(),Mr.clone());if(Xr.isConstant())if(qe=new ce(1),Xr<0){for(var li=0,Kr=Math.abs(Xr);li<=Kr;li++){var ri=h.add(Mn.clone(),new ce(li));qe=h.multiply(qe,ri)}en=h.multiply(h.pow(Mn,new ce(y.power)),h.pow(qe,new ce(I.power))),I=new ce(1)}else{for(var li=0,Kr=Math.abs(Xr);li<=Kr;li++){var ri=h.add(Mr.clone(),new ce(li));qe=h.multiply(qe,ri)}en=h.multiply(h.pow(qe,new ce(y.power)),h.pow(Mr,new ce(I.power))),I=new ce(1)}}}if(Nn===Gn&&Et===ge&&Et===Gt&&(Nn=y.text("hash"),Gn=I.text("hash")),Gt===fe&&I.previousGroup===ge&&Et===ge&&(Nn=xr(y,"hash",fe)),(Nn===Gn||yr)&&!(Et===ge&&(Gt===z||Gt===q||Gt===ve))&&!(Et===ge&&Gt===re)){var Jr=y.power,bi=I.power,Pr=Ot(Jr),Fi=Ot(bi),ms=Pr||Fi;if(Et===ge&&Gt!==ge&&I.previousGroup!==ge&&Jr.equals(1))en=new ce(0),y.each(function(ls){en=h.add(en,h.multiply(ls,I.clone()))},!0);else{if(en.power=ms?h.add(Ot(Jr)?Jr:new ce(Jr),Ot(bi)?bi:new ce(bi)):Et===R?Jr:Jr.add(bi),en.power.equals(0)&&(en=en.convert(R)),ms&&en.convert(fe),y.imaginary&&I.imaginary){var Ss=H(en.power%2);Ss&&(en=new ce(1),Br.negate())}en.group!==fe&&en.previousGroup&&(en.previousGroup=void 0),en.multiplier=en.multiplier.multiply(I.multiplier)}}else if(Et===re&&y.isLinear())if(Gt===re&&I.distributeExponent(),Gt===re&&I.isLinear()){for(var ri in I.symbols){var yi=I.symbols[ri];en=en.combine(yi)}en.multiplier=en.multiplier.multiply(I.multiplier)}else en.combine(I);else if(Et!==R){if(Et===re)en.distributeExponent(),en.combine(I);else if(!I.isOne()){var Fs=I.multiplier.clone();I.toUnitMultiplier(),en=ce.shell(re).combine([en,I]),en.multiplier=en.multiplier.multiply(Fs)}}else en=I.clone().toUnitMultiplier();if(en.group===q){var fo=Math.log(en.value),xs=Math.log(qt)/fo,kr=Math.log(pn)/fo,os=Br.num/qt,ue=Br.den/pn;xs!==0&&on(xs)&&on(os)&&(en.power=en.power.add(new Zt(xs)),Br.num/=qt),kr!==0&&on(kr)&&on(ue)&&(en.power=en.power.subtract(new Zt(kr)),Br.den/=pn)}if(en.length===1){var qe=en.multiplier;en=Ce(en.symbols),en.multiplier=en.multiplier.multiply(qe)}var _i=en.power.toString();if(H(_i)&&en.fname===Ke){Qn=Qn*en.sign();var Qi=en.power;en=en.args[0],en=h.multiply(new ce(Br),h.pow(en,new ce(Qi.divide(new Zt(2))))),Qn<0&&en.negate()}else en.multiplier=en.multiplier.multiply(Br).multiply(Qn),en.group===ie&&en.isImaginary()&&en.distributeMultiplier();return en.group===q&&on(en.power.toDecimal())&&(en=en.convert(R)),en}else{$e&&!ne&&(qe=y,y=I,I=qe,qe=$e,$e=ne,ne=qe);var cl=ht(I),no=ht(y);if(ne&&cl){var po=new $n;I.eachElement(function(ls,lr,Ks){po.set(lr,Ks,h.multiply(y.clone(),ls))}),I=po}else if(no&&cl)I=y.multiply(I);else if(ne&&Xn(I))I.each(function(ls,lr){lr--,I.elements[lr]=h.multiply(y.clone(),I.elements[lr])});else if(Xn(y)&&Xn(I))I.each(function(ls,lr){lr--,I.elements[lr]=h.multiply(y.elements[lr],I.elements[lr])});else{if(Xn(y)&&ht(I))return this.multiply(I,y);if(ht(y)&&Xn(I))if(I.elements.length===y.rows()){var po=new $n,Ys=y.cols();return I.each(function(lr,Ks){for(var Ai=[],mo=0;mo<Ys;mo++)Ai.push(h.multiply(y.elements[Ks-1][mo].clone(),lr.clone()));po.elements.push(Ai)}),po}else Bt("Dimensions must match!")}return I}},this.divide=function(y,I){var ne=Ot(y),$e=Ot(I);if(ne&&$e){if(y.unit||I.unit)return h.Unit.divide(y,I);var Re;if(I.equals(0))throw new j("Division by zero not allowed!");return y.isConstant()&&I.isConstant()?(Re=y.clone(),Re.multiplier=Re.multiplier.divide(I.multiplier)):(I.invert(),Re=h.multiply(y,I)),Re}else{var qe=Xn(y),lt=Xn(I);if(ne&&lt)I=I.map(function(pn){return h.divide(y.clone(),pn)});else if(qe&&$e)I=y.map(function(pn){return h.divide(pn,I.clone())});else if(qe&&lt)y.dimensions()===I.dimensions()?I=I.map(function(pn,At){return h.divide(y.elements[--At],pn)}):h.error("Cannot divide vectors. Dimensions do not match!");else{var Et=ht(y),Gt=ht(I);if(Et&&$e){var qt=new $n;y.eachElement(function(pn,At,Un){qt.set(At,Un,h.divide(pn,I.clone()))}),I=qt}else if(ne&&Gt){var qt=new $n;I.eachElement(function(At,Un,Nn){qt.set(Un,Nn,h.divide(y.clone(),At))}),I=qt}else if(Et&&Gt){var qt=new $n;y.rows()===I.rows()&&y.cols()===I.cols()?(y.eachElement(function(At,Un,Nn){qt.set(Un,Nn,h.divide(At,I.elements[Un][Nn]))}),I=qt):h.error("Dimensions do not match!")}else if(Et&&lt)if(y.cols()===I.dimensions()){var qt=new $n;y.eachElement(function(At,Un,Nn){qt.set(Un,Nn,h.divide(At,I.elements[Un].clone()))}),I=qt}else h.error("Unable to divide matrix by vector.")}return I}},this.pow=function(y,I){var ne=Ot(y),$e=Ot(I);if(ne&&$e){if(y.unit||I.unit)return h.Unit.pow(y,I);if(y.group===ve&&y.fname===ye&&H(I)){var pn=y.multiplier.clone(),Re=h.pow(y.args[0],I);return Re.multiplier=pn,Re}if(y.isInfinity||I.isInfinity){if(y.isInfinity&&I.isInfinity)throw new J("("+y+")^("+I+") is undefined!");if(y.isConstant()&&I.isInfinity){if(y.equals(0)){if(I.lessThan(0))throw new J("0^Infinity is undefined!");return new ce(0)}if(y.equals(1))throw new J("1^"+I.toString()+" is undefined!");if(I.lessThan(0))return new ce(0);if(!y.lessThan(0))return ce.infinity()}if(y.isInfinity&&I.isConstant()){if(I.equals(0))throw new J(y+"^0 is undefined!");return I.lessThan(0)?new ce(0):h.multiply(ce.infinity(),h.pow(new ce(y.sign()),I.clone()))}}var qe=y.equals(0),lt=I.equals(0);if(qe&&lt)throw new J("0^0 is undefined!");if(qe&&I.isConstant()&&I.multiplier.greaterThan(0))return new ce(0);if(lt)return new ce(1);var Et=I.isConstant(),Gt=y.isConstant(),qt=I.isInteger(),pn=y.multiplier,At=y.clone();if(Gt&&Et&&y.equals(0)&&I.lessThan(0))throw new J("Division by zero is not allowed!");if(E.PARSE2NUMBER&&Gt&&Et&&y.sign()<0&&me(I)){var Un,Nn,Gn;return Un=Math.PI*I,Nn=new ce(Math.cos(Un)),Gn=h.multiply(ce.imaginary(),new ce(Math.sin(Un))),h.add(Nn,Gn)}if(E.PARSE2NUMBER&&y.isImaginary()&&Et&&on(I)&&!I.lessThan(0)){var Nn,Gn,Qn,yr,Br,en,Mn;if(Nn=y.realpart(),Gn=y.imagpart(),Nn.isConstant("all")&&Gn.isConstant("all"))return Mn=E.USE_BIG?ce(b.atan2(bi.multiplier.toDecimal(),Qn.multiplier.toDecimal()).times(I.toString())):Math.atan2(Gn,Nn)*I,yr=new ce(Mn),Qn=h.pow(ce.hyp(Nn,Gn),I),Br=h.multiply(Qn.clone(),h.trig.cos(yr.clone())),en=h.multiply(Qn,h.trig.sin(yr)),h.add(Br,h.multiply(ce.imaginary(),en))}if(At.toUnitMultiplier(),At.group===ve&&At.fname===Ke&&!Et){var Mr=At.args[0];Mr.multiplyPower(new ce(.5)),Mr.multiplier.multiply(At.multiplier),Mr.multiplyPower(I),At=Mr}else{var or=pn.sign();me(I)&&or<0&&(At.negate(),At=h.symfunction(Be,[At]),At.negate()),At.multiplyPower(I)}if(Gt&&Et&&E.PARSE2NUMBER){var Xr;or<0&&(y.negate(),I.multiplier.den.equals(2)?Xr=new ce(E.IMAGINARY):on(I.multiplier)?H(I.multiplier)?Xr=new ce(1):Xr=new ce(-1):H(I.multiplier.den)?Xr=h.pow(h.symfunction(Be,[new ce(or)]),I.clone()):Xr=new ce(Math.pow(or,I.multiplier.num))),At=new ce(Math.pow(y.multiplier.toDecimal(),I.multiplier.toDecimal())),Xr&&(At=h.multiply(At,Xr))}else if(qt&&!pn.equals(1)){var li=I.abs();if(li.gt(E.MAX_EXP))return I.sign()<0?new ce(0):ce.infinity();var Kr=I.multiplier.toDecimal(),ri=Math.sign(Kr);Kr=Math.abs(Kr);var Jr=new Zt(1);Jr.num=pn.num.pow(Kr),Jr.den=pn.den.pow(Kr),ri<0&&Jr.invert(),At.multiplier=At.multiplier.multiply(Jr)}else{var or=y.sign();if(I.isConstant()&&y.isConstant()&&!I.multiplier.den.equals(1)&&or<0)if(I.multiplier.den.equals(2)){var bi=new ce(E.IMAGINARY);y.negate(),I.lessThan(0)&&(bi.negate(),I.negate()),At=h.multiply(h.pow(y,I),bi)}else{var Pr=y.clone();Pr.multiplier.negate(),At=h.pow(h.symfunction(Be,[new ce(or)]),I.clone());var Fi=h.pow(new ce(Pr.multiplier.num),I.clone()),ms=h.pow(new ce(Pr.multiplier.den),I.clone()),Qn=h.divide(Fi,ms);At=h.multiply(At,Qn)}else if(E.PARSE2NUMBER&&I.isImaginary()){var Nn=I.realpart(),Gn=I.imagpart(),Pr=y.clone().toLinear(),Ss=h.pow(Pr.clone(),Nn),yi=ws(Pr.clone()),Fs=pe.cos(h.multiply(Gn.clone(),yi)),fo=h.multiply(pe.sin(h.multiply(Gn,ws(Pr))),ce.imaginary());At=h.multiply(Ss,h.add(Fs,fo)),At=h.expand(h.parse(At))}else{var xs=y.group===R&&or<0,kr=ka(new ce(xs?pn.num:Math.abs(pn.num)).setPower(I.clone())),os=ka(new ce(pn.den).setPower(I.clone()).invert());if(y.imaginary)if(qt){var Mr,Kr,ue;Mr=Math.sign(I),Kr=Kn(I),ue=Kr%4,At=new ce(H(ue)?-1:E.IMAGINARY),(ue===0||Mr<0&&ue===1||Mr>0&&ue===3)&&At.negate()}else{var _i=I.multiplier.multiply(Zt.quick(1,2)),Qi=Math.pow(-1,_i.num);At=H(_i.den)?new ce(-1).setPower(_i,!0):new ce(Qi)}if(or<0&&!xs&&At.negate(),Et&&y.group!==fe){var cl=H(I.multiplier.den),no=H(y.power),ue=At.power.toDecimal(),po=H(ue);if(cl&&no&&!po){if(ue===1)At=h.symfunction(ye,[At]);else if(on(ue))At=h.multiply(h.symfunction(ye,[At.clone().toLinear()]),At.clone().setPower(new Zt(ue-1)));else{var Kr=At.power;At=h.symfunction(ye,[At.toLinear()]).setPower(Kr)}E.POSITIVE_MULTIPLIERS&&At.fname===ye&&(At=At.args[0])}}if(I.equals(2)&&At.group===re){var Ys=new ce(1);At.each(function(e0){Ys=h.multiply(Ys,h.pow(e0,I))}),At=Ys}}}if(At=ka(At),kr&&os&&(At=h.multiply(At,iu(h.multiply(kr,os)))),At.fname===Ke){var ls=At.group===fe,lr=ls?At.power.multiplier.toString():At.power.toString();if(H(lr)){var Ks=ls?h.divide(At.power,new ce(2)):new ce(At.power.divide(new Zt(2))),pn=At.multiplier;At=h.pow(At.args[0],Ks),At.multiplier=At.multiplier.multiply(pn)}}else if(!E.IGNORE_E&&At.isE()&&At.group===fe&&At.power.contains("pi")&&At.power.contains(E.IMAGINARY)&&I.group===re){var yr=I.stripVar(E.IMAGINARY);At=h.add(pe.cos(yr),h.multiply(ce.imaginary(),pe.sin(yr)))}return At}else{if(Xn(y)&&$e)y=y.map(function(mo){return h.pow(mo,I.clone())});else if(ht(y)&&$e){var Ai=new $n;y.eachElement(function(mo,e0,Ll){Ai.set(e0,Ll,h.pow(mo,I.clone()))}),y=Ai}else if(ne&&ht(I)){var Ai=new $n;I.eachElement(function(e0,Ll,v0){Ai.set(Ll,v0,h.pow(y.clone(),e0))}),y=Ai}return y}},this.comma=function(y,I){return y instanceof te||(y=te.create(y)),y.append(I),y},this.mod=function(y,I){return ei(y,I)},this.slice=function(y,I){return new U(y,I)},this.equals=function(y,I){return y.group!==z&&!y.isLinear()&&Bt("Cannot set equality for "+y.toString()),Qt[y.value]=I.clone(),I},this.percent=function(y){return h.divide(y,new ce(100))},this.assign=function(y,I){if(y instanceof te&&I instanceof te)return y.elements.map(function($e,Re){return h.assign($e,I.elements[Re])}),Lr.fromArray(I.elements);if(y.parent){var ne=y.parent;return ne.elements[ne.getter]=I,delete ne.getter,ne}if(y.group!==z)throw new Nr("Cannot complete operation. Incorrect LH value for "+y);return Qt[y.value]=I,I},this.function_assign=function(y,I){var ne=y.elements.pop();return et(ne,y.elements,I)};var ul=function(y){return new ce(y===!0?1:0)};this.eq=function(y,I){return ul(y.equals(I))},this.gt=function(y,I){return ul(y.gt(I))},this.gte=function(y,I){return ul(y.gte(I))},this.lt=function(y,I){return ul(y.lt(I))},this.lte=function(y,I){return ul(y.lte(I))},this.factorial=function(y){return this.symfunction(Ve,[y])},this.dfactorial=function(y){return this.symfunction(st,[y])}}var ps={convert:function(h,w){var D;if(h===0)D=[0,1];else if(h<1e-6||h>1e20){var U=this.quickConversion(Number(h));if(U[1]<=1e20){var te=Math.abs(h),ae=h/te;D=this.fullConversion(te.toFixed((U[1]+"").length-1)),D[0]=D[0]*ae}else D=U}else D=this.fullConversion(h);return D},quickConversion:function(h){var w=function(U){typeof U!="string"&&(U=U.toString());var te="",ae=U.charAt(0);return ae==="-"?(U=U.substr(1,U.length),te="-"):ae==="+"&&(U=U.substr(1,U.length)),{sign:te,value:U}};function D(U){Ir.isScientific(U)&&(U=Ut(U));var te=w(U),ae=te.value.split("."),Ae;ae.length===1?Ae=ae[0]:Ae=ae[0]+ae[1];var pe=ae[1]?ae[1].length:0,dt=`1${"0".repeat(pe)}`;return Ae!=="0"&&(Ae=Ae.replace(/^0+/,"")),[te.sign+Ae,dt]}return D(h)},fullConversion:function(h){for(var w=!1,D=0,U=1,te=1,ae=0,Ae=0,pe=h,dt=1e-16;!w;){Ae++,Ae>1e4&&(w=!0);var Ct=Math.floor(pe),bt=D+Ct*te,hn=U+Ct*ae,Wt=pe-Ct;Wt<dt&&(w=!0),pe=1/Wt,D=te,U=ae,te=bt,ae=hn,(Math.abs(bt/hn-h)<dt||Ae>30)&&(w=!0)}return[bt,hn]}},dr={parser:(function(){var h=["classes","setOperator","getOperators","getBrackets","tokenize","toRPN","tree","units"],w=new xi;for(var D in w)h.indexOf(D)===-1&&delete w[D];w.setOperator({precedence:8,operator:"\\",action:"slash",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(te){return te}}),w.setOperator({precedence:8,operator:"\\,",action:"slash_comma",prefix:!0,postfix:!1,leftAssoc:!0,operation:function(te){return te}});var U=w.getBrackets();return U["{"].maps_to=void 0,w})(),space:"~",dot:" \\cdot ",latex:function(h,w){if(h.clone&&(h=h.clone()),h instanceof d.classes.Collection&&(h=h.elements),pr(h)){for(var D=[],U=0;U<h.length;U++){var te=h[U];Ot(te)||(te=d.parse(te)),D.push(this.latex(te,w))}return this.brackets(D.join(", "),"square")}else if(ht(h)){for(var ae=`\\begin{pmatrix}
`,U=0;U<h.elements.length;U++){for(var Ae=[],pe=h.elements[U],dt=0;dt<pe.length;dt++)Ae.push(this.latex(pe[dt],w));ae+=Ae.join(" & "),U<h.elements.length-1&&(ae+=`\\\\
`)}return ae+="\\end{pmatrix}",ae}else if(Xn(h)){for(var ae="\\left[",U=0;U<h.elements.length;U++)ae+=this.latex(h.elements[U],w)+" "+(U!==h.elements.length-1?",\\,":"");return ae+="\\right]",ae}else if(tn(h)){for(var ae="\\{",U=0;U<h.elements.length;U++)ae+=this.latex(h.elements[U],w)+" "+(U!==h.elements.length-1?",\\,":"");return ae+="\\}",ae}h=h.clone();var Ct=w==="decimal"||w==="decimals",bt=h.power,hn=Ti(bt),Wt=h.multiplier.lessThan(0);if(h.group===q&&Ct)return String(h.multiplier.toDecimal()*Math.pow(h.value,h.power.toDecimal()));h.multiplier=h.multiplier.abs();var nn;if(Ct){var Sn=String(h.multiplier.toDecimal());nn=[Sn,""]}else nn=[h.multiplier.num,h.multiplier.den];var gn=this.value(h,hn,w,Wt),Pt;hn&&bt.negate(),Ct?(Pt=Ot(bt)?dr.latex(bt,w):String(bt.toDecimal()),String(Pt)==="1"&&(Pt="")):Ot(bt)?Pt=this.latex(bt,w):Pt=this.formatFrac(bt,!0);var tr=["",""],Pn=hn?1:0;tr[Pn]=Pt;var Kn=(Wt?"-":"")+this.set(nn,gn,tr,h.group===re);return Kn.replace(/\+\-/gi,"-")},greek:{alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omnikron:"\\omnikron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"\\Epsilon",Theta:"\\Theta",Lambda:"\\Lambda",Xi:"\\Xi",Pi:"\\Pi",Sigma:"\\Sigma",Phi:"\\Phi",Psi:"\\Psi",Omega:"\\Omega"},symbols:{arccos:"\\arccos",cos:"\\cos",csc:"\\csc",exp:"\\exp",ker:"\\ker",limsup:"\\limsup",min:"\\min",sinh:"\\sinh",arcsin:"\\arcsin",cosh:"\\cosh",deg:"\\deg",gcd:"\\gcd",lg:"\\lg",ln:"\\ln",Pr:"\\Pr",sqrt:"\\sqrt",sup:"\\sup",arctan:"\\arctan",cot:"\\cot",det:"\\det",hom:"\\hom",lim:"\\lim",log:"\\log",LN:"\\LN",sec:"\\sec",tan:"\\tan",arg:"\\arg",coth:"\\coth",dim:"\\dim",inf:"\\inf",liminf:"\\liminf",max:"\\max",sin:"\\sin",tanh:"\\tanh"},value:function(h,w,D,U){var te=h.group,ae=h.previousGroup,Ae=["",""],pe=w?1:0;if(h.isInfinity)Ae[pe]="\\infty";else if(te===z||te===q||ae===z||ae===q||ae===R){var dt=this.formatSubscripts(h.value);dt.replace&&(dt=dt.replace(/(.+)_$/,"$1\\_"));var Ct=String(dt).split("_"),bt=this.greek[Ct[0]];bt&&(Ct[0]=bt,dt=Ct.join("_"));var h=this.symbols[Ct[0]];h&&(Ct[0]=h,dt=Ct.join("_")),Ae[pe]=dt}else if(te===ve||ae===ve){for(var hn,Wt=[],nn=h.fname,Sn=0;Sn<h.args.length;Sn++){var gn=h.args[Sn],Pt;typeof gn=="string"?Pt=gn:Pt=this.latex(gn,D),Wt.push(Pt)}if(nn===Ke)Ae[pe]="\\sqrt"+this.braces(Wt.join(","));else if(nn===ye)Ae[pe]=this.brackets(Wt.join(","),"abs");else if(nn===Be)Ae[pe]=this.brackets(Wt.join(","),"parens");else if(nn==="limit")Ae[pe]=" \\lim\\limits_{"+Wt[1]+" \\to "+Wt[2]+"} "+Wt[0];else if(nn==="integrate")Ae[pe]="\\int"+this.braces(Wt[0])+this.braces("d"+Wt[1]);else if(nn==="defint")Ae[pe]="\\int\\limits_"+this.braces(Wt[1])+"^"+this.braces(Wt[2])+" "+Wt[0]+" d"+Wt[3];else if(nn===Ve||nn===st){var gn=h.args[0];gn.power.equals(1)&&(gn.isComposite()||gn.isCombination())&&(Wt[0]=this.brackets(Wt[0])),Ae[pe]=Wt[0]+(nn===Ve?"!":"!!")}else if(nn==="floor")Ae[pe]="\\left \\lfloor"+this.braces(Wt[0])+"\\right \\rfloor";else if(nn==="ceil")Ae[pe]="\\left \\lceil"+this.braces(Wt[0])+"\\right \\rceil";else if(nn===E.LOG&&Wt.length>1)Ae[pe]="\\mathrm"+this.braces(E.LOG)+"_"+this.braces(Wt[1])+this.brackets(Wt[0]);else if(nn===E.LOG10)Ae[pe]="\\mathrm"+this.braces(E.LOG)+"_"+this.braces(10)+this.brackets(Wt[0]);else if(nn==="sum"){var tr=Wt[0],Pn=Wt[1],Kn=Wt[2],Dr=Wt[3];Ae[pe]="\\sum\\limits_{"+this.braces(Pn)+"="+this.braces(Kn)+"}^"+this.braces(Dr)+" "+this.braces(tr)}else if(nn==="product"){var tr=Wt[0],Pn=Wt[1],Kn=Wt[2],Dr=Wt[3];Ae[pe]="\\prod\\limits_{"+this.braces(Pn)+"="+this.braces(Kn)+"}^"+this.braces(Dr)+" "+this.braces(tr)}else if(nn==="nthroot")Ae[pe]="\\sqrt["+Wt[1]+"]"+this.braces(Wt[0]);else if(nn==="mod")Ae[pe]=Wt[0]+" \\bmod "+Wt[1];else if(nn==="realpart")Ae[pe]="\\operatorname{Re}"+this.brackets(Wt[0]);else if(nn==="imagpart")Ae[pe]="\\operatorname{Im}"+this.brackets(Wt[0]);else{var hn=nn!==""?"\\mathrm"+this.braces(nn.replace(/_/g,"\\_")):"";h.isConversion?Ae[pe]=hn+this.brackets(Wt.join(""),"parens"):Ae[pe]=hn+this.brackets(Wt.join(","),"parens")}}else if(h.isComposite()){for(var rr=h.collectSymbols().sort(te===ie||ae===ie?function(Yr,di){return di.group-Yr.group}:function(Yr,di){var co=Ot(Yr.power)?-1:Yr.power,ni=Ot(di.power)?-1:di.power;return ni-co}),ei=[],js=rr.length,Sn=0;Sn<js;Sn++)ei.push(dr.latex(rr[Sn],D));var dt=ei.join("+");Ae[pe]=!(h.isLinear()&&h.multiplier.equals(1))||U?this.brackets(dt,"parens"):dt}else if(te===re||ae===fe||ae===re){te===re&&h.distributeExponent();var rs=[],Fn=[],oi=[],Ci=[],Pi=0,Zi=0,ti=function(Wn,Yr,di){if(di>1&&Yr.length>0)for(var co=Yr.length,ni=0;ni<co;ni++){var Bs=Yr[ni],To=Wn[Bs];/^\\left\(.+\\right\)\^\{.+\}$/g.test(To)||/^\\left\(.+\\right\)$/g.test(To)||(Wn[Bs]=dr.brackets(To,"parens"))}return Wn};h.each(function(Wn){var Yr=Ti(Wn.power),di;Yr?(di=dr.latex(Wn.invert(),D),Zi++,Wn.isComposite()&&(h.multiplier.den!=1&&Math.abs(Wn.power)==1&&(di=dr.brackets(di,"parens")),oi.push(rs.length)),rs.push(di)):(di=dr.latex(Wn,D),Pi++,Wn.isComposite()&&(h.multiplier.num!=1&&Math.abs(Wn.power)==1&&(di=dr.brackets(di,"parens")),Ci.push(Fn.length)),Fn.push(di))}),ti(Fn,Ci,Pi),Ae[0]=Fn.join(this.dot),ti(rs,oi,Zi),Ae[1]=rs.join(this.dot)}return Ae},set:function(h,w,D,U){var te=function(nn){return/^\\left\(.+\\right\)$/.test(nn)};if(D&&(D=this.formatP(D)),U){var ae=D[0];D[0]=""}w=this.merge(w,D);var Ae=h[0],pe=h[1],dt=w[0],Ct=w[1];dt&&Number(Ae)===1&&(Ae=""),Number(pe)===1&&(pe="");var bt=this.join(Ae,dt,te(dt)?"":this.dot),hn=this.join(pe,Ct,te(Ct)?"":this.dot);if(bt&&hn){var Wt=this.frac(bt,hn);return U&&ae&&(Wt=this.brackets(Wt)+ae),Wt}else return bt},merge:function(h,w){for(var D=[],U=0;U<2;U++)D[U]=h[U]+w[U];return D},join:function(h,w,D){return!h&&!w?"":h&&!w?h:w&&!h?w:h+D+w},formatSubscripts:function(h){for(var w=h.toString().split("_"),D="";w.length>1;)w.length>0&&(D="_"+this.braces(w.pop()+D));return w[0]+D},formatP:function(h){for(var w=0;w<2;w++){var D=h[w];D&&(h[w]="^"+this.braces(D))}return h},formatFrac:function(h,w){var D=h.num.toString(),U=h.den.toString();return w&&D==="1"&&U==="1"?"":U==="1"?D:this.frac(D,U)},frac:function(h,w){return"\\frac"+this.braces(h)+this.braces(w)},braces:function(h){return"{"+h+"}"},brackets:function(h,w){w=w||"parens";var D={parens:["(",")"],square:["[","]"],brace:["{","}"],abs:["|","|"],angle:["\\langle","\\rangle"]},U=D[w];return"\\left"+U[0]+h+"\\right"+U[1]},filterTokens:function(h){var w=[];pr(h)&&(w.type=h.type);for(var D=["\\","left","right","big","Big","large","Large"],U=0,te=h.length;U<te;U++){var ae=h[U],Ae=h[U+1];ae.value==="\\"&&Ae.value==="\\"?w.push(ae):pr(ae)?w.push(dr.filterTokens(ae)):D.indexOf(ae.value)===-1&&w.push(ae)}return w},parse:function(h){var w,D,U="",te=this.filterTokens(h),ae={cdot:"",times:"",infty:"Infinity"},Ae=function(rr){return te[typeof rr>"u"?++w:w+=rr]},pe=function(){return dr.parse(Ae())},dt=function(rr){return rr in ae?ae[rr]:rr==="*"&&te[w+1].value==="&"?(Ae(2),","):rr==="&"?(Ae(),","):rr==="\\"?"],[":rr};for(w=0,D=te.length;w<D;w++){var Ct=te[w];if(Ct.value==="frac"){var bt=pe(),hn=pe();U+=bt+"/"+hn}else if(Ct.value in dr.symbols)if(Ct.value===Ke&&te[w+1].type==="vector"&&te[w+2].type==="Set"){var Wt=pe(),nn=pe();U+=nn+"^"+Zn("1/"+Wt)}else U+=Ct.value+pe();else if(Ct.value==="int"){var Sn=pe();w++;var gn=Ae().value;gn=dt(gn.substring(1,gn.length)),U+="integrate"+Zn(Sn+","+gn)}else if(Ct.value==="int_"){var D=pe();w++;var Pt=Ae().value;if(Pt===void 0){w--;var Pt=pe()}var Sn=pe(),gn=Ae().value;if(gn===",")var gn=Ae().value;if(gn==="differentialD"){w++;var gn=Ae().value}if(gn==="mathrm"){w++;var gn=Ae().value}U+="defint"+Zn(Sn+","+D+","+Pt+","+gn)}else if(Ct.value&&Ct.value.startsWith("int_")){var D=Ct.value.replace("int_","");console.log("uppernow"),w++;var Pt=Ae().value;if(Pt===void 0){w--;var Pt=pe()}var Sn=pe(),gn=Ae().value;if(gn===",")var gn=Ae().value;if(gn==="differentialD"){w++;var gn=Ae().value}if(gn==="mathrm"){w++;var gn=Ae().value}U+="defint"+Zn(Sn+","+D+","+Pt+","+gn)}else if(Ct.value==="mathrm"){var Sn=te[++w][0].value;U+=Sn+pe()}else if(Ct.value==="sum_"||Ct.value==="prod_"){var tr=Ct.value==="sum_"?"sum":"product",Pn=Ae();w++;var Kn=pe(),Sn=pe();U+=tr+Zn([Sn,dt(Pn[0]),dt(Pn[2]),dt(Kn)].join(","))}else if(Ct.value==="lim_"){var Pn=Ae();U+="limit"+Zn([pe(),dt(Pn[0]),dt(Pn[2])].join(","))}else if(Ct.value==="begin"){var Pn=Ae();if(Array.isArray(Pn)){var Dr=Pn[0].value;Dr==="matrix"&&(U+="matrix([")}}else if(Ct.value==="end"){var Pn=Ae();if(Array.isArray(Pn)){var Dr=Pn[0].value;Dr==="matrix"&&(U+="])")}}else Array.isArray(Ct)?U+=dt(dr.parse(Ct)):U+=dt(Ct.value.toString())}return Zn(U)}};function Lr(h){Xn(h)?this.elements=h.items.slice(0):pr(h)?this.elements=h.slice(0):this.elements=[].slice.call(arguments)}Lr.arrayPrefill=function(h,w){var D=[];w=w||0;for(var U=0;U<h;U++)D[U]=w;return D},Lr.fromArray=function(h){var w=new Lr;return w.elements=h,w},Lr.fromSet=function(h){return Lr.fromArray(h.elements)},Lr.prototype={custom:!0,e:function(h){return h<1||h>this.elements.length?null:this.elements[h-1]},set:function(h,w){Ot(w)||(w=new ce(w)),this.elements[h]=w},dimensions:function(){return this.elements.length},modulus:function(){return Sr("SAFE",function(){return d.pow(this.dot(this.clone()),new ce(.5))},void 0,this)},eql:function(h){var w=this.elements.length,D=h.elements||h;if(w!==D.length)return!1;do if(Math.abs(d.subtract(this.elements[w-1],D[w-1]).valueOf())>PRECISION)return!1;while(--w);return!0},clone:function(){for(var h=new Lr,w=this.elements.length,D=0;D<w;D++)h.elements.push(this.elements[D].clone());return this.getter&&(h.getter=this.getter.clone()),h},map:function(h){var w=[];return this.each(function(D,U){w.push(h(D,U))}),new Lr(w)},each:function(h){var w=this.elements.length,D=w,U;do U=D-w,h(this.elements[U],U+1);while(--w)},toUnitVector:function(){return Sr("SAFE",function(){var h=this.modulus();return h.valueOf()===0?this.clone():this.map(function(w){return d.divide(w,h)})},void 0,this)},angleFrom:function(h){return Sr("SAFE",function(){var w=h.elements||h,D=this.elements.length;if(D!==w.length)return null;var U=new ce(0),te=new ce(0),ae=new ce(0);this.each(function(Ct,bt){U=d.add(U,d.multiply(Ct,w[bt-1])),te=d.add(te,d.multiply(Ct,Ct)),ae=d.add(ae,d.multiply(w[bt-1],w[bt-1]))}),te=d.pow(te,new ce(.5)),ae=d.pow(ae,new ce(.5));var Ae=d.multiply(te,ae);if(Ae.valueOf()===0)return null;var pe=d.divide(U,Ae),dt=pe.valueOf();return dt<-1&&(pe=-1),dt>1&&(pe=1),new ce(Math.acos(pe))},void 0,this)},isParallelTo:function(h){var w=this.angleFrom(h).valueOf();return w===null?null:w<=PRECISION},isAntiparallelTo:function(h){var w=this.angleFrom(h).valueOf();return w===null?null:Math.abs(w-Math.PI)<=PRECISION},isPerpendicularTo:function(h){var w=this.dot(h);return w===null?null:Math.abs(w)<=PRECISION},add:function(h){return Sr("SAFE",function(){var w=h.elements||h;return this.elements.length!==w.length?null:this.map(function(D,U){return d.add(D,w[U-1])})},void 0,this)},subtract:function(h){return Sr("SAFE",function(){var w=h.elements||h;return this.elements.length!==w.length?null:this.map(function(D,U){return d.subtract(D,w[U-1])})},void 0,this)},multiply:function(h){return this.map(function(w){return w.clone()*h.clone()})},x:function(h){return this.multiply(h)},dot:function(h){return Sr("SAFE",function(){var w=h.elements||h,D=new ce(0),U=this.elements.length;if(U!==w.length)return null;do D=d.add(D,d.multiply(this.elements[U-1],w[U-1]));while(--U);return D},void 0,this)},cross:function(h){var w=h.elements||h;if(this.elements.length!==3||w.length!==3)return null;var D=this.elements;return Sr("SAFE",function(){return new Lr([d.subtract(d.multiply(D[1],w[2]),d.multiply(D[2],w[1])),d.subtract(d.multiply(D[2],w[0]),d.multiply(D[0],w[2])),d.subtract(d.multiply(D[0],w[1]),d.multiply(D[1],w[0]))])},void 0,this)},max:function(){var h=0,w=this.elements.length,D=w,U;do U=D-w,Math.abs(this.elements[U].valueOf())>Math.abs(h.valueOf())&&(h=this.elements[U]);while(--w);return h},magnitude:function(){var h=new ce(0);return this.each(function(w){h=d.add(h,d.pow(w,new ce(2)))}),d.sqrt(h)},indexOf:function(h){var w=null,D=this.elements.length,U=D,te;do te=U-D,w===null&&this.elements[te].valueOf()===h.valueOf()&&(w=te+1);while(--D);return w},text:function(h){return xr(this)},toString:function(){return this.text()},latex:function(h){for(var w=[],D=0;D<this.elements.length;D++)w.push(dr.latex.call(dr,this.elements[D],h));return"["+w.join(", ")+"]"}};function $n(){var h=arguments,w=h.length,D,U=[];if(ht(h))for(D=0;D<w;D++)U.push(h[D].slice(0));else{var te,ae,Ae;for(D=0;D<w;D++)te=h[D],Xn(te)&&(te=te.elements),pr(te)||(te=[te]),Ae=te.length,ae&&ae!==Ae&&Bt("Unable to create Matrix. Row dimensions do not match!"),U.push(te),ae=Ae}this.elements=U}$n.identity=function(h){for(var w=new $n,D=0;D<h;D++){w.elements.push([]);for(var U=0;U<h;U++)w.set(D,U,D===U?new ce(1):new ce(0))}return w},$n.fromArray=function(h){function w(D){return $n.apply(this,D)}return w.prototype=$n.prototype,new w(h)},$n.zeroMatrix=function(h,w){for(var D=new $n,U=0;U<h;U++)D.elements.push(Lr.arrayPrefill(w,new ce(0)));return D},$n.prototype={custom:!0,get:function(h,w){if(this.elements[h])return this.elements[h][w]},map:function(h,w){var D=new $n;return this.each(function(U,te,ae){D.set(te,ae,h.call(D,U),w)}),D},set:function(h,w,D,U){this.elements[h]||(this.elements[h]=[]),this.elements[h][w]=U||Ot(D)?D:new ce(D)},cols:function(){return this.elements[0].length},rows:function(){return this.elements.length},row:function(h){return!h||h>this.cols()?[]:this.elements[h-1]},col:function(h){var w=this.rows(),D=[];if(h>this.cols()||!h)return D;for(var U=0;U<w;U++)D.push(this.elements[U][h-1]);return D},eachElement:function(h){var w=this.rows(),D=this.cols(),U,te;for(U=0;U<w;U++)for(te=0;te<D;te++)h.call(this,this.elements[U][te],U,te)},determinant:function(){if(!this.isSquare())return null;var h=this.toRightTriangular(),w=h.elements[0][0],D=h.elements.length-1,U=D,te;do te=U-D+1,w=d.multiply(w,h.elements[te][te]);while(--D);return w},isSquare:function(){return this.elements.length===this.elements[0].length},isSingular:function(){return this.isSquare()&&this.determinant()===0},augment:function(h){var w=this.rows(),D=h.rows();w!==D&&Bt("Cannot augment matrix. Rows don't match.");for(var U=0;U<w;U++)this.elements[U]=this.elements[U].concat(h.elements[U]);return this},clone:function(){for(var h=this.rows(),w=this.cols(),D=new $n,U=0;U<h;U++){D.elements[U]=[];for(var te=0;te<w;te++){var ae=this.elements[U][te];D.elements[U][te]=Ot(ae)?ae.clone():ae}}return D},invert:function(){return this.isSquare()||Bt("Matrix is not square!"),Sr("SAFE",function(){var h=this.elements.length,w=h,D,U,te=$n.identity(h),ae=this.augment(te).toRightTriangular(),Ae,pe=ae.elements[0].length,dt,Ct,bt,hn=[],Wt;do{D=h-1,Ct=[],Ae=pe,hn[D]=[],bt=ae.elements[D][D];do dt=pe-Ae,Wt=d.divide(ae.elements[D][dt],bt.clone()),Ct.push(Wt),dt>=w&&hn[D].push(Wt);while(--Ae);for(ae.elements[D]=Ct,U=0;U<D;U++){Ct=[],Ae=pe;do dt=pe-Ae,Ct.push(d.subtract(ae.elements[U][dt].clone(),d.multiply(ae.elements[D][dt].clone(),ae.elements[U][D].clone())));while(--Ae);ae.elements[U]=Ct}}while(--h);return $n.fromArray(hn)},void 0,this)},toRightTriangular:function(){return Sr("SAFE",function(){var h=this.clone(),w,D,U,te=this.elements.length,ae=te,Ae,pe,dt=this.elements[0].length,Ct;do{if(Ae=ae-te,D=h.elements[Ae][Ae],D.valueOf()===0){for(var bt=Ae+1;bt<ae;bt++)if(U=h.elements[bt][Ae],U&&U.valueOf()!==0){w=[],pe=dt;do Ct=dt-pe,w.push(d.add(h.elements[Ae][Ct].clone(),h.elements[bt][Ct].clone()));while(--pe);h.elements[Ae]=w;break}}var D=h.elements[Ae][Ae];if(D.valueOf()!==0)for(bt=Ae+1;bt<ae;bt++){var hn=d.divide(h.elements[bt][Ae].clone(),h.elements[Ae][Ae].clone());w=[],pe=dt;do Ct=dt-pe,w.push(Ct<=Ae?new ce(0):d.subtract(h.elements[bt][Ct].clone(),d.multiply(h.elements[Ae][Ct].clone(),hn.clone())));while(--pe);h.elements[bt]=w}}while(--te);return h},void 0,this)},transpose:function(){var h=this.elements.length,w=this.elements[0].length,D=new $n,U=w,te,ae,Ae;do{te=w-U,D.elements[te]=[],ae=h;do Ae=h-ae,D.elements[te][Ae]=this.elements[Ae][te].clone();while(--ae)}while(--U);return D},canMultiplyFromLeft:function(h){var w=ht(h)?h.elements.length:h.length;return this.elements[0].length===w},sameSize:function(h){return this.rows()===h.rows()&&this.cols()===h.cols()},multiply:function(h){return Sr("SAFE",function(){var w=h.elements||h;if(!this.canMultiplyFromLeft(w)){if(this.sameSize(h)){for(var D=new $n,U=this.rows(),pe=0;pe<U;pe++){var te=d.multiply(new Lr(this.elements[pe]),new Lr(h.elements[pe]));D.elements[pe]=te.elements}return D}return null}var ae=this.elements.length,Ae=ae,pe,dt,Ct=w[0].length,bt,hn=this.elements[0].length,Wt=[],nn,Sn,gn;do{pe=Ae-ae,Wt[pe]=[],dt=Ct;do{bt=Ct-dt,nn=new ce(0),Sn=hn;do gn=hn-Sn,nn=d.add(nn,d.multiply(this.elements[pe][gn],w[gn][bt]));while(--Sn);Wt[pe][bt]=nn}while(--dt)}while(--ae);return $n.fromArray(Wt)},void 0,this)},add:function(h,w){var D=new $n;return this.sameSize(h)&&this.eachElement(function(U,te,ae){var Ae=d.add(U.clone(),h.elements[te][ae].clone());w&&(Ae=w.call(D,Ae,U,h.elements[te][ae])),D.set(te,ae,Ae)}),D},subtract:function(h,w){var D=new $n;return this.sameSize(h)&&this.eachElement(function(U,te,ae){var Ae=d.subtract(U.clone(),h.elements[te][ae].clone());w&&(Ae=w.call(D,Ae,U,h.elements[te][ae])),D.set(te,ae,Ae)}),D},negate:function(){return this.each(function(h){return h.negate()}),this},toVector:function(){if(this.rows()===1||this.cols()===1){var h=new Lr;return h.elements=this.elements,h}return this},toString:function(h,w){for(var D=this.rows(),U=[],te=0;te<D;te++)U.push("["+this.elements[te].map(function(ae){var Ae=w?ae.multiplier.toDecimal():ae.toString();return ae!==void 0?Ae:""}).join(",")+"]");return"matrix"+Zn(U.join(","))},text:function(){return"matrix("+this.elements.toString("")+")"},latex:function(h){var w=this.cols(),D=this.elements;return Vn("\\begin{vmatrix}{0}\\end{vmatrix}",function(){var U=[];for(var te in D){for(var ae=[],Ae=0;Ae<w;Ae++)ae.push(dr.latex.call(dr,D[te][Ae],h));U.push(ae.join(" & "))}return U.join(" \\cr ")})}},$n.prototype.each=$n.prototype.eachElement;function er(h){if(this.elements=[],Xn(h)||(h=Lr.fromArray(arguments)),h)for(var w=h.elements,D=0,U=w.length;D<U;D++)this.add(w[D])}er.fromArray=function(h){function w(D){return er.apply(this,D)}return w.prototype=er.prototype,new w(h)},er.prototype={add:function(h){this.contains(h)||this.elements.push(h.clone())},contains:function(h){for(var w=0;w<this.elements.length;w++){var D=this.elements[w];if(h.equals(D))return!0}return!1},each:function(h){for(var w=this.elements,D=new er,U=0,te=w.length;U<te;U++){var ae=w[U];h.call(this,ae,D,U)}return D},clone:function(){var h=new er;return this.each(function(w){h.add(w.clone())}),h},union:function(h){var w=this.clone();return h.each(function(D){w.add(D)}),w},difference:function(h){var w=this.clone();return h.each(function(D){w.remove(D)}),w},remove:function(h){for(var w=0,D=this.elements.length;w<D;w++){var U=this.elements[w];if(U.equals(h))return Hn(this.elements,w),!0}return!1},intersection:function(h){var w=new er,D=this;return h.each(function(U){D.contains(U)&&w.add(U)}),w},intersects:function(h){return this.intersection(h).elements.length>0},is_subset:function(h){for(var w=h.elements,D=0,U=w.length;D<U;D++)if(!this.contains(w[D]))return!1;return!0},toString:function(){return"{"+this.elements.join(",")+"}"}};var Ur={dependencies:{_rename:{"Math2.factorial":"factorial"},factorial:{"Math2.gamma":fn.gamma},gamma_incomplete:{"Math2.factorial":fn.factorial},Li:{"Math2.Ei":fn.Ei,"Math2.bigLog":fn.bigLog,Frac:Zt},Ci:{"Math2.factorial":fn.factorial},Ei:{"Math2.factorial":fn.factorial},Si:{"Math2.factorial":fn.factorial},Shi:{"Math2.factorial":fn.factorial},Chi:{isInt:on,nround:Cn,"Math2.num_integrate":fn.num_integrate},factor:{"Math2.ifactor":fn.ifactor,Symbol:ce},num_integrate:{"Math2.simpson":fn.simpson,nround:Cn},fib:{even:H}},reformat:{diff:function(h,w){var D=h.args[1].toString(),U="var f = "+Ur.build(h.args[0].toString(),[D])+";";return w[1]+="var diff = "+fn.diff.toString()+";",w[1]+=U,["diff(f)("+D+")",w]}},getProperName:function(h){var w={continued_fraction:"continuedFraction"};return w[h]||h},compileDependencies:function(h,w){var D=Ur.dependencies[h],U=w&&w[1]?w[1]:"",te=w&&w[0]?w[0]:{};for(var ae in D)if(typeof D[ae]!="object"){var Ae=ae.split(".");U+="var "+(Ae.length>1?Ae[1]:Ae[0])+"="+D[ae]+";",te[ae]=Ae.pop()}return[te,U]},getArgsDeps:function(h,w){for(var D=h.args,U=0;U<D.length;U++)h.args[U].each(function(te){te.group===ve&&(w=Ur.compileDependencies(te.fname,w))});return w},build:function(h,w){h=Sr("PARSE2NUMBER",function(){return d.parse(h)},!0);var D=yn(h),U=[],te=[],ae=function(bt,hn){bt.fname===""&&(bt=ce.unwrapPARENS(bt)),hn=hn||[];var Wt=[],nn=bt.group,Sn="",gn=function(rr){var ei=rr===re?"*":"+",js=[];for(var rs in bt.symbols){var Fn=bt.symbols[rs],oi=ae(Fn,hn)[0];Fn.isComposite()&&(oi=Zn(oi)),js.push(oi)}var Ci=js.join(ei);return Ci=Ci&&!bt.multiplier.equals(1)?Zn(Ci):Ci,Ci},Pt=function(rr){var ei;return rr in Math?ei="Math."+rr:(rr=Ur.getProperName(rr),U.indexOf(rr)===-1&&(hn.push("var "+rr+" = "+fn[rr].toString()+"; "),U.push(rr)),ei=rr),ei=ei+Zn(bt.args.map(function(js){return ae(js,hn)[0]}).join(",")),ei};nn===R?Wt.push(bt.multiplier.toDecimal()):bt.multiplier.equals(-1)?Sn="-":bt.multiplier.equals(1)||Wt.push(bt.multiplier.toDecimal());var tr;if(nn===z||nn===q)tr=bt.value;else if(nn===ve)if(te=Ur.compileDependencies(bt.fname,te),te=Ur.getArgsDeps(bt,te),Ur.reformat[bt.fname]){var Pn=Ur.reformat[bt.fname](bt,te);te=Pn[1],tr=Pn[0]}else tr=Pt(bt.fname);else if(nn===fe){var Kn=bt.previousGroup;Kn===R||Kn===z?tr=bt.value:Kn===ve?(tr=Pt(bt.fname),te=Ur.compileDependencies(bt.fname,te),te=Ur.getArgsDeps(bt,te)):tr=gn(bt.previousGroup)}else tr=gn(bt.group);if(bt.group!==R&&!bt.power.equals(1)){var Dr=ae(d.parse(bt.power));hn.push(Dr[1]),tr="Math.pow"+Zn(tr+","+Dr[0])}return tr&&Wt.push(Sn+tr),[Wt.join("*"),hn.join("").replace(/\n+\s+/g," ")]};w&&(D=w);var Ae=ae(h);for(var pe in te[0]){var dt=te[0][pe];Ae[1]=Ae[1].replace(pe,dt),te[1]=te[1].replace(pe,dt)}var Ct=new Function(D,(te[1]||"")+Ae[1]+" return "+Ae[0]+";");return Ct}};(function(){dn(d.CONSTANTS),dn(d.functions),d.initConstants(),d.error||(d.error=Bt),E.LOG_FNS={log:d.functions.log,log10:d.functions.log10}})();var Ea={allSame:Ze,allNumeric:Se,arguments2Array:yo,arrayAddSlices:oe,arrayClone:O,arrayMax:Je,arrayMin:xt,arrayEqual:St,arrayUnique:Pe,arrayGetVariables:Qe,arraySum:hr,block:Sr,build:Ur.build,clearU:ds,comboSort:Me,compare:Ne,convertToVector:V,customError:kt,customType:vi,decompose_fn:Nt,each:fs,evaluate:L,even:H,evenFraction:me,fillHoles:an,firstObject:Ce,format:Vn,generatePrimes:Kt,getCoeffs:br,getU:Qr,importFunctions:Al,inBrackets:Zn,isArray:pr,isExpression:sn,isFraction:Jt,isInt:on,isMatrix:ht,isNegative:Ti,isNumericSymbol:Wr,isPrime:le,isReserved:nt,isSymbol:Ot,isVariableSymbol:Jn,isVector:Xn,keys:ee,knownVariable:ze,nroots:Le,remove:Hn,reserveNames:dn,range:F,round:Cn,sameSign:sr,scientificToDecimal:Ut,separate:Yn,stringReplace:ss,text:xr,validateName:ft,variables:yn,warn:vt},Xs={groups:C,Symbol:ce,Expression:si,Frac:Zt,Vector:Lr,Matrix:$n,Parser:xi,Scientific:Ir,Fraction:ps,Math2:fn,LaTeX:dr,Utils:Ea,PARSER:d,PARENTHESIS:Be,Settings:E,err:Bt,bigInt:m,bigDec:b,exceptions:ii},jn=function(h,w,D,U){var te=!1,ae=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(h);if(ae)return s.setFunction(ae[1],ae[2].split(","),ae[3]);h instanceof si&&(h=h.toString()),pr(D)||(D=typeof D>"u"?[]:[D]),D.forEach(function(pe){if(pe==="numer"){te=!0;return}var dt=d.functions[D];dt&&dt[1]===1&&(h=`${pe}(${h})`)});var Ae=Sr("PARSE2NUMBER",function(){return d.parse(h,w)},te||E.PARSE2NUMBER);return U?Xe[U-1]=Ae:Xe.push(Ae),new si(Ae)};return jn.rpn=function(h){return d.tokenize(d.toRPN(h))},jn.convertToLaTeX=function(h,w){return d.toTeX(h,w)},jn.convertFromLaTeX=function(h){var w=dr.parse(d.tokenize(h));return new si(d.parse(w))},jn.version=function(h){if(h)try{return Xs[h].version}catch{return"No module named "+h+" found!"}return a},jn.getWarnings=function(){return De},jn.setConstant=function(h,w){if(ft(h),!nt(h))if(w==="delete"||w==="")delete d.CONSTANTS[h];else{if(isNaN(w))throw new Ye("Constant must be a number!");d.CONSTANTS[h]=w}return this},jn.getConstant=function(h){return String(d.constant[h])},jn.setFunction=et,jn.getCore=function(){return Xs},jn.getExpression=jn.getEquation=si.getExpression,jn.reserved=function(h){return h?It:It.join(", ")},jn.clear=function(h,w){if(h==="all")Xe=[];else if(h==="last")Xe.pop();else if(h==="first")Xe.shift();else{var D=h?h-1:Xe.length;w===!0?Xe[D]=void 0:Hn(Xe,D)}return this},jn.flush=function(){return this.clear("all"),this},jn.expressions=function(h,w,D){for(var U=h?{}:[],te=0;te<Xe.length;te++){var ae=w?dr.latex(Xe[te],D):xr(Xe[te],D);h?U[te+1]=ae:U.push(ae)}return U},jn.register=function(h){var w=this.getCore();if(pr(h))for(var D=0;D<h.length;D++)h&&this.register(h[D]);else if(h&&E.exclude.indexOf(h.name)===-1){if(h.dependencies){for(var D=0;D<h.dependencies.length;D++)if(!w[h.dependencies[D]])throw new Error(Vn("{0} requires {1} to be loaded!",h.name,h.dependencies[D]))}var U=h.parent,te=h.build.call(w);if(U){w[U]||(w[h.parent]={});var ae=U==="nerdamer"?this:w[U];ae[h.name]=te}h.visible&&(d.functions[h.name]=[te,h.numargs])}},jn.validateName=ft,jn.validVarName=function(h){try{return ft(h),It.indexOf(h)===-1}catch{return!1}},jn.supported=function(){return ee(d.functions)},jn.numEquations=jn.numExpressions=function(){return Xe.length},jn.setVar=function(h,w){return ft(h),h in d.CONSTANTS&&Bt("Cannot set value for constant "+h),w==="delete"||w===""?delete Qt[h]:Qt[h]=Ot(w)?w:d.parse(w),this},jn.getVar=function(h){return Qt[h]},jn.clearVars=function(){return Qt={},this},jn.load=function(h){return h.call(this),this},jn.getVars=function(h,w){h=h||"text";var D={};if(h==="object")D=Qt;else for(var U in Qt)h==="latex"?D[U]=Qt[U].latex(w):h==="text"&&(D[U]=Qt[U].text(w));return D},jn.set=function(h,w){if(typeof h=="object")for(var D in h)jn.set(D,h[D]);var U=["SAFE"];U.indexOf(h)!==-1&&Bt("Cannot modify setting: "+h),h==="PRECISION"?(b.set({precision:w}),E.PRECISION=w,w>21&&this.set("USE_BIG",!0)):h==="USE_LN"&&w===!0?(E.LOG="LN",E.LOG10="log",d.functions.log=E.LOG_FNS.log10,d.functions.log[0]=function(te){return te.isConstant()?new ce(Math.log10(te)):d.symfunction(E.LOG10,[te])},d.functions.LN=E.LOG_FNS.log,delete d.functions.log10):E[h]=w},jn.get=function(h){return E[h]},jn.updateAPI=function(h){var w=function(U){return function(){for(var te=[].slice.call(arguments),ae=0;ae<te.length;ae++)te[ae]=d.parse(te[ae]);return new si(Sr("PARSE2NUMBER",function(){return d.callfunction(U,te)}))}};for(var D in d.functions)(!(D in jn)||h)&&(jn[D]=w(D))},jn.replaceFunction=function(h,w,D){var U=d.functions[h],te=typeof D>"u"?U[1]:D;d.functions[h]=[w.call(void 0,U[0],Xs),te]},jn.setOperator=function(h,w){d.setOperator(h,w)},jn.getOperator=function(h){return d.getOperator(h)},jn.aliasOperator=function(h,w){d.aliasOperator(h,w)},jn.tree=function(h){return d.tree(d.toRPN(d.tokenize(h)))},jn.htmlTree=function(h,w){var D=this.tree(h);return`<div class="tree">
    <ul>
        <li>
`+D.toHTML(3,w)+`
        </li>
    </ul>
</div>`},jn.addPeeker=function(h,w){d.peekers[h]&&d.peekers[h].push(w)},jn.removePeeker=function(h,w){Hn(d.peekers[h],w)},jn.parse=function(h){return String(h).split(";").map(function(w){return d.parse(w)})},jn.updateAPI(),jn})({bigInt:(function(){var n=(function(a){var d=1e7,m=7,b=9007199254740992,C=z(b),x=Math.log(b);function k(F,ee){return typeof F>"u"?k[0]:typeof ee<"u"?+ee==10?sr(F):pr(F,ee):sr(F)}function E(F,ee){this.value=F,this.sign=ee,this.isSmall=!1}E.prototype=Object.create(k.prototype);function R(F){this.value=F,this.sign=F<0,this.isSmall=!0}R.prototype=Object.create(k.prototype);function q(F){return-b<F&&F<b}function z(F){return F<1e7?[F]:F<1e14?[F%1e7,Math.floor(F/1e7)]:[F%1e7,Math.floor(F/1e7)%1e7,Math.floor(F/1e14)]}function fe(F){ve(F);var ee=F.length;if(ee<4&&Ut(F,C)<0)switch(ee){case 0:return 0;case 1:return F[0];case 2:return F[0]+F[1]*d;default:return F[0]+(F[1]+F[2]*d)*d}return F}function ve(F){for(var ee=F.length;F[--ee]===0;);F.length=ee+1}function ge(F){for(var ee=new Array(F),Ce=-1;++Ce<F;)ee[Ce]=0;return ee}function re(F){return F>0?Math.floor(F):Math.ceil(F)}function ie(F,ee){var Ce=F.length,Ne=ee.length,et=new Array(Ce),Je=0,xt=d,St,O;for(O=0;O<Ne;O++)St=F[O]+ee[O]+Je,Je=St>=xt?1:0,et[O]=St-Je*xt;for(;O<Ce;)St=F[O]+Je,Je=St===xt?1:0,et[O++]=St-Je*xt;return Je>0&&et.push(Je),et}function ke(F,ee){return F.length>=ee.length?ie(F,ee):ie(ee,F)}function Be(F,ee){var Ce=F.length,Ne=new Array(Ce),et=d,Je,xt;for(xt=0;xt<Ce;xt++)Je=F[xt]-et+ee,ee=Math.floor(Je/et),Ne[xt]=Je-ee*et,ee+=1;for(;ee>0;)Ne[xt++]=ee%et,ee=Math.floor(ee/et);return Ne}E.prototype.add=function(F){var ee=sr(F);if(this.sign!==ee.sign)return this.subtract(ee.negate());var Ce=this.value,Ne=ee.value;return ee.isSmall?new E(Be(Ce,Math.abs(Ne)),this.sign):new E(ke(Ce,Ne),this.sign)},E.prototype.plus=E.prototype.add,R.prototype.add=function(F){var ee=sr(F),Ce=this.value;if(Ce<0!==ee.sign)return this.subtract(ee.negate());var Ne=ee.value;if(ee.isSmall){if(q(Ce+Ne))return new R(Ce+Ne);Ne=z(Math.abs(Ne))}return new E(Be(Ne,Math.abs(Ce)),Ce<0)},R.prototype.plus=R.prototype.add;function Ke(F,ee){var Ce=F.length,Ne=ee.length,et=new Array(Ce),Je=0,xt=d,St,O;for(St=0;St<Ne;St++)O=F[St]-Je-ee[St],O<0?(O+=xt,Je=1):Je=0,et[St]=O;for(St=Ne;St<Ce;St++){if(O=F[St]-Je,O<0)O+=xt;else{et[St++]=O;break}et[St]=O}for(;St<Ce;St++)et[St]=F[St];return ve(et),et}function ye(F,ee,Ce){var Ne;return Ut(F,ee)>=0?Ne=Ke(F,ee):(Ne=Ke(ee,F),Ce=!Ce),Ne=fe(Ne),typeof Ne=="number"?(Ce&&(Ne=-Ne),new R(Ne)):new E(Ne,Ce)}function Ve(F,ee,Ce){var Ne=F.length,et=new Array(Ne),Je=-ee,xt=d,St,O;for(St=0;St<Ne;St++)O=F[St]+Je,Je=Math.floor(O/xt),O%=xt,et[St]=O<0?O+xt:O;return et=fe(et),typeof et=="number"?(Ce&&(et=-et),new R(et)):new E(et,Ce)}E.prototype.subtract=function(F){var ee=sr(F);if(this.sign!==ee.sign)return this.add(ee.negate());var Ce=this.value,Ne=ee.value;return ee.isSmall?Ve(Ce,Math.abs(Ne),this.sign):ye(Ce,Ne,this.sign)},E.prototype.minus=E.prototype.subtract,R.prototype.subtract=function(F){var ee=sr(F),Ce=this.value;if(Ce<0!==ee.sign)return this.add(ee.negate());var Ne=ee.value;return ee.isSmall?new R(Ce-Ne):Ve(Ne,Math.abs(Ce),Ce>=0)},R.prototype.minus=R.prototype.subtract,E.prototype.negate=function(){return new E(this.value,!this.sign)},R.prototype.negate=function(){var F=this.sign,ee=new R(-this.value);return ee.sign=!F,ee},E.prototype.abs=function(){return new E(this.value,!1)},R.prototype.abs=function(){return new R(Math.abs(this.value))};function st(F,ee){var Ce=F.length,Ne=ee.length,et=Ce+Ne,Je=ge(et),xt=d,St,O,oe,Le,Me;for(oe=0;oe<Ce;++oe){Le=F[oe];for(var Nt=0;Nt<Ne;++Nt)Me=ee[Nt],St=Le*Me+Je[oe+Nt],O=Math.floor(St/xt),Je[oe+Nt]=St-O*xt,Je[oe+Nt+1]+=O}return ve(Je),Je}function Xe(F,ee){var Ce=F.length,Ne=new Array(Ce),et=d,Je=0,xt,St;for(St=0;St<Ce;St++)xt=F[St]*ee+Je,Je=Math.floor(xt/et),Ne[St]=xt-Je*et;for(;Je>0;)Ne[St++]=Je%et,Je=Math.floor(Je/et);return Ne}function Qt(F,ee){for(var Ce=[];ee-- >0;)Ce.push(0);return Ce.concat(F)}function It(F,ee){var Ce=Math.max(F.length,ee.length);if(Ce<=30)return st(F,ee);Ce=Math.ceil(Ce/2);var Ne=F.slice(Ce),et=F.slice(0,Ce),Je=ee.slice(Ce),xt=ee.slice(0,Ce),St=It(et,xt),O=It(Ne,Je),oe=It(ke(et,Ne),ke(xt,Je)),Le=ke(ke(St,Qt(Ke(Ke(oe,St),O),Ce)),Qt(O,2*Ce));return ve(Le),Le}function De(F,ee){return-.012*F-.012*ee+15e-6*F*ee>0}E.prototype.multiply=function(F){var ee=sr(F),Ce=this.value,Ne=ee.value,et=this.sign!==ee.sign,Je;if(ee.isSmall){if(Ne===0)return k[0];if(Ne===1)return this;if(Ne===-1)return this.negate();if(Je=Math.abs(Ne),Je<d)return new E(Xe(Ce,Je),et);Ne=z(Je)}return De(Ce.length,Ne.length)?new E(It(Ce,Ne),et):new E(st(Ce,Ne),et)},E.prototype.times=E.prototype.multiply;function Bt(F,ee,Ce){return F<d?new E(Xe(ee,F),Ce):new E(st(ee,z(F)),Ce)}R.prototype._multiplyBySmall=function(F){return q(F.value*this.value)?new R(F.value*this.value):Bt(Math.abs(F.value),z(Math.abs(this.value)),this.sign!==F.sign)},E.prototype._multiplyBySmall=function(F){return F.value===0?k[0]:F.value===1?this:F.value===-1?this.negate():Bt(Math.abs(F.value),this.value,this.sign!==F.sign)},R.prototype.multiply=function(F){return sr(F)._multiplyBySmall(this)},R.prototype.times=R.prototype.multiply;function kt(F){var ee=F.length,Ce=ge(ee+ee),Ne=d,et,Je,xt,St,O;for(xt=0;xt<ee;xt++){St=F[xt],Je=0-St*St;for(var oe=xt;oe<ee;oe++)O=F[oe],et=2*(St*O)+Ce[xt+oe]+Je,Je=Math.floor(et/Ne),Ce[xt+oe]=et-Je*Ne;Ce[xt+ee]=Je}return ve(Ce),Ce}E.prototype.square=function(){return new E(kt(this.value),!1)},R.prototype.square=function(){var F=this.value*this.value;return q(F)?new R(F):new E(kt(z(Math.abs(this.value))),!1)};function nt(F,ee){var Ce=F.length,Ne=ee.length,et=d,Je=ge(ee.length),xt=ee[Ne-1],St=Math.ceil(et/(2*xt)),O=Xe(F,St),oe=Xe(ee,St),Le,Me,Nt,Cn,Qr,ds,fs;for(O.length<=Ce&&O.push(0),oe.push(0),xt=oe[Ne-1],Me=Ce-Ne;Me>=0;Me--){for(Le=et-1,O[Me+Ne]!==xt&&(Le=Math.floor((O[Me+Ne]*et+O[Me+Ne-1])/xt)),Nt=0,Cn=0,ds=oe.length,Qr=0;Qr<ds;Qr++)Nt+=Le*oe[Qr],fs=Math.floor(Nt/et),Cn+=O[Me+Qr]-(Nt-fs*et),Nt=fs,Cn<0?(O[Me+Qr]=Cn+et,Cn=-1):(O[Me+Qr]=Cn,Cn=0);for(;Cn!==0;){for(Le-=1,Nt=0,Qr=0;Qr<ds;Qr++)Nt+=O[Me+Qr]-et+oe[Qr],Nt<0?(O[Me+Qr]=Nt+et,Nt=0):(O[Me+Qr]=Nt,Nt=1);Cn+=Nt}Je[Me]=Le}return O=vt(O,St)[0],[fe(Je),fe(O)]}function Ze(F,ee){for(var Ce=F.length,Ne=ee.length,et=[],Je=[],xt=d,St,O,oe,Le,Me;Ce;){if(Je.unshift(F[--Ce]),ve(Je),Ut(Je,ee)<0){et.push(0);continue}O=Je.length,oe=Je[O-1]*xt+Je[O-2],Le=ee[Ne-1]*xt+ee[Ne-2],O>Ne&&(oe=(oe+1)*xt),St=Math.ceil(oe/Le);do{if(Me=Xe(ee,St),Ut(Me,Je)<=0)break;St--}while(St);et.push(St),Je=Ke(Je,Me)}return et.reverse(),[fe(et),fe(Je)]}function vt(F,ee){var Ce=F.length,Ne=ge(Ce),et=d,Je,xt,St,O;for(St=0,Je=Ce-1;Je>=0;--Je)O=St*et+F[Je],xt=re(O/ee),St=O-xt*ee,Ne[Je]=xt|0;return[Ne,St|0]}function ft(F,ee){var Ce,Ne=sr(ee),et=F.value,Je=Ne.value,xt;if(Je===0)throw new Error("Cannot divide by zero");if(F.isSmall)return Ne.isSmall?[new R(re(et/Je)),new R(et%Je)]:[k[0],F];if(Ne.isSmall){if(Je===1)return[F,k[0]];if(Je==-1)return[F.negate(),k[0]];var St=Math.abs(Je);if(St<d){Ce=vt(et,St),xt=fe(Ce[0]);var O=Ce[1];return F.sign&&(O=-O),typeof xt=="number"?(F.sign!==Ne.sign&&(xt=-xt),[new R(xt),new R(O)]):[new E(xt,F.sign!==Ne.sign),new R(O)]}Je=z(St)}var oe=Ut(et,Je);if(oe===-1)return[k[0],F];if(oe===0)return[k[F.sign===Ne.sign?1:-1],k[0]];et.length+Je.length<=200?Ce=nt(et,Je):Ce=Ze(et,Je),xt=Ce[0];var Le=F.sign!==Ne.sign,Me=Ce[1],Nt=F.sign;return typeof xt=="number"?(Le&&(xt=-xt),xt=new R(xt)):xt=new E(xt,Le),typeof Me=="number"?(Nt&&(Me=-Me),Me=new R(Me)):Me=new E(Me,Nt),[xt,Me]}E.prototype.divmod=function(F){var ee=ft(this,F);return{quotient:ee[0],remainder:ee[1]}},R.prototype.divmod=E.prototype.divmod,E.prototype.divide=function(F){return ft(this,F)[0]},R.prototype.over=R.prototype.divide=E.prototype.over=E.prototype.divide,E.prototype.mod=function(F){return ft(this,F)[1]},R.prototype.remainder=R.prototype.mod=E.prototype.remainder=E.prototype.mod,E.prototype.pow=function(F){var ee=sr(F),Ce=this.value,Ne=ee.value,et,Je,xt;if(Ne===0)return k[1];if(Ce===0)return k[0];if(Ce===1)return k[1];if(Ce===-1)return ee.isEven()?k[1]:k[-1];if(ee.sign)return k[0];if(!ee.isSmall)throw new Error("The exponent "+ee.toString()+" is too large.");if(this.isSmall&&q(et=Math.pow(Ce,Ne)))return new R(re(et));for(Je=this,xt=k[1];Ne&!0&&(xt=xt.times(Je),--Ne),Ne!==0;)Ne/=2,Je=Je.square();return xt},R.prototype.pow=E.prototype.pow,E.prototype.modPow=function(F,ee){if(F=sr(F),ee=sr(ee),ee.isZero())throw new Error("Cannot take modPow with modulus 0");for(var Ce=k[1],Ne=this.mod(ee);F.isPositive();){if(Ne.isZero())return k[0];F.isOdd()&&(Ce=Ce.multiply(Ne).mod(ee)),F=F.divide(2),Ne=Ne.square().mod(ee)}return Ce},R.prototype.modPow=E.prototype.modPow;function Ut(F,ee){if(F.length!==ee.length)return F.length>ee.length?1:-1;for(var Ce=F.length-1;Ce>=0;Ce--)if(F[Ce]!==ee[Ce])return F[Ce]>ee[Ce]?1:-1;return 0}E.prototype.compareAbs=function(F){var ee=sr(F),Ce=this.value,Ne=ee.value;return ee.isSmall?1:Ut(Ce,Ne)},R.prototype.compareAbs=function(F){var ee=sr(F),Ce=Math.abs(this.value),Ne=ee.value;return ee.isSmall?(Ne=Math.abs(Ne),Ce===Ne?0:Ce>Ne?1:-1):-1},E.prototype.compare=function(F){if(F===1/0)return-1;if(F===-1/0)return 1;var ee=sr(F),Ce=this.value,Ne=ee.value;return this.sign!==ee.sign?ee.sign?1:-1:ee.isSmall?this.sign?-1:1:Ut(Ce,Ne)*(this.sign?-1:1)},E.prototype.compareTo=E.prototype.compare,R.prototype.compare=function(F){if(F===1/0)return-1;if(F===-1/0)return 1;var ee=sr(F),Ce=this.value,Ne=ee.value;return ee.isSmall?Ce==Ne?0:Ce>Ne?1:-1:Ce<0!==ee.sign?Ce<0?-1:1:Ce<0?1:-1},R.prototype.compareTo=R.prototype.compare,E.prototype.equals=function(F){return this.compare(F)===0},R.prototype.eq=R.prototype.equals=E.prototype.eq=E.prototype.equals,E.prototype.notEquals=function(F){return this.compare(F)!==0},R.prototype.neq=R.prototype.notEquals=E.prototype.neq=E.prototype.notEquals,E.prototype.greater=function(F){return this.compare(F)>0},R.prototype.gt=R.prototype.greater=E.prototype.gt=E.prototype.greater,E.prototype.lesser=function(F){return this.compare(F)<0},R.prototype.lt=R.prototype.lesser=E.prototype.lt=E.prototype.lesser,E.prototype.greaterOrEquals=function(F){return this.compare(F)>=0},R.prototype.geq=R.prototype.greaterOrEquals=E.prototype.geq=E.prototype.greaterOrEquals,E.prototype.lesserOrEquals=function(F){return this.compare(F)<=0},R.prototype.leq=R.prototype.lesserOrEquals=E.prototype.leq=E.prototype.lesserOrEquals,E.prototype.isEven=function(){return(this.value[0]&1)===0},R.prototype.isEven=function(){return(this.value&1)===0},E.prototype.isOdd=function(){return(this.value[0]&1)===1},R.prototype.isOdd=function(){return(this.value&1)===1},E.prototype.isPositive=function(){return!this.sign},R.prototype.isPositive=function(){return this.value>0},E.prototype.isNegative=function(){return this.sign},R.prototype.isNegative=function(){return this.value<0},E.prototype.isUnit=function(){return!1},R.prototype.isUnit=function(){return Math.abs(this.value)===1},E.prototype.isZero=function(){return!1},R.prototype.isZero=function(){return this.value===0},E.prototype.isDivisibleBy=function(F){var ee=sr(F),Ce=ee.value;return Ce===0?!1:Ce===1?!0:Ce===2?this.isEven():this.mod(ee).equals(k[0])},R.prototype.isDivisibleBy=E.prototype.isDivisibleBy;function le(F){var ee=F.abs();if(ee.isUnit())return!1;if(ee.equals(2)||ee.equals(3)||ee.equals(5))return!0;if(ee.isEven()||ee.isDivisibleBy(3)||ee.isDivisibleBy(5))return!1;if(ee.lesser(49))return!0}function ze(F,ee){for(var Ce=F.prev(),Ne=Ce,et=0,Je,xt,St;Ne.isEven();)Ne=Ne.divide(2),et++;e:for(xt=0;xt<ee.length;xt++)if(!F.lesser(ee[xt])&&(St=n(ee[xt]).modPow(Ne,F),!(St.equals(k[1])||St.equals(Ce)))){for(Je=et-1;Je!=0;Je--){if(St=St.square().mod(F),St.isUnit())return!1;if(St.equals(Ce))continue e}return!1}return!0}E.prototype.isPrime=function(F){var ee=le(this);if(ee!==a)return ee;var Ce=this.abs(),Ne=Ce.bitLength();if(Ne<=64)return ze(Ce,[2,325,9375,28178,450775,9780504,1795265022]);for(var et=Math.log(2)*Ne,Je=Math.ceil(F===!0?2*Math.pow(et,2):et),xt=[],St=0;St<Je;St++)xt.push(n(St+2));return ze(Ce,xt)},R.prototype.isPrime=E.prototype.isPrime,E.prototype.isProbablePrime=function(F){var ee=le(this);if(ee!==a)return ee;for(var Ce=this.abs(),Ne=F===a?5:F,et=[],Je=0;Je<Ne;Je++)et.push(n.randBetween(2,Ce.minus(2)));return ze(Ce,et)},R.prototype.isProbablePrime=E.prototype.isProbablePrime,E.prototype.modInv=function(F){for(var ee=n.zero,Ce=n.one,Ne=sr(F),et=this.abs(),Je,xt,St;!et.equals(n.zero);)Je=Ne.divide(et),xt=ee,St=Ne,ee=Ce,Ne=et,Ce=xt.subtract(Je.multiply(Ce)),et=St.subtract(Je.multiply(et));if(!Ne.equals(1))throw new Error(this.toString()+" and "+F.toString()+" are not co-prime");return ee.compare(0)===-1&&(ee=ee.add(F)),this.isNegative()?ee.negate():ee},R.prototype.modInv=E.prototype.modInv,E.prototype.next=function(){var F=this.value;return this.sign?Ve(F,1,this.sign):new E(Be(F,1),this.sign)},R.prototype.next=function(){var F=this.value;return F+1<b?new R(F+1):new E(C,!1)},E.prototype.prev=function(){var F=this.value;return this.sign?new E(Be(F,1),!0):Ve(F,1,this.sign)},R.prototype.prev=function(){var F=this.value;return F-1>-b?new R(F-1):new E(C,!0)};for(var ct=[1];2*ct[ct.length-1]<=d;)ct.push(2*ct[ct.length-1]);var Se=ct.length,Jt=ct[Se-1];function Ot(F){return(typeof F=="number"||typeof F=="string")&&+Math.abs(F)<=d||F instanceof E&&F.value.length<=1}E.prototype.shiftLeft=function(F){if(!Ot(F))throw new Error(String(F)+" is too large for shifting.");if(F=+F,F<0)return this.shiftRight(-F);var ee=this;if(ee.isZero())return ee;for(;F>=Se;)ee=ee.multiply(Jt),F-=Se-1;return ee.multiply(ct[F])},R.prototype.shiftLeft=E.prototype.shiftLeft,E.prototype.shiftRight=function(F){var ee;if(!Ot(F))throw new Error(String(F)+" is too large for shifting.");if(F=+F,F<0)return this.shiftLeft(-F);for(var Ce=this;F>=Se;){if(Ce.isZero()||Ce.isNegative()&&Ce.isUnit())return Ce;ee=ft(Ce,Jt),Ce=ee[1].isNegative()?ee[0].prev():ee[0],F-=Se-1}return ee=ft(Ce,ct[F]),ee[1].isNegative()?ee[0].prev():ee[0]},R.prototype.shiftRight=E.prototype.shiftRight;function sn(F,ee,Ce){ee=sr(ee);for(var Ne=F.isNegative(),et=ee.isNegative(),Je=Ne?F.not():F,xt=et?ee.not():ee,St=0,O=0,oe=null,Le=null,Me=[];!Je.isZero()||!xt.isZero();)oe=ft(Je,Jt),St=oe[1].toJSNumber(),Ne&&(St=Jt-1-St),Le=ft(xt,Jt),O=Le[1].toJSNumber(),et&&(O=Jt-1-O),Je=oe[0],xt=Le[0],Me.push(Ce(St,O));for(var Nt=Ce(Ne?1:0,et?1:0)!==0?n(-1):n(0),Cn=Me.length-1;Cn>=0;Cn-=1)Nt=Nt.multiply(Jt).add(n(Me[Cn]));return Nt}E.prototype.not=function(){return this.negate().prev()},R.prototype.not=E.prototype.not,E.prototype.and=function(F){return sn(this,F,function(ee,Ce){return ee&Ce})},R.prototype.and=E.prototype.and,E.prototype.or=function(F){return sn(this,F,function(ee,Ce){return ee|Ce})},R.prototype.or=E.prototype.or,E.prototype.xor=function(F){return sn(this,F,function(ee,Ce){return ee^Ce})},R.prototype.xor=E.prototype.xor;var yn=1<<30,hr=(d&-d)*(d&-d)|yn;function Yn(F){var ee=F.value,Ce=typeof ee=="number"?ee|yn:ee[0]+ee[1]*d|hr;return Ce&-Ce}function an(F,ee){if(ee.compareTo(F)<=0){var Ce=an(F,ee.square(ee)),Ne=Ce.p,et=Ce.e,Je=Ne.multiply(ee);return Je.compareTo(F)<=0?{p:Je,e:et*2+1}:{p:Ne,e:et*2}}return{p:n(1),e:0}}E.prototype.bitLength=function(){var F=this;return F.compareTo(n(0))<0&&(F=F.negate().subtract(n(1))),F.compareTo(n(0))===0?n(0):n(an(F,n(2)).e).add(n(1))},R.prototype.bitLength=E.prototype.bitLength;function Xn(F,ee){return F=sr(F),ee=sr(ee),F.greater(ee)?F:ee}function ht(F,ee){return F=sr(F),ee=sr(ee),F.lesser(ee)?F:ee}function tn(F,ee){if(F=sr(F).abs(),ee=sr(ee).abs(),F.equals(ee))return F;if(F.isZero())return ee;if(ee.isZero())return F;for(var Ce=k[1],Ne,et;F.isEven()&&ee.isEven();)Ne=Math.min(Yn(F),Yn(ee)),F=F.divide(Ne),ee=ee.divide(Ne),Ce=Ce.multiply(Ne);for(;F.isEven();)F=F.divide(Yn(F));do{for(;ee.isEven();)ee=ee.divide(Yn(ee));F.greater(ee)&&(et=ee,ee=F,F=et),ee=ee.subtract(F)}while(!ee.isZero());return Ce.isUnit()?F:F.multiply(Ce)}function Wr(F,ee){return F=sr(F).abs(),ee=sr(ee).abs(),F.divide(tn(F,ee)).multiply(ee)}function Jn(F,ee){F=sr(F),ee=sr(ee);var Ce=ht(F,ee),Ne=Xn(F,ee),et=Ne.subtract(Ce).add(1);if(et.isSmall)return Ce.add(Math.floor(Math.random()*et));for(var Je=et.value.length-1,xt=[],St=!0,O=Je;O>=0;O--){var oe=St?et.value[O]:d,Le=re(Math.random()*oe);xt.unshift(Le),Le<oe&&(St=!1)}return xt=fe(xt),Ce.add(typeof xt=="number"?new R(xt):new E(xt,!1))}var pr=function(F,ee){for(var Ce=F.length,Ne,et=Math.abs(ee),Ne=0;Ne<Ce;Ne++){var Je=F[Ne].toLowerCase();if(Je!=="-"&&/[a-z0-9]/.test(Je)){if(/[0-9]/.test(Je)&&+Je>=et){if(Je==="1"&&et===1)continue;throw new Error(Je+" is not a valid digit in base "+ee+".")}else if(Je.charCodeAt(0)-87>=et)throw new Error(Je+" is not a valid digit in base "+ee+".")}}if(2<=ee&&ee<=36&&Ce<=x/Math.log(ee)){var xt=parseInt(F,ee);if(isNaN(xt))throw new Error(Je+" is not a valid digit in base "+ee+".");return new R(parseInt(F,ee))}ee=sr(ee);var St=[],O=F[0]==="-";for(Ne=O?1:0;Ne<F.length;Ne++){var Je=F[Ne].toLowerCase(),oe=Je.charCodeAt(0);if(48<=oe&&oe<=57)St.push(sr(Je));else if(97<=oe&&oe<=122)St.push(sr(Je.charCodeAt(0)-87));else if(Je==="<"){var Le=Ne;do Ne++;while(F[Ne]!==">");St.push(sr(F.slice(Le+1,Ne)))}else throw new Error(Je+" is not a valid character")}return on(St,ee,O)};function on(F,ee,Ce){var Ne=k[0],et=k[1],Je;for(Je=F.length-1;Je>=0;Je--)Ne=Ne.add(F[Je].times(et)),et=et.times(ee);return Ce?Ne.negate():Ne}function Ti(F){return F<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(F):"<"+F+">"}function Bi(F,ee){if(ee=n(ee),ee.isZero()){if(F.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(ee.equals(-1)){if(F.isZero())return{value:[0],isNegative:!1};if(F.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-F)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Ce=Array.apply(null,Array(+F-1)).map(Array.prototype.valueOf,[0,1]);return Ce.unshift([1]),{value:[].concat.apply([],Ce),isNegative:!1}}var Ne=!1;if(F.isNegative()&&ee.isPositive()&&(Ne=!0,F=F.abs()),ee.equals(1))return F.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+F)).map(Number.prototype.valueOf,1),isNegative:Ne};for(var et=[],Je=F,xt;Je.isNegative()||Je.compareAbs(ee)>=0;){xt=Je.divmod(ee),Je=xt.quotient;var St=xt.remainder;St.isNegative()&&(St=ee.minus(St).abs(),Je=Je.next()),et.push(St.toJSNumber())}return et.push(Je.toJSNumber()),{value:et.reverse(),isNegative:Ne}}function Zn(F,ee){var Ce=Bi(F,ee);return(Ce.isNegative?"-":"")+Ce.value.map(Ti).join("")}E.prototype.toArray=function(F){return Bi(this,F)},R.prototype.toArray=function(F){return Bi(this,F)},E.prototype.toString=function(F){if(F===a&&(F=10),F!==10)return Zn(this,F);for(var ee=this.value,Ce=ee.length,Ne=String(ee[--Ce]),et="0000000",Je;--Ce>=0;)Je=String(ee[Ce]),Ne+=et.slice(Je.length)+Je;var xt=this.sign?"-":"";return xt+Ne},R.prototype.toString=function(F){return F===a&&(F=10),F!=10?Zn(this,F):String(this.value)},E.prototype.toJSON=R.prototype.toJSON=function(){return this.toString()},E.prototype.valueOf=function(){return parseInt(this.toString(),10)},E.prototype.toJSNumber=E.prototype.valueOf,R.prototype.valueOf=function(){return this.value},R.prototype.toJSNumber=R.prototype.valueOf;function ss(F){if(q(+F)){var ee=+F;if(ee===re(ee))return new R(ee);throw new Error("Invalid integer: "+F)}var Ce=F[0]==="-";Ce&&(F=F.slice(1));var Ne=F.split(/e/i);if(Ne.length>2)throw new Error("Invalid integer: "+Ne.join("e"));if(Ne.length===2){var et=Ne[1];if(et[0]==="+"&&(et=et.slice(1)),et=+et,et!==re(et)||!q(et))throw new Error("Invalid integer: "+et+" is not a valid exponent.");var Je=Ne[0],xt=Je.indexOf(".");if(xt>=0&&(et-=Je.length-xt-1,Je=Je.slice(0,xt)+Je.slice(xt+1)),et<0)throw new Error("Cannot include negative exponent part for integers");Je+=new Array(et+1).join("0"),F=Je}var St=/^([0-9][0-9]*)$/.test(F);if(!St)throw new Error("Invalid integer: "+F);for(var O=[],oe=F.length,Le=m,Me=oe-Le;oe>0;)O.push(+F.slice(Me,oe)),Me-=Le,Me<0&&(Me=0),oe-=Le;return ve(O),new E(O,Ce)}function vi(F){if(q(F)){if(F!==re(F))throw new Error(F+" is not an integer.");return new R(F)}return ss(F.toString())}function sr(F){return typeof F=="number"?vi(F):typeof F=="string"?ss(F):F}for(var Vn=0;Vn<1e3;Vn++)k[Vn]=new R(Vn),Vn>0&&(k[-Vn]=new R(-Vn));return k.one=k[1],k.zero=k[0],k.minusOne=k[-1],k.max=Xn,k.min=ht,k.gcd=tn,k.lcm=Wr,k.isInstance=function(F){return F instanceof E||F instanceof R},k.randBetween=Jn,k.fromArray=function(F,ee,Ce){return on(F.map(sr),sr(ee||10),Ce)},k})();return o.hasOwnProperty("exports")&&(o.exports=n),n})(),bigDec:(function(n){var a,d,m,b,C=9e15,x=1e9,k="0123456789abcdef",E="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",R="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",q={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-C,maxE:C,crypto:!1},z=!0,fe="[DecimalError] ",ve=fe+"Invalid argument: ",ge=fe+"Precision limit exceeded",re=fe+"crypto unavailable",ie=Math.floor,ke=Math.pow,Be=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ke=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ye=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,st=1e7,Xe=7,Qt=E.length-1,It=R.length-1,De={name:"[object Decimal]"};function Bt(_){var B,Y,j,_e=_.length-1,J="",Te=_[0];if(_e>0){for(J+=Te,B=1;B<_e;B++)j=_[B]+"",(Y=Xe-j.length)&&(J+=Jt(Y)),J+=j;Te=_[B],(Y=Xe-(j=Te+"").length)&&(J+=Jt(Y))}else if(Te===0)return"0";for(;Te%10==0;)Te/=10;return J+Te}function kt(_,B,Y){if(_!==~~_||_<B||_>Y)throw Error(ve+_)}function nt(_,B,Y,j){var _e,J,Te,He;for(J=_[0];J>=10;J/=10)--B;return--B<0?(B+=Xe,_e=0):(_e=Math.ceil((B+1)/Xe),B%=Xe),J=ke(10,Xe-B),He=_[_e]%J|0,j==null?B<3?(B==0?He=He/100|0:B==1&&(He=He/10|0),Te=Y<4&&He==99999||Y>3&&He==49999||He==5e4||He==0):Te=(Y<4&&He+1==J||Y>3&&He+1==J/2)&&(_[_e+1]/J/100|0)==ke(10,B-2)-1||(He==J/2||He==0)&&(_[_e+1]/J/100|0)==0:B<4?(B==0?He=He/1e3|0:B==1?He=He/100|0:B==2&&(He=He/10|0),Te=(j||Y<4)&&He==9999||!j&&Y>3&&He==4999):Te=((j||Y<4)&&He+1==J||!j&&Y>3&&He+1==J/2)&&(_[_e+1]/J/1e3|0)==ke(10,B-3)-1,Te}function Ze(_,B,Y){for(var j,_e,J=[0],Te=0,He=_.length;Te<He;){for(_e=J.length;_e--;)J[_e]*=B;for(J[0]+=k.indexOf(_.charAt(Te++)),j=0;j<J.length;j++)J[j]>Y-1&&(J[j+1]===void 0&&(J[j+1]=0),J[j+1]+=J[j]/Y|0,J[j]%=Y)}return J.reverse()}De.absoluteValue=De.abs=function(){var _=new this.constructor(this);return _.s<0&&(_.s=1),ft(_)},De.ceil=function(){return ft(new this.constructor(this),this.e+1,2)},De.comparedTo=De.cmp=function(_){var B,Y,j,_e,J=this,Te=J.d,He=(_=new J.constructor(_)).d,Ye=J.s,it=_.s;if(!Te||!He)return Ye&&it?Ye!==it?Ye:Te===He?0:!Te^Ye<0?1:-1:NaN;if(!Te[0]||!He[0])return Te[0]?Ye:He[0]?-it:0;if(Ye!==it)return Ye;if(J.e!==_.e)return J.e>_.e^Ye<0?1:-1;for(B=0,Y=(j=Te.length)<(_e=He.length)?j:_e;B<Y;++B)if(Te[B]!==He[B])return Te[B]>He[B]^Ye<0?1:-1;return j===_e?0:j>_e^Ye<0?1:-1},De.cosine=De.cos=function(){var _,B,Y=this,j=Y.constructor;return Y.d?Y.d[0]?(_=j.precision,B=j.rounding,j.precision=_+Math.max(Y.e,Y.sd())+Xe,j.rounding=1,Y=(function(_e,J){var Te,He,Ye=J.d.length;Ye<32?(Te=Math.ceil(Ye/3),He=(1/Wr(4,Te)).toString()):(Te=16,He="2.3283064365386962890625e-10"),_e.precision+=Te,J=tn(_e,1,J.times(He),new _e(1));for(var it=Te;it--;){var Q=J.times(J);J=Q.times(Q).minus(Q).times(8).plus(1)}return _e.precision-=Te,J})(j,Jn(j,Y)),j.precision=_,j.rounding=B,ft(b==2||b==3?Y.neg():Y,_,B,!0)):new j(1):new j(NaN)},De.cubeRoot=De.cbrt=function(){var _,B,Y,j,_e,J,Te,He,Ye,it,Q=this,Rt=Q.constructor;if(!Q.isFinite()||Q.isZero())return new Rt(Q);for(z=!1,(J=Q.s*ke(Q.s*Q,.3333333333333333))&&Math.abs(J)!=1/0?j=new Rt(J.toString()):(Y=Bt(Q.d),(J=((_=Q.e)-Y.length+1)%3)&&(Y+=J==1||J==-2?"0":"00"),J=ke(Y,.3333333333333333),_=ie((_+1)/3)-(_%3==(_<0?-1:2)),(j=new Rt(Y=J==1/0?"5e"+_:(Y=J.toExponential()).slice(0,Y.indexOf("e")+1)+_)).s=Q.s),Te=(_=Rt.precision)+3;;)if(it=(Ye=(He=j).times(He).times(He)).plus(Q),j=vt(it.plus(Q).times(He),it.plus(Ye),Te+2,1),Bt(He.d).slice(0,Te)===(Y=Bt(j.d)).slice(0,Te)){if((Y=Y.slice(Te-3,Te+1))!="9999"&&(_e||Y!="4999")){+Y&&(+Y.slice(1)||Y.charAt(0)!="5")||(ft(j,_+1,1),B=!j.times(j).times(j).eq(Q));break}if(!_e&&(ft(He,_+1,0),He.times(He).times(He).eq(Q))){j=He;break}Te+=4,_e=1}return z=!0,ft(j,_,Rt.rounding,B)},De.decimalPlaces=De.dp=function(){var _,B=this.d,Y=NaN;if(B){if(Y=((_=B.length-1)-ie(this.e/Xe))*Xe,_=B[_])for(;_%10==0;_/=10)Y--;Y<0&&(Y=0)}return Y},De.dividedBy=De.div=function(_){return vt(this,new this.constructor(_))},De.dividedToIntegerBy=De.divToInt=function(_){var B=this.constructor;return ft(vt(this,new B(_),0,1,1),B.precision,B.rounding)},De.equals=De.eq=function(_){return this.cmp(_)===0},De.floor=function(){return ft(new this.constructor(this),this.e+1,3)},De.greaterThan=De.gt=function(_){return this.cmp(_)>0},De.greaterThanOrEqualTo=De.gte=function(_){var B=this.cmp(_);return B==1||B===0},De.hyperbolicCosine=De.cosh=function(){var _,B,Y,j,_e,J=this,Te=J.constructor,He=new Te(1);if(!J.isFinite())return new Te(J.s?1/0:NaN);if(J.isZero())return He;Y=Te.precision,j=Te.rounding,Te.precision=Y+Math.max(J.e,J.sd())+4,Te.rounding=1,(_e=J.d.length)<32?B=(1/Wr(4,_=Math.ceil(_e/3))).toString():(_=16,B="2.3283064365386962890625e-10"),J=tn(Te,1,J.times(B),new Te(1),!0);for(var Ye,it=_,Q=new Te(8);it--;)Ye=J.times(J),J=He.minus(Ye.times(Q.minus(Ye.times(Q))));return ft(J,Te.precision=Y,Te.rounding=j,!0)},De.hyperbolicSine=De.sinh=function(){var _,B,Y,j,_e=this,J=_e.constructor;if(!_e.isFinite()||_e.isZero())return new J(_e);if(B=J.precision,Y=J.rounding,J.precision=B+Math.max(_e.e,_e.sd())+4,J.rounding=1,(j=_e.d.length)<3)_e=tn(J,2,_e,_e,!0);else{_=(_=1.4*Math.sqrt(j))>16?16:0|_,_e=tn(J,2,_e=_e.times(1/Wr(5,_)),_e,!0);for(var Te,He=new J(5),Ye=new J(16),it=new J(20);_--;)Te=_e.times(_e),_e=_e.times(He.plus(Te.times(Ye.times(Te).plus(it))))}return J.precision=B,J.rounding=Y,ft(_e,B,Y,!0)},De.hyperbolicTangent=De.tanh=function(){var _,B,Y=this,j=Y.constructor;return Y.isFinite()?Y.isZero()?new j(Y):(_=j.precision,B=j.rounding,j.precision=_+7,j.rounding=1,vt(Y.sinh(),Y.cosh(),j.precision=_,j.rounding=B)):new j(Y.s)},De.inverseCosine=De.acos=function(){var _,B=this,Y=B.constructor,j=B.abs().cmp(1),_e=Y.precision,J=Y.rounding;return j!==-1?j===0?B.isNeg()?ct(Y,_e,J):new Y(0):new Y(NaN):B.isZero()?ct(Y,_e+4,J).times(.5):(Y.precision=_e+6,Y.rounding=1,B=B.asin(),_=ct(Y,_e+4,J).times(.5),Y.precision=_e,Y.rounding=J,_.minus(B))},De.inverseHyperbolicCosine=De.acosh=function(){var _,B,Y=this,j=Y.constructor;return Y.lte(1)?new j(Y.eq(1)?0:NaN):Y.isFinite()?(_=j.precision,B=j.rounding,j.precision=_+Math.max(Math.abs(Y.e),Y.sd())+4,j.rounding=1,z=!1,Y=Y.times(Y).minus(1).sqrt().plus(Y),z=!0,j.precision=_,j.rounding=B,Y.ln()):new j(Y)},De.inverseHyperbolicSine=De.asinh=function(){var _,B,Y=this,j=Y.constructor;return!Y.isFinite()||Y.isZero()?new j(Y):(_=j.precision,B=j.rounding,j.precision=_+2*Math.max(Math.abs(Y.e),Y.sd())+6,j.rounding=1,z=!1,Y=Y.times(Y).plus(1).sqrt().plus(Y),z=!0,j.precision=_,j.rounding=B,Y.ln())},De.inverseHyperbolicTangent=De.atanh=function(){var _,B,Y,j,_e=this,J=_e.constructor;return _e.isFinite()?_e.e>=0?new J(_e.abs().eq(1)?_e.s/0:_e.isZero()?_e:NaN):(_=J.precision,B=J.rounding,j=_e.sd(),Math.max(j,_)<2*-_e.e-1?ft(new J(_e),_,B,!0):(J.precision=Y=j-_e.e,_e=vt(_e.plus(1),new J(1).minus(_e),Y+_,1),J.precision=_+4,J.rounding=1,_e=_e.ln(),J.precision=_,J.rounding=B,_e.times(.5))):new J(NaN)},De.inverseSine=De.asin=function(){var _,B,Y,j,_e=this,J=_e.constructor;return _e.isZero()?new J(_e):(B=_e.abs().cmp(1),Y=J.precision,j=J.rounding,B!==-1?B===0?((_=ct(J,Y+4,j).times(.5)).s=_e.s,_):new J(NaN):(J.precision=Y+6,J.rounding=1,_e=_e.div(new J(1).minus(_e.times(_e)).sqrt().plus(1)).atan(),J.precision=Y,J.rounding=j,_e.times(2)))},De.inverseTangent=De.atan=function(){var _,B,Y,j,_e,J,Te,He,Ye,it=this,Q=it.constructor,Rt=Q.precision,Ee=Q.rounding;if(it.isFinite()){if(it.isZero())return new Q(it);if(it.abs().eq(1)&&Rt+4<=It)return(Te=ct(Q,Rt+4,Ee).times(.25)).s=it.s,Te}else{if(!it.s)return new Q(NaN);if(Rt+4<=It)return(Te=ct(Q,Rt+4,Ee).times(.5)).s=it.s,Te}for(Q.precision=He=Rt+10,Q.rounding=1,_=Y=Math.min(28,He/Xe+2|0);_;--_)it=it.div(it.times(it).plus(1).sqrt().plus(1));for(z=!1,B=Math.ceil(He/Xe),j=1,Ye=it.times(it),Te=new Q(it),_e=it;_!==-1;)if(_e=_e.times(Ye),J=Te.minus(_e.div(j+=2)),_e=_e.times(Ye),(Te=J.plus(_e.div(j+=2))).d[B]!==void 0)for(_=B;Te.d[_]===J.d[_]&&_--;);return Y&&(Te=Te.times(2<<Y-1)),z=!0,ft(Te,Q.precision=Rt,Q.rounding=Ee,!0)},De.isFinite=function(){return!!this.d},De.isInteger=De.isInt=function(){return!!this.d&&ie(this.e/Xe)>this.d.length-2},De.isNaN=function(){return!this.s},De.isNegative=De.isNeg=function(){return this.s<0},De.isPositive=De.isPos=function(){return this.s>0},De.isZero=function(){return!!this.d&&this.d[0]===0},De.lessThan=De.lt=function(_){return this.cmp(_)<0},De.lessThanOrEqualTo=De.lte=function(_){return this.cmp(_)<1},De.logarithm=De.log=function(_){var B,Y,j,_e,J,Te,He,Ye,it=this.constructor,Q=it.precision,Rt=it.rounding;if(_==null)_=new it(10),B=!0;else{if(Y=(_=new it(_)).d,_.s<0||!Y||!Y[0]||_.eq(1))return new it(NaN);B=_.eq(10)}if(Y=this.d,this.s<0||!Y||!Y[0]||this.eq(1))return new it(Y&&!Y[0]?-1/0:this.s!=1?NaN:Y?0:1/0);if(B)if(Y.length>1)J=!0;else{for(_e=Y[0];_e%10==0;)_e/=10;J=_e!==1}if(z=!1,Te=Yn(this,He=Q+5),j=B?ze(it,He+10):Yn(_,He),nt((Ye=vt(Te,j,He,1)).d,_e=Q,Rt))do if(Te=Yn(this,He+=10),j=B?ze(it,He+10):Yn(_,He),Ye=vt(Te,j,He,1),!J){+Bt(Ye.d).slice(_e+1,_e+15)+1==1e14&&(Ye=ft(Ye,Q+1,0));break}while(nt(Ye.d,_e+=10,Rt));return z=!0,ft(Ye,Q,Rt)},De.minus=De.sub=function(_){var B,Y,j,_e,J,Te,He,Ye,it,Q,Rt,Ee,wn=this,kn=wn.constructor;if(_=new kn(_),!wn.d||!_.d)return wn.s&&_.s?wn.d?_.s=-_.s:_=new kn(_.d||wn.s!==_.s?wn:NaN):_=new kn(NaN),_;if(wn.s!=_.s)return _.s=-_.s,wn.plus(_);if(it=wn.d,Ee=_.d,He=kn.precision,Ye=kn.rounding,!it[0]||!Ee[0]){if(Ee[0])_.s=-_.s;else{if(!it[0])return new kn(Ye===3?-0:0);_=new kn(wn)}return z?ft(_,He,Ye):_}if(Y=ie(_.e/Xe),Q=ie(wn.e/Xe),it=it.slice(),J=Q-Y){for((Rt=J<0)?(B=it,J=-J,Te=Ee.length):(B=Ee,Y=Q,Te=it.length),J>(j=Math.max(Math.ceil(He/Xe),Te)+2)&&(J=j,B.length=1),B.reverse(),j=J;j--;)B.push(0);B.reverse()}else{for((Rt=(j=it.length)<(Te=Ee.length))&&(Te=j),j=0;j<Te;j++)if(it[j]!=Ee[j]){Rt=it[j]<Ee[j];break}J=0}for(Rt&&(B=it,it=Ee,Ee=B,_.s=-_.s),Te=it.length,j=Ee.length-Te;j>0;--j)it[Te++]=0;for(j=Ee.length;j>J;){if(it[--j]<Ee[j]){for(_e=j;_e&&it[--_e]===0;)it[_e]=st-1;--it[_e],it[j]+=st}it[j]-=Ee[j]}for(;it[--Te]===0;)it.pop();for(;it[0]===0;it.shift())--Y;return it[0]?(_.d=it,_.e=le(it,Y),z?ft(_,He,Ye):_):new kn(Ye===3?-0:0)},De.modulo=De.mod=function(_){var B,Y=this,j=Y.constructor;return _=new j(_),!Y.d||!_.s||_.d&&!_.d[0]?new j(NaN):!_.d||Y.d&&!Y.d[0]?ft(new j(Y),j.precision,j.rounding):(z=!1,j.modulo==9?(B=vt(Y,_.abs(),0,3,1)).s*=_.s:B=vt(Y,_,0,j.modulo,1),B=B.times(_),z=!0,Y.minus(B))},De.naturalExponential=De.exp=function(){return hr(this)},De.naturalLogarithm=De.ln=function(){return Yn(this)},De.negated=De.neg=function(){var _=new this.constructor(this);return _.s=-_.s,ft(_)},De.plus=De.add=function(_){var B,Y,j,_e,J,Te,He,Ye,it,Q,Rt=this,Ee=Rt.constructor;if(_=new Ee(_),!Rt.d||!_.d)return Rt.s&&_.s?Rt.d||(_=new Ee(_.d||Rt.s===_.s?Rt:NaN)):_=new Ee(NaN),_;if(Rt.s!=_.s)return _.s=-_.s,Rt.minus(_);if(it=Rt.d,Q=_.d,He=Ee.precision,Ye=Ee.rounding,!it[0]||!Q[0])return Q[0]||(_=new Ee(Rt)),z?ft(_,He,Ye):_;if(J=ie(Rt.e/Xe),j=ie(_.e/Xe),it=it.slice(),_e=J-j){for(_e<0?(Y=it,_e=-_e,Te=Q.length):(Y=Q,j=J,Te=it.length),_e>(Te=(J=Math.ceil(He/Xe))>Te?J+1:Te+1)&&(_e=Te,Y.length=1),Y.reverse();_e--;)Y.push(0);Y.reverse()}for((Te=it.length)-(_e=Q.length)<0&&(_e=Te,Y=Q,Q=it,it=Y),B=0;_e;)B=(it[--_e]=it[_e]+Q[_e]+B)/st|0,it[_e]%=st;for(B&&(it.unshift(B),++j),Te=it.length;it[--Te]==0;)it.pop();return _.d=it,_.e=le(it,j),z?ft(_,He,Ye):_},De.precision=De.sd=function(_){var B,Y=this;if(_!==void 0&&_!==!!_&&_!==1&&_!==0)throw Error(ve+_);return Y.d?(B=Se(Y.d),_&&Y.e+1>B&&(B=Y.e+1)):B=NaN,B},De.round=function(){var _=this,B=_.constructor;return ft(new B(_),_.e+1,B.rounding)},De.sine=De.sin=function(){var _,B,Y=this,j=Y.constructor;return Y.isFinite()?Y.isZero()?new j(Y):(_=j.precision,B=j.rounding,j.precision=_+Math.max(Y.e,Y.sd())+Xe,j.rounding=1,Y=(function(_e,J){var Te,He=J.d.length;if(He<3)return tn(_e,2,J,J);Te=(Te=1.4*Math.sqrt(He))>16?16:0|Te,J=J.times(1/Wr(5,Te)),J=tn(_e,2,J,J);for(var Ye,it=new _e(5),Q=new _e(16),Rt=new _e(20);Te--;)Ye=J.times(J),J=J.times(it.plus(Ye.times(Q.times(Ye).minus(Rt))));return J})(j,Jn(j,Y)),j.precision=_,j.rounding=B,ft(b>2?Y.neg():Y,_,B,!0)):new j(NaN)},De.squareRoot=De.sqrt=function(){var _,B,Y,j,_e,J,Te=this,He=Te.d,Ye=Te.e,it=Te.s,Q=Te.constructor;if(it!==1||!He||!He[0])return new Q(!it||it<0&&(!He||He[0])?NaN:He?Te:1/0);for(z=!1,(it=Math.sqrt(+Te))==0||it==1/0?(((B=Bt(He)).length+Ye)%2==0&&(B+="0"),it=Math.sqrt(B),Ye=ie((Ye+1)/2)-(Ye<0||Ye%2),j=new Q(B=it==1/0?"5e"+Ye:(B=it.toExponential()).slice(0,B.indexOf("e")+1)+Ye)):j=new Q(it.toString()),Y=(Ye=Q.precision)+3;;)if(j=(J=j).plus(vt(Te,J,Y+2,1)).times(.5),Bt(J.d).slice(0,Y)===(B=Bt(j.d)).slice(0,Y)){if((B=B.slice(Y-3,Y+1))!="9999"&&(_e||B!="4999")){+B&&(+B.slice(1)||B.charAt(0)!="5")||(ft(j,Ye+1,1),_=!j.times(j).eq(Te));break}if(!_e&&(ft(J,Ye+1,0),J.times(J).eq(Te))){j=J;break}Y+=4,_e=1}return z=!0,ft(j,Ye,Q.rounding,_)},De.tangent=De.tan=function(){var _,B,Y=this,j=Y.constructor;return Y.isFinite()?Y.isZero()?new j(Y):(_=j.precision,B=j.rounding,j.precision=_+10,j.rounding=1,(Y=Y.sin()).s=1,Y=vt(Y,new j(1).minus(Y.times(Y)).sqrt(),_+10,0),j.precision=_,j.rounding=B,ft(b==2||b==4?Y.neg():Y,_,B,!0)):new j(NaN)},De.times=De.mul=function(_){var B,Y,j,_e,J,Te,He,Ye,it,Q=this,Rt=Q.constructor,Ee=Q.d,wn=(_=new Rt(_)).d;if(_.s*=Q.s,!(Ee&&Ee[0]&&wn&&wn[0]))return new Rt(!_.s||Ee&&!Ee[0]&&!wn||wn&&!wn[0]&&!Ee?NaN:Ee&&wn?0*_.s:_.s/0);for(Y=ie(Q.e/Xe)+ie(_.e/Xe),(Ye=Ee.length)<(it=wn.length)&&(J=Ee,Ee=wn,wn=J,Te=Ye,Ye=it,it=Te),J=[],j=Te=Ye+it;j--;)J.push(0);for(j=it;--j>=0;){for(B=0,_e=Ye+j;_e>j;)He=J[_e]+wn[j]*Ee[_e-j-1]+B,J[_e--]=He%st|0,B=He/st|0;J[_e]=(J[_e]+B)%st|0}for(;!J[--Te];)J.pop();return B?++Y:J.shift(),_.d=J,_.e=le(J,Y),z?ft(_,Rt.precision,Rt.rounding):_},De.toBinary=function(_,B){return pr(this,2,_,B)},De.toDecimalPlaces=De.toDP=function(_,B){var Y=this,j=Y.constructor;return Y=new j(Y),_===void 0?Y:(kt(_,0,x),B===void 0?B=j.rounding:kt(B,0,8),ft(Y,_+Y.e+1,B))},De.toExponential=function(_,B){var Y,j=this,_e=j.constructor;return _===void 0?Y=Ut(j,!0):(kt(_,0,x),B===void 0?B=_e.rounding:kt(B,0,8),Y=Ut(j=ft(new _e(j),_+1,B),!0,_+1)),j.isNeg()&&!j.isZero()?"-"+Y:Y},De.toFixed=function(_,B){var Y,j,_e=this,J=_e.constructor;return _===void 0?Y=Ut(_e):(kt(_,0,x),B===void 0?B=J.rounding:kt(B,0,8),Y=Ut(j=ft(new J(_e),_+_e.e+1,B),!1,_+j.e+1)),_e.isNeg()&&!_e.isZero()?"-"+Y:Y},De.toFraction=function(_){var B,Y,j,_e,J,Te,He,Ye,it,Q,Rt,Ee,wn=this,kn=wn.d,Nr=wn.constructor;if(!kn)return new Nr(wn);if(it=Y=new Nr(1),j=Ye=new Nr(0),Te=(J=(B=new Nr(j)).e=Se(kn)-wn.e-1)%Xe,B.d[0]=ke(10,Te<0?Xe+Te:Te),_==null)_=J>0?B:it;else{if(!(He=new Nr(_)).isInt()||He.lt(it))throw Error(ve+He);_=He.gt(B)?J>0?B:it:He}for(z=!1,He=new Nr(Bt(kn)),Q=Nr.precision,Nr.precision=J=kn.length*Xe*2;Rt=vt(He,B,0,1,1),(_e=Y.plus(Rt.times(j))).cmp(_)!=1;)Y=j,j=_e,_e=it,it=Ye.plus(Rt.times(_e)),Ye=_e,_e=B,B=He.minus(Rt.times(_e)),He=_e;return _e=vt(_.minus(Y),j,0,1,1),Ye=Ye.plus(_e.times(it)),Y=Y.plus(_e.times(j)),Ye.s=it.s=wn.s,Ee=vt(it,j,J,1).minus(wn).abs().cmp(vt(Ye,Y,J,1).minus(wn).abs())<1?[it,j]:[Ye,Y],Nr.precision=Q,z=!0,Ee},De.toHexadecimal=De.toHex=function(_,B){return pr(this,16,_,B)},De.toNearest=function(_,B){var Y=this,j=Y.constructor;if(Y=new j(Y),_==null){if(!Y.d)return Y;_=new j(1),B=j.rounding}else{if(_=new j(_),B===void 0?B=j.rounding:kt(B,0,8),!Y.d)return _.s?Y:_;if(!_.d)return _.s&&(_.s=Y.s),_}return _.d[0]?(z=!1,Y=vt(Y,_,0,B,1).times(_),z=!0,ft(Y)):(_.s=Y.s,Y=_),Y},De.toNumber=function(){return+this},De.toOctal=function(_,B){return pr(this,8,_,B)},De.toPower=De.pow=function(_){var B,Y,j,_e,J,Te,He=this,Ye=He.constructor,it=+(_=new Ye(_));if(!(He.d&&_.d&&He.d[0]&&_.d[0]))return new Ye(ke(+He,it));if((He=new Ye(He)).eq(1))return He;if(j=Ye.precision,J=Ye.rounding,_.eq(1))return ft(He,j,J);if((B=ie(_.e/Xe))>=_.d.length-1&&(Y=it<0?-it:it)<=9007199254740991)return _e=Ot(Ye,He,Y,j),_.s<0?new Ye(1).div(_e):ft(_e,j,J);if((Te=He.s)<0){if(B<_.d.length-1)return new Ye(NaN);if((1&_.d[B])==0&&(Te=1),He.e==0&&He.d[0]==1&&He.d.length==1)return He.s=Te,He}return(B=(Y=ke(+He,it))!=0&&isFinite(Y)?new Ye(Y+"").e:ie(it*(Math.log("0."+Bt(He.d))/Math.LN10+He.e+1)))>Ye.maxE+1||B<Ye.minE-1?new Ye(B>0?Te/0:0):(z=!1,Ye.rounding=He.s=1,Y=Math.min(12,(B+"").length),(_e=hr(_.times(Yn(He,j+Y)),j)).d&&nt((_e=ft(_e,j+5,1)).d,j,J)&&(B=j+10,+Bt((_e=ft(hr(_.times(Yn(He,B+Y)),B),B+5,1)).d).slice(j+1,j+15)+1==1e14&&(_e=ft(_e,j+1,0))),_e.s=Te,z=!0,Ye.rounding=J,ft(_e,j,J))},De.toPrecision=function(_,B){var Y,j=this,_e=j.constructor;return _===void 0?Y=Ut(j,j.e<=_e.toExpNeg||j.e>=_e.toExpPos):(kt(_,1,x),B===void 0?B=_e.rounding:kt(B,0,8),Y=Ut(j=ft(new _e(j),_,B),_<=j.e||j.e<=_e.toExpNeg,_)),j.isNeg()&&!j.isZero()?"-"+Y:Y},De.toSignificantDigits=De.toSD=function(_,B){var Y=this.constructor;return _===void 0?(_=Y.precision,B=Y.rounding):(kt(_,1,x),B===void 0?B=Y.rounding:kt(B,0,8)),ft(new Y(this),_,B)},De.toString=function(){var _=this,B=_.constructor,Y=Ut(_,_.e<=B.toExpNeg||_.e>=B.toExpPos);return _.isNeg()&&!_.isZero()?"-"+Y:Y},De.truncated=De.trunc=function(){return ft(new this.constructor(this),this.e+1,1)},De.valueOf=De.toJSON=function(){var _=this,B=_.constructor,Y=Ut(_,_.e<=B.toExpNeg||_.e>=B.toExpPos);return _.isNeg()?"-"+Y:Y};var vt=(function(){function _(j,_e,J){var Te,He=0,Ye=j.length;for(j=j.slice();Ye--;)Te=j[Ye]*_e+He,j[Ye]=Te%J|0,He=Te/J|0;return He&&j.unshift(He),j}function B(j,_e,J,Te){var He,Ye;if(J!=Te)Ye=J>Te?1:-1;else for(He=Ye=0;He<J;He++)if(j[He]!=_e[He]){Ye=j[He]>_e[He]?1:-1;break}return Ye}function Y(j,_e,J,Te){for(var He=0;J--;)j[J]-=He,He=j[J]<_e[J]?1:0,j[J]=He*Te+j[J]-_e[J];for(;!j[0]&&j.length>1;)j.shift()}return function(j,_e,J,Te,He,Ye){var it,Q,Rt,Ee,wn,kn,Nr,cr,On,Ji,ii,fn,xr,Ms,si,Ir,Zt,ce,xi,ps,dr=j.constructor,Lr=j.s==_e.s?1:-1,$n=j.d,er=_e.d;if(!($n&&$n[0]&&er&&er[0]))return new dr(j.s&&_e.s&&($n?!er||$n[0]!=er[0]:er)?$n&&$n[0]==0||!er?0*Lr:Lr/0:NaN);for(Ye?(wn=1,Q=j.e-_e.e):(Ye=st,wn=Xe,Q=ie(j.e/wn)-ie(_e.e/wn)),xi=er.length,Zt=$n.length,Ji=(On=new dr(Lr)).d=[],Rt=0;er[Rt]==($n[Rt]||0);Rt++);if(er[Rt]>($n[Rt]||0)&&Q--,J==null?(Ms=J=dr.precision,Te=dr.rounding):Ms=He?J+(j.e-_e.e)+1:J,Ms<0)Ji.push(1),kn=!0;else{if(Ms=Ms/wn+2|0,Rt=0,xi==1){for(Ee=0,er=er[0],Ms++;(Rt<Zt||Ee)&&Ms--;Rt++)si=Ee*Ye+($n[Rt]||0),Ji[Rt]=si/er|0,Ee=si%er|0;kn=Ee||Rt<Zt}else{for((Ee=Ye/(er[0]+1)|0)>1&&(er=_(er,Ee,Ye),$n=_($n,Ee,Ye),xi=er.length,Zt=$n.length),Ir=xi,fn=(ii=$n.slice(0,xi)).length;fn<xi;)ii[fn++]=0;(ps=er.slice()).unshift(0),ce=er[0],er[1]>=Ye/2&&++ce;do Ee=0,(it=B(er,ii,xi,fn))<0?(xr=ii[0],xi!=fn&&(xr=xr*Ye+(ii[1]||0)),(Ee=xr/ce|0)>1?(Ee>=Ye&&(Ee=Ye-1),(it=B(Nr=_(er,Ee,Ye),ii,cr=Nr.length,fn=ii.length))==1&&(Ee--,Y(Nr,xi<cr?ps:er,cr,Ye))):(Ee==0&&(it=Ee=1),Nr=er.slice()),(cr=Nr.length)<fn&&Nr.unshift(0),Y(ii,Nr,fn,Ye),it==-1&&(it=B(er,ii,xi,fn=ii.length))<1&&(Ee++,Y(ii,xi<fn?ps:er,fn,Ye)),fn=ii.length):it===0&&(Ee++,ii=[0]),Ji[Rt++]=Ee,it&&ii[0]?ii[fn++]=$n[Ir]||0:(ii=[$n[Ir]],fn=1);while((Ir++<Zt||ii[0]!==void 0)&&Ms--);kn=ii[0]!==void 0}Ji[0]||Ji.shift()}if(wn==1)On.e=Q,d=kn;else{for(Rt=1,Ee=Ji[0];Ee>=10;Ee/=10)Rt++;On.e=Rt+Q*wn-1,ft(On,He?J+On.e+1:J,Te,kn)}return On}})();function ft(_,B,Y,j){var _e,J,Te,He,Ye,it,Q,Rt,Ee,wn=_.constructor;e:if(B!=null){if(!(Rt=_.d))return _;for(_e=1,He=Rt[0];He>=10;He/=10)_e++;if((J=B-_e)<0)J+=Xe,Te=B,Ye=(Q=Rt[Ee=0])/ke(10,_e-Te-1)%10|0;else if((Ee=Math.ceil((J+1)/Xe))>=(He=Rt.length)){if(!j)break e;for(;He++<=Ee;)Rt.push(0);Q=Ye=0,_e=1,Te=(J%=Xe)-Xe+1}else{for(Q=He=Rt[Ee],_e=1;He>=10;He/=10)_e++;Ye=(Te=(J%=Xe)-Xe+_e)<0?0:Q/ke(10,_e-Te-1)%10|0}if(j=j||B<0||Rt[Ee+1]!==void 0||(Te<0?Q:Q%ke(10,_e-Te-1)),it=Y<4?(Ye||j)&&(Y==0||Y==(_.s<0?3:2)):Ye>5||Ye==5&&(Y==4||j||Y==6&&(J>0?Te>0?Q/ke(10,_e-Te):0:Rt[Ee-1])%10&1||Y==(_.s<0?8:7)),B<1||!Rt[0])return Rt.length=0,it?(B-=_.e+1,Rt[0]=ke(10,(Xe-B%Xe)%Xe),_.e=-B||0):Rt[0]=_.e=0,_;if(J==0?(Rt.length=Ee,He=1,Ee--):(Rt.length=Ee+1,He=ke(10,Xe-J),Rt[Ee]=Te>0?(Q/ke(10,_e-Te)%ke(10,Te)|0)*He:0),it)for(;;){if(Ee==0){for(J=1,Te=Rt[0];Te>=10;Te/=10)J++;for(Te=Rt[0]+=He,He=1;Te>=10;Te/=10)He++;J!=He&&(_.e++,Rt[0]==st&&(Rt[0]=1));break}if(Rt[Ee]+=He,Rt[Ee]!=st)break;Rt[Ee--]=0,He=1}for(J=Rt.length;Rt[--J]===0;)Rt.pop()}return z&&(_.e>wn.maxE?(_.d=null,_.e=NaN):_.e<wn.minE&&(_.e=0,_.d=[0])),_}function Ut(_,B,Y){if(!_.isFinite())return an(_);var j,_e=_.e,J=Bt(_.d),Te=J.length;return B?(Y&&(j=Y-Te)>0?J=J.charAt(0)+"."+J.slice(1)+Jt(j):Te>1&&(J=J.charAt(0)+"."+J.slice(1)),J=J+(_.e<0?"e":"e+")+_.e):_e<0?(J="0."+Jt(-_e-1)+J,Y&&(j=Y-Te)>0&&(J+=Jt(j))):_e>=Te?(J+=Jt(_e+1-Te),Y&&(j=Y-_e-1)>0&&(J=J+"."+Jt(j))):((j=_e+1)<Te&&(J=J.slice(0,j)+"."+J.slice(j)),Y&&(j=Y-Te)>0&&(_e+1===Te&&(J+="."),J+=Jt(j))),J}function le(_,B){var Y=_[0];for(B*=Xe;Y>=10;Y/=10)B++;return B}function ze(_,B,Y){if(B>Qt)throw z=!0,Y&&(_.precision=Y),Error(ge);return ft(new _(E),B,1,!0)}function ct(_,B,Y){if(B>It)throw Error(ge);return ft(new _(R),B,Y,!0)}function Se(_){var B=_.length-1,Y=B*Xe+1;if(B=_[B]){for(;B%10==0;B/=10)Y--;for(B=_[0];B>=10;B/=10)Y++}return Y}function Jt(_){for(var B="";_--;)B+="0";return B}function Ot(_,B,Y,j){var _e,J=new _(1),Te=Math.ceil(j/Xe+4);for(z=!1;;){if(Y%2&&on((J=J.times(B)).d,Te)&&(_e=!0),(Y=ie(Y/2))===0){Y=J.d.length-1,_e&&J.d[Y]===0&&++J.d[Y];break}on((B=B.times(B)).d,Te)}return z=!0,J}function sn(_){return 1&_.d[_.d.length-1]}function yn(_,B,Y){for(var j,_e=new _(B[0]),J=0;++J<B.length;){if(!(j=new _(B[J])).s){_e=j;break}_e[Y](j)&&(_e=j)}return _e}function hr(_,B){var Y,j,_e,J,Te,He,Ye,it=0,Q=0,Rt=0,Ee=_.constructor,wn=Ee.rounding,kn=Ee.precision;if(!_.d||!_.d[0]||_.e>17)return new Ee(_.d?_.d[0]?_.s<0?0:1/0:1:_.s?_.s<0?0:_:NaN);for(B==null?(z=!1,Ye=kn):Ye=B,He=new Ee(.03125);_.e>-2;)_=_.times(He),Rt+=5;for(Ye+=j=Math.log(ke(2,Rt))/Math.LN10*2+5|0,Y=J=Te=new Ee(1),Ee.precision=Ye;;){if(J=ft(J.times(_),Ye,1),Y=Y.times(++Q),Bt((He=Te.plus(vt(J,Y,Ye,1))).d).slice(0,Ye)===Bt(Te.d).slice(0,Ye)){for(_e=Rt;_e--;)Te=ft(Te.times(Te),Ye,1);if(B!=null)return Ee.precision=kn,Te;if(!(it<3&&nt(Te.d,Ye-j,wn,it)))return ft(Te,Ee.precision=kn,wn,z=!0);Ee.precision=Ye+=10,Y=J=He=new Ee(1),Q=0,it++}Te=He}}function Yn(_,B){var Y,j,_e,J,Te,He,Ye,it,Q,Rt,Ee,wn=1,kn=_,Nr=kn.d,cr=kn.constructor,On=cr.rounding,Ji=cr.precision;if(kn.s<0||!Nr||!Nr[0]||!kn.e&&Nr[0]==1&&Nr.length==1)return new cr(Nr&&!Nr[0]?-1/0:kn.s!=1?NaN:Nr?0:kn);if(B==null?(z=!1,Q=Ji):Q=B,cr.precision=Q+=10,j=(Y=Bt(Nr)).charAt(0),!(Math.abs(J=kn.e)<15e14))return it=ze(cr,Q+2,Ji).times(J+""),kn=Yn(new cr(j+"."+Y.slice(1)),Q-10).plus(it),cr.precision=Ji,B==null?ft(kn,Ji,On,z=!0):kn;for(;j<7&&j!=1||j==1&&Y.charAt(1)>3;)j=(Y=Bt((kn=kn.times(_)).d)).charAt(0),wn++;for(J=kn.e,j>1?(kn=new cr("0."+Y),J++):kn=new cr(j+"."+Y.slice(1)),Rt=kn,Ye=Te=kn=vt(kn.minus(1),kn.plus(1),Q,1),Ee=ft(kn.times(kn),Q,1),_e=3;;){if(Te=ft(Te.times(Ee),Q,1),Bt((it=Ye.plus(vt(Te,new cr(_e),Q,1))).d).slice(0,Q)===Bt(Ye.d).slice(0,Q)){if(Ye=Ye.times(2),J!==0&&(Ye=Ye.plus(ze(cr,Q+2,Ji).times(J+""))),Ye=vt(Ye,new cr(wn),Q,1),B!=null)return cr.precision=Ji,Ye;if(!nt(Ye.d,Q-10,On,He))return ft(Ye,cr.precision=Ji,On,z=!0);cr.precision=Q+=10,it=Te=kn=vt(Rt.minus(1),Rt.plus(1),Q,1),Ee=ft(kn.times(kn),Q,1),_e=He=1}Ye=it,_e+=2}}function an(_){return String(_.s*_.s/0)}function Xn(_,B){var Y,j,_e;for((Y=B.indexOf("."))>-1&&(B=B.replace(".","")),(j=B.search(/e/i))>0?(Y<0&&(Y=j),Y+=+B.slice(j+1),B=B.substring(0,j)):Y<0&&(Y=B.length),j=0;B.charCodeAt(j)===48;j++);for(_e=B.length;B.charCodeAt(_e-1)===48;--_e);if(B=B.slice(j,_e)){if(_e-=j,_.e=Y=Y-j-1,_.d=[],j=(Y+1)%Xe,Y<0&&(j+=Xe),j<_e){for(j&&_.d.push(+B.slice(0,j)),_e-=Xe;j<_e;)_.d.push(+B.slice(j,j+=Xe));B=B.slice(j),j=Xe-B.length}else j-=_e;for(;j--;)B+="0";_.d.push(+B),z&&(_.e>_.constructor.maxE?(_.d=null,_.e=NaN):_.e<_.constructor.minE&&(_.e=0,_.d=[0]))}else _.e=0,_.d=[0];return _}function ht(_,B){var Y,j,_e,J,Te,He,Ye,it,Q;if(B==="Infinity"||B==="NaN")return+B||(_.s=NaN),_.e=NaN,_.d=null,_;if(Ke.test(B))Y=16,B=B.toLowerCase();else if(Be.test(B))Y=2;else{if(!ye.test(B))throw Error(ve+B);Y=8}for((J=B.search(/p/i))>0?(Ye=+B.slice(J+1),B=B.substring(2,J)):B=B.slice(2),Te=(J=B.indexOf("."))>=0,j=_.constructor,Te&&(J=(He=(B=B.replace(".","")).length)-J,_e=Ot(j,new j(Y),J,2*J)),J=Q=(it=Ze(B,Y,st)).length-1;it[J]===0;--J)it.pop();return J<0?new j(0*_.s):(_.e=le(it,Q),_.d=it,z=!1,Te&&(_=vt(_,_e,4*He)),Ye&&(_=_.times(Math.abs(Ye)<54?ke(2,Ye):a.pow(2,Ye))),z=!0,_)}function tn(_,B,Y,j,_e){var J,Te,He,Ye,it=_.precision,Q=Math.ceil(it/Xe);for(z=!1,Ye=Y.times(Y),He=new _(j);;){if(Te=vt(He.times(Ye),new _(B++*B++),it,1),He=_e?j.plus(Te):j.minus(Te),j=vt(Te.times(Ye),new _(B++*B++),it,1),(Te=He.plus(j)).d[Q]!==void 0){for(J=Q;Te.d[J]===He.d[J]&&J--;);if(J==-1)break}J=He,He=j,j=Te,Te=J}return z=!0,Te.d.length=Q+1,Te}function Wr(_,B){for(var Y=_;--B;)Y*=_;return Y}function Jn(_,B){var Y,j=B.s<0,_e=ct(_,_.precision,1),J=_e.times(.5);if((B=B.abs()).lte(J))return b=j?4:1,B;if((Y=B.divToInt(_e)).isZero())b=j?3:2;else{if((B=B.minus(Y.times(_e))).lte(J))return b=sn(Y)?j?2:3:j?4:1,B;b=sn(Y)?j?1:4:j?3:2}return B.minus(_e).abs()}function pr(_,B,Y,j){var _e,J,Te,He,Ye,it,Q,Rt,Ee,wn=_.constructor,kn=Y!==void 0;if(kn?(kt(Y,1,x),j===void 0?j=wn.rounding:kt(j,0,8)):(Y=wn.precision,j=wn.rounding),_.isFinite()){for(kn?(_e=2,B==16?Y=4*Y-3:B==8&&(Y=3*Y-2)):_e=B,(Te=(Q=Ut(_)).indexOf("."))>=0&&(Q=Q.replace(".",""),(Ee=new wn(1)).e=Q.length-Te,Ee.d=Ze(Ut(Ee),10,_e),Ee.e=Ee.d.length),J=Ye=(Rt=Ze(Q,10,_e)).length;Rt[--Ye]==0;)Rt.pop();if(Rt[0]){if(Te<0?J--:((_=new wn(_)).d=Rt,_.e=J,Rt=(_=vt(_,Ee,Y,j,0,_e)).d,J=_.e,it=d),Te=Rt[Y],He=_e/2,it=it||Rt[Y+1]!==void 0,it=j<4?(Te!==void 0||it)&&(j===0||j===(_.s<0?3:2)):Te>He||Te===He&&(j===4||it||j===6&&1&Rt[Y-1]||j===(_.s<0?8:7)),Rt.length=Y,it)for(;++Rt[--Y]>_e-1;)Rt[Y]=0,Y||(++J,Rt.unshift(1));for(Ye=Rt.length;!Rt[Ye-1];--Ye);for(Te=0,Q="";Te<Ye;Te++)Q+=k.charAt(Rt[Te]);if(kn){if(Ye>1)if(B==16||B==8){for(Te=B==16?4:3,--Ye;Ye%Te;Ye++)Q+="0";for(Ye=(Rt=Ze(Q,_e,B)).length;!Rt[Ye-1];--Ye);for(Te=1,Q="1.";Te<Ye;Te++)Q+=k.charAt(Rt[Te])}else Q=Q.charAt(0)+"."+Q.slice(1);Q=Q+(J<0?"p":"p+")+J}else if(J<0){for(;++J;)Q="0"+Q;Q="0."+Q}else if(++J>Ye)for(J-=Ye;J--;)Q+="0";else J<Ye&&(Q=Q.slice(0,J)+"."+Q.slice(J))}else Q=kn?"0p+0":"0";Q=(B==16?"0x":B==2?"0b":B==8?"0o":"")+Q}else Q=an(_);return _.s<0?"-"+Q:Q}function on(_,B){if(_.length>B)return _.length=B,!0}function Ti(_){return new this(_).abs()}function Bi(_){return new this(_).acos()}function Zn(_){return new this(_).acosh()}function ss(_,B){return new this(_).plus(B)}function vi(_){return new this(_).asin()}function sr(_){return new this(_).asinh()}function Vn(_){return new this(_).atan()}function F(_){return new this(_).atanh()}function ee(_,B){_=new this(_),B=new this(B);var Y,j=this.precision,_e=this.rounding,J=j+4;return _.s&&B.s?_.d||B.d?!B.d||_.isZero()?(Y=B.s<0?ct(this,j,_e):new this(0)).s=_.s:!_.d||B.isZero()?(Y=ct(this,J,1).times(.5)).s=_.s:B.s<0?(this.precision=J,this.rounding=1,Y=this.atan(vt(_,B,J,1)),B=ct(this,J,1),this.precision=j,this.rounding=_e,Y=_.s<0?Y.minus(B):Y.plus(B)):Y=this.atan(vt(_,B,J,1)):(Y=ct(this,J,1).times(B.s>0?.25:.75)).s=_.s:Y=new this(NaN),Y}function Ce(_){return new this(_).cbrt()}function Ne(_){return ft(_=new this(_),_.e+1,2)}function et(_){if(!_||typeof _!="object")throw Error(fe+"Object expected");var B,Y,j,_e=_.defaults===!0,J=["precision",1,x,"rounding",0,8,"toExpNeg",-C,0,"toExpPos",0,C,"maxE",0,C,"minE",-C,0,"modulo",0,9];for(B=0;B<J.length;B+=3)if(Y=J[B],_e&&(this[Y]=q[Y]),(j=_[Y])!==void 0){if(!(ie(j)===j&&j>=J[B+1]&&j<=J[B+2]))throw Error(ve+Y+": "+j);this[Y]=j}if(Y="crypto",_e&&(this[Y]=q[Y]),(j=_[Y])!==void 0){if(j!==!0&&j!==!1&&j!==0&&j!==1)throw Error(ve+Y+": "+j);if(j){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(re);this[Y]=!0}else this[Y]=!1}return this}function Je(_){return new this(_).cos()}function xt(_){return new this(_).cosh()}function St(_,B){return new this(_).div(B)}function O(_){return new this(_).exp()}function oe(_){return ft(_=new this(_),_.e+1,3)}function Le(){var _,B,Y=new this(0);for(z=!1,_=0;_<arguments.length;)if((B=new this(arguments[_++])).d)Y.d&&(Y=Y.plus(B.times(B)));else{if(B.s)return z=!0,new this(1/0);Y=B}return z=!0,Y.sqrt()}function Me(_){return _ instanceof a||_&&_.name==="[object Decimal]"||!1}function Nt(_){return new this(_).ln()}function Cn(_,B){return new this(_).log(B)}function Qr(_){return new this(_).log(2)}function ds(_){return new this(_).log(10)}function fs(){return yn(this,arguments,"lt")}function H(){return yn(this,arguments,"gt")}function me(_,B){return new this(_).mod(B)}function Pe(_,B){return new this(_).mul(B)}function Qe(_,B){return new this(_).pow(B)}function Dt(_){var B,Y,j,_e,J=0,Te=new this(1),He=[];if(_===void 0?_=this.precision:kt(_,1,x),j=Math.ceil(_/Xe),this.crypto)if(crypto.getRandomValues)for(B=crypto.getRandomValues(new Uint32Array(j));J<j;)(_e=B[J])>=429e7?B[J]=crypto.getRandomValues(new Uint32Array(1))[0]:He[J++]=_e%1e7;else{if(!crypto.randomBytes)throw Error(re);for(B=crypto.randomBytes(j*=4);J<j;)(_e=B[J]+(B[J+1]<<8)+(B[J+2]<<16)+((127&B[J+3])<<24))>=214e7?crypto.randomBytes(4).copy(B,J):(He.push(_e%1e7),J+=4);J=j/4}else for(;J<j;)He[J++]=1e7*Math.random()|0;for(j=He[--J],_%=Xe,j&&_&&(_e=ke(10,Xe-_),He[J]=(j/_e|0)*_e);He[J]===0;J--)He.pop();if(J<0)Y=0,He=[0];else{for(Y=-1;He[0]===0;Y-=Xe)He.shift();for(j=1,_e=He[0];_e>=10;_e/=10)j++;j<Xe&&(Y-=Xe-j)}return Te.e=Y,Te.d=He,Te}function dn(_){return ft(_=new this(_),_.e+1,this.rounding)}function Hn(_){return(_=new this(_)).d?_.d[0]?_.s:0*_.s:_.s||NaN}function Sr(_){return new this(_).sin()}function Al(_){return new this(_).sinh()}function yo(_){return new this(_).sqrt()}function br(_,B){return new this(_).sub(B)}function L(_){return new this(_).tan()}function V(_){return new this(_).tanh()}function Kt(_){return ft(_=new this(_),_.e+1,1)}return(a=(function _(B){var Y,j,_e;function J(Te){var He,Ye,it,Q=this;if(!(Q instanceof J))return new J(Te);if(Q.constructor=J,Te instanceof J)return Q.s=Te.s,void(z?!Te.d||Te.e>J.maxE?(Q.e=NaN,Q.d=null):Te.e<J.minE?(Q.e=0,Q.d=[0]):(Q.e=Te.e,Q.d=Te.d.slice()):(Q.e=Te.e,Q.d=Te.d?Te.d.slice():Te.d));if((it=typeof Te)=="number"){if(Te===0)return Q.s=1/Te<0?-1:1,Q.e=0,void(Q.d=[0]);if(Te<0?(Te=-Te,Q.s=-1):Q.s=1,Te===~~Te&&Te<1e7){for(He=0,Ye=Te;Ye>=10;Ye/=10)He++;return void(z?He>J.maxE?(Q.e=NaN,Q.d=null):He<J.minE?(Q.e=0,Q.d=[0]):(Q.e=He,Q.d=[Te]):(Q.e=He,Q.d=[Te]))}return 0*Te!=0?(Te||(Q.s=NaN),Q.e=NaN,void(Q.d=null)):Xn(Q,Te.toString())}if(it!=="string")throw Error(ve+Te);return(Ye=Te.charCodeAt(0))===45?(Te=Te.slice(1),Q.s=-1):(Ye===43&&(Te=Te.slice(1)),Q.s=1),Ve.test(Te)?Xn(Q,Te):ht(Q,Te)}if(J.prototype=De,J.ROUND_UP=0,J.ROUND_DOWN=1,J.ROUND_CEIL=2,J.ROUND_FLOOR=3,J.ROUND_HALF_UP=4,J.ROUND_HALF_DOWN=5,J.ROUND_HALF_EVEN=6,J.ROUND_HALF_CEIL=7,J.ROUND_HALF_FLOOR=8,J.EUCLID=9,J.config=J.set=et,J.clone=_,J.isDecimal=Me,J.abs=Ti,J.acos=Bi,J.acosh=Zn,J.add=ss,J.asin=vi,J.asinh=sr,J.atan=Vn,J.atanh=F,J.atan2=ee,J.cbrt=Ce,J.ceil=Ne,J.cos=Je,J.cosh=xt,J.div=St,J.exp=O,J.floor=oe,J.hypot=Le,J.ln=Nt,J.log=Cn,J.log10=ds,J.log2=Qr,J.max=fs,J.min=H,J.mod=me,J.mul=Pe,J.pow=Qe,J.random=Dt,J.round=dn,J.sign=Hn,J.sin=Sr,J.sinh=Al,J.sqrt=yo,J.sub=br,J.tan=L,J.tanh=V,J.trunc=Kt,B===void 0&&(B={}),B&&B.defaults!==!0)for(_e=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],Y=0;Y<_e.length;)B.hasOwnProperty(j=_e[Y++])||(B[j]=this[j]);return J.config(B),J})(q)).default=a.Decimal=a,E=new a(E),R=new a(R),o.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(De[Symbol.for("nodejs.util.inspect.custom")]=De.toString,De[Symbol.toStringTag]="Decimal"),o.exports=a):(n||(n=typeof self<"u"&&self&&self.self==self?self:window),m=n.Decimal,a.noConflict=function(){return n.Decimal=m,a},n.Decimal=a),a})(rS)});o.exports=s})(m5)),m5.exports}var sS=iS();const Tm=Xu(sS),oS={id:"EQUATION",RenderComponent:nS,getToolboxXML:o=>s3(o),executeStep:(o,s,n)=>{const a=o||{lhs:n.equation?.lhs||"x",rhs:n.equation?.rhs||"0",sign:n.equation?.sign||"=",history:[]};if(!s)return{newState:a,status:"RUNNING"};let{lhs:d,rhs:m}=a;if(s.type==="OP_BOTH"){const b=s.value,C=s.operator,x=`(${d}) ${C} (${b})`,k=`(${m}) ${C} (${b})`,E=Tm(x).text(),R=Tm(k).text();return{newState:{lhs:E,rhs:R,sign:a.sign,lastOp:{op:C,val:b,rawLhs:x,rawRhs:k}},status:"RUNNING"}}return{newState:a,status:"RUNNING"}},checkVictory:o=>{const s=o.lhs.replace(/\s/g,""),n=o.rhs.replace(/\s/g,""),a=s==="x"&&!isNaN(parseFloat(n)),d=n==="x"&&!isNaN(parseFloat(s));return a||d}},lS={MAZE:Am,MATH:R$,TURTLE:N$,EQUATION:oS},aS={collapse:!0,comments:!0,disable:!0,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,oneBasedIndex:!0};function uS({levelData:o,onWin:s,levelIndex:n}){const a=lS[o?.type]||Am,d=a.RenderComponent,[m,b]=Dn.useState(!0),[C,x]=Dn.useState(!1),k=Dn.useRef(null),E=Dn.useMemo(()=>({...o,grid:o?.grid||Uo.defaultGrid,startPos:{x:Number(o?.startPos?.x)||0,y:Number(o?.startPos?.y)||0,dir:Number(o?.startPos?.dir)||0},solutionBlocks:o?.solutionBlocks||null,allowedBlocks:o?.allowedBlocks,inputs:o?.inputs,hiddenVars:o?.hiddenVars,lockedVars:o?.lockedVars,id:o?.id,instruction:o?.instruction,startBlocks:o?.startBlocks,maxBlocks:o?.maxBlocks}),[o]),{speed:R,setSpeed:q,engineState:z,gameState:fe,solutionLines:ve,gameStats:ge,proofToken:re,run:ie,reset:ke,pause:Be,stepForward:Ke,lastAction:ye}=Jw(k,a,E);Dn.useEffect(()=>{ye&&ye.type==="SCAN"&&console.log(" MOTEUR: SCAN ENVOY ->",ye)},[ye]);const Ve=Dn.useMemo(()=>({x:E.startPos.x,y:E.startPos.y,dir:E.startPos.dir}),[E.startPos]);Dn.useEffect(()=>{fe==="WON"&&s&&s(ge)},[fe,s,ge]),Dn.useEffect(()=>{const De=setTimeout(()=>{S7(),x(!0)},10);return()=>clearTimeout(De)},[]);const st=Dn.useMemo(()=>{const De=a.getToolboxXML(E.allowedBlocks,E.inputs,E.hiddenVars,E.lockedVars);return De.xml||De},[a,E]),Xe=De=>{if(k.current=De,Rn.init(De),De.updateToolbox(st),E.startBlocks)try{const Bt=xm.xml.textToDom(E.startBlocks);Sm.domToWorkspace(Bt,De)}catch{}window.setTimeout(()=>r7(De),0)};Dn.useEffect(()=>{k.current&&C&&k.current.updateToolbox(st)},[st,C]),Dn.useEffect(()=>{if(!k.current)return;const De=setTimeout(()=>{r7(k.current)},350);return()=>clearTimeout(De)},[m]);const Qt={grid:E.grid,playerPos:z?{x:z.x,y:z.y}:Ve,playerDir:z?z.dir:Ve.dir,state:z||{variables:E.inputs,...E.equation||{}},history:z?.logs,hiddenVars:E.hiddenVars||[],modelLines:ve,lastAction:ye};if(!C)return xe.jsx("div",{style:{padding:20},children:"Chargement..."});const It=n!==void 0?`Niveau ${n+1}`:typeof E.id=="number"&&E.id<1e6?`Niveau ${E.id}`:"Niveau Test";return xe.jsxs("div",{style:{display:"flex",height:"100%",flexDirection:"column"},children:[xe.jsxs("div",{style:{padding:"10px",background:"#eee",display:"flex",alignItems:"center",gap:"10px",borderBottom:"1px solid #ccc"},children:[fe==="RUNNING"?xe.jsx("button",{onClick:Be,style:{...s5,background:"#f39c12"},children:" Pause"}):xe.jsx("button",{onClick:ie,style:{...s5,background:"#27ae60"},children:fe==="PAUSED"?" Reprendre":" Excuter"}),xe.jsx("button",{onClick:Ke,style:{...s5,background:"#3498db"},title:"Excuter le prochain bloc",children:" Pas  pas"}),xe.jsx("button",{onClick:ke,style:{...s5,background:"#e74c3c"},children:" Stop"}),xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginLeft:"auto",background:"white",padding:"5px 10px",borderRadius:"20px",border:"1px solid #ddd"},children:[xe.jsx("span",{style:{fontSize:"1.2rem"},children:""}),xe.jsx("input",{type:"range",min:"0",max:"100",value:R,onChange:De=>q(Number(De.target.value)),style:{width:"100px",cursor:"pointer"},title:`Vitesse : ${R}%`}),xe.jsx("span",{style:{fontSize:"1.2rem"},children:""})]})]}),xe.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[xe.jsx(Yw,{title:It,content:E.instruction,isCollapsed:!m,onToggle:()=>b(!m)}),xe.jsx("div",{className:"blocklyContainer",style:{flex:1,position:"relative",minWidth:"0"},children:xe.jsx(w7,{className:"blockly-div",toolboxConfiguration:st,workspaceConfiguration:aS,onInject:Xe},`${E.id}-${a.id}`)}),xe.jsx("div",{style:{width:"40%",background:"#2c3e50",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:xe.jsx(d,{...Qt})}),xe.jsx(G$,{isOpen:fe==="WON"||fe==="LOST"||fe==="FAILED",status:fe,stats:ge,token:re,onReplay:()=>{ke()},onMenu:()=>window.location.reload()})]})]})}const s5={padding:"8px 16px",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"5px"};function cS({campaign:o,progress:s,onSelectLevel:n}){return xe.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto",fontFamily:"sans-serif"},children:[xe.jsxs("h1",{style:{textAlign:"center",color:"#2c3e50",fontSize:"2.5rem"},children:[" ",o.title||"Aventure Blokaly"]}),xe.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"20px",marginTop:"40px"},children:o.levels.map((a,d)=>{const m=s[d-1],b=d===0||m&&m.stars>0,C=s[d],x=C?C.stars:0;return xe.jsxs("button",{disabled:!b,onClick:()=>n(d),style:{aspectRatio:"1/1",background:b?x===3?"#2ecc71":"#f1c40f":"#bdc3c7",border:"none",borderRadius:"15px",cursor:b?"pointer":"not-allowed",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",opacity:b?1:.6,transition:"transform 0.2s"},children:[xe.jsx("span",{style:{fontSize:"2rem",marginBottom:"10px"},children:b?x>0?"":"":""}),xe.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:["Niveau ",d+1]}),b&&xe.jsxs("div",{style:{marginTop:"10px",color:"white",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:["".repeat(x),"".repeat(3-x)]})]},d)})})]})}const Cl={api:null,isActive:!1,findAPI:o=>{let s=0;for(;o.API==null&&o.parent!=null&&o.parent!=o&&s<10;)s++,o=o.parent;return o.API},init:()=>{try{const o=Cl.findAPI(window);if(o&&(Cl.api=o,o.LMSInitialize("")==="true"))return console.log(" SCORM: Connect !"),Cl.isActive=!0,o.LMSSetValue("cmi.core.score.min","0"),o.LMSSetValue("cmi.core.score.max","100"),o.LMSSetValue("cmi.core.lesson_status","incomplete"),o.LMSCommit(""),!0}catch{console.warn("SCORM introuvable (Mode local ?)")}return!1},setScore:o=>{if(!Cl.isActive||!Cl.api)return;const s=Math.round(o*100);console.log(` SCORM: Envoi note ${s}/100`),Cl.api.LMSSetValue("cmi.core.score.raw",s),s>=100?Cl.api.LMSSetValue("cmi.core.lesson_status","passed"):Cl.api.LMSSetValue("cmi.core.lesson_status","incomplete"),Cl.api.LMSCommit("")},terminate:()=>{Cl.isActive&&Cl.api&&(console.log(" SCORM: Dconnexion."),Cl.api.LMSFinish(""),Cl.isActive=!1)}};function hS({campaign:o,ltiConfig:s,isTeacherMode:n}){const a=o.levels?o:{title:"Campagne",levels:[o]},[d,m]=Dn.useState(-1),[b,C]=Dn.useState({});Dn.useEffect(()=>(!s&&!n&&Cl.init(),()=>Cl.terminate()),[s,n]);const x=Dn.useCallback(E=>{C(R=>{const q={...R,[d]:{stars:E.stars}},z=a.levels.length;let fe=0;Object.values(q).forEach(re=>fe+=re.stars);const ve=z*3,ge=ve>0?fe/ve:0;return s&&s.apiUrl,Cl.setScore(ge),q})},[d,a,s]),k=()=>m(-1);return d===-1?xe.jsxs("div",{style:{minHeight:"100vh",background:"#ecf0f1"},children:[xe.jsxs("div",{style:{padding:"10px",background:"#333",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n?xe.jsx("button",{onClick:()=>window.location.href=window.location.pathname,style:{color:"white",background:"#e74c3c",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Retour diteur"}):xe.jsx("span",{style:{fontWeight:"bold",color:"#aaa"},children:"Blokaly 974"}),s&&xe.jsx("span",{style:{fontSize:"0.8rem",background:"#27ae60",padding:"2px 8px",borderRadius:"4px"},children:"Mode Not (LTI)"})]}),xe.jsx(cS,{campaign:a,progress:b,onSelectLevel:m})]}):xe.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[xe.jsxs("div",{style:{height:"40px",background:"#2c3e50",color:"white",display:"flex",alignItems:"center",padding:"0 20px",justifyContent:"space-between"},children:[xe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[xe.jsx("button",{onClick:k,style:{background:"#e74c3c",border:"none",color:"white",padding:"5px 10px",borderRadius:"4px",cursor:"pointer"},children:" Menu"}),xe.jsxs("span",{style:{fontWeight:"bold"},children:["Niveau ",d+1]})]}),xe.jsx("span",{style:{fontSize:"0.8rem",opacity:.7},children:s?" Suivi Activ":"Blokaly Runner"})]}),xe.jsx(uS,{levelData:a.levels[d],levelIndex:d,onWin:x},d)]})}function dS({onFileLoaded:o}){const s=Dn.useRef(null),n=a=>{const d=a.target.files[0];if(!d)return;const m=new FileReader;m.onload=b=>{try{const C=JSON.parse(b.target.result);o(C)}catch(C){alert("Fichier invalide : "+C.message)}},m.readAsText(d)};return xe.jsxs("div",{style:zu.container,children:[xe.jsxs("div",{style:zu.card,children:[xe.jsx("h1",{style:zu.title,children:" Blokaly 974"}),xe.jsx("p",{style:zu.subtitle,children:"La plateforme d'algorithmique pour le collge."}),xe.jsxs("div",{style:zu.section,children:[xe.jsx("h3",{children:" J'ai un fichier d'exercice"}),xe.jsx("button",{onClick:()=>s.current.click(),style:zu.btnPrimary,children:" Charger un fichier .blokaly (.json)"}),xe.jsx("input",{type:"file",accept:".json",ref:s,style:{display:"none"},onChange:n})]}),xe.jsxs("div",{style:zu.section,children:[xe.jsx("h3",{children:" Essayer un exemple"}),xe.jsx("div",{style:zu.examplesGrid,children:xe.jsx("button",{onClick:()=>window.location.href="?url=examples/campagne_de_tests.blokaly.json",style:zu.btnSecondary,children:" Campagne Dmo (Maze & Tortue)"})})]}),xe.jsx("div",{style:{marginTop:"50px",borderTop:"1px solid #f0f0f0",paddingTop:"10px",textAlign:"center"},children:xe.jsxs("details",{children:[xe.jsx("summary",{style:{fontSize:"0.8rem",color:"#dcdcdc",cursor:"pointer",listStyle:"none",userSelect:"none",transition:"color 0.2s"},onMouseEnter:a=>a.target.style.color="#aaa",onMouseLeave:a=>a.target.style.color="#dcdcdc",children:"( Accs Enseignant )"}),xe.jsxs("div",{style:{marginTop:"15px",paddingBottom:"10px",animation:"fadeIn 0.3s"},children:[xe.jsx("p",{style:{fontSize:"0.85rem",color:"#95a5a6",marginBottom:"10px"},children:"Crer ou modifier des parcours pdagogiques :"}),xe.jsx("button",{onClick:()=>window.location.href="?mode=editor",style:zu.btnTertiary,children:" Ouvrir l'Atelier"})]})]})})]}),xe.jsx("style",{children:`
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
      `})]})}const zu={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",fontFamily:"sans-serif"},card:{background:"white",padding:"40px",borderRadius:"15px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",textAlign:"center",maxWidth:"500px",width:"90%"},title:{color:"#2c3e50",margin:"0 0 10px 0",fontSize:"2.5rem"},subtitle:{color:"#7f8c8d",margin:"0 0 30px 0",fontSize:"1.1rem"},section:{marginBottom:"25px"},btnPrimary:{background:"#3498db",color:"white",border:"none",padding:"12px 25px",fontSize:"1rem",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",width:"100%",transition:"transform 0.2s",boxShadow:"0 4px 6px rgba(52, 152, 219, 0.3)"},btnSecondary:{background:"white",color:"#2c3e50",border:"2px solid #eee",padding:"10px",fontSize:"0.9rem",borderRadius:"8px",cursor:"pointer",width:"100%"},btnTertiary:{background:"#f8f9fa",color:"#7f8c8d",border:"1px solid #ddd",padding:"8px 20px",fontSize:"0.85rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},examplesGrid:{display:"flex",flexDirection:"column",gap:"10px"}};function fS(){const[o,s]=Dn.useState("loading"),[n,a]=Dn.useState(null),[d,m]=Dn.useState(null),[b,C]=Dn.useState(!1),x=k=>{a(k),s("runner")};return Dn.useEffect(()=>{const k=new URLSearchParams(window.location.search),E=k.get("data"),R=k.get("url"),q=k.get("lti_token"),z=k.get("api_grade"),fe=k.get("preview"),ve=k.get("mode")==="editor";(async()=>{try{if(fe&&C(!0),q&&R){console.log(" Mode LTI"),m({token:q,apiUrl:z});const re=await fetch(R);if(!re.ok)throw new Error("URL campagne invalide");a(await re.json()),s("runner")}else if(R){console.log(" Mode Lien JSON");const re=await fetch(R);if(!re.ok)throw new Error("Fichier introuvable");a(await re.json()),s("runner")}else if(E){console.log(" Mode LZString");const re=_m.decompressFromEncodedURIComponent(E);a(JSON.parse(re)),s("runner")}else ve?(console.log(" Mode diteur"),s("builder")):(console.log(" Accueil"),s("home"))}catch(re){console.error("Erreur init:",re),alert("Erreur : "+re.message),s("home")}})()},[]),o==="loading"?xe.jsx("div",{style:{padding:20,textAlign:"center"},children:"Chargement..."}):xe.jsxs("div",{className:"App",children:[o==="home"&&xe.jsx(dS,{onFileLoaded:x}),o==="builder"&&xe.jsx(H$,{}),o==="runner"&&xe.jsx(hS,{campaign:n,ltiConfig:d,isTeacherMode:b})]})}S7();Jg.createRoot(document.getElementById("root")).render(xe.jsx(fS,{}));
